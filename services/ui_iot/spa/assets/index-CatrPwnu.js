function ine(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(t,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function OR(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bA={exports:{}},jy={};var SB;function one(){if(SB)return jy;SB=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,a,i){var o=null;if(i!==void 0&&(o=""+i),a.key!==void 0&&(o=""+a.key),"key"in a){i={};for(var s in a)s!=="key"&&(i[s]=a[s])}else i=a;return a=i.ref,{$$typeof:t,type:n,key:o,ref:a!==void 0?a:null,props:i}}return jy.Fragment=e,jy.jsx=r,jy.jsxs=r,jy}var wB;function sne(){return wB||(wB=1,bA.exports=one()),bA.exports}var x=sne(),SA={exports:{}},ur={};var TB;function lne(){if(TB)return ur;TB=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),c=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),d=Symbol.iterator;function v(K){return K===null||typeof K!="object"?null:(K=d&&K[d]||K["@@iterator"],typeof K=="function"?K:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,b={};function S(K,ne,ie){this.props=K,this.context=ne,this.refs=b,this.updater=ie||g}S.prototype.isReactComponent={},S.prototype.setState=function(K,ne){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,ne,"setState")},S.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function w(){}w.prototype=S.prototype;function M(K,ne,ie){this.props=K,this.context=ne,this.refs=b,this.updater=ie||g}var A=M.prototype=new w;A.constructor=M,y(A,S.prototype),A.isPureReactComponent=!0;var D=Array.isArray;function R(){}var N={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function z(K,ne,ie){var le=ie.ref;return{$$typeof:t,type:K,key:ne,ref:le!==void 0?le:null,props:ie}}function B(K,ne){return z(K.type,ne,K.props)}function V(K){return typeof K=="object"&&K!==null&&K.$$typeof===t}function G(K){var ne={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(ie){return ne[ie]})}var F=/\/+/g;function q(K,ne){return typeof K=="object"&&K!==null&&K.key!=null?G(""+K.key):ne.toString(36)}function Q(K){switch(K.status){case"fulfilled":return K.value;case"rejected":throw K.reason;default:switch(typeof K.status=="string"?K.then(R,R):(K.status="pending",K.then(function(ne){K.status==="pending"&&(K.status="fulfilled",K.value=ne)},function(ne){K.status==="pending"&&(K.status="rejected",K.reason=ne)})),K.status){case"fulfilled":return K.value;case"rejected":throw K.reason}}throw K}function H(K,ne,ie,le,me){var we=typeof K;(we==="undefined"||we==="boolean")&&(K=null);var pe=!1;if(K===null)pe=!0;else switch(we){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(K.$$typeof){case t:case e:pe=!0;break;case c:return pe=K._init,H(pe(K._payload),ne,ie,le,me)}}if(pe)return me=me(K),pe=le===""?"."+q(K,0):le,D(me)?(ie="",pe!=null&&(ie=pe.replace(F,"$&/")+"/"),H(me,ne,ie,"",function(ze){return ze})):me!=null&&(V(me)&&(me=B(me,ie+(me.key==null||K&&K.key===me.key?"":(""+me.key).replace(F,"$&/")+"/")+pe)),ne.push(me)),1;pe=0;var Pe=le===""?".":le+":";if(D(K))for(var ke=0;ke<K.length;ke++)le=K[ke],we=Pe+q(le,ke),pe+=H(le,ne,ie,we,me);else if(ke=v(K),typeof ke=="function")for(K=ke.call(K),ke=0;!(le=K.next()).done;)le=le.value,we=Pe+q(le,ke++),pe+=H(le,ne,ie,we,me);else if(we==="object"){if(typeof K.then=="function")return H(Q(K),ne,ie,le,me);throw ne=String(K),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return pe}function X(K,ne,ie){if(K==null)return K;var le=[],me=0;return H(K,le,"","",function(we){return ne.call(ie,we,me++)}),le}function W(K){if(K._status===-1){var ne=K._result;ne=ne(),ne.then(function(ie){(K._status===0||K._status===-1)&&(K._status=1,K._result=ie)},function(ie){(K._status===0||K._status===-1)&&(K._status=2,K._result=ie)}),K._status===-1&&(K._status=0,K._result=ne)}if(K._status===1)return K._result.default;throw K._result}var J=typeof reportError=="function"?reportError:function(K){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof K=="object"&&K!==null&&typeof K.message=="string"?String(K.message):String(K),error:K});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",K);return}console.error(K)},ee={map:X,forEach:function(K,ne,ie){X(K,function(){ne.apply(this,arguments)},ie)},count:function(K){var ne=0;return X(K,function(){ne++}),ne},toArray:function(K){return X(K,function(ne){return ne})||[]},only:function(K){if(!V(K))throw Error("React.Children.only expected to receive a single React element child.");return K}};return ur.Activity=f,ur.Children=ee,ur.Component=S,ur.Fragment=r,ur.Profiler=a,ur.PureComponent=M,ur.StrictMode=n,ur.Suspense=l,ur.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,ur.__COMPILER_RUNTIME={__proto__:null,c:function(K){return N.H.useMemoCache(K)}},ur.cache=function(K){return function(){return K.apply(null,arguments)}},ur.cacheSignal=function(){return null},ur.cloneElement=function(K,ne,ie){if(K==null)throw Error("The argument must be a React element, but you passed "+K+".");var le=y({},K.props),me=K.key;if(ne!=null)for(we in ne.key!==void 0&&(me=""+ne.key),ne)!I.call(ne,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&ne.ref===void 0||(le[we]=ne[we]);var we=arguments.length-2;if(we===1)le.children=ie;else if(1<we){for(var pe=Array(we),Pe=0;Pe<we;Pe++)pe[Pe]=arguments[Pe+2];le.children=pe}return z(K.type,me,le)},ur.createContext=function(K){return K={$$typeof:o,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null},K.Provider=K,K.Consumer={$$typeof:i,_context:K},K},ur.createElement=function(K,ne,ie){var le,me={},we=null;if(ne!=null)for(le in ne.key!==void 0&&(we=""+ne.key),ne)I.call(ne,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(me[le]=ne[le]);var pe=arguments.length-2;if(pe===1)me.children=ie;else if(1<pe){for(var Pe=Array(pe),ke=0;ke<pe;ke++)Pe[ke]=arguments[ke+2];me.children=Pe}if(K&&K.defaultProps)for(le in pe=K.defaultProps,pe)me[le]===void 0&&(me[le]=pe[le]);return z(K,we,me)},ur.createRef=function(){return{current:null}},ur.forwardRef=function(K){return{$$typeof:s,render:K}},ur.isValidElement=V,ur.lazy=function(K){return{$$typeof:c,_payload:{_status:-1,_result:K},_init:W}},ur.memo=function(K,ne){return{$$typeof:u,type:K,compare:ne===void 0?null:ne}},ur.startTransition=function(K){var ne=N.T,ie={};N.T=ie;try{var le=K(),me=N.S;me!==null&&me(ie,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(R,J)}catch(we){J(we)}finally{ne!==null&&ie.types!==null&&(ne.types=ie.types),N.T=ne}},ur.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},ur.use=function(K){return N.H.use(K)},ur.useActionState=function(K,ne,ie){return N.H.useActionState(K,ne,ie)},ur.useCallback=function(K,ne){return N.H.useCallback(K,ne)},ur.useContext=function(K){return N.H.useContext(K)},ur.useDebugValue=function(){},ur.useDeferredValue=function(K,ne){return N.H.useDeferredValue(K,ne)},ur.useEffect=function(K,ne){return N.H.useEffect(K,ne)},ur.useEffectEvent=function(K){return N.H.useEffectEvent(K)},ur.useId=function(){return N.H.useId()},ur.useImperativeHandle=function(K,ne,ie){return N.H.useImperativeHandle(K,ne,ie)},ur.useInsertionEffect=function(K,ne){return N.H.useInsertionEffect(K,ne)},ur.useLayoutEffect=function(K,ne){return N.H.useLayoutEffect(K,ne)},ur.useMemo=function(K,ne){return N.H.useMemo(K,ne)},ur.useOptimistic=function(K,ne){return N.H.useOptimistic(K,ne)},ur.useReducer=function(K,ne,ie){return N.H.useReducer(K,ne,ie)},ur.useRef=function(K){return N.H.useRef(K)},ur.useState=function(K){return N.H.useState(K)},ur.useSyncExternalStore=function(K,ne,ie){return N.H.useSyncExternalStore(K,ne,ie)},ur.useTransition=function(){return N.H.useTransition()},ur.version="19.2.4",ur}var CB;function jR(){return CB||(CB=1,SA.exports=lne()),SA.exports}var O=jR();const Mo=OR(O),zR=ine({__proto__:null,default:Mo},[O]);var wA={exports:{}},zy={},TA={exports:{}},CA={};var MB;function une(){return MB||(MB=1,(function(t){function e(H,X){var W=H.length;H.push(X);e:for(;0<W;){var J=W-1>>>1,ee=H[J];if(0<a(ee,X))H[J]=X,H[W]=ee,W=J;else break e}}function r(H){return H.length===0?null:H[0]}function n(H){if(H.length===0)return null;var X=H[0],W=H.pop();if(W!==X){H[0]=W;e:for(var J=0,ee=H.length,K=ee>>>1;J<K;){var ne=2*(J+1)-1,ie=H[ne],le=ne+1,me=H[le];if(0>a(ie,W))le<ee&&0>a(me,ie)?(H[J]=me,H[le]=W,J=le):(H[J]=ie,H[ne]=W,J=ne);else if(le<ee&&0>a(me,W))H[J]=me,H[le]=W,J=le;else break e}}return X}function a(H,X){var W=H.sortIndex-X.sortIndex;return W!==0?W:H.id-X.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,f=null,d=3,v=!1,g=!1,y=!1,b=!1,S=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function A(H){for(var X=r(u);X!==null;){if(X.callback===null)n(u);else if(X.startTime<=H)n(u),X.sortIndex=X.expirationTime,e(l,X);else break;X=r(u)}}function D(H){if(y=!1,A(H),!g)if(r(l)!==null)g=!0,R||(R=!0,G());else{var X=r(u);X!==null&&Q(D,X.startTime-H)}}var R=!1,N=-1,I=5,z=-1;function B(){return b?!0:!(t.unstable_now()-z<I)}function V(){if(b=!1,R){var H=t.unstable_now();z=H;var X=!0;try{e:{g=!1,y&&(y=!1,w(N),N=-1),v=!0;var W=d;try{t:{for(A(H),f=r(l);f!==null&&!(f.expirationTime>H&&B());){var J=f.callback;if(typeof J=="function"){f.callback=null,d=f.priorityLevel;var ee=J(f.expirationTime<=H);if(H=t.unstable_now(),typeof ee=="function"){f.callback=ee,A(H),X=!0;break t}f===r(l)&&n(l),A(H)}else n(l);f=r(l)}if(f!==null)X=!0;else{var K=r(u);K!==null&&Q(D,K.startTime-H),X=!1}}break e}finally{f=null,d=W,v=!1}X=void 0}}finally{X?G():R=!1}}}var G;if(typeof M=="function")G=function(){M(V)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,q=F.port2;F.port1.onmessage=V,G=function(){q.postMessage(null)}}else G=function(){S(V,0)};function Q(H,X){N=S(function(){H(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_next=function(H){switch(d){case 1:case 2:case 3:var X=3;break;default:X=d}var W=d;d=X;try{return H()}finally{d=W}},t.unstable_requestPaint=function(){b=!0},t.unstable_runWithPriority=function(H,X){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var W=d;d=H;try{return X()}finally{d=W}},t.unstable_scheduleCallback=function(H,X,W){var J=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?J+W:J):W=J,H){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=W+ee,H={id:c++,callback:X,priorityLevel:H,startTime:W,expirationTime:ee,sortIndex:-1},W>J?(H.sortIndex=W,e(u,H),r(l)===null&&H===r(u)&&(y?(w(N),N=-1):y=!0,Q(D,W-J))):(H.sortIndex=ee,e(l,H),g||v||(g=!0,R||(R=!0,G()))),H},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(H){var X=d;return function(){var W=d;d=X;try{return H.apply(this,arguments)}finally{d=W}}}})(CA)),CA}var AB;function cne(){return AB||(AB=1,TA.exports=une()),TA.exports}var MA={exports:{}},eo={};var DB;function fne(){if(DB)return eo;DB=1;var t=jR();function e(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)u+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function i(l,u,c){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:f==null?null:""+f,children:l,containerInfo:u,implementation:c}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function s(l,u){if(l==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return eo.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,eo.createPortal=function(l,u){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return i(l,u,null,c)},eo.flushSync=function(l){var u=o.T,c=n.p;try{if(o.T=null,n.p=2,l)return l()}finally{o.T=u,n.p=c,n.d.f()}},eo.preconnect=function(l,u){typeof l=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,n.d.C(l,u))},eo.prefetchDNS=function(l){typeof l=="string"&&n.d.D(l)},eo.preinit=function(l,u){if(typeof l=="string"&&u&&typeof u.as=="string"){var c=u.as,f=s(c,u.crossOrigin),d=typeof u.integrity=="string"?u.integrity:void 0,v=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;c==="style"?n.d.S(l,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:f,integrity:d,fetchPriority:v}):c==="script"&&n.d.X(l,{crossOrigin:f,integrity:d,fetchPriority:v,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},eo.preinitModule=function(l,u){if(typeof l=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var c=s(u.as,u.crossOrigin);n.d.M(l,{crossOrigin:c,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&n.d.M(l)},eo.preload=function(l,u){if(typeof l=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var c=u.as,f=s(c,u.crossOrigin);n.d.L(l,c,{crossOrigin:f,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},eo.preloadModule=function(l,u){if(typeof l=="string")if(u){var c=s(u.as,u.crossOrigin);n.d.m(l,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:c,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else n.d.m(l)},eo.requestFormReset=function(l){n.d.r(l)},eo.unstable_batchedUpdates=function(l,u){return l(u)},eo.useFormState=function(l,u,c){return o.H.useFormState(l,u,c)},eo.useFormStatus=function(){return o.H.useHostTransitionStatus()},eo.version="19.2.4",eo}var LB;function K8(){if(LB)return MA.exports;LB=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),MA.exports=fne(),MA.exports}var EB;function hne(){if(EB)return zy;EB=1;var t=cne(),e=jR(),r=K8();function n(h){var p="https://react.dev/errors/"+h;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)p+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)}function i(h){var p=h,_=h;if(h.alternate)for(;p.return;)p=p.return;else{h=p;do p=h,(p.flags&4098)!==0&&(_=p.return),h=p.return;while(h)}return p.tag===3?_:null}function o(h){if(h.tag===13){var p=h.memoizedState;if(p===null&&(h=h.alternate,h!==null&&(p=h.memoizedState)),p!==null)return p.dehydrated}return null}function s(h){if(h.tag===31){var p=h.memoizedState;if(p===null&&(h=h.alternate,h!==null&&(p=h.memoizedState)),p!==null)return p.dehydrated}return null}function l(h){if(i(h)!==h)throw Error(n(188))}function u(h){var p=h.alternate;if(!p){if(p=i(h),p===null)throw Error(n(188));return p!==h?null:h}for(var _=h,C=p;;){var P=_.return;if(P===null)break;var k=P.alternate;if(k===null){if(C=P.return,C!==null){_=C;continue}break}if(P.child===k.child){for(k=P.child;k;){if(k===_)return l(P),h;if(k===C)return l(P),p;k=k.sibling}throw Error(n(188))}if(_.return!==C.return)_=P,C=k;else{for(var Z=!1,ae=P.child;ae;){if(ae===_){Z=!0,_=P,C=k;break}if(ae===C){Z=!0,C=P,_=k;break}ae=ae.sibling}if(!Z){for(ae=k.child;ae;){if(ae===_){Z=!0,_=k,C=P;break}if(ae===C){Z=!0,C=k,_=P;break}ae=ae.sibling}if(!Z)throw Error(n(189))}}if(_.alternate!==C)throw Error(n(190))}if(_.tag!==3)throw Error(n(188));return _.stateNode.current===_?h:p}function c(h){var p=h.tag;if(p===5||p===26||p===27||p===6)return h;for(h=h.child;h!==null;){if(p=c(h),p!==null)return p;h=h.sibling}return null}var f=Object.assign,d=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),w=Symbol.for("react.consumer"),M=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function G(h){return h===null||typeof h!="object"?null:(h=V&&h[V]||h["@@iterator"],typeof h=="function"?h:null)}var F=Symbol.for("react.client.reference");function q(h){if(h==null)return null;if(typeof h=="function")return h.$$typeof===F?null:h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case y:return"Fragment";case S:return"Profiler";case b:return"StrictMode";case D:return"Suspense";case R:return"SuspenseList";case z:return"Activity"}if(typeof h=="object")switch(h.$$typeof){case g:return"Portal";case M:return h.displayName||"Context";case w:return(h._context.displayName||"Context")+".Consumer";case A:var p=h.render;return h=h.displayName,h||(h=p.displayName||p.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case N:return p=h.displayName||null,p!==null?p:q(h.type)||"Memo";case I:p=h._payload,h=h._init;try{return q(h(p))}catch{}}return null}var Q=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},J=[],ee=-1;function K(h){return{current:h}}function ne(h){0>ee||(h.current=J[ee],J[ee]=null,ee--)}function ie(h,p){ee++,J[ee]=h.current,h.current=p}var le=K(null),me=K(null),we=K(null),pe=K(null);function Pe(h,p){switch(ie(we,p),ie(me,h),ie(le,null),p.nodeType){case 9:case 11:h=(h=p.documentElement)&&(h=h.namespaceURI)?Wz(h):0;break;default:if(h=p.tagName,p=p.namespaceURI)p=Wz(p),h=Yz(p,h);else switch(h){case"svg":h=1;break;case"math":h=2;break;default:h=0}}ne(le),ie(le,h)}function ke(){ne(le),ne(me),ne(we)}function ze(h){h.memoizedState!==null&&ie(pe,h);var p=le.current,_=Yz(p,h.type);p!==_&&(ie(me,h),ie(le,_))}function Ie(h){me.current===h&&(ne(le),ne(me)),pe.current===h&&(ne(pe),Py._currentValue=W)}var Oe,vt;function ct(h){if(Oe===void 0)try{throw Error()}catch(_){var p=_.stack.trim().match(/\n( *(at )?)/);Oe=p&&p[1]||"",vt=-1<_.stack.indexOf(`
    at`)?" (<anonymous>)":-1<_.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Oe+h+vt}var Ft=!1;function jt(h,p){if(!h||Ft)return"";Ft=!0;var _=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var C={DetermineComponentFrameRoot:function(){try{if(p){var He=function(){throw Error()};if(Object.defineProperty(He.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(He,[])}catch(Ne){var Le=Ne}Reflect.construct(h,[],He)}else{try{He.call()}catch(Ne){Le=Ne}h.call(He.prototype)}}else{try{throw Error()}catch(Ne){Le=Ne}(He=h())&&typeof He.catch=="function"&&He.catch(function(){})}}catch(Ne){if(Ne&&Le&&typeof Ne.stack=="string")return[Ne.stack,Le.stack]}return[null,null]}};C.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var P=Object.getOwnPropertyDescriptor(C.DetermineComponentFrameRoot,"name");P&&P.configurable&&Object.defineProperty(C.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var k=C.DetermineComponentFrameRoot(),Z=k[0],ae=k[1];if(Z&&ae){var fe=Z.split(`
`),Me=ae.split(`
`);for(P=C=0;C<fe.length&&!fe[C].includes("DetermineComponentFrameRoot");)C++;for(;P<Me.length&&!Me[P].includes("DetermineComponentFrameRoot");)P++;if(C===fe.length||P===Me.length)for(C=fe.length-1,P=Me.length-1;1<=C&&0<=P&&fe[C]!==Me[P];)P--;for(;1<=C&&0<=P;C--,P--)if(fe[C]!==Me[P]){if(C!==1||P!==1)do if(C--,P--,0>P||fe[C]!==Me[P]){var je=`
`+fe[C].replace(" at new "," at ");return h.displayName&&je.includes("<anonymous>")&&(je=je.replace("<anonymous>",h.displayName)),je}while(1<=C&&0<=P);break}}}finally{Ft=!1,Error.prepareStackTrace=_}return(_=h?h.displayName||h.name:"")?ct(_):""}function Lr(h,p){switch(h.tag){case 26:case 27:case 5:return ct(h.type);case 16:return ct("Lazy");case 13:return h.child!==p&&p!==null?ct("Suspense Fallback"):ct("Suspense");case 19:return ct("SuspenseList");case 0:case 15:return jt(h.type,!1);case 11:return jt(h.type.render,!1);case 1:return jt(h.type,!0);case 31:return ct("Activity");default:return""}}function Rn(h){try{var p="",_=null;do p+=Lr(h,_),_=h,h=h.return;while(h);return p}catch(C){return`
Error generating stack: `+C.message+`
`+C.stack}}var fn=Object.prototype.hasOwnProperty,tn=t.unstable_scheduleCallback,aa=t.unstable_cancelCallback,za=t.unstable_shouldYield,ko=t.unstable_requestPaint,Mt=t.unstable_now,nt=t.unstable_getCurrentPriorityLevel,Or=t.unstable_ImmediatePriority,wn=t.unstable_UserBlockingPriority,ea=t.unstable_NormalPriority,Sa=t.unstable_LowPriority,ai=t.unstable_IdlePriority,Io=t.log,wa=t.unstable_setDisableYieldValue,ia=null,gr=null;function Zn(h){if(typeof Io=="function"&&wa(h),gr&&typeof gr.setStrictMode=="function")try{gr.setStrictMode(ia,h)}catch{}}var ca=Math.clz32?Math.clz32:Oo,vo=Math.log,Us=Math.LN2;function Oo(h){return h>>>=0,h===0?32:31-(vo(h)/Us|0)|0}var Ri=256,oa=262144,po=4194304;function jo(h){var p=h&42;if(p!==0)return p;switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return h&261888;case 262144:case 524288:case 1048576:case 2097152:return h&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return h&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return h}}function Rl(h,p,_){var C=h.pendingLanes;if(C===0)return 0;var P=0,k=h.suspendedLanes,Z=h.pingedLanes;h=h.warmLanes;var ae=C&134217727;return ae!==0?(C=ae&~k,C!==0?P=jo(C):(Z&=ae,Z!==0?P=jo(Z):_||(_=ae&~h,_!==0&&(P=jo(_))))):(ae=C&~k,ae!==0?P=jo(ae):Z!==0?P=jo(Z):_||(_=C&~h,_!==0&&(P=jo(_)))),P===0?0:p!==0&&p!==P&&(p&k)===0&&(k=P&-P,_=p&-p,k>=_||k===32&&(_&4194048)!==0)?p:P}function Pl(h,p){return(h.pendingLanes&~(h.suspendedLanes&~h.pingedLanes)&p)===0}function Pf(h,p){switch(h){case 1:case 2:case 4:case 8:case 64:return p+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kl(){var h=po;return po<<=1,(po&62914560)===0&&(po=4194304),h}function Ws(h){for(var p=[],_=0;31>_;_++)p.push(h);return p}function Ba(h,p){h.pendingLanes|=p,p!==268435456&&(h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0)}function fa(h,p,_,C,P,k){var Z=h.pendingLanes;h.pendingLanes=_,h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0,h.expiredLanes&=_,h.entangledLanes&=_,h.errorRecoveryDisabledLanes&=_,h.shellSuspendCounter=0;var ae=h.entanglements,fe=h.expirationTimes,Me=h.hiddenUpdates;for(_=Z&~_;0<_;){var je=31-ca(_),He=1<<je;ae[je]=0,fe[je]=-1;var Le=Me[je];if(Le!==null)for(Me[je]=null,je=0;je<Le.length;je++){var Ne=Le[je];Ne!==null&&(Ne.lane&=-536870913)}_&=~He}C!==0&&Pi(h,C,0),k!==0&&P===0&&h.tag!==0&&(h.suspendedLanes|=k&~(Z&~p))}function Pi(h,p,_){h.pendingLanes|=p,h.suspendedLanes&=~p;var C=31-ca(p);h.entangledLanes|=p,h.entanglements[C]=h.entanglements[C]|1073741824|_&261930}function ce(h,p){var _=h.entangledLanes|=p;for(h=h.entanglements;_;){var C=31-ca(_),P=1<<C;P&p|h[C]&p&&(h[C]|=p),_&=~P}}function ge(h,p){var _=p&-p;return _=(_&42)!==0?1:be(_),(_&(h.suspendedLanes|p))!==0?0:_}function be(h){switch(h){case 2:h=1;break;case 8:h=4;break;case 32:h=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:h=128;break;case 268435456:h=134217728;break;default:h=0}return h}function Te(h){return h&=-h,2<h?8<h?(h&134217727)!==0?32:268435456:8:2}function qe(){var h=X.p;return h!==0?h:(h=window.event,h===void 0?32:pB(h.type))}function At(h,p){var _=X.p;try{return X.p=h,p()}finally{X.p=_}}var rt=Math.random().toString(36).slice(2),Je="__reactFiber$"+rt,at="__reactProps$"+rt,pt="__reactContainer$"+rt,Pt="__reactEvents$"+rt,Tt="__reactListeners$"+rt,Tr="__reactHandles$"+rt,tr="__reactResources$"+rt,cr="__reactMarker$"+rt;function fr(h){delete h[Je],delete h[at],delete h[Pt],delete h[Tt],delete h[Tr]}function lr(h){var p=h[Je];if(p)return p;for(var _=h.parentNode;_;){if(p=_[pt]||_[Je]){if(_=p.alternate,p.child!==null||_!==null&&_.child!==null)for(h=Jz(h);h!==null;){if(_=h[Je])return _;h=Jz(h)}return p}h=_,_=h.parentNode}return null}function mr(h){if(h=h[Je]||h[pt]){var p=h.tag;if(p===5||p===6||p===13||p===31||p===26||p===27||p===3)return h}return null}function Vr(h){var p=h.tag;if(p===5||p===26||p===27||p===6)return h.stateNode;throw Error(n(33))}function ha(h){var p=h[tr];return p||(p=h[tr]={hoistableStyles:new Map,hoistableScripts:new Map}),p}function Tn(h){h[cr]=!0}var ki=new Set,Va={};function Fa(h,p){Ha(h,p),Ha(h+"Capture",p)}function Ha(h,p){for(Va[h]=p,h=0;h<p.length;h++)ki.add(p[h])}var ii=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zo={},Bo={};function ir(h){return fn.call(Bo,h)?!0:fn.call(zo,h)?!1:ii.test(h)?Bo[h]=!0:(zo[h]=!0,!1)}function Ot(h,p,_){if(ir(p))if(_===null)h.removeAttribute(p);else{switch(typeof _){case"undefined":case"function":case"symbol":h.removeAttribute(p);return;case"boolean":var C=p.toLowerCase().slice(0,5);if(C!=="data-"&&C!=="aria-"){h.removeAttribute(p);return}}h.setAttribute(p,""+_)}}function Cr(h,p,_){if(_===null)h.removeAttribute(p);else{switch(typeof _){case"undefined":case"function":case"symbol":case"boolean":h.removeAttribute(p);return}h.setAttribute(p,""+_)}}function Er(h,p,_,C){if(C===null)h.removeAttribute(_);else{switch(typeof C){case"undefined":case"function":case"symbol":case"boolean":h.removeAttribute(_);return}h.setAttributeNS(p,_,""+C)}}function or(h){switch(typeof h){case"bigint":case"boolean":case"number":case"string":case"undefined":return h;case"object":return h;default:return""}}function Ii(h){var p=h.type;return(h=h.nodeName)&&h.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function Ys(h,p,_){var C=Object.getOwnPropertyDescriptor(h.constructor.prototype,p);if(!h.hasOwnProperty(p)&&typeof C<"u"&&typeof C.get=="function"&&typeof C.set=="function"){var P=C.get,k=C.set;return Object.defineProperty(h,p,{configurable:!0,get:function(){return P.call(this)},set:function(Z){_=""+Z,k.call(this,Z)}}),Object.defineProperty(h,p,{enumerable:C.enumerable}),{getValue:function(){return _},setValue:function(Z){_=""+Z},stopTracking:function(){h._valueTracker=null,delete h[p]}}}}function Kt(h){if(!h._valueTracker){var p=Ii(h)?"checked":"value";h._valueTracker=Ys(h,p,""+h[p])}}function qn(h){if(!h)return!1;var p=h._valueTracker;if(!p)return!0;var _=p.getValue(),C="";return h&&(C=Ii(h)?h.checked?"true":"false":h.value),h=C,h!==_?(p.setValue(h),!0):!1}function _u(h){if(h=h||(typeof document<"u"?document:void 0),typeof h>"u")return null;try{return h.activeElement||h.body}catch{return h.body}}var kf=/[\n"\\]/g;function Pn(h){return h.replace(kf,function(p){return"\\"+p.charCodeAt(0).toString(16)+" "})}function If(h,p,_,C,P,k,Z,ae){h.name="",Z!=null&&typeof Z!="function"&&typeof Z!="symbol"&&typeof Z!="boolean"?h.type=Z:h.removeAttribute("type"),p!=null?Z==="number"?(p===0&&h.value===""||h.value!=p)&&(h.value=""+or(p)):h.value!==""+or(p)&&(h.value=""+or(p)):Z!=="submit"&&Z!=="reset"||h.removeAttribute("value"),p!=null?Vo(h,Z,or(p)):_!=null?Vo(h,Z,or(_)):C!=null&&h.removeAttribute("value"),P==null&&k!=null&&(h.defaultChecked=!!k),P!=null&&(h.checked=P&&typeof P!="function"&&typeof P!="symbol"),ae!=null&&typeof ae!="function"&&typeof ae!="symbol"&&typeof ae!="boolean"?h.name=""+or(ae):h.removeAttribute("name")}function Mc(h,p,_,C,P,k,Z,ae){if(k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(h.type=k),p!=null||_!=null){if(!(k!=="submit"&&k!=="reset"||p!=null)){Kt(h);return}_=_!=null?""+or(_):"",p=p!=null?""+or(p):_,ae||p===h.value||(h.value=p),h.defaultValue=p}C=C??P,C=typeof C!="function"&&typeof C!="symbol"&&!!C,h.checked=ae?h.checked:!!C,h.defaultChecked=!!C,Z!=null&&typeof Z!="function"&&typeof Z!="symbol"&&typeof Z!="boolean"&&(h.name=Z),Kt(h)}function Vo(h,p,_){p==="number"&&_u(h.ownerDocument)===h||h.defaultValue===""+_||(h.defaultValue=""+_)}function hn(h,p,_,C){if(h=h.options,p){p={};for(var P=0;P<_.length;P++)p["$"+_[P]]=!0;for(_=0;_<h.length;_++)P=p.hasOwnProperty("$"+h[_].value),h[_].selected!==P&&(h[_].selected=P),P&&C&&(h[_].defaultSelected=!0)}else{for(_=""+or(_),p=null,P=0;P<h.length;P++){if(h[P].value===_){h[P].selected=!0,C&&(h[P].defaultSelected=!0);return}p!==null||h[P].disabled||(p=h[P])}p!==null&&(p.selected=!0)}}function go(h,p,_){if(p!=null&&(p=""+or(p),p!==h.value&&(h.value=p),_==null)){h.defaultValue!==p&&(h.defaultValue=p);return}h.defaultValue=_!=null?""+or(_):""}function fs(h,p,_,C){if(p==null){if(C!=null){if(_!=null)throw Error(n(92));if(Q(C)){if(1<C.length)throw Error(n(93));C=C[0]}_=C}_==null&&(_=""),p=_}_=or(p),h.defaultValue=_,C=h.textContent,C===_&&C!==""&&C!==null&&(h.value=C),Kt(h)}function Fo(h,p){if(p){var _=h.firstChild;if(_&&_===h.lastChild&&_.nodeType===3){_.nodeValue=p;return}}h.textContent=p}var Ac=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bu(h,p,_){var C=p.indexOf("--")===0;_==null||typeof _=="boolean"||_===""?C?h.setProperty(p,""):p==="float"?h.cssFloat="":h[p]="":C?h.setProperty(p,_):typeof _!="number"||_===0||Ac.has(p)?p==="float"?h.cssFloat=_:h[p]=(""+_).trim():h[p]=_+"px"}function Of(h,p,_){if(p!=null&&typeof p!="object")throw Error(n(62));if(h=h.style,_!=null){for(var C in _)!_.hasOwnProperty(C)||p!=null&&p.hasOwnProperty(C)||(C.indexOf("--")===0?h.setProperty(C,""):C==="float"?h.cssFloat="":h[C]="");for(var P in p)C=p[P],p.hasOwnProperty(P)&&_[P]!==C&&bu(h,P,C)}else for(var k in p)p.hasOwnProperty(k)&&bu(h,k,p[k])}function Dc(h){if(h.indexOf("-")===-1)return!1;switch(h){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hs=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Su=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zs(h){return Su.test(""+h)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":h}function Ga(){}var jf=null;function Ho(h){return h=h.target||h.srcElement||window,h.correspondingUseElement&&(h=h.correspondingUseElement),h.nodeType===3?h.parentNode:h}var wu=null,Wt=null;function Oi(h){var p=mr(h);if(p&&(h=p.stateNode)){var _=h[at]||null;e:switch(h=p.stateNode,p.type){case"input":if(If(h,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name),p=_.name,_.type==="radio"&&p!=null){for(_=h;_.parentNode;)_=_.parentNode;for(_=_.querySelectorAll('input[name="'+Pn(""+p)+'"][type="radio"]'),p=0;p<_.length;p++){var C=_[p];if(C!==h&&C.form===h.form){var P=C[at]||null;if(!P)throw Error(n(90));If(C,P.value,P.defaultValue,P.defaultValue,P.checked,P.defaultChecked,P.type,P.name)}}for(p=0;p<_.length;p++)C=_[p],C.form===h.form&&qn(C)}break e;case"textarea":go(h,_.value,_.defaultValue);break e;case"select":p=_.value,p!=null&&hn(h,!!_.multiple,p,!1)}}}var Zr=!1;function Lc(h,p,_){if(Zr)return h(p,_);Zr=!0;try{var C=h(p);return C}finally{if(Zr=!1,(wu!==null||Wt!==null)&&(sb(),wu&&(p=wu,h=Wt,Wt=wu=null,Oi(p),h)))for(p=0;p<h.length;p++)Oi(h[p])}}function Zi(h,p){var _=h.stateNode;if(_===null)return null;var C=_[at]||null;if(C===null)return null;_=C[p];e:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(C=!C.disabled)||(h=h.type,C=!(h==="button"||h==="input"||h==="select"||h==="textarea")),h=!C;break e;default:h=!1}if(h)return null;if(_&&typeof _!="function")throw Error(n(231,p,typeof _));return _}var Ua=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tu=!1;if(Ua)try{var qi={};Object.defineProperty(qi,"passive",{get:function(){Tu=!0}}),window.addEventListener("test",qi,qi),window.removeEventListener("test",qi,qi)}catch{Tu=!1}var oi=null,$i=null,Xn=null;function ds(){if(Xn)return Xn;var h,p=$i,_=p.length,C,P="value"in oi?oi.value:oi.textContent,k=P.length;for(h=0;h<_&&p[h]===P[h];h++);var Z=_-h;for(C=1;C<=Z&&p[_-C]===P[k-C];C++);return Xn=P.slice(h,1<C?1-C:void 0)}function Kr(h){var p=h.keyCode;return"charCode"in h?(h=h.charCode,h===0&&p===13&&(h=13)):h=p,h===10&&(h=13),32<=h||h===13?h:0}function rn(){return!0}function vs(){return!1}function Fr(h){function p(_,C,P,k,Z){this._reactName=_,this._targetInst=P,this.type=C,this.nativeEvent=k,this.target=Z,this.currentTarget=null;for(var ae in h)h.hasOwnProperty(ae)&&(_=h[ae],this[ae]=_?_(k):k[ae]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?rn:vs,this.isPropagationStopped=vs,this}return f(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var _=this.nativeEvent;_&&(_.preventDefault?_.preventDefault():typeof _.returnValue!="unknown"&&(_.returnValue=!1),this.isDefaultPrevented=rn)},stopPropagation:function(){var _=this.nativeEvent;_&&(_.stopPropagation?_.stopPropagation():typeof _.cancelBubble!="unknown"&&(_.cancelBubble=!0),this.isPropagationStopped=rn)},persist:function(){},isPersistent:rn}),p}var mn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(h){return h.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kn=Fr(mn),qr=f({},mn,{view:0,detail:0}),hr=Fr(qr),Cu,ji,Wa,bi=f({},qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:md,button:0,buttons:0,relatedTarget:function(h){return h.relatedTarget===void 0?h.fromElement===h.srcElement?h.toElement:h.fromElement:h.relatedTarget},movementX:function(h){return"movementX"in h?h.movementX:(h!==Wa&&(Wa&&h.type==="mousemove"?(Cu=h.screenX-Wa.screenX,ji=h.screenY-Wa.screenY):ji=Cu=0,Wa=h),Cu)},movementY:function(h){return"movementY"in h?h.movementY:ji}}),bp=Fr(bi),vd=f({},bi,{dataTransfer:0}),Jm=Fr(vd),Sp=f({},qr,{relatedTarget:0}),mo=Fr(Sp),qs=f({},mn,{animationName:0,elapsedTime:0,pseudoElement:0}),ps=Fr(qs),Mu=f({},mn,{clipboardData:function(h){return"clipboardData"in h?h.clipboardData:window.clipboardData}}),Go=Fr(Mu),Uo=f({},mn,{data:0}),pd=Fr(Uo),gs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Au={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Il(h){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(h):(h=Au[h])?!!p[h]:!1}function md(){return Il}var zf=f({},qr,{key:function(h){if(h.key){var p=gs[h.key]||h.key;if(p!=="Unidentified")return p}return h.type==="keypress"?(h=Kr(h),h===13?"Enter":String.fromCharCode(h)):h.type==="keydown"||h.type==="keyup"?gd[h.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:md,charCode:function(h){return h.type==="keypress"?Kr(h):0},keyCode:function(h){return h.type==="keydown"||h.type==="keyup"?h.keyCode:0},which:function(h){return h.type==="keypress"?Kr(h):h.type==="keydown"||h.type==="keyup"?h.keyCode:0}}),wp=Fr(zf),Ol=f({},bi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ms=Fr(Ol),jl=f({},qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:md}),Tp=Fr(jl),Bf=f({},mn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vf=Fr(Bf),Du=f({},bi,{deltaX:function(h){return"deltaX"in h?h.deltaX:"wheelDeltaX"in h?-h.wheelDeltaX:0},deltaY:function(h){return"deltaY"in h?h.deltaY:"wheelDeltaY"in h?-h.wheelDeltaY:"wheelDelta"in h?-h.wheelDelta:0},deltaZ:0,deltaMode:0}),$s=Fr(Du),Cp=f({},mn,{newState:0,oldState:0}),Lu=Fr(Cp),zi=[9,13,27,32],Ec=Ua&&"CompositionEvent"in window,zl=null;Ua&&"documentMode"in document&&(zl=document.documentMode);var ey=Ua&&"TextEvent"in window&&!zl,Nc=Ua&&(!Ec||zl&&8<zl&&11>=zl),Rc=" ",Bl=!1;function Pc(h,p){switch(h){case"keyup":return zi.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ta(h){return h=h.detail,typeof h=="object"&&"data"in h?h.data:null}var Vl=!1;function $r(h,p){switch(h){case"compositionend":return ta(p);case"keypress":return p.which!==32?null:(Bl=!0,Rc);case"textInput":return h=p.data,h===Rc&&Bl?null:h;default:return null}}function Fl(h,p){if(Vl)return h==="compositionend"||!Ec&&Pc(h,p)?(h=ds(),Xn=$i=oi=null,Vl=!1,h):null;switch(h){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return Nc&&p.locale!=="ko"?null:p.data;default:return null}}var yd={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Si(h){var p=h&&h.nodeName&&h.nodeName.toLowerCase();return p==="input"?!!yd[h.type]:p==="textarea"}function Mp(h,p,_,C){wu?Wt?Wt.push(C):Wt=[C]:wu=C,p=vb(p,"onChange"),0<p.length&&(_=new Kn("onChange","change",null,_,C),h.push({event:_,listeners:p}))}var Wo=null,Hl=null;function $(h){Bz(h,0)}function te(h){var p=Vr(h);if(qn(p))return h}function oe(h,p){if(h==="change")return p}var se=!1;if(Ua){var he;if(Ua){var Se="oninput"in document;if(!Se){var Be=document.createElement("div");Be.setAttribute("oninput","return;"),Se=typeof Be.oninput=="function"}he=Se}else he=!1;se=he&&(!document.documentMode||9<document.documentMode)}function Ge(){Wo&&(Wo.detachEvent("onpropertychange",$e),Hl=Wo=null)}function $e(h){if(h.propertyName==="value"&&te(Hl)){var p=[];Mp(p,Hl,h,Ho(h)),Lc($,p)}}function Ke(h,p,_){h==="focusin"?(Ge(),Wo=p,Hl=_,Wo.attachEvent("onpropertychange",$e)):h==="focusout"&&Ge()}function lt(h){if(h==="selectionchange"||h==="keyup"||h==="keydown")return te(Hl)}function it(h,p){if(h==="click")return te(p)}function Qt(h,p){if(h==="input"||h==="change")return te(p)}function dr(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var Zt=typeof Object.is=="function"?Object.is:dr;function rr(h,p){if(Zt(h,p))return!0;if(typeof h!="object"||h===null||typeof p!="object"||p===null)return!1;var _=Object.keys(h),C=Object.keys(p);if(_.length!==C.length)return!1;for(C=0;C<_.length;C++){var P=_[C];if(!fn.call(p,P)||!Zt(h[P],p[P]))return!1}return!0}function Bt(h){for(;h&&h.firstChild;)h=h.firstChild;return h}function Dt(h,p){var _=Bt(h);h=0;for(var C;_;){if(_.nodeType===3){if(C=h+_.textContent.length,h<=p&&C>=p)return{node:_,offset:p-h};h=C}e:{for(;_;){if(_.nextSibling){_=_.nextSibling;break e}_=_.parentNode}_=void 0}_=Bt(_)}}function nn(h,p){return h&&p?h===p?!0:h&&h.nodeType===3?!1:p&&p.nodeType===3?nn(h,p.parentNode):"contains"in h?h.contains(p):h.compareDocumentPosition?!!(h.compareDocumentPosition(p)&16):!1:!1}function yn(h){h=h!=null&&h.ownerDocument!=null&&h.ownerDocument.defaultView!=null?h.ownerDocument.defaultView:window;for(var p=_u(h.document);p instanceof h.HTMLIFrameElement;){try{var _=typeof p.contentWindow.location.href=="string"}catch{_=!1}if(_)h=p.contentWindow;else break;p=_u(h.document)}return p}function Cn(h){var p=h&&h.nodeName&&h.nodeName.toLowerCase();return p&&(p==="input"&&(h.type==="text"||h.type==="search"||h.type==="tel"||h.type==="url"||h.type==="password")||p==="textarea"||h.contentEditable==="true")}var Hr=Ua&&"documentMode"in document&&11>=document.documentMode,Qr=null,Ya=null,sa=null,Ta=!1;function Xi(h,p,_){var C=_.window===_?_.document:_.nodeType===9?_:_.ownerDocument;Ta||Qr==null||Qr!==_u(C)||(C=Qr,"selectionStart"in C&&Cn(C)?C={start:C.selectionStart,end:C.selectionEnd}:(C=(C.ownerDocument&&C.ownerDocument.defaultView||window).getSelection(),C={anchorNode:C.anchorNode,anchorOffset:C.anchorOffset,focusNode:C.focusNode,focusOffset:C.focusOffset}),sa&&rr(sa,C)||(sa=C,C=vb(Ya,"onSelect"),0<C.length&&(p=new Kn("onSelect","select",null,p,_),h.push({event:p,listeners:C}),p.target=Qr)))}function Ca(h,p){var _={};return _[h.toLowerCase()]=p.toLowerCase(),_["Webkit"+h]="webkit"+p,_["Moz"+h]="moz"+p,_}var da={animationend:Ca("Animation","AnimationEnd"),animationiteration:Ca("Animation","AnimationIteration"),animationstart:Ca("Animation","AnimationStart"),transitionrun:Ca("Transition","TransitionRun"),transitionstart:Ca("Transition","TransitionStart"),transitioncancel:Ca("Transition","TransitionCancel"),transitionend:Ca("Transition","TransitionEnd")},si={},Ki={};Ua&&(Ki=document.createElement("div").style,"AnimationEvent"in window||(delete da.animationend.animation,delete da.animationiteration.animation,delete da.animationstart.animation),"TransitionEvent"in window||delete da.transitionend.transition);function Mn(h){if(si[h])return si[h];if(!da[h])return h;var p=da[h],_;for(_ in p)if(p.hasOwnProperty(_)&&_ in Ki)return si[h]=p[_];return h}var la=Mn("animationend"),wi=Mn("animationiteration"),yo=Mn("animationstart"),li=Mn("transitionrun"),xd=Mn("transitionstart"),GC=Mn("transitioncancel"),Ff=Mn("transitionend"),R_=new Map,Eu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Eu.push("scrollEnd");function Yo(h,p){R_.set(h,p),Fa(p,[h])}var _d=typeof reportError=="function"?reportError:function(h){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var p=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof h=="object"&&h!==null&&typeof h.message=="string"?String(h.message):String(h),error:h});if(!window.dispatchEvent(p))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",h);return}console.error(h)},Zo=[],Qi=0,Ap=0;function bd(){for(var h=Qi,p=Ap=Qi=0;p<h;){var _=Zo[p];Zo[p++]=null;var C=Zo[p];Zo[p++]=null;var P=Zo[p];Zo[p++]=null;var k=Zo[p];if(Zo[p++]=null,C!==null&&P!==null){var Z=C.pending;Z===null?P.next=P:(P.next=Z.next,Z.next=P),C.pending=P}k!==0&&Hf(_,P,k)}}function Nu(h,p,_,C){Zo[Qi++]=h,Zo[Qi++]=p,Zo[Qi++]=_,Zo[Qi++]=C,Ap|=C,h.lanes|=C,h=h.alternate,h!==null&&(h.lanes|=C)}function ty(h,p,_,C){return Nu(h,p,_,C),Sd(h)}function Xs(h,p){return Nu(h,null,null,p),Sd(h)}function Hf(h,p,_){h.lanes|=_;var C=h.alternate;C!==null&&(C.lanes|=_);for(var P=!1,k=h.return;k!==null;)k.childLanes|=_,C=k.alternate,C!==null&&(C.childLanes|=_),k.tag===22&&(h=k.stateNode,h===null||h._visibility&1||(P=!0)),h=k,k=k.return;return h.tag===3?(k=h.stateNode,P&&p!==null&&(P=31-ca(_),h=k.hiddenUpdates,C=h[P],C===null?h[P]=[p]:C.push(p),p.lane=_|536870912),k):null}function Sd(h){if(50<My)throw My=0,WM=null,Error(n(185));for(var p=h.return;p!==null;)h=p,p=h.return;return h.tag===3?h.stateNode:null}var kc={};function UC(h,p,_,C){this.tag=h,this.key=_,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=C,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ji(h,p,_,C){return new UC(h,p,_,C)}function Dp(h){return h=h.prototype,!(!h||!h.isReactComponent)}function Ks(h,p){var _=h.alternate;return _===null?(_=Ji(h.tag,p,h.key,h.mode),_.elementType=h.elementType,_.type=h.type,_.stateNode=h.stateNode,_.alternate=h,h.alternate=_):(_.pendingProps=p,_.type=h.type,_.flags=0,_.subtreeFlags=0,_.deletions=null),_.flags=h.flags&65011712,_.childLanes=h.childLanes,_.lanes=h.lanes,_.child=h.child,_.memoizedProps=h.memoizedProps,_.memoizedState=h.memoizedState,_.updateQueue=h.updateQueue,p=h.dependencies,_.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},_.sibling=h.sibling,_.index=h.index,_.ref=h.ref,_.refCleanup=h.refCleanup,_}function ry(h,p){h.flags&=65011714;var _=h.alternate;return _===null?(h.childLanes=0,h.lanes=p,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=_.childLanes,h.lanes=_.lanes,h.child=_.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=_.memoizedProps,h.memoizedState=_.memoizedState,h.updateQueue=_.updateQueue,h.type=_.type,p=_.dependencies,h.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),h}function wd(h,p,_,C,P,k){var Z=0;if(C=h,typeof h=="function")Dp(h)&&(Z=1);else if(typeof h=="string")Z=Zre(h,_,le.current)?26:h==="html"||h==="head"||h==="body"?27:5;else e:switch(h){case z:return h=Ji(31,_,p,P),h.elementType=z,h.lanes=k,h;case y:return Ic(_.children,P,k,p);case b:Z=8,P|=24;break;case S:return h=Ji(12,_,p,P|2),h.elementType=S,h.lanes=k,h;case D:return h=Ji(13,_,p,P),h.elementType=D,h.lanes=k,h;case R:return h=Ji(19,_,p,P),h.elementType=R,h.lanes=k,h;default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case M:Z=10;break e;case w:Z=9;break e;case A:Z=11;break e;case N:Z=14;break e;case I:Z=16,C=null;break e}Z=29,_=Error(n(130,h===null?"null":typeof h,"")),C=null}return p=Ji(Z,_,p,P),p.elementType=h,p.type=C,p.lanes=k,p}function Ic(h,p,_,C){return h=Ji(7,h,C,p),h.lanes=_,h}function Lp(h,p,_){return h=Ji(6,h,null,p),h.lanes=_,h}function ny(h){var p=Ji(18,null,null,0);return p.stateNode=h,p}function ay(h,p,_){return p=Ji(4,h.children!==null?h.children:[],h.key,p),p.lanes=_,p.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},p}var m=new WeakMap;function T(h,p){if(typeof h=="object"&&h!==null){var _=m.get(h);return _!==void 0?_:(p={value:h,source:p,stack:Rn(p)},m.set(h,p),p)}return{value:h,source:p,stack:Rn(p)}}var E=[],j=0,U=null,re=0,ue=[],_e=0,De=null,Fe=1,tt="";function It(h,p){E[j++]=re,E[j++]=U,U=h,re=p}function _r(h,p,_){ue[_e++]=Fe,ue[_e++]=tt,ue[_e++]=De,De=h;var C=Fe;h=tt;var P=32-ca(C)-1;C&=~(1<<P),_+=1;var k=32-ca(p)+P;if(30<k){var Z=P-P%5;k=(C&(1<<Z)-1).toString(32),C>>=Z,P-=Z,Fe=1<<32-ca(p)+P|_<<P|C,tt=k+h}else Fe=1<<k|_<<P|C,tt=h}function ui(h){h.return!==null&&(It(h,1),_r(h,1,0))}function va(h){for(;h===U;)U=E[--j],E[j]=null,re=E[--j],E[j]=null;for(;h===De;)De=ue[--_e],ue[_e]=null,tt=ue[--_e],ue[_e]=null,Fe=ue[--_e],ue[_e]=null}function xo(h,p){ue[_e++]=Fe,ue[_e++]=tt,ue[_e++]=De,Fe=p.id,tt=p.overflow,De=h}var an=null,on=null,Nr=!1,Ru=null,qo=!1,Ep=Error(n(519));function Pu(h){var p=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Td(T(p,h)),Ep}function iy(h){var p=h.stateNode,_=h.type,C=h.memoizedProps;switch(p[Je]=h,p[at]=C,_){case"dialog":Pr("cancel",p),Pr("close",p);break;case"iframe":case"object":case"embed":Pr("load",p);break;case"video":case"audio":for(_=0;_<Dy.length;_++)Pr(Dy[_],p);break;case"source":Pr("error",p);break;case"img":case"image":case"link":Pr("error",p),Pr("load",p);break;case"details":Pr("toggle",p);break;case"input":Pr("invalid",p),Mc(p,C.value,C.defaultValue,C.checked,C.defaultChecked,C.type,C.name,!0);break;case"select":Pr("invalid",p);break;case"textarea":Pr("invalid",p),fs(p,C.value,C.defaultValue,C.children)}_=C.children,typeof _!="string"&&typeof _!="number"&&typeof _!="bigint"||p.textContent===""+_||C.suppressHydrationWarning===!0||Gz(p.textContent,_)?(C.popover!=null&&(Pr("beforetoggle",p),Pr("toggle",p)),C.onScroll!=null&&Pr("scroll",p),C.onScrollEnd!=null&&Pr("scrollend",p),C.onClick!=null&&(p.onclick=Ga),p=!0):p=!1,p||Pu(h,!0)}function ua(h){for(an=h.return;an;)switch(an.tag){case 5:case 31:case 13:qo=!1;return;case 27:case 3:qo=!0;return;default:an=an.return}}function Gl(h){if(h!==an)return!1;if(!Nr)return ua(h),Nr=!0,!1;var p=h.tag,_;if((_=p!==3&&p!==27)&&((_=p===5)&&(_=h.type,_=!(_!=="form"&&_!=="button")||oA(h.type,h.memoizedProps)),_=!_),_&&on&&Pu(h),ua(h),p===13){if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(n(317));on=Qz(h)}else if(p===31){if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(n(317));on=Qz(h)}else p===27?(p=on,rh(h.type)?(h=fA,fA=null,on=h):on=p):on=an?Js(h.stateNode.nextSibling):null;return!0}function Oc(){on=an=null,Nr=!1}function oy(){var h=Ru;return h!==null&&(Qo===null?Qo=h:Qo.push.apply(Qo,h),Ru=null),h}function Td(h){Ru===null?Ru=[h]:Ru.push(h)}var Cd=K(null),ku=null,Ul=null;function Gf(h,p,_){ie(Cd,p._currentValue),p._currentValue=_}function jc(h){h._currentValue=Cd.current,ne(Cd)}function WC(h,p,_){for(;h!==null;){var C=h.alternate;if((h.childLanes&p)!==p?(h.childLanes|=p,C!==null&&(C.childLanes|=p)):C!==null&&(C.childLanes&p)!==p&&(C.childLanes|=p),h===_)break;h=h.return}}function YC(h,p,_,C){var P=h.child;for(P!==null&&(P.return=h);P!==null;){var k=P.dependencies;if(k!==null){var Z=P.child;k=k.firstContext;e:for(;k!==null;){var ae=k;k=P;for(var fe=0;fe<p.length;fe++)if(ae.context===p[fe]){k.lanes|=_,ae=k.alternate,ae!==null&&(ae.lanes|=_),WC(k.return,_,h),C||(Z=null);break e}k=ae.next}}else if(P.tag===18){if(Z=P.return,Z===null)throw Error(n(341));Z.lanes|=_,k=Z.alternate,k!==null&&(k.lanes|=_),WC(Z,_,h),Z=null}else Z=P.child;if(Z!==null)Z.return=P;else for(Z=P;Z!==null;){if(Z===h){Z=null;break}if(P=Z.sibling,P!==null){P.return=Z.return,Z=P;break}Z=Z.return}P=Z}}function Np(h,p,_,C){h=null;for(var P=p,k=!1;P!==null;){if(!k){if((P.flags&524288)!==0)k=!0;else if((P.flags&262144)!==0)break}if(P.tag===10){var Z=P.alternate;if(Z===null)throw Error(n(387));if(Z=Z.memoizedProps,Z!==null){var ae=P.type;Zt(P.pendingProps.value,Z.value)||(h!==null?h.push(ae):h=[ae])}}else if(P===pe.current){if(Z=P.alternate,Z===null)throw Error(n(387));Z.memoizedState.memoizedState!==P.memoizedState.memoizedState&&(h!==null?h.push(Py):h=[Py])}P=P.return}h!==null&&YC(p,h,_,C),p.flags|=262144}function P_(h){for(h=h.firstContext;h!==null;){if(!Zt(h.context._currentValue,h.memoizedValue))return!0;h=h.next}return!1}function Md(h){ku=h,Ul=null,h=h.dependencies,h!==null&&(h.firstContext=null)}function Bi(h){return DO(ku,h)}function k_(h,p){return ku===null&&Md(h),DO(h,p)}function DO(h,p){var _=p._currentValue;if(p={context:p,memoizedValue:_,next:null},Ul===null){if(h===null)throw Error(n(308));Ul=p,h.dependencies={lanes:0,firstContext:p},h.flags|=524288}else Ul=Ul.next=p;return _}var Gte=typeof AbortController<"u"?AbortController:function(){var h=[],p=this.signal={aborted:!1,addEventListener:function(_,C){h.push(C)}};this.abort=function(){p.aborted=!0,h.forEach(function(_){return _()})}},Ute=t.unstable_scheduleCallback,Wte=t.unstable_NormalPriority,Za={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ZC(){return{controller:new Gte,data:new Map,refCount:0}}function sy(h){h.refCount--,h.refCount===0&&Ute(Wte,function(){h.controller.abort()})}var ly=null,qC=0,Rp=0,Pp=null;function Yte(h,p){if(ly===null){var _=ly=[];qC=0,Rp=KM(),Pp={status:"pending",value:void 0,then:function(C){_.push(C)}}}return qC++,p.then(LO,LO),p}function LO(){if(--qC===0&&ly!==null){Pp!==null&&(Pp.status="fulfilled");var h=ly;ly=null,Rp=0,Pp=null;for(var p=0;p<h.length;p++)(0,h[p])()}}function Zte(h,p){var _=[],C={status:"pending",value:null,reason:null,then:function(P){_.push(P)}};return h.then(function(){C.status="fulfilled",C.value=p;for(var P=0;P<_.length;P++)(0,_[P])(p)},function(P){for(C.status="rejected",C.reason=P,P=0;P<_.length;P++)(0,_[P])(void 0)}),C}var EO=H.S;H.S=function(h,p){dz=Mt(),typeof p=="object"&&p!==null&&typeof p.then=="function"&&Yte(h,p),EO!==null&&EO(h,p)};var Ad=K(null);function $C(){var h=Ad.current;return h!==null?h:Hn.pooledCache}function I_(h,p){p===null?ie(Ad,Ad.current):ie(Ad,p.pool)}function NO(){var h=$C();return h===null?null:{parent:Za._currentValue,pool:h}}var kp=Error(n(460)),XC=Error(n(474)),O_=Error(n(542)),j_={then:function(){}};function RO(h){return h=h.status,h==="fulfilled"||h==="rejected"}function PO(h,p,_){switch(_=h[_],_===void 0?h.push(p):_!==p&&(p.then(Ga,Ga),p=_),p.status){case"fulfilled":return p.value;case"rejected":throw h=p.reason,IO(h),h;default:if(typeof p.status=="string")p.then(Ga,Ga);else{if(h=Hn,h!==null&&100<h.shellSuspendCounter)throw Error(n(482));h=p,h.status="pending",h.then(function(C){if(p.status==="pending"){var P=p;P.status="fulfilled",P.value=C}},function(C){if(p.status==="pending"){var P=p;P.status="rejected",P.reason=C}})}switch(p.status){case"fulfilled":return p.value;case"rejected":throw h=p.reason,IO(h),h}throw Ld=p,kp}}function Dd(h){try{var p=h._init;return p(h._payload)}catch(_){throw _!==null&&typeof _=="object"&&typeof _.then=="function"?(Ld=_,kp):_}}var Ld=null;function kO(){if(Ld===null)throw Error(n(459));var h=Ld;return Ld=null,h}function IO(h){if(h===kp||h===O_)throw Error(n(483))}var Ip=null,uy=0;function z_(h){var p=uy;return uy+=1,Ip===null&&(Ip=[]),PO(Ip,h,p)}function cy(h,p){p=p.props.ref,h.ref=p!==void 0?p:null}function B_(h,p){throw p.$$typeof===d?Error(n(525)):(h=Object.prototype.toString.call(p),Error(n(31,h==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":h)))}function OO(h){function p(xe,de){if(h){var Ce=xe.deletions;Ce===null?(xe.deletions=[de],xe.flags|=16):Ce.push(de)}}function _(xe,de){if(!h)return null;for(;de!==null;)p(xe,de),de=de.sibling;return null}function C(xe){for(var de=new Map;xe!==null;)xe.key!==null?de.set(xe.key,xe):de.set(xe.index,xe),xe=xe.sibling;return de}function P(xe,de){return xe=Ks(xe,de),xe.index=0,xe.sibling=null,xe}function k(xe,de,Ce){return xe.index=Ce,h?(Ce=xe.alternate,Ce!==null?(Ce=Ce.index,Ce<de?(xe.flags|=67108866,de):Ce):(xe.flags|=67108866,de)):(xe.flags|=1048576,de)}function Z(xe){return h&&xe.alternate===null&&(xe.flags|=67108866),xe}function ae(xe,de,Ce,Ve){return de===null||de.tag!==6?(de=Lp(Ce,xe.mode,Ve),de.return=xe,de):(de=P(de,Ce),de.return=xe,de)}function fe(xe,de,Ce,Ve){var Ht=Ce.type;return Ht===y?je(xe,de,Ce.props.children,Ve,Ce.key):de!==null&&(de.elementType===Ht||typeof Ht=="object"&&Ht!==null&&Ht.$$typeof===I&&Dd(Ht)===de.type)?(de=P(de,Ce.props),cy(de,Ce),de.return=xe,de):(de=wd(Ce.type,Ce.key,Ce.props,null,xe.mode,Ve),cy(de,Ce),de.return=xe,de)}function Me(xe,de,Ce,Ve){return de===null||de.tag!==4||de.stateNode.containerInfo!==Ce.containerInfo||de.stateNode.implementation!==Ce.implementation?(de=ay(Ce,xe.mode,Ve),de.return=xe,de):(de=P(de,Ce.children||[]),de.return=xe,de)}function je(xe,de,Ce,Ve,Ht){return de===null||de.tag!==7?(de=Ic(Ce,xe.mode,Ve,Ht),de.return=xe,de):(de=P(de,Ce),de.return=xe,de)}function He(xe,de,Ce){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return de=Lp(""+de,xe.mode,Ce),de.return=xe,de;if(typeof de=="object"&&de!==null){switch(de.$$typeof){case v:return Ce=wd(de.type,de.key,de.props,null,xe.mode,Ce),cy(Ce,de),Ce.return=xe,Ce;case g:return de=ay(de,xe.mode,Ce),de.return=xe,de;case I:return de=Dd(de),He(xe,de,Ce)}if(Q(de)||G(de))return de=Ic(de,xe.mode,Ce,null),de.return=xe,de;if(typeof de.then=="function")return He(xe,z_(de),Ce);if(de.$$typeof===M)return He(xe,k_(xe,de),Ce);B_(xe,de)}return null}function Le(xe,de,Ce,Ve){var Ht=de!==null?de.key:null;if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint")return Ht!==null?null:ae(xe,de,""+Ce,Ve);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case v:return Ce.key===Ht?fe(xe,de,Ce,Ve):null;case g:return Ce.key===Ht?Me(xe,de,Ce,Ve):null;case I:return Ce=Dd(Ce),Le(xe,de,Ce,Ve)}if(Q(Ce)||G(Ce))return Ht!==null?null:je(xe,de,Ce,Ve,null);if(typeof Ce.then=="function")return Le(xe,de,z_(Ce),Ve);if(Ce.$$typeof===M)return Le(xe,de,k_(xe,Ce),Ve);B_(xe,Ce)}return null}function Ne(xe,de,Ce,Ve,Ht){if(typeof Ve=="string"&&Ve!==""||typeof Ve=="number"||typeof Ve=="bigint")return xe=xe.get(Ce)||null,ae(de,xe,""+Ve,Ht);if(typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case v:return xe=xe.get(Ve.key===null?Ce:Ve.key)||null,fe(de,xe,Ve,Ht);case g:return xe=xe.get(Ve.key===null?Ce:Ve.key)||null,Me(de,xe,Ve,Ht);case I:return Ve=Dd(Ve),Ne(xe,de,Ce,Ve,Ht)}if(Q(Ve)||G(Ve))return xe=xe.get(Ce)||null,je(de,xe,Ve,Ht,null);if(typeof Ve.then=="function")return Ne(xe,de,Ce,z_(Ve),Ht);if(Ve.$$typeof===M)return Ne(xe,de,Ce,k_(de,Ve),Ht);B_(de,Ve)}return null}function Lt(xe,de,Ce,Ve){for(var Ht=null,sn=null,kt=de,br=de=0,zr=null;kt!==null&&br<Ce.length;br++){kt.index>br?(zr=kt,kt=null):zr=kt.sibling;var ln=Le(xe,kt,Ce[br],Ve);if(ln===null){kt===null&&(kt=zr);break}h&&kt&&ln.alternate===null&&p(xe,kt),de=k(ln,de,br),sn===null?Ht=ln:sn.sibling=ln,sn=ln,kt=zr}if(br===Ce.length)return _(xe,kt),Nr&&It(xe,br),Ht;if(kt===null){for(;br<Ce.length;br++)kt=He(xe,Ce[br],Ve),kt!==null&&(de=k(kt,de,br),sn===null?Ht=kt:sn.sibling=kt,sn=kt);return Nr&&It(xe,br),Ht}for(kt=C(kt);br<Ce.length;br++)zr=Ne(kt,xe,br,Ce[br],Ve),zr!==null&&(h&&zr.alternate!==null&&kt.delete(zr.key===null?br:zr.key),de=k(zr,de,br),sn===null?Ht=zr:sn.sibling=zr,sn=zr);return h&&kt.forEach(function(sh){return p(xe,sh)}),Nr&&It(xe,br),Ht}function qt(xe,de,Ce,Ve){if(Ce==null)throw Error(n(151));for(var Ht=null,sn=null,kt=de,br=de=0,zr=null,ln=Ce.next();kt!==null&&!ln.done;br++,ln=Ce.next()){kt.index>br?(zr=kt,kt=null):zr=kt.sibling;var sh=Le(xe,kt,ln.value,Ve);if(sh===null){kt===null&&(kt=zr);break}h&&kt&&sh.alternate===null&&p(xe,kt),de=k(sh,de,br),sn===null?Ht=sh:sn.sibling=sh,sn=sh,kt=zr}if(ln.done)return _(xe,kt),Nr&&It(xe,br),Ht;if(kt===null){for(;!ln.done;br++,ln=Ce.next())ln=He(xe,ln.value,Ve),ln!==null&&(de=k(ln,de,br),sn===null?Ht=ln:sn.sibling=ln,sn=ln);return Nr&&It(xe,br),Ht}for(kt=C(kt);!ln.done;br++,ln=Ce.next())ln=Ne(kt,xe,br,ln.value,Ve),ln!==null&&(h&&ln.alternate!==null&&kt.delete(ln.key===null?br:ln.key),de=k(ln,de,br),sn===null?Ht=ln:sn.sibling=ln,sn=ln);return h&&kt.forEach(function(ane){return p(xe,ane)}),Nr&&It(xe,br),Ht}function On(xe,de,Ce,Ve){if(typeof Ce=="object"&&Ce!==null&&Ce.type===y&&Ce.key===null&&(Ce=Ce.props.children),typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case v:e:{for(var Ht=Ce.key;de!==null;){if(de.key===Ht){if(Ht=Ce.type,Ht===y){if(de.tag===7){_(xe,de.sibling),Ve=P(de,Ce.props.children),Ve.return=xe,xe=Ve;break e}}else if(de.elementType===Ht||typeof Ht=="object"&&Ht!==null&&Ht.$$typeof===I&&Dd(Ht)===de.type){_(xe,de.sibling),Ve=P(de,Ce.props),cy(Ve,Ce),Ve.return=xe,xe=Ve;break e}_(xe,de);break}else p(xe,de);de=de.sibling}Ce.type===y?(Ve=Ic(Ce.props.children,xe.mode,Ve,Ce.key),Ve.return=xe,xe=Ve):(Ve=wd(Ce.type,Ce.key,Ce.props,null,xe.mode,Ve),cy(Ve,Ce),Ve.return=xe,xe=Ve)}return Z(xe);case g:e:{for(Ht=Ce.key;de!==null;){if(de.key===Ht)if(de.tag===4&&de.stateNode.containerInfo===Ce.containerInfo&&de.stateNode.implementation===Ce.implementation){_(xe,de.sibling),Ve=P(de,Ce.children||[]),Ve.return=xe,xe=Ve;break e}else{_(xe,de);break}else p(xe,de);de=de.sibling}Ve=ay(Ce,xe.mode,Ve),Ve.return=xe,xe=Ve}return Z(xe);case I:return Ce=Dd(Ce),On(xe,de,Ce,Ve)}if(Q(Ce))return Lt(xe,de,Ce,Ve);if(G(Ce)){if(Ht=G(Ce),typeof Ht!="function")throw Error(n(150));return Ce=Ht.call(Ce),qt(xe,de,Ce,Ve)}if(typeof Ce.then=="function")return On(xe,de,z_(Ce),Ve);if(Ce.$$typeof===M)return On(xe,de,k_(xe,Ce),Ve);B_(xe,Ce)}return typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint"?(Ce=""+Ce,de!==null&&de.tag===6?(_(xe,de.sibling),Ve=P(de,Ce),Ve.return=xe,xe=Ve):(_(xe,de),Ve=Lp(Ce,xe.mode,Ve),Ve.return=xe,xe=Ve),Z(xe)):_(xe,de)}return function(xe,de,Ce,Ve){try{uy=0;var Ht=On(xe,de,Ce,Ve);return Ip=null,Ht}catch(kt){if(kt===kp||kt===O_)throw kt;var sn=Ji(29,kt,null,xe.mode);return sn.lanes=Ve,sn.return=xe,sn}}}var Ed=OO(!0),jO=OO(!1),Uf=!1;function KC(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function QC(h,p){h=h.updateQueue,p.updateQueue===h&&(p.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,callbacks:null})}function Wf(h){return{lane:h,tag:0,payload:null,callback:null,next:null}}function Yf(h,p,_){var C=h.updateQueue;if(C===null)return null;if(C=C.shared,(dn&2)!==0){var P=C.pending;return P===null?p.next=p:(p.next=P.next,P.next=p),C.pending=p,p=Sd(h),Hf(h,null,_),p}return Nu(h,C,p,_),Sd(h)}function fy(h,p,_){if(p=p.updateQueue,p!==null&&(p=p.shared,(_&4194048)!==0)){var C=p.lanes;C&=h.pendingLanes,_|=C,p.lanes=_,ce(h,_)}}function JC(h,p){var _=h.updateQueue,C=h.alternate;if(C!==null&&(C=C.updateQueue,_===C)){var P=null,k=null;if(_=_.firstBaseUpdate,_!==null){do{var Z={lane:_.lane,tag:_.tag,payload:_.payload,callback:null,next:null};k===null?P=k=Z:k=k.next=Z,_=_.next}while(_!==null);k===null?P=k=p:k=k.next=p}else P=k=p;_={baseState:C.baseState,firstBaseUpdate:P,lastBaseUpdate:k,shared:C.shared,callbacks:C.callbacks},h.updateQueue=_;return}h=_.lastBaseUpdate,h===null?_.firstBaseUpdate=p:h.next=p,_.lastBaseUpdate=p}var eM=!1;function hy(){if(eM){var h=Pp;if(h!==null)throw h}}function dy(h,p,_,C){eM=!1;var P=h.updateQueue;Uf=!1;var k=P.firstBaseUpdate,Z=P.lastBaseUpdate,ae=P.shared.pending;if(ae!==null){P.shared.pending=null;var fe=ae,Me=fe.next;fe.next=null,Z===null?k=Me:Z.next=Me,Z=fe;var je=h.alternate;je!==null&&(je=je.updateQueue,ae=je.lastBaseUpdate,ae!==Z&&(ae===null?je.firstBaseUpdate=Me:ae.next=Me,je.lastBaseUpdate=fe))}if(k!==null){var He=P.baseState;Z=0,je=Me=fe=null,ae=k;do{var Le=ae.lane&-536870913,Ne=Le!==ae.lane;if(Ne?(jr&Le)===Le:(C&Le)===Le){Le!==0&&Le===Rp&&(eM=!0),je!==null&&(je=je.next={lane:0,tag:ae.tag,payload:ae.payload,callback:null,next:null});e:{var Lt=h,qt=ae;Le=p;var On=_;switch(qt.tag){case 1:if(Lt=qt.payload,typeof Lt=="function"){He=Lt.call(On,He,Le);break e}He=Lt;break e;case 3:Lt.flags=Lt.flags&-65537|128;case 0:if(Lt=qt.payload,Le=typeof Lt=="function"?Lt.call(On,He,Le):Lt,Le==null)break e;He=f({},He,Le);break e;case 2:Uf=!0}}Le=ae.callback,Le!==null&&(h.flags|=64,Ne&&(h.flags|=8192),Ne=P.callbacks,Ne===null?P.callbacks=[Le]:Ne.push(Le))}else Ne={lane:Le,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null},je===null?(Me=je=Ne,fe=He):je=je.next=Ne,Z|=Le;if(ae=ae.next,ae===null){if(ae=P.shared.pending,ae===null)break;Ne=ae,ae=Ne.next,Ne.next=null,P.lastBaseUpdate=Ne,P.shared.pending=null}}while(!0);je===null&&(fe=He),P.baseState=fe,P.firstBaseUpdate=Me,P.lastBaseUpdate=je,k===null&&(P.shared.lanes=0),Kf|=Z,h.lanes=Z,h.memoizedState=He}}function zO(h,p){if(typeof h!="function")throw Error(n(191,h));h.call(p)}function BO(h,p){var _=h.callbacks;if(_!==null)for(h.callbacks=null,h=0;h<_.length;h++)zO(_[h],p)}var Op=K(null),V_=K(0);function VO(h,p){h=Yc,ie(V_,h),ie(Op,p),Yc=h|p.baseLanes}function tM(){ie(V_,Yc),ie(Op,Op.current)}function rM(){Yc=V_.current,ne(Op),ne(V_)}var ys=K(null),Qs=null;function Zf(h){var p=h.alternate;ie(Ma,Ma.current&1),ie(ys,h),Qs===null&&(p===null||Op.current!==null||p.memoizedState!==null)&&(Qs=h)}function nM(h){ie(Ma,Ma.current),ie(ys,h),Qs===null&&(Qs=h)}function FO(h){h.tag===22?(ie(Ma,Ma.current),ie(ys,h),Qs===null&&(Qs=h)):qf()}function qf(){ie(Ma,Ma.current),ie(ys,ys.current)}function xs(h){ne(ys),Qs===h&&(Qs=null),ne(Ma)}var Ma=K(0);function F_(h){for(var p=h;p!==null;){if(p.tag===13){var _=p.memoizedState;if(_!==null&&(_=_.dehydrated,_===null||uA(_)||cA(_)))return p}else if(p.tag===19&&(p.memoizedProps.revealOrder==="forwards"||p.memoizedProps.revealOrder==="backwards"||p.memoizedProps.revealOrder==="unstable_legacy-backwards"||p.memoizedProps.revealOrder==="together")){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===h)break;for(;p.sibling===null;){if(p.return===null||p.return===h)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var zc=0,yr=null,kn=null,qa=null,H_=!1,jp=!1,Nd=!1,G_=0,vy=0,zp=null,qte=0;function pa(){throw Error(n(321))}function aM(h,p){if(p===null)return!1;for(var _=0;_<p.length&&_<h.length;_++)if(!Zt(h[_],p[_]))return!1;return!0}function iM(h,p,_,C,P,k){return zc=k,yr=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,H.H=h===null||h.memoizedState===null?Tj:_M,Nd=!1,k=_(C,P),Nd=!1,jp&&(k=GO(p,_,C,P)),HO(h),k}function HO(h){H.H=my;var p=kn!==null&&kn.next!==null;if(zc=0,qa=kn=yr=null,H_=!1,vy=0,zp=null,p)throw Error(n(300));h===null||$a||(h=h.dependencies,h!==null&&P_(h)&&($a=!0))}function GO(h,p,_,C){yr=h;var P=0;do{if(jp&&(zp=null),vy=0,jp=!1,25<=P)throw Error(n(301));if(P+=1,qa=kn=null,h.updateQueue!=null){var k=h.updateQueue;k.lastEffect=null,k.events=null,k.stores=null,k.memoCache!=null&&(k.memoCache.index=0)}H.H=Cj,k=p(_,C)}while(jp);return k}function $te(){var h=H.H,p=h.useState()[0];return p=typeof p.then=="function"?py(p):p,h=h.useState()[0],(kn!==null?kn.memoizedState:null)!==h&&(yr.flags|=1024),p}function oM(){var h=G_!==0;return G_=0,h}function sM(h,p,_){p.updateQueue=h.updateQueue,p.flags&=-2053,h.lanes&=~_}function lM(h){if(H_){for(h=h.memoizedState;h!==null;){var p=h.queue;p!==null&&(p.pending=null),h=h.next}H_=!1}zc=0,qa=kn=yr=null,jp=!1,vy=G_=0,zp=null}function _o(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qa===null?yr.memoizedState=qa=h:qa=qa.next=h,qa}function Aa(){if(kn===null){var h=yr.alternate;h=h!==null?h.memoizedState:null}else h=kn.next;var p=qa===null?yr.memoizedState:qa.next;if(p!==null)qa=p,kn=h;else{if(h===null)throw yr.alternate===null?Error(n(467)):Error(n(310));kn=h,h={memoizedState:kn.memoizedState,baseState:kn.baseState,baseQueue:kn.baseQueue,queue:kn.queue,next:null},qa===null?yr.memoizedState=qa=h:qa=qa.next=h}return qa}function U_(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function py(h){var p=vy;return vy+=1,zp===null&&(zp=[]),h=PO(zp,h,p),p=yr,(qa===null?p.memoizedState:qa.next)===null&&(p=p.alternate,H.H=p===null||p.memoizedState===null?Tj:_M),h}function W_(h){if(h!==null&&typeof h=="object"){if(typeof h.then=="function")return py(h);if(h.$$typeof===M)return Bi(h)}throw Error(n(438,String(h)))}function uM(h){var p=null,_=yr.updateQueue;if(_!==null&&(p=_.memoCache),p==null){var C=yr.alternate;C!==null&&(C=C.updateQueue,C!==null&&(C=C.memoCache,C!=null&&(p={data:C.data.map(function(P){return P.slice()}),index:0})))}if(p==null&&(p={data:[],index:0}),_===null&&(_=U_(),yr.updateQueue=_),_.memoCache=p,_=p.data[p.index],_===void 0)for(_=p.data[p.index]=Array(h),C=0;C<h;C++)_[C]=B;return p.index++,_}function Bc(h,p){return typeof p=="function"?p(h):p}function Y_(h){var p=Aa();return cM(p,kn,h)}function cM(h,p,_){var C=h.queue;if(C===null)throw Error(n(311));C.lastRenderedReducer=_;var P=h.baseQueue,k=C.pending;if(k!==null){if(P!==null){var Z=P.next;P.next=k.next,k.next=Z}p.baseQueue=P=k,C.pending=null}if(k=h.baseState,P===null)h.memoizedState=k;else{p=P.next;var ae=Z=null,fe=null,Me=p,je=!1;do{var He=Me.lane&-536870913;if(He!==Me.lane?(jr&He)===He:(zc&He)===He){var Le=Me.revertLane;if(Le===0)fe!==null&&(fe=fe.next={lane:0,revertLane:0,gesture:null,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null}),He===Rp&&(je=!0);else if((zc&Le)===Le){Me=Me.next,Le===Rp&&(je=!0);continue}else He={lane:0,revertLane:Me.revertLane,gesture:null,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null},fe===null?(ae=fe=He,Z=k):fe=fe.next=He,yr.lanes|=Le,Kf|=Le;He=Me.action,Nd&&_(k,He),k=Me.hasEagerState?Me.eagerState:_(k,He)}else Le={lane:He,revertLane:Me.revertLane,gesture:Me.gesture,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null},fe===null?(ae=fe=Le,Z=k):fe=fe.next=Le,yr.lanes|=He,Kf|=He;Me=Me.next}while(Me!==null&&Me!==p);if(fe===null?Z=k:fe.next=ae,!Zt(k,h.memoizedState)&&($a=!0,je&&(_=Pp,_!==null)))throw _;h.memoizedState=k,h.baseState=Z,h.baseQueue=fe,C.lastRenderedState=k}return P===null&&(C.lanes=0),[h.memoizedState,C.dispatch]}function fM(h){var p=Aa(),_=p.queue;if(_===null)throw Error(n(311));_.lastRenderedReducer=h;var C=_.dispatch,P=_.pending,k=p.memoizedState;if(P!==null){_.pending=null;var Z=P=P.next;do k=h(k,Z.action),Z=Z.next;while(Z!==P);Zt(k,p.memoizedState)||($a=!0),p.memoizedState=k,p.baseQueue===null&&(p.baseState=k),_.lastRenderedState=k}return[k,C]}function UO(h,p,_){var C=yr,P=Aa(),k=Nr;if(k){if(_===void 0)throw Error(n(407));_=_()}else _=p();var Z=!Zt((kn||P).memoizedState,_);if(Z&&(P.memoizedState=_,$a=!0),P=P.queue,vM(ZO.bind(null,C,P,h),[h]),P.getSnapshot!==p||Z||qa!==null&&qa.memoizedState.tag&1){if(C.flags|=2048,Bp(9,{destroy:void 0},YO.bind(null,C,P,_,p),null),Hn===null)throw Error(n(349));k||(zc&127)!==0||WO(C,p,_)}return _}function WO(h,p,_){h.flags|=16384,h={getSnapshot:p,value:_},p=yr.updateQueue,p===null?(p=U_(),yr.updateQueue=p,p.stores=[h]):(_=p.stores,_===null?p.stores=[h]:_.push(h))}function YO(h,p,_,C){p.value=_,p.getSnapshot=C,qO(p)&&$O(h)}function ZO(h,p,_){return _(function(){qO(p)&&$O(h)})}function qO(h){var p=h.getSnapshot;h=h.value;try{var _=p();return!Zt(h,_)}catch{return!0}}function $O(h){var p=Xs(h,2);p!==null&&Jo(p,h,2)}function hM(h){var p=_o();if(typeof h=="function"){var _=h;if(h=_(),Nd){Zn(!0);try{_()}finally{Zn(!1)}}}return p.memoizedState=p.baseState=h,p.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bc,lastRenderedState:h},p}function XO(h,p,_,C){return h.baseState=_,cM(h,kn,typeof C=="function"?C:Bc)}function Xte(h,p,_,C,P){if($_(h))throw Error(n(485));if(h=p.action,h!==null){var k={payload:P,action:h,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Z){k.listeners.push(Z)}};H.T!==null?_(!0):k.isTransition=!1,C(k),_=p.pending,_===null?(k.next=p.pending=k,KO(p,k)):(k.next=_.next,p.pending=_.next=k)}}function KO(h,p){var _=p.action,C=p.payload,P=h.state;if(p.isTransition){var k=H.T,Z={};H.T=Z;try{var ae=_(P,C),fe=H.S;fe!==null&&fe(Z,ae),QO(h,p,ae)}catch(Me){dM(h,p,Me)}finally{k!==null&&Z.types!==null&&(k.types=Z.types),H.T=k}}else try{k=_(P,C),QO(h,p,k)}catch(Me){dM(h,p,Me)}}function QO(h,p,_){_!==null&&typeof _=="object"&&typeof _.then=="function"?_.then(function(C){JO(h,p,C)},function(C){return dM(h,p,C)}):JO(h,p,_)}function JO(h,p,_){p.status="fulfilled",p.value=_,ej(p),h.state=_,p=h.pending,p!==null&&(_=p.next,_===p?h.pending=null:(_=_.next,p.next=_,KO(h,_)))}function dM(h,p,_){var C=h.pending;if(h.pending=null,C!==null){C=C.next;do p.status="rejected",p.reason=_,ej(p),p=p.next;while(p!==C)}h.action=null}function ej(h){h=h.listeners;for(var p=0;p<h.length;p++)(0,h[p])()}function tj(h,p){return p}function rj(h,p){if(Nr){var _=Hn.formState;if(_!==null){e:{var C=yr;if(Nr){if(on){t:{for(var P=on,k=qo;P.nodeType!==8;){if(!k){P=null;break t}if(P=Js(P.nextSibling),P===null){P=null;break t}}k=P.data,P=k==="F!"||k==="F"?P:null}if(P){on=Js(P.nextSibling),C=P.data==="F!";break e}}Pu(C)}C=!1}C&&(p=_[0])}}return _=_o(),_.memoizedState=_.baseState=p,C={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tj,lastRenderedState:p},_.queue=C,_=bj.bind(null,yr,C),C.dispatch=_,C=hM(!1),k=xM.bind(null,yr,!1,C.queue),C=_o(),P={state:p,dispatch:null,action:h,pending:null},C.queue=P,_=Xte.bind(null,yr,P,k,_),P.dispatch=_,C.memoizedState=h,[p,_,!1]}function nj(h){var p=Aa();return aj(p,kn,h)}function aj(h,p,_){if(p=cM(h,p,tj)[0],h=Y_(Bc)[0],typeof p=="object"&&p!==null&&typeof p.then=="function")try{var C=py(p)}catch(Z){throw Z===kp?O_:Z}else C=p;p=Aa();var P=p.queue,k=P.dispatch;return _!==p.memoizedState&&(yr.flags|=2048,Bp(9,{destroy:void 0},Kte.bind(null,P,_),null)),[C,k,h]}function Kte(h,p){h.action=p}function ij(h){var p=Aa(),_=kn;if(_!==null)return aj(p,_,h);Aa(),p=p.memoizedState,_=Aa();var C=_.queue.dispatch;return _.memoizedState=h,[p,C,!1]}function Bp(h,p,_,C){return h={tag:h,create:_,deps:C,inst:p,next:null},p=yr.updateQueue,p===null&&(p=U_(),yr.updateQueue=p),_=p.lastEffect,_===null?p.lastEffect=h.next=h:(C=_.next,_.next=h,h.next=C,p.lastEffect=h),h}function oj(){return Aa().memoizedState}function Z_(h,p,_,C){var P=_o();yr.flags|=h,P.memoizedState=Bp(1|p,{destroy:void 0},_,C===void 0?null:C)}function q_(h,p,_,C){var P=Aa();C=C===void 0?null:C;var k=P.memoizedState.inst;kn!==null&&C!==null&&aM(C,kn.memoizedState.deps)?P.memoizedState=Bp(p,k,_,C):(yr.flags|=h,P.memoizedState=Bp(1|p,k,_,C))}function sj(h,p){Z_(8390656,8,h,p)}function vM(h,p){q_(2048,8,h,p)}function Qte(h){yr.flags|=4;var p=yr.updateQueue;if(p===null)p=U_(),yr.updateQueue=p,p.events=[h];else{var _=p.events;_===null?p.events=[h]:_.push(h)}}function lj(h){var p=Aa().memoizedState;return Qte({ref:p,nextImpl:h}),function(){if((dn&2)!==0)throw Error(n(440));return p.impl.apply(void 0,arguments)}}function uj(h,p){return q_(4,2,h,p)}function cj(h,p){return q_(4,4,h,p)}function fj(h,p){if(typeof p=="function"){h=h();var _=p(h);return function(){typeof _=="function"?_():p(null)}}if(p!=null)return h=h(),p.current=h,function(){p.current=null}}function hj(h,p,_){_=_!=null?_.concat([h]):null,q_(4,4,fj.bind(null,p,h),_)}function pM(){}function dj(h,p){var _=Aa();p=p===void 0?null:p;var C=_.memoizedState;return p!==null&&aM(p,C[1])?C[0]:(_.memoizedState=[h,p],h)}function vj(h,p){var _=Aa();p=p===void 0?null:p;var C=_.memoizedState;if(p!==null&&aM(p,C[1]))return C[0];if(C=h(),Nd){Zn(!0);try{h()}finally{Zn(!1)}}return _.memoizedState=[C,p],C}function gM(h,p,_){return _===void 0||(zc&1073741824)!==0&&(jr&261930)===0?h.memoizedState=p:(h.memoizedState=_,h=pz(),yr.lanes|=h,Kf|=h,_)}function pj(h,p,_,C){return Zt(_,p)?_:Op.current!==null?(h=gM(h,_,C),Zt(h,p)||($a=!0),h):(zc&42)===0||(zc&1073741824)!==0&&(jr&261930)===0?($a=!0,h.memoizedState=_):(h=pz(),yr.lanes|=h,Kf|=h,p)}function gj(h,p,_,C,P){var k=X.p;X.p=k!==0&&8>k?k:8;var Z=H.T,ae={};H.T=ae,xM(h,!1,p,_);try{var fe=P(),Me=H.S;if(Me!==null&&Me(ae,fe),fe!==null&&typeof fe=="object"&&typeof fe.then=="function"){var je=Zte(fe,C);gy(h,p,je,Ss(h))}else gy(h,p,C,Ss(h))}catch(He){gy(h,p,{then:function(){},status:"rejected",reason:He},Ss())}finally{X.p=k,Z!==null&&ae.types!==null&&(Z.types=ae.types),H.T=Z}}function Jte(){}function mM(h,p,_,C){if(h.tag!==5)throw Error(n(476));var P=mj(h).queue;gj(h,P,p,W,_===null?Jte:function(){return yj(h),_(C)})}function mj(h){var p=h.memoizedState;if(p!==null)return p;p={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bc,lastRenderedState:W},next:null};var _={};return p.next={memoizedState:_,baseState:_,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bc,lastRenderedState:_},next:null},h.memoizedState=p,h=h.alternate,h!==null&&(h.memoizedState=p),p}function yj(h){var p=mj(h);p.next===null&&(p=h.alternate.memoizedState),gy(h,p.next.queue,{},Ss())}function yM(){return Bi(Py)}function xj(){return Aa().memoizedState}function _j(){return Aa().memoizedState}function ere(h){for(var p=h.return;p!==null;){switch(p.tag){case 24:case 3:var _=Ss();h=Wf(_);var C=Yf(p,h,_);C!==null&&(Jo(C,p,_),fy(C,p,_)),p={cache:ZC()},h.payload=p;return}p=p.return}}function tre(h,p,_){var C=Ss();_={lane:C,revertLane:0,gesture:null,action:_,hasEagerState:!1,eagerState:null,next:null},$_(h)?Sj(p,_):(_=ty(h,p,_,C),_!==null&&(Jo(_,h,C),wj(_,p,C)))}function bj(h,p,_){var C=Ss();gy(h,p,_,C)}function gy(h,p,_,C){var P={lane:C,revertLane:0,gesture:null,action:_,hasEagerState:!1,eagerState:null,next:null};if($_(h))Sj(p,P);else{var k=h.alternate;if(h.lanes===0&&(k===null||k.lanes===0)&&(k=p.lastRenderedReducer,k!==null))try{var Z=p.lastRenderedState,ae=k(Z,_);if(P.hasEagerState=!0,P.eagerState=ae,Zt(ae,Z))return Nu(h,p,P,0),Hn===null&&bd(),!1}catch{}if(_=ty(h,p,P,C),_!==null)return Jo(_,h,C),wj(_,p,C),!0}return!1}function xM(h,p,_,C){if(C={lane:2,revertLane:KM(),gesture:null,action:C,hasEagerState:!1,eagerState:null,next:null},$_(h)){if(p)throw Error(n(479))}else p=ty(h,_,C,2),p!==null&&Jo(p,h,2)}function $_(h){var p=h.alternate;return h===yr||p!==null&&p===yr}function Sj(h,p){jp=H_=!0;var _=h.pending;_===null?p.next=p:(p.next=_.next,_.next=p),h.pending=p}function wj(h,p,_){if((_&4194048)!==0){var C=p.lanes;C&=h.pendingLanes,_|=C,p.lanes=_,ce(h,_)}}var my={readContext:Bi,use:W_,useCallback:pa,useContext:pa,useEffect:pa,useImperativeHandle:pa,useLayoutEffect:pa,useInsertionEffect:pa,useMemo:pa,useReducer:pa,useRef:pa,useState:pa,useDebugValue:pa,useDeferredValue:pa,useTransition:pa,useSyncExternalStore:pa,useId:pa,useHostTransitionStatus:pa,useFormState:pa,useActionState:pa,useOptimistic:pa,useMemoCache:pa,useCacheRefresh:pa};my.useEffectEvent=pa;var Tj={readContext:Bi,use:W_,useCallback:function(h,p){return _o().memoizedState=[h,p===void 0?null:p],h},useContext:Bi,useEffect:sj,useImperativeHandle:function(h,p,_){_=_!=null?_.concat([h]):null,Z_(4194308,4,fj.bind(null,p,h),_)},useLayoutEffect:function(h,p){return Z_(4194308,4,h,p)},useInsertionEffect:function(h,p){Z_(4,2,h,p)},useMemo:function(h,p){var _=_o();p=p===void 0?null:p;var C=h();if(Nd){Zn(!0);try{h()}finally{Zn(!1)}}return _.memoizedState=[C,p],C},useReducer:function(h,p,_){var C=_o();if(_!==void 0){var P=_(p);if(Nd){Zn(!0);try{_(p)}finally{Zn(!1)}}}else P=p;return C.memoizedState=C.baseState=P,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:P},C.queue=h,h=h.dispatch=tre.bind(null,yr,h),[C.memoizedState,h]},useRef:function(h){var p=_o();return h={current:h},p.memoizedState=h},useState:function(h){h=hM(h);var p=h.queue,_=bj.bind(null,yr,p);return p.dispatch=_,[h.memoizedState,_]},useDebugValue:pM,useDeferredValue:function(h,p){var _=_o();return gM(_,h,p)},useTransition:function(){var h=hM(!1);return h=gj.bind(null,yr,h.queue,!0,!1),_o().memoizedState=h,[!1,h]},useSyncExternalStore:function(h,p,_){var C=yr,P=_o();if(Nr){if(_===void 0)throw Error(n(407));_=_()}else{if(_=p(),Hn===null)throw Error(n(349));(jr&127)!==0||WO(C,p,_)}P.memoizedState=_;var k={value:_,getSnapshot:p};return P.queue=k,sj(ZO.bind(null,C,k,h),[h]),C.flags|=2048,Bp(9,{destroy:void 0},YO.bind(null,C,k,_,p),null),_},useId:function(){var h=_o(),p=Hn.identifierPrefix;if(Nr){var _=tt,C=Fe;_=(C&~(1<<32-ca(C)-1)).toString(32)+_,p="_"+p+"R_"+_,_=G_++,0<_&&(p+="H"+_.toString(32)),p+="_"}else _=qte++,p="_"+p+"r_"+_.toString(32)+"_";return h.memoizedState=p},useHostTransitionStatus:yM,useFormState:rj,useActionState:rj,useOptimistic:function(h){var p=_o();p.memoizedState=p.baseState=h;var _={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return p.queue=_,p=xM.bind(null,yr,!0,_),_.dispatch=p,[h,p]},useMemoCache:uM,useCacheRefresh:function(){return _o().memoizedState=ere.bind(null,yr)},useEffectEvent:function(h){var p=_o(),_={impl:h};return p.memoizedState=_,function(){if((dn&2)!==0)throw Error(n(440));return _.impl.apply(void 0,arguments)}}},_M={readContext:Bi,use:W_,useCallback:dj,useContext:Bi,useEffect:vM,useImperativeHandle:hj,useInsertionEffect:uj,useLayoutEffect:cj,useMemo:vj,useReducer:Y_,useRef:oj,useState:function(){return Y_(Bc)},useDebugValue:pM,useDeferredValue:function(h,p){var _=Aa();return pj(_,kn.memoizedState,h,p)},useTransition:function(){var h=Y_(Bc)[0],p=Aa().memoizedState;return[typeof h=="boolean"?h:py(h),p]},useSyncExternalStore:UO,useId:xj,useHostTransitionStatus:yM,useFormState:nj,useActionState:nj,useOptimistic:function(h,p){var _=Aa();return XO(_,kn,h,p)},useMemoCache:uM,useCacheRefresh:_j};_M.useEffectEvent=lj;var Cj={readContext:Bi,use:W_,useCallback:dj,useContext:Bi,useEffect:vM,useImperativeHandle:hj,useInsertionEffect:uj,useLayoutEffect:cj,useMemo:vj,useReducer:fM,useRef:oj,useState:function(){return fM(Bc)},useDebugValue:pM,useDeferredValue:function(h,p){var _=Aa();return kn===null?gM(_,h,p):pj(_,kn.memoizedState,h,p)},useTransition:function(){var h=fM(Bc)[0],p=Aa().memoizedState;return[typeof h=="boolean"?h:py(h),p]},useSyncExternalStore:UO,useId:xj,useHostTransitionStatus:yM,useFormState:ij,useActionState:ij,useOptimistic:function(h,p){var _=Aa();return kn!==null?XO(_,kn,h,p):(_.baseState=h,[h,_.queue.dispatch])},useMemoCache:uM,useCacheRefresh:_j};Cj.useEffectEvent=lj;function bM(h,p,_,C){p=h.memoizedState,_=_(C,p),_=_==null?p:f({},p,_),h.memoizedState=_,h.lanes===0&&(h.updateQueue.baseState=_)}var SM={enqueueSetState:function(h,p,_){h=h._reactInternals;var C=Ss(),P=Wf(C);P.payload=p,_!=null&&(P.callback=_),p=Yf(h,P,C),p!==null&&(Jo(p,h,C),fy(p,h,C))},enqueueReplaceState:function(h,p,_){h=h._reactInternals;var C=Ss(),P=Wf(C);P.tag=1,P.payload=p,_!=null&&(P.callback=_),p=Yf(h,P,C),p!==null&&(Jo(p,h,C),fy(p,h,C))},enqueueForceUpdate:function(h,p){h=h._reactInternals;var _=Ss(),C=Wf(_);C.tag=2,p!=null&&(C.callback=p),p=Yf(h,C,_),p!==null&&(Jo(p,h,_),fy(p,h,_))}};function Mj(h,p,_,C,P,k,Z){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(C,k,Z):p.prototype&&p.prototype.isPureReactComponent?!rr(_,C)||!rr(P,k):!0}function Aj(h,p,_,C){h=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(_,C),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(_,C),p.state!==h&&SM.enqueueReplaceState(p,p.state,null)}function Rd(h,p){var _=p;if("ref"in p){_={};for(var C in p)C!=="ref"&&(_[C]=p[C])}if(h=h.defaultProps){_===p&&(_=f({},_));for(var P in h)_[P]===void 0&&(_[P]=h[P])}return _}function Dj(h){_d(h)}function Lj(h){console.error(h)}function Ej(h){_d(h)}function X_(h,p){try{var _=h.onUncaughtError;_(p.value,{componentStack:p.stack})}catch(C){setTimeout(function(){throw C})}}function Nj(h,p,_){try{var C=h.onCaughtError;C(_.value,{componentStack:_.stack,errorBoundary:p.tag===1?p.stateNode:null})}catch(P){setTimeout(function(){throw P})}}function wM(h,p,_){return _=Wf(_),_.tag=3,_.payload={element:null},_.callback=function(){X_(h,p)},_}function Rj(h){return h=Wf(h),h.tag=3,h}function Pj(h,p,_,C){var P=_.type.getDerivedStateFromError;if(typeof P=="function"){var k=C.value;h.payload=function(){return P(k)},h.callback=function(){Nj(p,_,C)}}var Z=_.stateNode;Z!==null&&typeof Z.componentDidCatch=="function"&&(h.callback=function(){Nj(p,_,C),typeof P!="function"&&(Qf===null?Qf=new Set([this]):Qf.add(this));var ae=C.stack;this.componentDidCatch(C.value,{componentStack:ae!==null?ae:""})})}function rre(h,p,_,C,P){if(_.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){if(p=_.alternate,p!==null&&Np(p,_,P,!0),_=ys.current,_!==null){switch(_.tag){case 31:case 13:return Qs===null?lb():_.alternate===null&&ga===0&&(ga=3),_.flags&=-257,_.flags|=65536,_.lanes=P,C===j_?_.flags|=16384:(p=_.updateQueue,p===null?_.updateQueue=new Set([C]):p.add(C),qM(h,C,P)),!1;case 22:return _.flags|=65536,C===j_?_.flags|=16384:(p=_.updateQueue,p===null?(p={transitions:null,markerInstances:null,retryQueue:new Set([C])},_.updateQueue=p):(_=p.retryQueue,_===null?p.retryQueue=new Set([C]):_.add(C)),qM(h,C,P)),!1}throw Error(n(435,_.tag))}return qM(h,C,P),lb(),!1}if(Nr)return p=ys.current,p!==null?((p.flags&65536)===0&&(p.flags|=256),p.flags|=65536,p.lanes=P,C!==Ep&&(h=Error(n(422),{cause:C}),Td(T(h,_)))):(C!==Ep&&(p=Error(n(423),{cause:C}),Td(T(p,_))),h=h.current.alternate,h.flags|=65536,P&=-P,h.lanes|=P,C=T(C,_),P=wM(h.stateNode,C,P),JC(h,P),ga!==4&&(ga=2)),!1;var k=Error(n(520),{cause:C});if(k=T(k,_),Cy===null?Cy=[k]:Cy.push(k),ga!==4&&(ga=2),p===null)return!0;C=T(C,_),_=p;do{switch(_.tag){case 3:return _.flags|=65536,h=P&-P,_.lanes|=h,h=wM(_.stateNode,C,h),JC(_,h),!1;case 1:if(p=_.type,k=_.stateNode,(_.flags&128)===0&&(typeof p.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Qf===null||!Qf.has(k))))return _.flags|=65536,P&=-P,_.lanes|=P,P=Rj(P),Pj(P,h,_,C),JC(_,P),!1}_=_.return}while(_!==null);return!1}var TM=Error(n(461)),$a=!1;function Vi(h,p,_,C){p.child=h===null?jO(p,null,_,C):Ed(p,h.child,_,C)}function kj(h,p,_,C,P){_=_.render;var k=p.ref;if("ref"in C){var Z={};for(var ae in C)ae!=="ref"&&(Z[ae]=C[ae])}else Z=C;return Md(p),C=iM(h,p,_,Z,k,P),ae=oM(),h!==null&&!$a?(sM(h,p,P),Vc(h,p,P)):(Nr&&ae&&ui(p),p.flags|=1,Vi(h,p,C,P),p.child)}function Ij(h,p,_,C,P){if(h===null){var k=_.type;return typeof k=="function"&&!Dp(k)&&k.defaultProps===void 0&&_.compare===null?(p.tag=15,p.type=k,Oj(h,p,k,C,P)):(h=wd(_.type,null,C,p,p.mode,P),h.ref=p.ref,h.return=p,p.child=h)}if(k=h.child,!RM(h,P)){var Z=k.memoizedProps;if(_=_.compare,_=_!==null?_:rr,_(Z,C)&&h.ref===p.ref)return Vc(h,p,P)}return p.flags|=1,h=Ks(k,C),h.ref=p.ref,h.return=p,p.child=h}function Oj(h,p,_,C,P){if(h!==null){var k=h.memoizedProps;if(rr(k,C)&&h.ref===p.ref)if($a=!1,p.pendingProps=C=k,RM(h,P))(h.flags&131072)!==0&&($a=!0);else return p.lanes=h.lanes,Vc(h,p,P)}return CM(h,p,_,C,P)}function jj(h,p,_,C){var P=C.children,k=h!==null?h.memoizedState:null;if(h===null&&p.stateNode===null&&(p.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),C.mode==="hidden"){if((p.flags&128)!==0){if(k=k!==null?k.baseLanes|_:_,h!==null){for(C=p.child=h.child,P=0;C!==null;)P=P|C.lanes|C.childLanes,C=C.sibling;C=P&~k}else C=0,p.child=null;return zj(h,p,k,_,C)}if((_&536870912)!==0)p.memoizedState={baseLanes:0,cachePool:null},h!==null&&I_(p,k!==null?k.cachePool:null),k!==null?VO(p,k):tM(),FO(p);else return C=p.lanes=536870912,zj(h,p,k!==null?k.baseLanes|_:_,_,C)}else k!==null?(I_(p,k.cachePool),VO(p,k),qf(),p.memoizedState=null):(h!==null&&I_(p,null),tM(),qf());return Vi(h,p,P,_),p.child}function yy(h,p){return h!==null&&h.tag===22||p.stateNode!==null||(p.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.sibling}function zj(h,p,_,C,P){var k=$C();return k=k===null?null:{parent:Za._currentValue,pool:k},p.memoizedState={baseLanes:_,cachePool:k},h!==null&&I_(p,null),tM(),FO(p),h!==null&&Np(h,p,C,!0),p.childLanes=P,null}function K_(h,p){return p=J_({mode:p.mode,children:p.children},h.mode),p.ref=h.ref,h.child=p,p.return=h,p}function Bj(h,p,_){return Ed(p,h.child,null,_),h=K_(p,p.pendingProps),h.flags|=2,xs(p),p.memoizedState=null,h}function nre(h,p,_){var C=p.pendingProps,P=(p.flags&128)!==0;if(p.flags&=-129,h===null){if(Nr){if(C.mode==="hidden")return h=K_(p,C),p.lanes=536870912,yy(null,h);if(nM(p),(h=on)?(h=Kz(h,qo),h=h!==null&&h.data==="&"?h:null,h!==null&&(p.memoizedState={dehydrated:h,treeContext:De!==null?{id:Fe,overflow:tt}:null,retryLane:536870912,hydrationErrors:null},_=ny(h),_.return=p,p.child=_,an=p,on=null)):h=null,h===null)throw Pu(p);return p.lanes=536870912,null}return K_(p,C)}var k=h.memoizedState;if(k!==null){var Z=k.dehydrated;if(nM(p),P)if(p.flags&256)p.flags&=-257,p=Bj(h,p,_);else if(p.memoizedState!==null)p.child=h.child,p.flags|=128,p=null;else throw Error(n(558));else if($a||Np(h,p,_,!1),P=(_&h.childLanes)!==0,$a||P){if(C=Hn,C!==null&&(Z=ge(C,_),Z!==0&&Z!==k.retryLane))throw k.retryLane=Z,Xs(h,Z),Jo(C,h,Z),TM;lb(),p=Bj(h,p,_)}else h=k.treeContext,on=Js(Z.nextSibling),an=p,Nr=!0,Ru=null,qo=!1,h!==null&&xo(p,h),p=K_(p,C),p.flags|=4096;return p}return h=Ks(h.child,{mode:C.mode,children:C.children}),h.ref=p.ref,p.child=h,h.return=p,h}function Q_(h,p){var _=p.ref;if(_===null)h!==null&&h.ref!==null&&(p.flags|=4194816);else{if(typeof _!="function"&&typeof _!="object")throw Error(n(284));(h===null||h.ref!==_)&&(p.flags|=4194816)}}function CM(h,p,_,C,P){return Md(p),_=iM(h,p,_,C,void 0,P),C=oM(),h!==null&&!$a?(sM(h,p,P),Vc(h,p,P)):(Nr&&C&&ui(p),p.flags|=1,Vi(h,p,_,P),p.child)}function Vj(h,p,_,C,P,k){return Md(p),p.updateQueue=null,_=GO(p,C,_,P),HO(h),C=oM(),h!==null&&!$a?(sM(h,p,k),Vc(h,p,k)):(Nr&&C&&ui(p),p.flags|=1,Vi(h,p,_,k),p.child)}function Fj(h,p,_,C,P){if(Md(p),p.stateNode===null){var k=kc,Z=_.contextType;typeof Z=="object"&&Z!==null&&(k=Bi(Z)),k=new _(C,k),p.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,k.updater=SM,p.stateNode=k,k._reactInternals=p,k=p.stateNode,k.props=C,k.state=p.memoizedState,k.refs={},KC(p),Z=_.contextType,k.context=typeof Z=="object"&&Z!==null?Bi(Z):kc,k.state=p.memoizedState,Z=_.getDerivedStateFromProps,typeof Z=="function"&&(bM(p,_,Z,C),k.state=p.memoizedState),typeof _.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(Z=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),Z!==k.state&&SM.enqueueReplaceState(k,k.state,null),dy(p,C,k,P),hy(),k.state=p.memoizedState),typeof k.componentDidMount=="function"&&(p.flags|=4194308),C=!0}else if(h===null){k=p.stateNode;var ae=p.memoizedProps,fe=Rd(_,ae);k.props=fe;var Me=k.context,je=_.contextType;Z=kc,typeof je=="object"&&je!==null&&(Z=Bi(je));var He=_.getDerivedStateFromProps;je=typeof He=="function"||typeof k.getSnapshotBeforeUpdate=="function",ae=p.pendingProps!==ae,je||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(ae||Me!==Z)&&Aj(p,k,C,Z),Uf=!1;var Le=p.memoizedState;k.state=Le,dy(p,C,k,P),hy(),Me=p.memoizedState,ae||Le!==Me||Uf?(typeof He=="function"&&(bM(p,_,He,C),Me=p.memoizedState),(fe=Uf||Mj(p,_,fe,C,Le,Me,Z))?(je||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(p.flags|=4194308)):(typeof k.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=C,p.memoizedState=Me),k.props=C,k.state=Me,k.context=Z,C=fe):(typeof k.componentDidMount=="function"&&(p.flags|=4194308),C=!1)}else{k=p.stateNode,QC(h,p),Z=p.memoizedProps,je=Rd(_,Z),k.props=je,He=p.pendingProps,Le=k.context,Me=_.contextType,fe=kc,typeof Me=="object"&&Me!==null&&(fe=Bi(Me)),ae=_.getDerivedStateFromProps,(Me=typeof ae=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(Z!==He||Le!==fe)&&Aj(p,k,C,fe),Uf=!1,Le=p.memoizedState,k.state=Le,dy(p,C,k,P),hy();var Ne=p.memoizedState;Z!==He||Le!==Ne||Uf||h!==null&&h.dependencies!==null&&P_(h.dependencies)?(typeof ae=="function"&&(bM(p,_,ae,C),Ne=p.memoizedState),(je=Uf||Mj(p,_,je,C,Le,Ne,fe)||h!==null&&h.dependencies!==null&&P_(h.dependencies))?(Me||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(C,Ne,fe),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(C,Ne,fe)),typeof k.componentDidUpdate=="function"&&(p.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof k.componentDidUpdate!="function"||Z===h.memoizedProps&&Le===h.memoizedState||(p.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||Z===h.memoizedProps&&Le===h.memoizedState||(p.flags|=1024),p.memoizedProps=C,p.memoizedState=Ne),k.props=C,k.state=Ne,k.context=fe,C=je):(typeof k.componentDidUpdate!="function"||Z===h.memoizedProps&&Le===h.memoizedState||(p.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||Z===h.memoizedProps&&Le===h.memoizedState||(p.flags|=1024),C=!1)}return k=C,Q_(h,p),C=(p.flags&128)!==0,k||C?(k=p.stateNode,_=C&&typeof _.getDerivedStateFromError!="function"?null:k.render(),p.flags|=1,h!==null&&C?(p.child=Ed(p,h.child,null,P),p.child=Ed(p,null,_,P)):Vi(h,p,_,P),p.memoizedState=k.state,h=p.child):h=Vc(h,p,P),h}function Hj(h,p,_,C){return Oc(),p.flags|=256,Vi(h,p,_,C),p.child}var MM={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function AM(h){return{baseLanes:h,cachePool:NO()}}function DM(h,p,_){return h=h!==null?h.childLanes&~_:0,p&&(h|=bs),h}function Gj(h,p,_){var C=p.pendingProps,P=!1,k=(p.flags&128)!==0,Z;if((Z=k)||(Z=h!==null&&h.memoizedState===null?!1:(Ma.current&2)!==0),Z&&(P=!0,p.flags&=-129),Z=(p.flags&32)!==0,p.flags&=-33,h===null){if(Nr){if(P?Zf(p):qf(),(h=on)?(h=Kz(h,qo),h=h!==null&&h.data!=="&"?h:null,h!==null&&(p.memoizedState={dehydrated:h,treeContext:De!==null?{id:Fe,overflow:tt}:null,retryLane:536870912,hydrationErrors:null},_=ny(h),_.return=p,p.child=_,an=p,on=null)):h=null,h===null)throw Pu(p);return cA(h)?p.lanes=32:p.lanes=536870912,null}var ae=C.children;return C=C.fallback,P?(qf(),P=p.mode,ae=J_({mode:"hidden",children:ae},P),C=Ic(C,P,_,null),ae.return=p,C.return=p,ae.sibling=C,p.child=ae,C=p.child,C.memoizedState=AM(_),C.childLanes=DM(h,Z,_),p.memoizedState=MM,yy(null,C)):(Zf(p),LM(p,ae))}var fe=h.memoizedState;if(fe!==null&&(ae=fe.dehydrated,ae!==null)){if(k)p.flags&256?(Zf(p),p.flags&=-257,p=EM(h,p,_)):p.memoizedState!==null?(qf(),p.child=h.child,p.flags|=128,p=null):(qf(),ae=C.fallback,P=p.mode,C=J_({mode:"visible",children:C.children},P),ae=Ic(ae,P,_,null),ae.flags|=2,C.return=p,ae.return=p,C.sibling=ae,p.child=C,Ed(p,h.child,null,_),C=p.child,C.memoizedState=AM(_),C.childLanes=DM(h,Z,_),p.memoizedState=MM,p=yy(null,C));else if(Zf(p),cA(ae)){if(Z=ae.nextSibling&&ae.nextSibling.dataset,Z)var Me=Z.dgst;Z=Me,C=Error(n(419)),C.stack="",C.digest=Z,Td({value:C,source:null,stack:null}),p=EM(h,p,_)}else if($a||Np(h,p,_,!1),Z=(_&h.childLanes)!==0,$a||Z){if(Z=Hn,Z!==null&&(C=ge(Z,_),C!==0&&C!==fe.retryLane))throw fe.retryLane=C,Xs(h,C),Jo(Z,h,C),TM;uA(ae)||lb(),p=EM(h,p,_)}else uA(ae)?(p.flags|=192,p.child=h.child,p=null):(h=fe.treeContext,on=Js(ae.nextSibling),an=p,Nr=!0,Ru=null,qo=!1,h!==null&&xo(p,h),p=LM(p,C.children),p.flags|=4096);return p}return P?(qf(),ae=C.fallback,P=p.mode,fe=h.child,Me=fe.sibling,C=Ks(fe,{mode:"hidden",children:C.children}),C.subtreeFlags=fe.subtreeFlags&65011712,Me!==null?ae=Ks(Me,ae):(ae=Ic(ae,P,_,null),ae.flags|=2),ae.return=p,C.return=p,C.sibling=ae,p.child=C,yy(null,C),C=p.child,ae=h.child.memoizedState,ae===null?ae=AM(_):(P=ae.cachePool,P!==null?(fe=Za._currentValue,P=P.parent!==fe?{parent:fe,pool:fe}:P):P=NO(),ae={baseLanes:ae.baseLanes|_,cachePool:P}),C.memoizedState=ae,C.childLanes=DM(h,Z,_),p.memoizedState=MM,yy(h.child,C)):(Zf(p),_=h.child,h=_.sibling,_=Ks(_,{mode:"visible",children:C.children}),_.return=p,_.sibling=null,h!==null&&(Z=p.deletions,Z===null?(p.deletions=[h],p.flags|=16):Z.push(h)),p.child=_,p.memoizedState=null,_)}function LM(h,p){return p=J_({mode:"visible",children:p},h.mode),p.return=h,h.child=p}function J_(h,p){return h=Ji(22,h,null,p),h.lanes=0,h}function EM(h,p,_){return Ed(p,h.child,null,_),h=LM(p,p.pendingProps.children),h.flags|=2,p.memoizedState=null,h}function Uj(h,p,_){h.lanes|=p;var C=h.alternate;C!==null&&(C.lanes|=p),WC(h.return,p,_)}function NM(h,p,_,C,P,k){var Z=h.memoizedState;Z===null?h.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:C,tail:_,tailMode:P,treeForkCount:k}:(Z.isBackwards=p,Z.rendering=null,Z.renderingStartTime=0,Z.last=C,Z.tail=_,Z.tailMode=P,Z.treeForkCount=k)}function Wj(h,p,_){var C=p.pendingProps,P=C.revealOrder,k=C.tail;C=C.children;var Z=Ma.current,ae=(Z&2)!==0;if(ae?(Z=Z&1|2,p.flags|=128):Z&=1,ie(Ma,Z),Vi(h,p,C,_),C=Nr?re:0,!ae&&h!==null&&(h.flags&128)!==0)e:for(h=p.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&Uj(h,_,p);else if(h.tag===19)Uj(h,_,p);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===p)break e;for(;h.sibling===null;){if(h.return===null||h.return===p)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}switch(P){case"forwards":for(_=p.child,P=null;_!==null;)h=_.alternate,h!==null&&F_(h)===null&&(P=_),_=_.sibling;_=P,_===null?(P=p.child,p.child=null):(P=_.sibling,_.sibling=null),NM(p,!1,P,_,k,C);break;case"backwards":case"unstable_legacy-backwards":for(_=null,P=p.child,p.child=null;P!==null;){if(h=P.alternate,h!==null&&F_(h)===null){p.child=P;break}h=P.sibling,P.sibling=_,_=P,P=h}NM(p,!0,_,null,k,C);break;case"together":NM(p,!1,null,null,void 0,C);break;default:p.memoizedState=null}return p.child}function Vc(h,p,_){if(h!==null&&(p.dependencies=h.dependencies),Kf|=p.lanes,(_&p.childLanes)===0)if(h!==null){if(Np(h,p,_,!1),(_&p.childLanes)===0)return null}else return null;if(h!==null&&p.child!==h.child)throw Error(n(153));if(p.child!==null){for(h=p.child,_=Ks(h,h.pendingProps),p.child=_,_.return=p;h.sibling!==null;)h=h.sibling,_=_.sibling=Ks(h,h.pendingProps),_.return=p;_.sibling=null}return p.child}function RM(h,p){return(h.lanes&p)!==0?!0:(h=h.dependencies,!!(h!==null&&P_(h)))}function are(h,p,_){switch(p.tag){case 3:Pe(p,p.stateNode.containerInfo),Gf(p,Za,h.memoizedState.cache),Oc();break;case 27:case 5:ze(p);break;case 4:Pe(p,p.stateNode.containerInfo);break;case 10:Gf(p,p.type,p.memoizedProps.value);break;case 31:if(p.memoizedState!==null)return p.flags|=128,nM(p),null;break;case 13:var C=p.memoizedState;if(C!==null)return C.dehydrated!==null?(Zf(p),p.flags|=128,null):(_&p.child.childLanes)!==0?Gj(h,p,_):(Zf(p),h=Vc(h,p,_),h!==null?h.sibling:null);Zf(p);break;case 19:var P=(h.flags&128)!==0;if(C=(_&p.childLanes)!==0,C||(Np(h,p,_,!1),C=(_&p.childLanes)!==0),P){if(C)return Wj(h,p,_);p.flags|=128}if(P=p.memoizedState,P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),ie(Ma,Ma.current),C)break;return null;case 22:return p.lanes=0,jj(h,p,_,p.pendingProps);case 24:Gf(p,Za,h.memoizedState.cache)}return Vc(h,p,_)}function Yj(h,p,_){if(h!==null)if(h.memoizedProps!==p.pendingProps)$a=!0;else{if(!RM(h,_)&&(p.flags&128)===0)return $a=!1,are(h,p,_);$a=(h.flags&131072)!==0}else $a=!1,Nr&&(p.flags&1048576)!==0&&_r(p,re,p.index);switch(p.lanes=0,p.tag){case 16:e:{var C=p.pendingProps;if(h=Dd(p.elementType),p.type=h,typeof h=="function")Dp(h)?(C=Rd(h,C),p.tag=1,p=Fj(null,p,h,C,_)):(p.tag=0,p=CM(null,p,h,C,_));else{if(h!=null){var P=h.$$typeof;if(P===A){p.tag=11,p=kj(null,p,h,C,_);break e}else if(P===N){p.tag=14,p=Ij(null,p,h,C,_);break e}}throw p=q(h)||h,Error(n(306,p,""))}}return p;case 0:return CM(h,p,p.type,p.pendingProps,_);case 1:return C=p.type,P=Rd(C,p.pendingProps),Fj(h,p,C,P,_);case 3:e:{if(Pe(p,p.stateNode.containerInfo),h===null)throw Error(n(387));C=p.pendingProps;var k=p.memoizedState;P=k.element,QC(h,p),dy(p,C,null,_);var Z=p.memoizedState;if(C=Z.cache,Gf(p,Za,C),C!==k.cache&&YC(p,[Za],_,!0),hy(),C=Z.element,k.isDehydrated)if(k={element:C,isDehydrated:!1,cache:Z.cache},p.updateQueue.baseState=k,p.memoizedState=k,p.flags&256){p=Hj(h,p,C,_);break e}else if(C!==P){P=T(Error(n(424)),p),Td(P),p=Hj(h,p,C,_);break e}else for(h=p.stateNode.containerInfo,h.nodeType===9?h=h.body:h=h.nodeName==="HTML"?h.ownerDocument.body:h,on=Js(h.firstChild),an=p,Nr=!0,Ru=null,qo=!0,_=jO(p,null,C,_),p.child=_;_;)_.flags=_.flags&-3|4096,_=_.sibling;else{if(Oc(),C===P){p=Vc(h,p,_);break e}Vi(h,p,C,_)}p=p.child}return p;case 26:return Q_(h,p),h===null?(_=nB(p.type,null,p.pendingProps,null))?p.memoizedState=_:Nr||(_=p.type,h=p.pendingProps,C=pb(we.current).createElement(_),C[Je]=p,C[at]=h,Fi(C,_,h),Tn(C),p.stateNode=C):p.memoizedState=nB(p.type,h.memoizedProps,p.pendingProps,h.memoizedState),null;case 27:return ze(p),h===null&&Nr&&(C=p.stateNode=eB(p.type,p.pendingProps,we.current),an=p,qo=!0,P=on,rh(p.type)?(fA=P,on=Js(C.firstChild)):on=P),Vi(h,p,p.pendingProps.children,_),Q_(h,p),h===null&&(p.flags|=4194304),p.child;case 5:return h===null&&Nr&&((P=C=on)&&(C=kre(C,p.type,p.pendingProps,qo),C!==null?(p.stateNode=C,an=p,on=Js(C.firstChild),qo=!1,P=!0):P=!1),P||Pu(p)),ze(p),P=p.type,k=p.pendingProps,Z=h!==null?h.memoizedProps:null,C=k.children,oA(P,k)?C=null:Z!==null&&oA(P,Z)&&(p.flags|=32),p.memoizedState!==null&&(P=iM(h,p,$te,null,null,_),Py._currentValue=P),Q_(h,p),Vi(h,p,C,_),p.child;case 6:return h===null&&Nr&&((h=_=on)&&(_=Ire(_,p.pendingProps,qo),_!==null?(p.stateNode=_,an=p,on=null,h=!0):h=!1),h||Pu(p)),null;case 13:return Gj(h,p,_);case 4:return Pe(p,p.stateNode.containerInfo),C=p.pendingProps,h===null?p.child=Ed(p,null,C,_):Vi(h,p,C,_),p.child;case 11:return kj(h,p,p.type,p.pendingProps,_);case 7:return Vi(h,p,p.pendingProps,_),p.child;case 8:return Vi(h,p,p.pendingProps.children,_),p.child;case 12:return Vi(h,p,p.pendingProps.children,_),p.child;case 10:return C=p.pendingProps,Gf(p,p.type,C.value),Vi(h,p,C.children,_),p.child;case 9:return P=p.type._context,C=p.pendingProps.children,Md(p),P=Bi(P),C=C(P),p.flags|=1,Vi(h,p,C,_),p.child;case 14:return Ij(h,p,p.type,p.pendingProps,_);case 15:return Oj(h,p,p.type,p.pendingProps,_);case 19:return Wj(h,p,_);case 31:return nre(h,p,_);case 22:return jj(h,p,_,p.pendingProps);case 24:return Md(p),C=Bi(Za),h===null?(P=$C(),P===null&&(P=Hn,k=ZC(),P.pooledCache=k,k.refCount++,k!==null&&(P.pooledCacheLanes|=_),P=k),p.memoizedState={parent:C,cache:P},KC(p),Gf(p,Za,P)):((h.lanes&_)!==0&&(QC(h,p),dy(p,null,null,_),hy()),P=h.memoizedState,k=p.memoizedState,P.parent!==C?(P={parent:C,cache:C},p.memoizedState=P,p.lanes===0&&(p.memoizedState=p.updateQueue.baseState=P),Gf(p,Za,C)):(C=k.cache,Gf(p,Za,C),C!==P.cache&&YC(p,[Za],_,!0))),Vi(h,p,p.pendingProps.children,_),p.child;case 29:throw p.pendingProps}throw Error(n(156,p.tag))}function Fc(h){h.flags|=4}function PM(h,p,_,C,P){if((p=(h.mode&32)!==0)&&(p=!1),p){if(h.flags|=16777216,(P&335544128)===P)if(h.stateNode.complete)h.flags|=8192;else if(xz())h.flags|=8192;else throw Ld=j_,XC}else h.flags&=-16777217}function Zj(h,p){if(p.type!=="stylesheet"||(p.state.loading&4)!==0)h.flags&=-16777217;else if(h.flags|=16777216,!lB(p))if(xz())h.flags|=8192;else throw Ld=j_,XC}function eb(h,p){p!==null&&(h.flags|=4),h.flags&16384&&(p=h.tag!==22?kl():536870912,h.lanes|=p,Gp|=p)}function xy(h,p){if(!Nr)switch(h.tailMode){case"hidden":p=h.tail;for(var _=null;p!==null;)p.alternate!==null&&(_=p),p=p.sibling;_===null?h.tail=null:_.sibling=null;break;case"collapsed":_=h.tail;for(var C=null;_!==null;)_.alternate!==null&&(C=_),_=_.sibling;C===null?p||h.tail===null?h.tail=null:h.tail.sibling=null:C.sibling=null}}function Qn(h){var p=h.alternate!==null&&h.alternate.child===h.child,_=0,C=0;if(p)for(var P=h.child;P!==null;)_|=P.lanes|P.childLanes,C|=P.subtreeFlags&65011712,C|=P.flags&65011712,P.return=h,P=P.sibling;else for(P=h.child;P!==null;)_|=P.lanes|P.childLanes,C|=P.subtreeFlags,C|=P.flags,P.return=h,P=P.sibling;return h.subtreeFlags|=C,h.childLanes=_,p}function ire(h,p,_){var C=p.pendingProps;switch(va(p),p.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qn(p),null;case 1:return Qn(p),null;case 3:return _=p.stateNode,C=null,h!==null&&(C=h.memoizedState.cache),p.memoizedState.cache!==C&&(p.flags|=2048),jc(Za),ke(),_.pendingContext&&(_.context=_.pendingContext,_.pendingContext=null),(h===null||h.child===null)&&(Gl(p)?Fc(p):h===null||h.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,oy())),Qn(p),null;case 26:var P=p.type,k=p.memoizedState;return h===null?(Fc(p),k!==null?(Qn(p),Zj(p,k)):(Qn(p),PM(p,P,null,C,_))):k?k!==h.memoizedState?(Fc(p),Qn(p),Zj(p,k)):(Qn(p),p.flags&=-16777217):(h=h.memoizedProps,h!==C&&Fc(p),Qn(p),PM(p,P,h,C,_)),null;case 27:if(Ie(p),_=we.current,P=p.type,h!==null&&p.stateNode!=null)h.memoizedProps!==C&&Fc(p);else{if(!C){if(p.stateNode===null)throw Error(n(166));return Qn(p),null}h=le.current,Gl(p)?iy(p):(h=eB(P,C,_),p.stateNode=h,Fc(p))}return Qn(p),null;case 5:if(Ie(p),P=p.type,h!==null&&p.stateNode!=null)h.memoizedProps!==C&&Fc(p);else{if(!C){if(p.stateNode===null)throw Error(n(166));return Qn(p),null}if(k=le.current,Gl(p))iy(p);else{var Z=pb(we.current);switch(k){case 1:k=Z.createElementNS("http://www.w3.org/2000/svg",P);break;case 2:k=Z.createElementNS("http://www.w3.org/1998/Math/MathML",P);break;default:switch(P){case"svg":k=Z.createElementNS("http://www.w3.org/2000/svg",P);break;case"math":k=Z.createElementNS("http://www.w3.org/1998/Math/MathML",P);break;case"script":k=Z.createElement("div"),k.innerHTML="<script><\/script>",k=k.removeChild(k.firstChild);break;case"select":k=typeof C.is=="string"?Z.createElement("select",{is:C.is}):Z.createElement("select"),C.multiple?k.multiple=!0:C.size&&(k.size=C.size);break;default:k=typeof C.is=="string"?Z.createElement(P,{is:C.is}):Z.createElement(P)}}k[Je]=p,k[at]=C;e:for(Z=p.child;Z!==null;){if(Z.tag===5||Z.tag===6)k.appendChild(Z.stateNode);else if(Z.tag!==4&&Z.tag!==27&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===p)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===p)break e;Z=Z.return}Z.sibling.return=Z.return,Z=Z.sibling}p.stateNode=k;e:switch(Fi(k,P,C),P){case"button":case"input":case"select":case"textarea":C=!!C.autoFocus;break e;case"img":C=!0;break e;default:C=!1}C&&Fc(p)}}return Qn(p),PM(p,p.type,h===null?null:h.memoizedProps,p.pendingProps,_),null;case 6:if(h&&p.stateNode!=null)h.memoizedProps!==C&&Fc(p);else{if(typeof C!="string"&&p.stateNode===null)throw Error(n(166));if(h=we.current,Gl(p)){if(h=p.stateNode,_=p.memoizedProps,C=null,P=an,P!==null)switch(P.tag){case 27:case 5:C=P.memoizedProps}h[Je]=p,h=!!(h.nodeValue===_||C!==null&&C.suppressHydrationWarning===!0||Gz(h.nodeValue,_)),h||Pu(p,!0)}else h=pb(h).createTextNode(C),h[Je]=p,p.stateNode=h}return Qn(p),null;case 31:if(_=p.memoizedState,h===null||h.memoizedState!==null){if(C=Gl(p),_!==null){if(h===null){if(!C)throw Error(n(318));if(h=p.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(n(557));h[Je]=p}else Oc(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;Qn(p),h=!1}else _=oy(),h!==null&&h.memoizedState!==null&&(h.memoizedState.hydrationErrors=_),h=!0;if(!h)return p.flags&256?(xs(p),p):(xs(p),null);if((p.flags&128)!==0)throw Error(n(558))}return Qn(p),null;case 13:if(C=p.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(P=Gl(p),C!==null&&C.dehydrated!==null){if(h===null){if(!P)throw Error(n(318));if(P=p.memoizedState,P=P!==null?P.dehydrated:null,!P)throw Error(n(317));P[Je]=p}else Oc(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;Qn(p),P=!1}else P=oy(),h!==null&&h.memoizedState!==null&&(h.memoizedState.hydrationErrors=P),P=!0;if(!P)return p.flags&256?(xs(p),p):(xs(p),null)}return xs(p),(p.flags&128)!==0?(p.lanes=_,p):(_=C!==null,h=h!==null&&h.memoizedState!==null,_&&(C=p.child,P=null,C.alternate!==null&&C.alternate.memoizedState!==null&&C.alternate.memoizedState.cachePool!==null&&(P=C.alternate.memoizedState.cachePool.pool),k=null,C.memoizedState!==null&&C.memoizedState.cachePool!==null&&(k=C.memoizedState.cachePool.pool),k!==P&&(C.flags|=2048)),_!==h&&_&&(p.child.flags|=8192),eb(p,p.updateQueue),Qn(p),null);case 4:return ke(),h===null&&tA(p.stateNode.containerInfo),Qn(p),null;case 10:return jc(p.type),Qn(p),null;case 19:if(ne(Ma),C=p.memoizedState,C===null)return Qn(p),null;if(P=(p.flags&128)!==0,k=C.rendering,k===null)if(P)xy(C,!1);else{if(ga!==0||h!==null&&(h.flags&128)!==0)for(h=p.child;h!==null;){if(k=F_(h),k!==null){for(p.flags|=128,xy(C,!1),h=k.updateQueue,p.updateQueue=h,eb(p,h),p.subtreeFlags=0,h=_,_=p.child;_!==null;)ry(_,h),_=_.sibling;return ie(Ma,Ma.current&1|2),Nr&&It(p,C.treeForkCount),p.child}h=h.sibling}C.tail!==null&&Mt()>ib&&(p.flags|=128,P=!0,xy(C,!1),p.lanes=4194304)}else{if(!P)if(h=F_(k),h!==null){if(p.flags|=128,P=!0,h=h.updateQueue,p.updateQueue=h,eb(p,h),xy(C,!0),C.tail===null&&C.tailMode==="hidden"&&!k.alternate&&!Nr)return Qn(p),null}else 2*Mt()-C.renderingStartTime>ib&&_!==536870912&&(p.flags|=128,P=!0,xy(C,!1),p.lanes=4194304);C.isBackwards?(k.sibling=p.child,p.child=k):(h=C.last,h!==null?h.sibling=k:p.child=k,C.last=k)}return C.tail!==null?(h=C.tail,C.rendering=h,C.tail=h.sibling,C.renderingStartTime=Mt(),h.sibling=null,_=Ma.current,ie(Ma,P?_&1|2:_&1),Nr&&It(p,C.treeForkCount),h):(Qn(p),null);case 22:case 23:return xs(p),rM(),C=p.memoizedState!==null,h!==null?h.memoizedState!==null!==C&&(p.flags|=8192):C&&(p.flags|=8192),C?(_&536870912)!==0&&(p.flags&128)===0&&(Qn(p),p.subtreeFlags&6&&(p.flags|=8192)):Qn(p),_=p.updateQueue,_!==null&&eb(p,_.retryQueue),_=null,h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(_=h.memoizedState.cachePool.pool),C=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(C=p.memoizedState.cachePool.pool),C!==_&&(p.flags|=2048),h!==null&&ne(Ad),null;case 24:return _=null,h!==null&&(_=h.memoizedState.cache),p.memoizedState.cache!==_&&(p.flags|=2048),jc(Za),Qn(p),null;case 25:return null;case 30:return null}throw Error(n(156,p.tag))}function ore(h,p){switch(va(p),p.tag){case 1:return h=p.flags,h&65536?(p.flags=h&-65537|128,p):null;case 3:return jc(Za),ke(),h=p.flags,(h&65536)!==0&&(h&128)===0?(p.flags=h&-65537|128,p):null;case 26:case 27:case 5:return Ie(p),null;case 31:if(p.memoizedState!==null){if(xs(p),p.alternate===null)throw Error(n(340));Oc()}return h=p.flags,h&65536?(p.flags=h&-65537|128,p):null;case 13:if(xs(p),h=p.memoizedState,h!==null&&h.dehydrated!==null){if(p.alternate===null)throw Error(n(340));Oc()}return h=p.flags,h&65536?(p.flags=h&-65537|128,p):null;case 19:return ne(Ma),null;case 4:return ke(),null;case 10:return jc(p.type),null;case 22:case 23:return xs(p),rM(),h!==null&&ne(Ad),h=p.flags,h&65536?(p.flags=h&-65537|128,p):null;case 24:return jc(Za),null;case 25:return null;default:return null}}function qj(h,p){switch(va(p),p.tag){case 3:jc(Za),ke();break;case 26:case 27:case 5:Ie(p);break;case 4:ke();break;case 31:p.memoizedState!==null&&xs(p);break;case 13:xs(p);break;case 19:ne(Ma);break;case 10:jc(p.type);break;case 22:case 23:xs(p),rM(),h!==null&&ne(Ad);break;case 24:jc(Za)}}function _y(h,p){try{var _=p.updateQueue,C=_!==null?_.lastEffect:null;if(C!==null){var P=C.next;_=P;do{if((_.tag&h)===h){C=void 0;var k=_.create,Z=_.inst;C=k(),Z.destroy=C}_=_.next}while(_!==P)}}catch(ae){Dn(p,p.return,ae)}}function $f(h,p,_){try{var C=p.updateQueue,P=C!==null?C.lastEffect:null;if(P!==null){var k=P.next;C=k;do{if((C.tag&h)===h){var Z=C.inst,ae=Z.destroy;if(ae!==void 0){Z.destroy=void 0,P=p;var fe=_,Me=ae;try{Me()}catch(je){Dn(P,fe,je)}}}C=C.next}while(C!==k)}}catch(je){Dn(p,p.return,je)}}function $j(h){var p=h.updateQueue;if(p!==null){var _=h.stateNode;try{BO(p,_)}catch(C){Dn(h,h.return,C)}}}function Xj(h,p,_){_.props=Rd(h.type,h.memoizedProps),_.state=h.memoizedState;try{_.componentWillUnmount()}catch(C){Dn(h,p,C)}}function by(h,p){try{var _=h.ref;if(_!==null){switch(h.tag){case 26:case 27:case 5:var C=h.stateNode;break;case 30:C=h.stateNode;break;default:C=h.stateNode}typeof _=="function"?h.refCleanup=_(C):_.current=C}}catch(P){Dn(h,p,P)}}function Iu(h,p){var _=h.ref,C=h.refCleanup;if(_!==null)if(typeof C=="function")try{C()}catch(P){Dn(h,p,P)}finally{h.refCleanup=null,h=h.alternate,h!=null&&(h.refCleanup=null)}else if(typeof _=="function")try{_(null)}catch(P){Dn(h,p,P)}else _.current=null}function Kj(h){var p=h.type,_=h.memoizedProps,C=h.stateNode;try{e:switch(p){case"button":case"input":case"select":case"textarea":_.autoFocus&&C.focus();break e;case"img":_.src?C.src=_.src:_.srcSet&&(C.srcset=_.srcSet)}}catch(P){Dn(h,h.return,P)}}function kM(h,p,_){try{var C=h.stateNode;Dre(C,h.type,_,p),C[at]=p}catch(P){Dn(h,h.return,P)}}function Qj(h){return h.tag===5||h.tag===3||h.tag===26||h.tag===27&&rh(h.type)||h.tag===4}function IM(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||Qj(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.tag===27&&rh(h.type)||h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function OM(h,p,_){var C=h.tag;if(C===5||C===6)h=h.stateNode,p?(_.nodeType===9?_.body:_.nodeName==="HTML"?_.ownerDocument.body:_).insertBefore(h,p):(p=_.nodeType===9?_.body:_.nodeName==="HTML"?_.ownerDocument.body:_,p.appendChild(h),_=_._reactRootContainer,_!=null||p.onclick!==null||(p.onclick=Ga));else if(C!==4&&(C===27&&rh(h.type)&&(_=h.stateNode,p=null),h=h.child,h!==null))for(OM(h,p,_),h=h.sibling;h!==null;)OM(h,p,_),h=h.sibling}function tb(h,p,_){var C=h.tag;if(C===5||C===6)h=h.stateNode,p?_.insertBefore(h,p):_.appendChild(h);else if(C!==4&&(C===27&&rh(h.type)&&(_=h.stateNode),h=h.child,h!==null))for(tb(h,p,_),h=h.sibling;h!==null;)tb(h,p,_),h=h.sibling}function Jj(h){var p=h.stateNode,_=h.memoizedProps;try{for(var C=h.type,P=p.attributes;P.length;)p.removeAttributeNode(P[0]);Fi(p,C,_),p[Je]=h,p[at]=_}catch(k){Dn(h,h.return,k)}}var Hc=!1,Xa=!1,jM=!1,ez=typeof WeakSet=="function"?WeakSet:Set,Ti=null;function sre(h,p){if(h=h.containerInfo,aA=Sb,h=yn(h),Cn(h)){if("selectionStart"in h)var _={start:h.selectionStart,end:h.selectionEnd};else e:{_=(_=h.ownerDocument)&&_.defaultView||window;var C=_.getSelection&&_.getSelection();if(C&&C.rangeCount!==0){_=C.anchorNode;var P=C.anchorOffset,k=C.focusNode;C=C.focusOffset;try{_.nodeType,k.nodeType}catch{_=null;break e}var Z=0,ae=-1,fe=-1,Me=0,je=0,He=h,Le=null;t:for(;;){for(var Ne;He!==_||P!==0&&He.nodeType!==3||(ae=Z+P),He!==k||C!==0&&He.nodeType!==3||(fe=Z+C),He.nodeType===3&&(Z+=He.nodeValue.length),(Ne=He.firstChild)!==null;)Le=He,He=Ne;for(;;){if(He===h)break t;if(Le===_&&++Me===P&&(ae=Z),Le===k&&++je===C&&(fe=Z),(Ne=He.nextSibling)!==null)break;He=Le,Le=He.parentNode}He=Ne}_=ae===-1||fe===-1?null:{start:ae,end:fe}}else _=null}_=_||{start:0,end:0}}else _=null;for(iA={focusedElem:h,selectionRange:_},Sb=!1,Ti=p;Ti!==null;)if(p=Ti,h=p.child,(p.subtreeFlags&1028)!==0&&h!==null)h.return=p,Ti=h;else for(;Ti!==null;){switch(p=Ti,k=p.alternate,h=p.flags,p.tag){case 0:if((h&4)!==0&&(h=p.updateQueue,h=h!==null?h.events:null,h!==null))for(_=0;_<h.length;_++)P=h[_],P.ref.impl=P.nextImpl;break;case 11:case 15:break;case 1:if((h&1024)!==0&&k!==null){h=void 0,_=p,P=k.memoizedProps,k=k.memoizedState,C=_.stateNode;try{var Lt=Rd(_.type,P);h=C.getSnapshotBeforeUpdate(Lt,k),C.__reactInternalSnapshotBeforeUpdate=h}catch(qt){Dn(_,_.return,qt)}}break;case 3:if((h&1024)!==0){if(h=p.stateNode.containerInfo,_=h.nodeType,_===9)lA(h);else if(_===1)switch(h.nodeName){case"HEAD":case"HTML":case"BODY":lA(h);break;default:h.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((h&1024)!==0)throw Error(n(163))}if(h=p.sibling,h!==null){h.return=p.return,Ti=h;break}Ti=p.return}}function tz(h,p,_){var C=_.flags;switch(_.tag){case 0:case 11:case 15:Uc(h,_),C&4&&_y(5,_);break;case 1:if(Uc(h,_),C&4)if(h=_.stateNode,p===null)try{h.componentDidMount()}catch(Z){Dn(_,_.return,Z)}else{var P=Rd(_.type,p.memoizedProps);p=p.memoizedState;try{h.componentDidUpdate(P,p,h.__reactInternalSnapshotBeforeUpdate)}catch(Z){Dn(_,_.return,Z)}}C&64&&$j(_),C&512&&by(_,_.return);break;case 3:if(Uc(h,_),C&64&&(h=_.updateQueue,h!==null)){if(p=null,_.child!==null)switch(_.child.tag){case 27:case 5:p=_.child.stateNode;break;case 1:p=_.child.stateNode}try{BO(h,p)}catch(Z){Dn(_,_.return,Z)}}break;case 27:p===null&&C&4&&Jj(_);case 26:case 5:Uc(h,_),p===null&&C&4&&Kj(_),C&512&&by(_,_.return);break;case 12:Uc(h,_);break;case 31:Uc(h,_),C&4&&az(h,_);break;case 13:Uc(h,_),C&4&&iz(h,_),C&64&&(h=_.memoizedState,h!==null&&(h=h.dehydrated,h!==null&&(_=gre.bind(null,_),Ore(h,_))));break;case 22:if(C=_.memoizedState!==null||Hc,!C){p=p!==null&&p.memoizedState!==null||Xa,P=Hc;var k=Xa;Hc=C,(Xa=p)&&!k?Wc(h,_,(_.subtreeFlags&8772)!==0):Uc(h,_),Hc=P,Xa=k}break;case 30:break;default:Uc(h,_)}}function rz(h){var p=h.alternate;p!==null&&(h.alternate=null,rz(p)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(p=h.stateNode,p!==null&&fr(p)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}var ra=null,$o=!1;function Gc(h,p,_){for(_=_.child;_!==null;)nz(h,p,_),_=_.sibling}function nz(h,p,_){if(gr&&typeof gr.onCommitFiberUnmount=="function")try{gr.onCommitFiberUnmount(ia,_)}catch{}switch(_.tag){case 26:Xa||Iu(_,p),Gc(h,p,_),_.memoizedState?_.memoizedState.count--:_.stateNode&&(_=_.stateNode,_.parentNode.removeChild(_));break;case 27:Xa||Iu(_,p);var C=ra,P=$o;rh(_.type)&&(ra=_.stateNode,$o=!1),Gc(h,p,_),Ey(_.stateNode),ra=C,$o=P;break;case 5:Xa||Iu(_,p);case 6:if(C=ra,P=$o,ra=null,Gc(h,p,_),ra=C,$o=P,ra!==null)if($o)try{(ra.nodeType===9?ra.body:ra.nodeName==="HTML"?ra.ownerDocument.body:ra).removeChild(_.stateNode)}catch(k){Dn(_,p,k)}else try{ra.removeChild(_.stateNode)}catch(k){Dn(_,p,k)}break;case 18:ra!==null&&($o?(h=ra,$z(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,_.stateNode),Kp(h)):$z(ra,_.stateNode));break;case 4:C=ra,P=$o,ra=_.stateNode.containerInfo,$o=!0,Gc(h,p,_),ra=C,$o=P;break;case 0:case 11:case 14:case 15:$f(2,_,p),Xa||$f(4,_,p),Gc(h,p,_);break;case 1:Xa||(Iu(_,p),C=_.stateNode,typeof C.componentWillUnmount=="function"&&Xj(_,p,C)),Gc(h,p,_);break;case 21:Gc(h,p,_);break;case 22:Xa=(C=Xa)||_.memoizedState!==null,Gc(h,p,_),Xa=C;break;default:Gc(h,p,_)}}function az(h,p){if(p.memoizedState===null&&(h=p.alternate,h!==null&&(h=h.memoizedState,h!==null))){h=h.dehydrated;try{Kp(h)}catch(_){Dn(p,p.return,_)}}}function iz(h,p){if(p.memoizedState===null&&(h=p.alternate,h!==null&&(h=h.memoizedState,h!==null&&(h=h.dehydrated,h!==null))))try{Kp(h)}catch(_){Dn(p,p.return,_)}}function lre(h){switch(h.tag){case 31:case 13:case 19:var p=h.stateNode;return p===null&&(p=h.stateNode=new ez),p;case 22:return h=h.stateNode,p=h._retryCache,p===null&&(p=h._retryCache=new ez),p;default:throw Error(n(435,h.tag))}}function rb(h,p){var _=lre(h);p.forEach(function(C){if(!_.has(C)){_.add(C);var P=mre.bind(null,h,C);C.then(P,P)}})}function Xo(h,p){var _=p.deletions;if(_!==null)for(var C=0;C<_.length;C++){var P=_[C],k=h,Z=p,ae=Z;e:for(;ae!==null;){switch(ae.tag){case 27:if(rh(ae.type)){ra=ae.stateNode,$o=!1;break e}break;case 5:ra=ae.stateNode,$o=!1;break e;case 3:case 4:ra=ae.stateNode.containerInfo,$o=!0;break e}ae=ae.return}if(ra===null)throw Error(n(160));nz(k,Z,P),ra=null,$o=!1,k=P.alternate,k!==null&&(k.return=null),P.return=null}if(p.subtreeFlags&13886)for(p=p.child;p!==null;)oz(p,h),p=p.sibling}var Wl=null;function oz(h,p){var _=h.alternate,C=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:Xo(p,h),Ko(h),C&4&&($f(3,h,h.return),_y(3,h),$f(5,h,h.return));break;case 1:Xo(p,h),Ko(h),C&512&&(Xa||_===null||Iu(_,_.return)),C&64&&Hc&&(h=h.updateQueue,h!==null&&(C=h.callbacks,C!==null&&(_=h.shared.hiddenCallbacks,h.shared.hiddenCallbacks=_===null?C:_.concat(C))));break;case 26:var P=Wl;if(Xo(p,h),Ko(h),C&512&&(Xa||_===null||Iu(_,_.return)),C&4){var k=_!==null?_.memoizedState:null;if(C=h.memoizedState,_===null)if(C===null)if(h.stateNode===null){e:{C=h.type,_=h.memoizedProps,P=P.ownerDocument||P;t:switch(C){case"title":k=P.getElementsByTagName("title")[0],(!k||k[cr]||k[Je]||k.namespaceURI==="http://www.w3.org/2000/svg"||k.hasAttribute("itemprop"))&&(k=P.createElement(C),P.head.insertBefore(k,P.querySelector("head > title"))),Fi(k,C,_),k[Je]=h,Tn(k),C=k;break e;case"link":var Z=oB("link","href",P).get(C+(_.href||""));if(Z){for(var ae=0;ae<Z.length;ae++)if(k=Z[ae],k.getAttribute("href")===(_.href==null||_.href===""?null:_.href)&&k.getAttribute("rel")===(_.rel==null?null:_.rel)&&k.getAttribute("title")===(_.title==null?null:_.title)&&k.getAttribute("crossorigin")===(_.crossOrigin==null?null:_.crossOrigin)){Z.splice(ae,1);break t}}k=P.createElement(C),Fi(k,C,_),P.head.appendChild(k);break;case"meta":if(Z=oB("meta","content",P).get(C+(_.content||""))){for(ae=0;ae<Z.length;ae++)if(k=Z[ae],k.getAttribute("content")===(_.content==null?null:""+_.content)&&k.getAttribute("name")===(_.name==null?null:_.name)&&k.getAttribute("property")===(_.property==null?null:_.property)&&k.getAttribute("http-equiv")===(_.httpEquiv==null?null:_.httpEquiv)&&k.getAttribute("charset")===(_.charSet==null?null:_.charSet)){Z.splice(ae,1);break t}}k=P.createElement(C),Fi(k,C,_),P.head.appendChild(k);break;default:throw Error(n(468,C))}k[Je]=h,Tn(k),C=k}h.stateNode=C}else sB(P,h.type,h.stateNode);else h.stateNode=iB(P,C,h.memoizedProps);else k!==C?(k===null?_.stateNode!==null&&(_=_.stateNode,_.parentNode.removeChild(_)):k.count--,C===null?sB(P,h.type,h.stateNode):iB(P,C,h.memoizedProps)):C===null&&h.stateNode!==null&&kM(h,h.memoizedProps,_.memoizedProps)}break;case 27:Xo(p,h),Ko(h),C&512&&(Xa||_===null||Iu(_,_.return)),_!==null&&C&4&&kM(h,h.memoizedProps,_.memoizedProps);break;case 5:if(Xo(p,h),Ko(h),C&512&&(Xa||_===null||Iu(_,_.return)),h.flags&32){P=h.stateNode;try{Fo(P,"")}catch(Lt){Dn(h,h.return,Lt)}}C&4&&h.stateNode!=null&&(P=h.memoizedProps,kM(h,P,_!==null?_.memoizedProps:P)),C&1024&&(jM=!0);break;case 6:if(Xo(p,h),Ko(h),C&4){if(h.stateNode===null)throw Error(n(162));C=h.memoizedProps,_=h.stateNode;try{_.nodeValue=C}catch(Lt){Dn(h,h.return,Lt)}}break;case 3:if(yb=null,P=Wl,Wl=gb(p.containerInfo),Xo(p,h),Wl=P,Ko(h),C&4&&_!==null&&_.memoizedState.isDehydrated)try{Kp(p.containerInfo)}catch(Lt){Dn(h,h.return,Lt)}jM&&(jM=!1,sz(h));break;case 4:C=Wl,Wl=gb(h.stateNode.containerInfo),Xo(p,h),Ko(h),Wl=C;break;case 12:Xo(p,h),Ko(h);break;case 31:Xo(p,h),Ko(h),C&4&&(C=h.updateQueue,C!==null&&(h.updateQueue=null,rb(h,C)));break;case 13:Xo(p,h),Ko(h),h.child.flags&8192&&h.memoizedState!==null!=(_!==null&&_.memoizedState!==null)&&(ab=Mt()),C&4&&(C=h.updateQueue,C!==null&&(h.updateQueue=null,rb(h,C)));break;case 22:P=h.memoizedState!==null;var fe=_!==null&&_.memoizedState!==null,Me=Hc,je=Xa;if(Hc=Me||P,Xa=je||fe,Xo(p,h),Xa=je,Hc=Me,Ko(h),C&8192)e:for(p=h.stateNode,p._visibility=P?p._visibility&-2:p._visibility|1,P&&(_===null||fe||Hc||Xa||Pd(h)),_=null,p=h;;){if(p.tag===5||p.tag===26){if(_===null){fe=_=p;try{if(k=fe.stateNode,P)Z=k.style,typeof Z.setProperty=="function"?Z.setProperty("display","none","important"):Z.display="none";else{ae=fe.stateNode;var He=fe.memoizedProps.style,Le=He!=null&&He.hasOwnProperty("display")?He.display:null;ae.style.display=Le==null||typeof Le=="boolean"?"":(""+Le).trim()}}catch(Lt){Dn(fe,fe.return,Lt)}}}else if(p.tag===6){if(_===null){fe=p;try{fe.stateNode.nodeValue=P?"":fe.memoizedProps}catch(Lt){Dn(fe,fe.return,Lt)}}}else if(p.tag===18){if(_===null){fe=p;try{var Ne=fe.stateNode;P?Xz(Ne,!0):Xz(fe.stateNode,!1)}catch(Lt){Dn(fe,fe.return,Lt)}}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===h)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===h)break e;for(;p.sibling===null;){if(p.return===null||p.return===h)break e;_===p&&(_=null),p=p.return}_===p&&(_=null),p.sibling.return=p.return,p=p.sibling}C&4&&(C=h.updateQueue,C!==null&&(_=C.retryQueue,_!==null&&(C.retryQueue=null,rb(h,_))));break;case 19:Xo(p,h),Ko(h),C&4&&(C=h.updateQueue,C!==null&&(h.updateQueue=null,rb(h,C)));break;case 30:break;case 21:break;default:Xo(p,h),Ko(h)}}function Ko(h){var p=h.flags;if(p&2){try{for(var _,C=h.return;C!==null;){if(Qj(C)){_=C;break}C=C.return}if(_==null)throw Error(n(160));switch(_.tag){case 27:var P=_.stateNode,k=IM(h);tb(h,k,P);break;case 5:var Z=_.stateNode;_.flags&32&&(Fo(Z,""),_.flags&=-33);var ae=IM(h);tb(h,ae,Z);break;case 3:case 4:var fe=_.stateNode.containerInfo,Me=IM(h);OM(h,Me,fe);break;default:throw Error(n(161))}}catch(je){Dn(h,h.return,je)}h.flags&=-3}p&4096&&(h.flags&=-4097)}function sz(h){if(h.subtreeFlags&1024)for(h=h.child;h!==null;){var p=h;sz(p),p.tag===5&&p.flags&1024&&p.stateNode.reset(),h=h.sibling}}function Uc(h,p){if(p.subtreeFlags&8772)for(p=p.child;p!==null;)tz(h,p.alternate,p),p=p.sibling}function Pd(h){for(h=h.child;h!==null;){var p=h;switch(p.tag){case 0:case 11:case 14:case 15:$f(4,p,p.return),Pd(p);break;case 1:Iu(p,p.return);var _=p.stateNode;typeof _.componentWillUnmount=="function"&&Xj(p,p.return,_),Pd(p);break;case 27:Ey(p.stateNode);case 26:case 5:Iu(p,p.return),Pd(p);break;case 22:p.memoizedState===null&&Pd(p);break;case 30:Pd(p);break;default:Pd(p)}h=h.sibling}}function Wc(h,p,_){for(_=_&&(p.subtreeFlags&8772)!==0,p=p.child;p!==null;){var C=p.alternate,P=h,k=p,Z=k.flags;switch(k.tag){case 0:case 11:case 15:Wc(P,k,_),_y(4,k);break;case 1:if(Wc(P,k,_),C=k,P=C.stateNode,typeof P.componentDidMount=="function")try{P.componentDidMount()}catch(Me){Dn(C,C.return,Me)}if(C=k,P=C.updateQueue,P!==null){var ae=C.stateNode;try{var fe=P.shared.hiddenCallbacks;if(fe!==null)for(P.shared.hiddenCallbacks=null,P=0;P<fe.length;P++)zO(fe[P],ae)}catch(Me){Dn(C,C.return,Me)}}_&&Z&64&&$j(k),by(k,k.return);break;case 27:Jj(k);case 26:case 5:Wc(P,k,_),_&&C===null&&Z&4&&Kj(k),by(k,k.return);break;case 12:Wc(P,k,_);break;case 31:Wc(P,k,_),_&&Z&4&&az(P,k);break;case 13:Wc(P,k,_),_&&Z&4&&iz(P,k);break;case 22:k.memoizedState===null&&Wc(P,k,_),by(k,k.return);break;case 30:break;default:Wc(P,k,_)}p=p.sibling}}function zM(h,p){var _=null;h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(_=h.memoizedState.cachePool.pool),h=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(h=p.memoizedState.cachePool.pool),h!==_&&(h!=null&&h.refCount++,_!=null&&sy(_))}function BM(h,p){h=null,p.alternate!==null&&(h=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==h&&(p.refCount++,h!=null&&sy(h))}function Yl(h,p,_,C){if(p.subtreeFlags&10256)for(p=p.child;p!==null;)lz(h,p,_,C),p=p.sibling}function lz(h,p,_,C){var P=p.flags;switch(p.tag){case 0:case 11:case 15:Yl(h,p,_,C),P&2048&&_y(9,p);break;case 1:Yl(h,p,_,C);break;case 3:Yl(h,p,_,C),P&2048&&(h=null,p.alternate!==null&&(h=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==h&&(p.refCount++,h!=null&&sy(h)));break;case 12:if(P&2048){Yl(h,p,_,C),h=p.stateNode;try{var k=p.memoizedProps,Z=k.id,ae=k.onPostCommit;typeof ae=="function"&&ae(Z,p.alternate===null?"mount":"update",h.passiveEffectDuration,-0)}catch(fe){Dn(p,p.return,fe)}}else Yl(h,p,_,C);break;case 31:Yl(h,p,_,C);break;case 13:Yl(h,p,_,C);break;case 23:break;case 22:k=p.stateNode,Z=p.alternate,p.memoizedState!==null?k._visibility&2?Yl(h,p,_,C):Sy(h,p):k._visibility&2?Yl(h,p,_,C):(k._visibility|=2,Vp(h,p,_,C,(p.subtreeFlags&10256)!==0||!1)),P&2048&&zM(Z,p);break;case 24:Yl(h,p,_,C),P&2048&&BM(p.alternate,p);break;default:Yl(h,p,_,C)}}function Vp(h,p,_,C,P){for(P=P&&((p.subtreeFlags&10256)!==0||!1),p=p.child;p!==null;){var k=h,Z=p,ae=_,fe=C,Me=Z.flags;switch(Z.tag){case 0:case 11:case 15:Vp(k,Z,ae,fe,P),_y(8,Z);break;case 23:break;case 22:var je=Z.stateNode;Z.memoizedState!==null?je._visibility&2?Vp(k,Z,ae,fe,P):Sy(k,Z):(je._visibility|=2,Vp(k,Z,ae,fe,P)),P&&Me&2048&&zM(Z.alternate,Z);break;case 24:Vp(k,Z,ae,fe,P),P&&Me&2048&&BM(Z.alternate,Z);break;default:Vp(k,Z,ae,fe,P)}p=p.sibling}}function Sy(h,p){if(p.subtreeFlags&10256)for(p=p.child;p!==null;){var _=h,C=p,P=C.flags;switch(C.tag){case 22:Sy(_,C),P&2048&&zM(C.alternate,C);break;case 24:Sy(_,C),P&2048&&BM(C.alternate,C);break;default:Sy(_,C)}p=p.sibling}}var wy=8192;function Fp(h,p,_){if(h.subtreeFlags&wy)for(h=h.child;h!==null;)uz(h,p,_),h=h.sibling}function uz(h,p,_){switch(h.tag){case 26:Fp(h,p,_),h.flags&wy&&h.memoizedState!==null&&qre(_,Wl,h.memoizedState,h.memoizedProps);break;case 5:Fp(h,p,_);break;case 3:case 4:var C=Wl;Wl=gb(h.stateNode.containerInfo),Fp(h,p,_),Wl=C;break;case 22:h.memoizedState===null&&(C=h.alternate,C!==null&&C.memoizedState!==null?(C=wy,wy=16777216,Fp(h,p,_),wy=C):Fp(h,p,_));break;default:Fp(h,p,_)}}function cz(h){var p=h.alternate;if(p!==null&&(h=p.child,h!==null)){p.child=null;do p=h.sibling,h.sibling=null,h=p;while(h!==null)}}function Ty(h){var p=h.deletions;if((h.flags&16)!==0){if(p!==null)for(var _=0;_<p.length;_++){var C=p[_];Ti=C,hz(C,h)}cz(h)}if(h.subtreeFlags&10256)for(h=h.child;h!==null;)fz(h),h=h.sibling}function fz(h){switch(h.tag){case 0:case 11:case 15:Ty(h),h.flags&2048&&$f(9,h,h.return);break;case 3:Ty(h);break;case 12:Ty(h);break;case 22:var p=h.stateNode;h.memoizedState!==null&&p._visibility&2&&(h.return===null||h.return.tag!==13)?(p._visibility&=-3,nb(h)):Ty(h);break;default:Ty(h)}}function nb(h){var p=h.deletions;if((h.flags&16)!==0){if(p!==null)for(var _=0;_<p.length;_++){var C=p[_];Ti=C,hz(C,h)}cz(h)}for(h=h.child;h!==null;){switch(p=h,p.tag){case 0:case 11:case 15:$f(8,p,p.return),nb(p);break;case 22:_=p.stateNode,_._visibility&2&&(_._visibility&=-3,nb(p));break;default:nb(p)}h=h.sibling}}function hz(h,p){for(;Ti!==null;){var _=Ti;switch(_.tag){case 0:case 11:case 15:$f(8,_,p);break;case 23:case 22:if(_.memoizedState!==null&&_.memoizedState.cachePool!==null){var C=_.memoizedState.cachePool.pool;C!=null&&C.refCount++}break;case 24:sy(_.memoizedState.cache)}if(C=_.child,C!==null)C.return=_,Ti=C;else e:for(_=h;Ti!==null;){C=Ti;var P=C.sibling,k=C.return;if(rz(C),C===_){Ti=null;break e}if(P!==null){P.return=k,Ti=P;break e}Ti=k}}}var ure={getCacheForType:function(h){var p=Bi(Za),_=p.data.get(h);return _===void 0&&(_=h(),p.data.set(h,_)),_},cacheSignal:function(){return Bi(Za).controller.signal}},cre=typeof WeakMap=="function"?WeakMap:Map,dn=0,Hn=null,Rr=null,jr=0,An=0,_s=null,Xf=!1,Hp=!1,VM=!1,Yc=0,ga=0,Kf=0,kd=0,FM=0,bs=0,Gp=0,Cy=null,Qo=null,HM=!1,ab=0,dz=0,ib=1/0,ob=null,Qf=null,ci=0,Jf=null,Up=null,Zc=0,GM=0,UM=null,vz=null,My=0,WM=null;function Ss(){return(dn&2)!==0&&jr!==0?jr&-jr:H.T!==null?KM():qe()}function pz(){if(bs===0)if((jr&536870912)===0||Nr){var h=oa;oa<<=1,(oa&3932160)===0&&(oa=262144),bs=h}else bs=536870912;return h=ys.current,h!==null&&(h.flags|=32),bs}function Jo(h,p,_){(h===Hn&&(An===2||An===9)||h.cancelPendingCommit!==null)&&(Wp(h,0),eh(h,jr,bs,!1)),Ba(h,_),((dn&2)===0||h!==Hn)&&(h===Hn&&((dn&2)===0&&(kd|=_),ga===4&&eh(h,jr,bs,!1)),Ou(h))}function gz(h,p,_){if((dn&6)!==0)throw Error(n(327));var C=!_&&(p&127)===0&&(p&h.expiredLanes)===0||Pl(h,p),P=C?dre(h,p):ZM(h,p,!0),k=C;do{if(P===0){Hp&&!C&&eh(h,p,0,!1);break}else{if(_=h.current.alternate,k&&!fre(_)){P=ZM(h,p,!1),k=!1;continue}if(P===2){if(k=p,h.errorRecoveryDisabledLanes&k)var Z=0;else Z=h.pendingLanes&-536870913,Z=Z!==0?Z:Z&536870912?536870912:0;if(Z!==0){p=Z;e:{var ae=h;P=Cy;var fe=ae.current.memoizedState.isDehydrated;if(fe&&(Wp(ae,Z).flags|=256),Z=ZM(ae,Z,!1),Z!==2){if(VM&&!fe){ae.errorRecoveryDisabledLanes|=k,kd|=k,P=4;break e}k=Qo,Qo=P,k!==null&&(Qo===null?Qo=k:Qo.push.apply(Qo,k))}P=Z}if(k=!1,P!==2)continue}}if(P===1){Wp(h,0),eh(h,p,0,!0);break}e:{switch(C=h,k=P,k){case 0:case 1:throw Error(n(345));case 4:if((p&4194048)!==p)break;case 6:eh(C,p,bs,!Xf);break e;case 2:Qo=null;break;case 3:case 5:break;default:throw Error(n(329))}if((p&62914560)===p&&(P=ab+300-Mt(),10<P)){if(eh(C,p,bs,!Xf),Rl(C,0,!0)!==0)break e;Zc=p,C.timeoutHandle=Zz(mz.bind(null,C,_,Qo,ob,HM,p,bs,kd,Gp,Xf,k,"Throttled",-0,0),P);break e}mz(C,_,Qo,ob,HM,p,bs,kd,Gp,Xf,k,null,-0,0)}}break}while(!0);Ou(h)}function mz(h,p,_,C,P,k,Z,ae,fe,Me,je,He,Le,Ne){if(h.timeoutHandle=-1,He=p.subtreeFlags,He&8192||(He&16785408)===16785408){He={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ga},uz(p,k,He);var Lt=(k&62914560)===k?ab-Mt():(k&4194048)===k?dz-Mt():0;if(Lt=$re(He,Lt),Lt!==null){Zc=k,h.cancelPendingCommit=Lt(Cz.bind(null,h,p,k,_,C,P,Z,ae,fe,je,He,null,Le,Ne)),eh(h,k,Z,!Me);return}}Cz(h,p,k,_,C,P,Z,ae,fe)}function fre(h){for(var p=h;;){var _=p.tag;if((_===0||_===11||_===15)&&p.flags&16384&&(_=p.updateQueue,_!==null&&(_=_.stores,_!==null)))for(var C=0;C<_.length;C++){var P=_[C],k=P.getSnapshot;P=P.value;try{if(!Zt(k(),P))return!1}catch{return!1}}if(_=p.child,p.subtreeFlags&16384&&_!==null)_.return=p,p=_;else{if(p===h)break;for(;p.sibling===null;){if(p.return===null||p.return===h)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function eh(h,p,_,C){p&=~FM,p&=~kd,h.suspendedLanes|=p,h.pingedLanes&=~p,C&&(h.warmLanes|=p),C=h.expirationTimes;for(var P=p;0<P;){var k=31-ca(P),Z=1<<k;C[k]=-1,P&=~Z}_!==0&&Pi(h,_,p)}function sb(){return(dn&6)===0?(Ay(0),!1):!0}function YM(){if(Rr!==null){if(An===0)var h=Rr.return;else h=Rr,Ul=ku=null,lM(h),Ip=null,uy=0,h=Rr;for(;h!==null;)qj(h.alternate,h),h=h.return;Rr=null}}function Wp(h,p){var _=h.timeoutHandle;_!==-1&&(h.timeoutHandle=-1,Nre(_)),_=h.cancelPendingCommit,_!==null&&(h.cancelPendingCommit=null,_()),Zc=0,YM(),Hn=h,Rr=_=Ks(h.current,null),jr=p,An=0,_s=null,Xf=!1,Hp=Pl(h,p),VM=!1,Gp=bs=FM=kd=Kf=ga=0,Qo=Cy=null,HM=!1,(p&8)!==0&&(p|=p&32);var C=h.entangledLanes;if(C!==0)for(h=h.entanglements,C&=p;0<C;){var P=31-ca(C),k=1<<P;p|=h[P],C&=~k}return Yc=p,bd(),_}function yz(h,p){yr=null,H.H=my,p===kp||p===O_?(p=kO(),An=3):p===XC?(p=kO(),An=4):An=p===TM?8:p!==null&&typeof p=="object"&&typeof p.then=="function"?6:1,_s=p,Rr===null&&(ga=1,X_(h,T(p,h.current)))}function xz(){var h=ys.current;return h===null?!0:(jr&4194048)===jr?Qs===null:(jr&62914560)===jr||(jr&536870912)!==0?h===Qs:!1}function _z(){var h=H.H;return H.H=my,h===null?my:h}function bz(){var h=H.A;return H.A=ure,h}function lb(){ga=4,Xf||(jr&4194048)!==jr&&ys.current!==null||(Hp=!0),(Kf&134217727)===0&&(kd&134217727)===0||Hn===null||eh(Hn,jr,bs,!1)}function ZM(h,p,_){var C=dn;dn|=2;var P=_z(),k=bz();(Hn!==h||jr!==p)&&(ob=null,Wp(h,p)),p=!1;var Z=ga;e:do try{if(An!==0&&Rr!==null){var ae=Rr,fe=_s;switch(An){case 8:YM(),Z=6;break e;case 3:case 2:case 9:case 6:ys.current===null&&(p=!0);var Me=An;if(An=0,_s=null,Yp(h,ae,fe,Me),_&&Hp){Z=0;break e}break;default:Me=An,An=0,_s=null,Yp(h,ae,fe,Me)}}hre(),Z=ga;break}catch(je){yz(h,je)}while(!0);return p&&h.shellSuspendCounter++,Ul=ku=null,dn=C,H.H=P,H.A=k,Rr===null&&(Hn=null,jr=0,bd()),Z}function hre(){for(;Rr!==null;)Sz(Rr)}function dre(h,p){var _=dn;dn|=2;var C=_z(),P=bz();Hn!==h||jr!==p?(ob=null,ib=Mt()+500,Wp(h,p)):Hp=Pl(h,p);e:do try{if(An!==0&&Rr!==null){p=Rr;var k=_s;t:switch(An){case 1:An=0,_s=null,Yp(h,p,k,1);break;case 2:case 9:if(RO(k)){An=0,_s=null,wz(p);break}p=function(){An!==2&&An!==9||Hn!==h||(An=7),Ou(h)},k.then(p,p);break e;case 3:An=7;break e;case 4:An=5;break e;case 7:RO(k)?(An=0,_s=null,wz(p)):(An=0,_s=null,Yp(h,p,k,7));break;case 5:var Z=null;switch(Rr.tag){case 26:Z=Rr.memoizedState;case 5:case 27:var ae=Rr;if(Z?lB(Z):ae.stateNode.complete){An=0,_s=null;var fe=ae.sibling;if(fe!==null)Rr=fe;else{var Me=ae.return;Me!==null?(Rr=Me,ub(Me)):Rr=null}break t}}An=0,_s=null,Yp(h,p,k,5);break;case 6:An=0,_s=null,Yp(h,p,k,6);break;case 8:YM(),ga=6;break e;default:throw Error(n(462))}}vre();break}catch(je){yz(h,je)}while(!0);return Ul=ku=null,H.H=C,H.A=P,dn=_,Rr!==null?0:(Hn=null,jr=0,bd(),ga)}function vre(){for(;Rr!==null&&!za();)Sz(Rr)}function Sz(h){var p=Yj(h.alternate,h,Yc);h.memoizedProps=h.pendingProps,p===null?ub(h):Rr=p}function wz(h){var p=h,_=p.alternate;switch(p.tag){case 15:case 0:p=Vj(_,p,p.pendingProps,p.type,void 0,jr);break;case 11:p=Vj(_,p,p.pendingProps,p.type.render,p.ref,jr);break;case 5:lM(p);default:qj(_,p),p=Rr=ry(p,Yc),p=Yj(_,p,Yc)}h.memoizedProps=h.pendingProps,p===null?ub(h):Rr=p}function Yp(h,p,_,C){Ul=ku=null,lM(p),Ip=null,uy=0;var P=p.return;try{if(rre(h,P,p,_,jr)){ga=1,X_(h,T(_,h.current)),Rr=null;return}}catch(k){if(P!==null)throw Rr=P,k;ga=1,X_(h,T(_,h.current)),Rr=null;return}p.flags&32768?(Nr||C===1?h=!0:Hp||(jr&536870912)!==0?h=!1:(Xf=h=!0,(C===2||C===9||C===3||C===6)&&(C=ys.current,C!==null&&C.tag===13&&(C.flags|=16384))),Tz(p,h)):ub(p)}function ub(h){var p=h;do{if((p.flags&32768)!==0){Tz(p,Xf);return}h=p.return;var _=ire(p.alternate,p,Yc);if(_!==null){Rr=_;return}if(p=p.sibling,p!==null){Rr=p;return}Rr=p=h}while(p!==null);ga===0&&(ga=5)}function Tz(h,p){do{var _=ore(h.alternate,h);if(_!==null){_.flags&=32767,Rr=_;return}if(_=h.return,_!==null&&(_.flags|=32768,_.subtreeFlags=0,_.deletions=null),!p&&(h=h.sibling,h!==null)){Rr=h;return}Rr=h=_}while(h!==null);ga=6,Rr=null}function Cz(h,p,_,C,P,k,Z,ae,fe){h.cancelPendingCommit=null;do cb();while(ci!==0);if((dn&6)!==0)throw Error(n(327));if(p!==null){if(p===h.current)throw Error(n(177));if(k=p.lanes|p.childLanes,k|=Ap,fa(h,_,k,Z,ae,fe),h===Hn&&(Rr=Hn=null,jr=0),Up=p,Jf=h,Zc=_,GM=k,UM=P,vz=C,(p.subtreeFlags&10256)!==0||(p.flags&10256)!==0?(h.callbackNode=null,h.callbackPriority=0,yre(ea,function(){return Ez(),null})):(h.callbackNode=null,h.callbackPriority=0),C=(p.flags&13878)!==0,(p.subtreeFlags&13878)!==0||C){C=H.T,H.T=null,P=X.p,X.p=2,Z=dn,dn|=4;try{sre(h,p,_)}finally{dn=Z,X.p=P,H.T=C}}ci=1,Mz(),Az(),Dz()}}function Mz(){if(ci===1){ci=0;var h=Jf,p=Up,_=(p.flags&13878)!==0;if((p.subtreeFlags&13878)!==0||_){_=H.T,H.T=null;var C=X.p;X.p=2;var P=dn;dn|=4;try{oz(p,h);var k=iA,Z=yn(h.containerInfo),ae=k.focusedElem,fe=k.selectionRange;if(Z!==ae&&ae&&ae.ownerDocument&&nn(ae.ownerDocument.documentElement,ae)){if(fe!==null&&Cn(ae)){var Me=fe.start,je=fe.end;if(je===void 0&&(je=Me),"selectionStart"in ae)ae.selectionStart=Me,ae.selectionEnd=Math.min(je,ae.value.length);else{var He=ae.ownerDocument||document,Le=He&&He.defaultView||window;if(Le.getSelection){var Ne=Le.getSelection(),Lt=ae.textContent.length,qt=Math.min(fe.start,Lt),On=fe.end===void 0?qt:Math.min(fe.end,Lt);!Ne.extend&&qt>On&&(Z=On,On=qt,qt=Z);var xe=Dt(ae,qt),de=Dt(ae,On);if(xe&&de&&(Ne.rangeCount!==1||Ne.anchorNode!==xe.node||Ne.anchorOffset!==xe.offset||Ne.focusNode!==de.node||Ne.focusOffset!==de.offset)){var Ce=He.createRange();Ce.setStart(xe.node,xe.offset),Ne.removeAllRanges(),qt>On?(Ne.addRange(Ce),Ne.extend(de.node,de.offset)):(Ce.setEnd(de.node,de.offset),Ne.addRange(Ce))}}}}for(He=[],Ne=ae;Ne=Ne.parentNode;)Ne.nodeType===1&&He.push({element:Ne,left:Ne.scrollLeft,top:Ne.scrollTop});for(typeof ae.focus=="function"&&ae.focus(),ae=0;ae<He.length;ae++){var Ve=He[ae];Ve.element.scrollLeft=Ve.left,Ve.element.scrollTop=Ve.top}}Sb=!!aA,iA=aA=null}finally{dn=P,X.p=C,H.T=_}}h.current=p,ci=2}}function Az(){if(ci===2){ci=0;var h=Jf,p=Up,_=(p.flags&8772)!==0;if((p.subtreeFlags&8772)!==0||_){_=H.T,H.T=null;var C=X.p;X.p=2;var P=dn;dn|=4;try{tz(h,p.alternate,p)}finally{dn=P,X.p=C,H.T=_}}ci=3}}function Dz(){if(ci===4||ci===3){ci=0,ko();var h=Jf,p=Up,_=Zc,C=vz;(p.subtreeFlags&10256)!==0||(p.flags&10256)!==0?ci=5:(ci=0,Up=Jf=null,Lz(h,h.pendingLanes));var P=h.pendingLanes;if(P===0&&(Qf=null),Te(_),p=p.stateNode,gr&&typeof gr.onCommitFiberRoot=="function")try{gr.onCommitFiberRoot(ia,p,void 0,(p.current.flags&128)===128)}catch{}if(C!==null){p=H.T,P=X.p,X.p=2,H.T=null;try{for(var k=h.onRecoverableError,Z=0;Z<C.length;Z++){var ae=C[Z];k(ae.value,{componentStack:ae.stack})}}finally{H.T=p,X.p=P}}(Zc&3)!==0&&cb(),Ou(h),P=h.pendingLanes,(_&261930)!==0&&(P&42)!==0?h===WM?My++:(My=0,WM=h):My=0,Ay(0)}}function Lz(h,p){(h.pooledCacheLanes&=p)===0&&(p=h.pooledCache,p!=null&&(h.pooledCache=null,sy(p)))}function cb(){return Mz(),Az(),Dz(),Ez()}function Ez(){if(ci!==5)return!1;var h=Jf,p=GM;GM=0;var _=Te(Zc),C=H.T,P=X.p;try{X.p=32>_?32:_,H.T=null,_=UM,UM=null;var k=Jf,Z=Zc;if(ci=0,Up=Jf=null,Zc=0,(dn&6)!==0)throw Error(n(331));var ae=dn;if(dn|=4,fz(k.current),lz(k,k.current,Z,_),dn=ae,Ay(0,!1),gr&&typeof gr.onPostCommitFiberRoot=="function")try{gr.onPostCommitFiberRoot(ia,k)}catch{}return!0}finally{X.p=P,H.T=C,Lz(h,p)}}function Nz(h,p,_){p=T(_,p),p=wM(h.stateNode,p,2),h=Yf(h,p,2),h!==null&&(Ba(h,2),Ou(h))}function Dn(h,p,_){if(h.tag===3)Nz(h,h,_);else for(;p!==null;){if(p.tag===3){Nz(p,h,_);break}else if(p.tag===1){var C=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof C.componentDidCatch=="function"&&(Qf===null||!Qf.has(C))){h=T(_,h),_=Rj(2),C=Yf(p,_,2),C!==null&&(Pj(_,C,p,h),Ba(C,2),Ou(C));break}}p=p.return}}function qM(h,p,_){var C=h.pingCache;if(C===null){C=h.pingCache=new cre;var P=new Set;C.set(p,P)}else P=C.get(p),P===void 0&&(P=new Set,C.set(p,P));P.has(_)||(VM=!0,P.add(_),h=pre.bind(null,h,p,_),p.then(h,h))}function pre(h,p,_){var C=h.pingCache;C!==null&&C.delete(p),h.pingedLanes|=h.suspendedLanes&_,h.warmLanes&=~_,Hn===h&&(jr&_)===_&&(ga===4||ga===3&&(jr&62914560)===jr&&300>Mt()-ab?(dn&2)===0&&Wp(h,0):FM|=_,Gp===jr&&(Gp=0)),Ou(h)}function Rz(h,p){p===0&&(p=kl()),h=Xs(h,p),h!==null&&(Ba(h,p),Ou(h))}function gre(h){var p=h.memoizedState,_=0;p!==null&&(_=p.retryLane),Rz(h,_)}function mre(h,p){var _=0;switch(h.tag){case 31:case 13:var C=h.stateNode,P=h.memoizedState;P!==null&&(_=P.retryLane);break;case 19:C=h.stateNode;break;case 22:C=h.stateNode._retryCache;break;default:throw Error(n(314))}C!==null&&C.delete(p),Rz(h,_)}function yre(h,p){return tn(h,p)}var fb=null,Zp=null,$M=!1,hb=!1,XM=!1,th=0;function Ou(h){h!==Zp&&h.next===null&&(Zp===null?fb=Zp=h:Zp=Zp.next=h),hb=!0,$M||($M=!0,_re())}function Ay(h,p){if(!XM&&hb){XM=!0;do for(var _=!1,C=fb;C!==null;){if(h!==0){var P=C.pendingLanes;if(P===0)var k=0;else{var Z=C.suspendedLanes,ae=C.pingedLanes;k=(1<<31-ca(42|h)+1)-1,k&=P&~(Z&~ae),k=k&201326741?k&201326741|1:k?k|2:0}k!==0&&(_=!0,Oz(C,k))}else k=jr,k=Rl(C,C===Hn?k:0,C.cancelPendingCommit!==null||C.timeoutHandle!==-1),(k&3)===0||Pl(C,k)||(_=!0,Oz(C,k));C=C.next}while(_);XM=!1}}function xre(){Pz()}function Pz(){hb=$M=!1;var h=0;th!==0&&Ere()&&(h=th);for(var p=Mt(),_=null,C=fb;C!==null;){var P=C.next,k=kz(C,p);k===0?(C.next=null,_===null?fb=P:_.next=P,P===null&&(Zp=_)):(_=C,(h!==0||(k&3)!==0)&&(hb=!0)),C=P}ci!==0&&ci!==5||Ay(h),th!==0&&(th=0)}function kz(h,p){for(var _=h.suspendedLanes,C=h.pingedLanes,P=h.expirationTimes,k=h.pendingLanes&-62914561;0<k;){var Z=31-ca(k),ae=1<<Z,fe=P[Z];fe===-1?((ae&_)===0||(ae&C)!==0)&&(P[Z]=Pf(ae,p)):fe<=p&&(h.expiredLanes|=ae),k&=~ae}if(p=Hn,_=jr,_=Rl(h,h===p?_:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),C=h.callbackNode,_===0||h===p&&(An===2||An===9)||h.cancelPendingCommit!==null)return C!==null&&C!==null&&aa(C),h.callbackNode=null,h.callbackPriority=0;if((_&3)===0||Pl(h,_)){if(p=_&-_,p===h.callbackPriority)return p;switch(C!==null&&aa(C),Te(_)){case 2:case 8:_=wn;break;case 32:_=ea;break;case 268435456:_=ai;break;default:_=ea}return C=Iz.bind(null,h),_=tn(_,C),h.callbackPriority=p,h.callbackNode=_,p}return C!==null&&C!==null&&aa(C),h.callbackPriority=2,h.callbackNode=null,2}function Iz(h,p){if(ci!==0&&ci!==5)return h.callbackNode=null,h.callbackPriority=0,null;var _=h.callbackNode;if(cb()&&h.callbackNode!==_)return null;var C=jr;return C=Rl(h,h===Hn?C:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),C===0?null:(gz(h,C,p),kz(h,Mt()),h.callbackNode!=null&&h.callbackNode===_?Iz.bind(null,h):null)}function Oz(h,p){if(cb())return null;gz(h,p,!0)}function _re(){Rre(function(){(dn&6)!==0?tn(Or,xre):Pz()})}function KM(){if(th===0){var h=Rp;h===0&&(h=Ri,Ri<<=1,(Ri&261888)===0&&(Ri=256)),th=h}return th}function jz(h){return h==null||typeof h=="symbol"||typeof h=="boolean"?null:typeof h=="function"?h:Zs(""+h)}function zz(h,p){var _=p.ownerDocument.createElement("input");return _.name=p.name,_.value=p.value,h.id&&_.setAttribute("form",h.id),p.parentNode.insertBefore(_,p),h=new FormData(h),_.parentNode.removeChild(_),h}function bre(h,p,_,C,P){if(p==="submit"&&_&&_.stateNode===P){var k=jz((P[at]||null).action),Z=C.submitter;Z&&(p=(p=Z[at]||null)?jz(p.formAction):Z.getAttribute("formAction"),p!==null&&(k=p,Z=null));var ae=new Kn("action","action",null,C,P);h.push({event:ae,listeners:[{instance:null,listener:function(){if(C.defaultPrevented){if(th!==0){var fe=Z?zz(P,Z):new FormData(P);mM(_,{pending:!0,data:fe,method:P.method,action:k},null,fe)}}else typeof k=="function"&&(ae.preventDefault(),fe=Z?zz(P,Z):new FormData(P),mM(_,{pending:!0,data:fe,method:P.method,action:k},k,fe))},currentTarget:P}]})}}for(var QM=0;QM<Eu.length;QM++){var JM=Eu[QM],Sre=JM.toLowerCase(),wre=JM[0].toUpperCase()+JM.slice(1);Yo(Sre,"on"+wre)}Yo(la,"onAnimationEnd"),Yo(wi,"onAnimationIteration"),Yo(yo,"onAnimationStart"),Yo("dblclick","onDoubleClick"),Yo("focusin","onFocus"),Yo("focusout","onBlur"),Yo(li,"onTransitionRun"),Yo(xd,"onTransitionStart"),Yo(GC,"onTransitionCancel"),Yo(Ff,"onTransitionEnd"),Ha("onMouseEnter",["mouseout","mouseover"]),Ha("onMouseLeave",["mouseout","mouseover"]),Ha("onPointerEnter",["pointerout","pointerover"]),Ha("onPointerLeave",["pointerout","pointerover"]),Fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dy="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tre=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dy));function Bz(h,p){p=(p&4)!==0;for(var _=0;_<h.length;_++){var C=h[_],P=C.event;C=C.listeners;e:{var k=void 0;if(p)for(var Z=C.length-1;0<=Z;Z--){var ae=C[Z],fe=ae.instance,Me=ae.currentTarget;if(ae=ae.listener,fe!==k&&P.isPropagationStopped())break e;k=ae,P.currentTarget=Me;try{k(P)}catch(je){_d(je)}P.currentTarget=null,k=fe}else for(Z=0;Z<C.length;Z++){if(ae=C[Z],fe=ae.instance,Me=ae.currentTarget,ae=ae.listener,fe!==k&&P.isPropagationStopped())break e;k=ae,P.currentTarget=Me;try{k(P)}catch(je){_d(je)}P.currentTarget=null,k=fe}}}}function Pr(h,p){var _=p[Pt];_===void 0&&(_=p[Pt]=new Set);var C=h+"__bubble";_.has(C)||(Vz(p,h,2,!1),_.add(C))}function eA(h,p,_){var C=0;p&&(C|=4),Vz(_,h,C,p)}var db="_reactListening"+Math.random().toString(36).slice(2);function tA(h){if(!h[db]){h[db]=!0,ki.forEach(function(_){_!=="selectionchange"&&(Tre.has(_)||eA(_,!1,h),eA(_,!0,h))});var p=h.nodeType===9?h:h.ownerDocument;p===null||p[db]||(p[db]=!0,eA("selectionchange",!1,p))}}function Vz(h,p,_,C){switch(pB(p)){case 2:var P=Qre;break;case 8:P=Jre;break;default:P=gA}_=P.bind(null,p,_,h),P=void 0,!Tu||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(P=!0),C?P!==void 0?h.addEventListener(p,_,{capture:!0,passive:P}):h.addEventListener(p,_,!0):P!==void 0?h.addEventListener(p,_,{passive:P}):h.addEventListener(p,_,!1)}function rA(h,p,_,C,P){var k=C;if((p&1)===0&&(p&2)===0&&C!==null)e:for(;;){if(C===null)return;var Z=C.tag;if(Z===3||Z===4){var ae=C.stateNode.containerInfo;if(ae===P)break;if(Z===4)for(Z=C.return;Z!==null;){var fe=Z.tag;if((fe===3||fe===4)&&Z.stateNode.containerInfo===P)return;Z=Z.return}for(;ae!==null;){if(Z=lr(ae),Z===null)return;if(fe=Z.tag,fe===5||fe===6||fe===26||fe===27){C=k=Z;continue e}ae=ae.parentNode}}C=C.return}Lc(function(){var Me=k,je=Ho(_),He=[];e:{var Le=R_.get(h);if(Le!==void 0){var Ne=Kn,Lt=h;switch(h){case"keypress":if(Kr(_)===0)break e;case"keydown":case"keyup":Ne=wp;break;case"focusin":Lt="focus",Ne=mo;break;case"focusout":Lt="blur",Ne=mo;break;case"beforeblur":case"afterblur":Ne=mo;break;case"click":if(_.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ne=bp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ne=Jm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ne=Tp;break;case la:case wi:case yo:Ne=ps;break;case Ff:Ne=Vf;break;case"scroll":case"scrollend":Ne=hr;break;case"wheel":Ne=$s;break;case"copy":case"cut":case"paste":Ne=Go;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ne=ms;break;case"toggle":case"beforetoggle":Ne=Lu}var qt=(p&4)!==0,On=!qt&&(h==="scroll"||h==="scrollend"),xe=qt?Le!==null?Le+"Capture":null:Le;qt=[];for(var de=Me,Ce;de!==null;){var Ve=de;if(Ce=Ve.stateNode,Ve=Ve.tag,Ve!==5&&Ve!==26&&Ve!==27||Ce===null||xe===null||(Ve=Zi(de,xe),Ve!=null&&qt.push(Ly(de,Ve,Ce))),On)break;de=de.return}0<qt.length&&(Le=new Ne(Le,Lt,null,_,je),He.push({event:Le,listeners:qt}))}}if((p&7)===0){e:{if(Le=h==="mouseover"||h==="pointerover",Ne=h==="mouseout"||h==="pointerout",Le&&_!==jf&&(Lt=_.relatedTarget||_.fromElement)&&(lr(Lt)||Lt[pt]))break e;if((Ne||Le)&&(Le=je.window===je?je:(Le=je.ownerDocument)?Le.defaultView||Le.parentWindow:window,Ne?(Lt=_.relatedTarget||_.toElement,Ne=Me,Lt=Lt?lr(Lt):null,Lt!==null&&(On=i(Lt),qt=Lt.tag,Lt!==On||qt!==5&&qt!==27&&qt!==6)&&(Lt=null)):(Ne=null,Lt=Me),Ne!==Lt)){if(qt=bp,Ve="onMouseLeave",xe="onMouseEnter",de="mouse",(h==="pointerout"||h==="pointerover")&&(qt=ms,Ve="onPointerLeave",xe="onPointerEnter",de="pointer"),On=Ne==null?Le:Vr(Ne),Ce=Lt==null?Le:Vr(Lt),Le=new qt(Ve,de+"leave",Ne,_,je),Le.target=On,Le.relatedTarget=Ce,Ve=null,lr(je)===Me&&(qt=new qt(xe,de+"enter",Lt,_,je),qt.target=Ce,qt.relatedTarget=On,Ve=qt),On=Ve,Ne&&Lt)t:{for(qt=Cre,xe=Ne,de=Lt,Ce=0,Ve=xe;Ve;Ve=qt(Ve))Ce++;Ve=0;for(var Ht=de;Ht;Ht=qt(Ht))Ve++;for(;0<Ce-Ve;)xe=qt(xe),Ce--;for(;0<Ve-Ce;)de=qt(de),Ve--;for(;Ce--;){if(xe===de||de!==null&&xe===de.alternate){qt=xe;break t}xe=qt(xe),de=qt(de)}qt=null}else qt=null;Ne!==null&&Fz(He,Le,Ne,qt,!1),Lt!==null&&On!==null&&Fz(He,On,Lt,qt,!0)}}e:{if(Le=Me?Vr(Me):window,Ne=Le.nodeName&&Le.nodeName.toLowerCase(),Ne==="select"||Ne==="input"&&Le.type==="file")var sn=oe;else if(Si(Le))if(se)sn=Qt;else{sn=lt;var kt=Ke}else Ne=Le.nodeName,!Ne||Ne.toLowerCase()!=="input"||Le.type!=="checkbox"&&Le.type!=="radio"?Me&&Dc(Me.elementType)&&(sn=oe):sn=it;if(sn&&(sn=sn(h,Me))){Mp(He,sn,_,je);break e}kt&&kt(h,Le,Me),h==="focusout"&&Me&&Le.type==="number"&&Me.memoizedProps.value!=null&&Vo(Le,"number",Le.value)}switch(kt=Me?Vr(Me):window,h){case"focusin":(Si(kt)||kt.contentEditable==="true")&&(Qr=kt,Ya=Me,sa=null);break;case"focusout":sa=Ya=Qr=null;break;case"mousedown":Ta=!0;break;case"contextmenu":case"mouseup":case"dragend":Ta=!1,Xi(He,_,je);break;case"selectionchange":if(Hr)break;case"keydown":case"keyup":Xi(He,_,je)}var br;if(Ec)e:{switch(h){case"compositionstart":var zr="onCompositionStart";break e;case"compositionend":zr="onCompositionEnd";break e;case"compositionupdate":zr="onCompositionUpdate";break e}zr=void 0}else Vl?Pc(h,_)&&(zr="onCompositionEnd"):h==="keydown"&&_.keyCode===229&&(zr="onCompositionStart");zr&&(Nc&&_.locale!=="ko"&&(Vl||zr!=="onCompositionStart"?zr==="onCompositionEnd"&&Vl&&(br=ds()):(oi=je,$i="value"in oi?oi.value:oi.textContent,Vl=!0)),kt=vb(Me,zr),0<kt.length&&(zr=new pd(zr,h,null,_,je),He.push({event:zr,listeners:kt}),br?zr.data=br:(br=ta(_),br!==null&&(zr.data=br)))),(br=ey?$r(h,_):Fl(h,_))&&(zr=vb(Me,"onBeforeInput"),0<zr.length&&(kt=new pd("onBeforeInput","beforeinput",null,_,je),He.push({event:kt,listeners:zr}),kt.data=br)),bre(He,h,Me,_,je)}Bz(He,p)})}function Ly(h,p,_){return{instance:h,listener:p,currentTarget:_}}function vb(h,p){for(var _=p+"Capture",C=[];h!==null;){var P=h,k=P.stateNode;if(P=P.tag,P!==5&&P!==26&&P!==27||k===null||(P=Zi(h,_),P!=null&&C.unshift(Ly(h,P,k)),P=Zi(h,p),P!=null&&C.push(Ly(h,P,k))),h.tag===3)return C;h=h.return}return[]}function Cre(h){if(h===null)return null;do h=h.return;while(h&&h.tag!==5&&h.tag!==27);return h||null}function Fz(h,p,_,C,P){for(var k=p._reactName,Z=[];_!==null&&_!==C;){var ae=_,fe=ae.alternate,Me=ae.stateNode;if(ae=ae.tag,fe!==null&&fe===C)break;ae!==5&&ae!==26&&ae!==27||Me===null||(fe=Me,P?(Me=Zi(_,k),Me!=null&&Z.unshift(Ly(_,Me,fe))):P||(Me=Zi(_,k),Me!=null&&Z.push(Ly(_,Me,fe)))),_=_.return}Z.length!==0&&h.push({event:p,listeners:Z})}var Mre=/\r\n?/g,Are=/\u0000|\uFFFD/g;function Hz(h){return(typeof h=="string"?h:""+h).replace(Mre,`
`).replace(Are,"")}function Gz(h,p){return p=Hz(p),Hz(h)===p}function In(h,p,_,C,P,k){switch(_){case"children":typeof C=="string"?p==="body"||p==="textarea"&&C===""||Fo(h,C):(typeof C=="number"||typeof C=="bigint")&&p!=="body"&&Fo(h,""+C);break;case"className":Cr(h,"class",C);break;case"tabIndex":Cr(h,"tabindex",C);break;case"dir":case"role":case"viewBox":case"width":case"height":Cr(h,_,C);break;case"style":Of(h,C,k);break;case"data":if(p!=="object"){Cr(h,"data",C);break}case"src":case"href":if(C===""&&(p!=="a"||_!=="href")){h.removeAttribute(_);break}if(C==null||typeof C=="function"||typeof C=="symbol"||typeof C=="boolean"){h.removeAttribute(_);break}C=Zs(""+C),h.setAttribute(_,C);break;case"action":case"formAction":if(typeof C=="function"){h.setAttribute(_,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof k=="function"&&(_==="formAction"?(p!=="input"&&In(h,p,"name",P.name,P,null),In(h,p,"formEncType",P.formEncType,P,null),In(h,p,"formMethod",P.formMethod,P,null),In(h,p,"formTarget",P.formTarget,P,null)):(In(h,p,"encType",P.encType,P,null),In(h,p,"method",P.method,P,null),In(h,p,"target",P.target,P,null)));if(C==null||typeof C=="symbol"||typeof C=="boolean"){h.removeAttribute(_);break}C=Zs(""+C),h.setAttribute(_,C);break;case"onClick":C!=null&&(h.onclick=Ga);break;case"onScroll":C!=null&&Pr("scroll",h);break;case"onScrollEnd":C!=null&&Pr("scrollend",h);break;case"dangerouslySetInnerHTML":if(C!=null){if(typeof C!="object"||!("__html"in C))throw Error(n(61));if(_=C.__html,_!=null){if(P.children!=null)throw Error(n(60));h.innerHTML=_}}break;case"multiple":h.multiple=C&&typeof C!="function"&&typeof C!="symbol";break;case"muted":h.muted=C&&typeof C!="function"&&typeof C!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(C==null||typeof C=="function"||typeof C=="boolean"||typeof C=="symbol"){h.removeAttribute("xlink:href");break}_=Zs(""+C),h.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",_);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":C!=null&&typeof C!="function"&&typeof C!="symbol"?h.setAttribute(_,""+C):h.removeAttribute(_);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":C&&typeof C!="function"&&typeof C!="symbol"?h.setAttribute(_,""):h.removeAttribute(_);break;case"capture":case"download":C===!0?h.setAttribute(_,""):C!==!1&&C!=null&&typeof C!="function"&&typeof C!="symbol"?h.setAttribute(_,C):h.removeAttribute(_);break;case"cols":case"rows":case"size":case"span":C!=null&&typeof C!="function"&&typeof C!="symbol"&&!isNaN(C)&&1<=C?h.setAttribute(_,C):h.removeAttribute(_);break;case"rowSpan":case"start":C==null||typeof C=="function"||typeof C=="symbol"||isNaN(C)?h.removeAttribute(_):h.setAttribute(_,C);break;case"popover":Pr("beforetoggle",h),Pr("toggle",h),Ot(h,"popover",C);break;case"xlinkActuate":Er(h,"http://www.w3.org/1999/xlink","xlink:actuate",C);break;case"xlinkArcrole":Er(h,"http://www.w3.org/1999/xlink","xlink:arcrole",C);break;case"xlinkRole":Er(h,"http://www.w3.org/1999/xlink","xlink:role",C);break;case"xlinkShow":Er(h,"http://www.w3.org/1999/xlink","xlink:show",C);break;case"xlinkTitle":Er(h,"http://www.w3.org/1999/xlink","xlink:title",C);break;case"xlinkType":Er(h,"http://www.w3.org/1999/xlink","xlink:type",C);break;case"xmlBase":Er(h,"http://www.w3.org/XML/1998/namespace","xml:base",C);break;case"xmlLang":Er(h,"http://www.w3.org/XML/1998/namespace","xml:lang",C);break;case"xmlSpace":Er(h,"http://www.w3.org/XML/1998/namespace","xml:space",C);break;case"is":Ot(h,"is",C);break;case"innerText":case"textContent":break;default:(!(2<_.length)||_[0]!=="o"&&_[0]!=="O"||_[1]!=="n"&&_[1]!=="N")&&(_=hs.get(_)||_,Ot(h,_,C))}}function nA(h,p,_,C,P,k){switch(_){case"style":Of(h,C,k);break;case"dangerouslySetInnerHTML":if(C!=null){if(typeof C!="object"||!("__html"in C))throw Error(n(61));if(_=C.__html,_!=null){if(P.children!=null)throw Error(n(60));h.innerHTML=_}}break;case"children":typeof C=="string"?Fo(h,C):(typeof C=="number"||typeof C=="bigint")&&Fo(h,""+C);break;case"onScroll":C!=null&&Pr("scroll",h);break;case"onScrollEnd":C!=null&&Pr("scrollend",h);break;case"onClick":C!=null&&(h.onclick=Ga);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Va.hasOwnProperty(_))e:{if(_[0]==="o"&&_[1]==="n"&&(P=_.endsWith("Capture"),p=_.slice(2,P?_.length-7:void 0),k=h[at]||null,k=k!=null?k[_]:null,typeof k=="function"&&h.removeEventListener(p,k,P),typeof C=="function")){typeof k!="function"&&k!==null&&(_ in h?h[_]=null:h.hasAttribute(_)&&h.removeAttribute(_)),h.addEventListener(p,C,P);break e}_ in h?h[_]=C:C===!0?h.setAttribute(_,""):Ot(h,_,C)}}}function Fi(h,p,_){switch(p){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pr("error",h),Pr("load",h);var C=!1,P=!1,k;for(k in _)if(_.hasOwnProperty(k)){var Z=_[k];if(Z!=null)switch(k){case"src":C=!0;break;case"srcSet":P=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,p));default:In(h,p,k,Z,_,null)}}P&&In(h,p,"srcSet",_.srcSet,_,null),C&&In(h,p,"src",_.src,_,null);return;case"input":Pr("invalid",h);var ae=k=Z=P=null,fe=null,Me=null;for(C in _)if(_.hasOwnProperty(C)){var je=_[C];if(je!=null)switch(C){case"name":P=je;break;case"type":Z=je;break;case"checked":fe=je;break;case"defaultChecked":Me=je;break;case"value":k=je;break;case"defaultValue":ae=je;break;case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(n(137,p));break;default:In(h,p,C,je,_,null)}}Mc(h,k,ae,fe,Me,Z,P,!1);return;case"select":Pr("invalid",h),C=Z=k=null;for(P in _)if(_.hasOwnProperty(P)&&(ae=_[P],ae!=null))switch(P){case"value":k=ae;break;case"defaultValue":Z=ae;break;case"multiple":C=ae;default:In(h,p,P,ae,_,null)}p=k,_=Z,h.multiple=!!C,p!=null?hn(h,!!C,p,!1):_!=null&&hn(h,!!C,_,!0);return;case"textarea":Pr("invalid",h),k=P=C=null;for(Z in _)if(_.hasOwnProperty(Z)&&(ae=_[Z],ae!=null))switch(Z){case"value":C=ae;break;case"defaultValue":P=ae;break;case"children":k=ae;break;case"dangerouslySetInnerHTML":if(ae!=null)throw Error(n(91));break;default:In(h,p,Z,ae,_,null)}fs(h,C,P,k);return;case"option":for(fe in _)_.hasOwnProperty(fe)&&(C=_[fe],C!=null)&&(fe==="selected"?h.selected=C&&typeof C!="function"&&typeof C!="symbol":In(h,p,fe,C,_,null));return;case"dialog":Pr("beforetoggle",h),Pr("toggle",h),Pr("cancel",h),Pr("close",h);break;case"iframe":case"object":Pr("load",h);break;case"video":case"audio":for(C=0;C<Dy.length;C++)Pr(Dy[C],h);break;case"image":Pr("error",h),Pr("load",h);break;case"details":Pr("toggle",h);break;case"embed":case"source":case"link":Pr("error",h),Pr("load",h);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Me in _)if(_.hasOwnProperty(Me)&&(C=_[Me],C!=null))switch(Me){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,p));default:In(h,p,Me,C,_,null)}return;default:if(Dc(p)){for(je in _)_.hasOwnProperty(je)&&(C=_[je],C!==void 0&&nA(h,p,je,C,_,void 0));return}}for(ae in _)_.hasOwnProperty(ae)&&(C=_[ae],C!=null&&In(h,p,ae,C,_,null))}function Dre(h,p,_,C){switch(p){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var P=null,k=null,Z=null,ae=null,fe=null,Me=null,je=null;for(Ne in _){var He=_[Ne];if(_.hasOwnProperty(Ne)&&He!=null)switch(Ne){case"checked":break;case"value":break;case"defaultValue":fe=He;default:C.hasOwnProperty(Ne)||In(h,p,Ne,null,C,He)}}for(var Le in C){var Ne=C[Le];if(He=_[Le],C.hasOwnProperty(Le)&&(Ne!=null||He!=null))switch(Le){case"type":k=Ne;break;case"name":P=Ne;break;case"checked":Me=Ne;break;case"defaultChecked":je=Ne;break;case"value":Z=Ne;break;case"defaultValue":ae=Ne;break;case"children":case"dangerouslySetInnerHTML":if(Ne!=null)throw Error(n(137,p));break;default:Ne!==He&&In(h,p,Le,Ne,C,He)}}If(h,Z,ae,fe,Me,je,k,P);return;case"select":Ne=Z=ae=Le=null;for(k in _)if(fe=_[k],_.hasOwnProperty(k)&&fe!=null)switch(k){case"value":break;case"multiple":Ne=fe;default:C.hasOwnProperty(k)||In(h,p,k,null,C,fe)}for(P in C)if(k=C[P],fe=_[P],C.hasOwnProperty(P)&&(k!=null||fe!=null))switch(P){case"value":Le=k;break;case"defaultValue":ae=k;break;case"multiple":Z=k;default:k!==fe&&In(h,p,P,k,C,fe)}p=ae,_=Z,C=Ne,Le!=null?hn(h,!!_,Le,!1):!!C!=!!_&&(p!=null?hn(h,!!_,p,!0):hn(h,!!_,_?[]:"",!1));return;case"textarea":Ne=Le=null;for(ae in _)if(P=_[ae],_.hasOwnProperty(ae)&&P!=null&&!C.hasOwnProperty(ae))switch(ae){case"value":break;case"children":break;default:In(h,p,ae,null,C,P)}for(Z in C)if(P=C[Z],k=_[Z],C.hasOwnProperty(Z)&&(P!=null||k!=null))switch(Z){case"value":Le=P;break;case"defaultValue":Ne=P;break;case"children":break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(n(91));break;default:P!==k&&In(h,p,Z,P,C,k)}go(h,Le,Ne);return;case"option":for(var Lt in _)Le=_[Lt],_.hasOwnProperty(Lt)&&Le!=null&&!C.hasOwnProperty(Lt)&&(Lt==="selected"?h.selected=!1:In(h,p,Lt,null,C,Le));for(fe in C)Le=C[fe],Ne=_[fe],C.hasOwnProperty(fe)&&Le!==Ne&&(Le!=null||Ne!=null)&&(fe==="selected"?h.selected=Le&&typeof Le!="function"&&typeof Le!="symbol":In(h,p,fe,Le,C,Ne));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var qt in _)Le=_[qt],_.hasOwnProperty(qt)&&Le!=null&&!C.hasOwnProperty(qt)&&In(h,p,qt,null,C,Le);for(Me in C)if(Le=C[Me],Ne=_[Me],C.hasOwnProperty(Me)&&Le!==Ne&&(Le!=null||Ne!=null))switch(Me){case"children":case"dangerouslySetInnerHTML":if(Le!=null)throw Error(n(137,p));break;default:In(h,p,Me,Le,C,Ne)}return;default:if(Dc(p)){for(var On in _)Le=_[On],_.hasOwnProperty(On)&&Le!==void 0&&!C.hasOwnProperty(On)&&nA(h,p,On,void 0,C,Le);for(je in C)Le=C[je],Ne=_[je],!C.hasOwnProperty(je)||Le===Ne||Le===void 0&&Ne===void 0||nA(h,p,je,Le,C,Ne);return}}for(var xe in _)Le=_[xe],_.hasOwnProperty(xe)&&Le!=null&&!C.hasOwnProperty(xe)&&In(h,p,xe,null,C,Le);for(He in C)Le=C[He],Ne=_[He],!C.hasOwnProperty(He)||Le===Ne||Le==null&&Ne==null||In(h,p,He,Le,C,Ne)}function Uz(h){switch(h){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Lre(){if(typeof performance.getEntriesByType=="function"){for(var h=0,p=0,_=performance.getEntriesByType("resource"),C=0;C<_.length;C++){var P=_[C],k=P.transferSize,Z=P.initiatorType,ae=P.duration;if(k&&ae&&Uz(Z)){for(Z=0,ae=P.responseEnd,C+=1;C<_.length;C++){var fe=_[C],Me=fe.startTime;if(Me>ae)break;var je=fe.transferSize,He=fe.initiatorType;je&&Uz(He)&&(fe=fe.responseEnd,Z+=je*(fe<ae?1:(ae-Me)/(fe-Me)))}if(--C,p+=8*(k+Z)/(P.duration/1e3),h++,10<h)break}}if(0<h)return p/h/1e6}return navigator.connection&&(h=navigator.connection.downlink,typeof h=="number")?h:5}var aA=null,iA=null;function pb(h){return h.nodeType===9?h:h.ownerDocument}function Wz(h){switch(h){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Yz(h,p){if(h===0)switch(p){case"svg":return 1;case"math":return 2;default:return 0}return h===1&&p==="foreignObject"?0:h}function oA(h,p){return h==="textarea"||h==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.children=="bigint"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var sA=null;function Ere(){var h=window.event;return h&&h.type==="popstate"?h===sA?!1:(sA=h,!0):(sA=null,!1)}var Zz=typeof setTimeout=="function"?setTimeout:void 0,Nre=typeof clearTimeout=="function"?clearTimeout:void 0,qz=typeof Promise=="function"?Promise:void 0,Rre=typeof queueMicrotask=="function"?queueMicrotask:typeof qz<"u"?function(h){return qz.resolve(null).then(h).catch(Pre)}:Zz;function Pre(h){setTimeout(function(){throw h})}function rh(h){return h==="head"}function $z(h,p){var _=p,C=0;do{var P=_.nextSibling;if(h.removeChild(_),P&&P.nodeType===8)if(_=P.data,_==="/$"||_==="/&"){if(C===0){h.removeChild(P),Kp(p);return}C--}else if(_==="$"||_==="$?"||_==="$~"||_==="$!"||_==="&")C++;else if(_==="html")Ey(h.ownerDocument.documentElement);else if(_==="head"){_=h.ownerDocument.head,Ey(_);for(var k=_.firstChild;k;){var Z=k.nextSibling,ae=k.nodeName;k[cr]||ae==="SCRIPT"||ae==="STYLE"||ae==="LINK"&&k.rel.toLowerCase()==="stylesheet"||_.removeChild(k),k=Z}}else _==="body"&&Ey(h.ownerDocument.body);_=P}while(_);Kp(p)}function Xz(h,p){var _=h;h=0;do{var C=_.nextSibling;if(_.nodeType===1?p?(_._stashedDisplay=_.style.display,_.style.display="none"):(_.style.display=_._stashedDisplay||"",_.getAttribute("style")===""&&_.removeAttribute("style")):_.nodeType===3&&(p?(_._stashedText=_.nodeValue,_.nodeValue=""):_.nodeValue=_._stashedText||""),C&&C.nodeType===8)if(_=C.data,_==="/$"){if(h===0)break;h--}else _!=="$"&&_!=="$?"&&_!=="$~"&&_!=="$!"||h++;_=C}while(_)}function lA(h){var p=h.firstChild;for(p&&p.nodeType===10&&(p=p.nextSibling);p;){var _=p;switch(p=p.nextSibling,_.nodeName){case"HTML":case"HEAD":case"BODY":lA(_),fr(_);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(_.rel.toLowerCase()==="stylesheet")continue}h.removeChild(_)}}function kre(h,p,_,C){for(;h.nodeType===1;){var P=_;if(h.nodeName.toLowerCase()!==p.toLowerCase()){if(!C&&(h.nodeName!=="INPUT"||h.type!=="hidden"))break}else if(C){if(!h[cr])switch(p){case"meta":if(!h.hasAttribute("itemprop"))break;return h;case"link":if(k=h.getAttribute("rel"),k==="stylesheet"&&h.hasAttribute("data-precedence"))break;if(k!==P.rel||h.getAttribute("href")!==(P.href==null||P.href===""?null:P.href)||h.getAttribute("crossorigin")!==(P.crossOrigin==null?null:P.crossOrigin)||h.getAttribute("title")!==(P.title==null?null:P.title))break;return h;case"style":if(h.hasAttribute("data-precedence"))break;return h;case"script":if(k=h.getAttribute("src"),(k!==(P.src==null?null:P.src)||h.getAttribute("type")!==(P.type==null?null:P.type)||h.getAttribute("crossorigin")!==(P.crossOrigin==null?null:P.crossOrigin))&&k&&h.hasAttribute("async")&&!h.hasAttribute("itemprop"))break;return h;default:return h}}else if(p==="input"&&h.type==="hidden"){var k=P.name==null?null:""+P.name;if(P.type==="hidden"&&h.getAttribute("name")===k)return h}else return h;if(h=Js(h.nextSibling),h===null)break}return null}function Ire(h,p,_){if(p==="")return null;for(;h.nodeType!==3;)if((h.nodeType!==1||h.nodeName!=="INPUT"||h.type!=="hidden")&&!_||(h=Js(h.nextSibling),h===null))return null;return h}function Kz(h,p){for(;h.nodeType!==8;)if((h.nodeType!==1||h.nodeName!=="INPUT"||h.type!=="hidden")&&!p||(h=Js(h.nextSibling),h===null))return null;return h}function uA(h){return h.data==="$?"||h.data==="$~"}function cA(h){return h.data==="$!"||h.data==="$?"&&h.ownerDocument.readyState!=="loading"}function Ore(h,p){var _=h.ownerDocument;if(h.data==="$~")h._reactRetry=p;else if(h.data!=="$?"||_.readyState!=="loading")p();else{var C=function(){p(),_.removeEventListener("DOMContentLoaded",C)};_.addEventListener("DOMContentLoaded",C),h._reactRetry=C}}function Js(h){for(;h!=null;h=h.nextSibling){var p=h.nodeType;if(p===1||p===3)break;if(p===8){if(p=h.data,p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"||p==="F!"||p==="F")break;if(p==="/$"||p==="/&")return null}}return h}var fA=null;function Qz(h){h=h.nextSibling;for(var p=0;h;){if(h.nodeType===8){var _=h.data;if(_==="/$"||_==="/&"){if(p===0)return Js(h.nextSibling);p--}else _!=="$"&&_!=="$!"&&_!=="$?"&&_!=="$~"&&_!=="&"||p++}h=h.nextSibling}return null}function Jz(h){h=h.previousSibling;for(var p=0;h;){if(h.nodeType===8){var _=h.data;if(_==="$"||_==="$!"||_==="$?"||_==="$~"||_==="&"){if(p===0)return h;p--}else _!=="/$"&&_!=="/&"||p++}h=h.previousSibling}return null}function eB(h,p,_){switch(p=pb(_),h){case"html":if(h=p.documentElement,!h)throw Error(n(452));return h;case"head":if(h=p.head,!h)throw Error(n(453));return h;case"body":if(h=p.body,!h)throw Error(n(454));return h;default:throw Error(n(451))}}function Ey(h){for(var p=h.attributes;p.length;)h.removeAttributeNode(p[0]);fr(h)}var el=new Map,tB=new Set;function gb(h){return typeof h.getRootNode=="function"?h.getRootNode():h.nodeType===9?h:h.ownerDocument}var qc=X.d;X.d={f:jre,r:zre,D:Bre,C:Vre,L:Fre,m:Hre,X:Ure,S:Gre,M:Wre};function jre(){var h=qc.f(),p=sb();return h||p}function zre(h){var p=mr(h);p!==null&&p.tag===5&&p.type==="form"?yj(p):qc.r(h)}var qp=typeof document>"u"?null:document;function rB(h,p,_){var C=qp;if(C&&typeof p=="string"&&p){var P=Pn(p);P='link[rel="'+h+'"][href="'+P+'"]',typeof _=="string"&&(P+='[crossorigin="'+_+'"]'),tB.has(P)||(tB.add(P),h={rel:h,crossOrigin:_,href:p},C.querySelector(P)===null&&(p=C.createElement("link"),Fi(p,"link",h),Tn(p),C.head.appendChild(p)))}}function Bre(h){qc.D(h),rB("dns-prefetch",h,null)}function Vre(h,p){qc.C(h,p),rB("preconnect",h,p)}function Fre(h,p,_){qc.L(h,p,_);var C=qp;if(C&&h&&p){var P='link[rel="preload"][as="'+Pn(p)+'"]';p==="image"&&_&&_.imageSrcSet?(P+='[imagesrcset="'+Pn(_.imageSrcSet)+'"]',typeof _.imageSizes=="string"&&(P+='[imagesizes="'+Pn(_.imageSizes)+'"]')):P+='[href="'+Pn(h)+'"]';var k=P;switch(p){case"style":k=$p(h);break;case"script":k=Xp(h)}el.has(k)||(h=f({rel:"preload",href:p==="image"&&_&&_.imageSrcSet?void 0:h,as:p},_),el.set(k,h),C.querySelector(P)!==null||p==="style"&&C.querySelector(Ny(k))||p==="script"&&C.querySelector(Ry(k))||(p=C.createElement("link"),Fi(p,"link",h),Tn(p),C.head.appendChild(p)))}}function Hre(h,p){qc.m(h,p);var _=qp;if(_&&h){var C=p&&typeof p.as=="string"?p.as:"script",P='link[rel="modulepreload"][as="'+Pn(C)+'"][href="'+Pn(h)+'"]',k=P;switch(C){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":k=Xp(h)}if(!el.has(k)&&(h=f({rel:"modulepreload",href:h},p),el.set(k,h),_.querySelector(P)===null)){switch(C){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(_.querySelector(Ry(k)))return}C=_.createElement("link"),Fi(C,"link",h),Tn(C),_.head.appendChild(C)}}}function Gre(h,p,_){qc.S(h,p,_);var C=qp;if(C&&h){var P=ha(C).hoistableStyles,k=$p(h);p=p||"default";var Z=P.get(k);if(!Z){var ae={loading:0,preload:null};if(Z=C.querySelector(Ny(k)))ae.loading=5;else{h=f({rel:"stylesheet",href:h,"data-precedence":p},_),(_=el.get(k))&&hA(h,_);var fe=Z=C.createElement("link");Tn(fe),Fi(fe,"link",h),fe._p=new Promise(function(Me,je){fe.onload=Me,fe.onerror=je}),fe.addEventListener("load",function(){ae.loading|=1}),fe.addEventListener("error",function(){ae.loading|=2}),ae.loading|=4,mb(Z,p,C)}Z={type:"stylesheet",instance:Z,count:1,state:ae},P.set(k,Z)}}}function Ure(h,p){qc.X(h,p);var _=qp;if(_&&h){var C=ha(_).hoistableScripts,P=Xp(h),k=C.get(P);k||(k=_.querySelector(Ry(P)),k||(h=f({src:h,async:!0},p),(p=el.get(P))&&dA(h,p),k=_.createElement("script"),Tn(k),Fi(k,"link",h),_.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},C.set(P,k))}}function Wre(h,p){qc.M(h,p);var _=qp;if(_&&h){var C=ha(_).hoistableScripts,P=Xp(h),k=C.get(P);k||(k=_.querySelector(Ry(P)),k||(h=f({src:h,async:!0,type:"module"},p),(p=el.get(P))&&dA(h,p),k=_.createElement("script"),Tn(k),Fi(k,"link",h),_.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},C.set(P,k))}}function nB(h,p,_,C){var P=(P=we.current)?gb(P):null;if(!P)throw Error(n(446));switch(h){case"meta":case"title":return null;case"style":return typeof _.precedence=="string"&&typeof _.href=="string"?(p=$p(_.href),_=ha(P).hoistableStyles,C=_.get(p),C||(C={type:"style",instance:null,count:0,state:null},_.set(p,C)),C):{type:"void",instance:null,count:0,state:null};case"link":if(_.rel==="stylesheet"&&typeof _.href=="string"&&typeof _.precedence=="string"){h=$p(_.href);var k=ha(P).hoistableStyles,Z=k.get(h);if(Z||(P=P.ownerDocument||P,Z={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},k.set(h,Z),(k=P.querySelector(Ny(h)))&&!k._p&&(Z.instance=k,Z.state.loading=5),el.has(h)||(_={rel:"preload",as:"style",href:_.href,crossOrigin:_.crossOrigin,integrity:_.integrity,media:_.media,hrefLang:_.hrefLang,referrerPolicy:_.referrerPolicy},el.set(h,_),k||Yre(P,h,_,Z.state))),p&&C===null)throw Error(n(528,""));return Z}if(p&&C!==null)throw Error(n(529,""));return null;case"script":return p=_.async,_=_.src,typeof _=="string"&&p&&typeof p!="function"&&typeof p!="symbol"?(p=Xp(_),_=ha(P).hoistableScripts,C=_.get(p),C||(C={type:"script",instance:null,count:0,state:null},_.set(p,C)),C):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,h))}}function $p(h){return'href="'+Pn(h)+'"'}function Ny(h){return'link[rel="stylesheet"]['+h+"]"}function aB(h){return f({},h,{"data-precedence":h.precedence,precedence:null})}function Yre(h,p,_,C){h.querySelector('link[rel="preload"][as="style"]['+p+"]")?C.loading=1:(p=h.createElement("link"),C.preload=p,p.addEventListener("load",function(){return C.loading|=1}),p.addEventListener("error",function(){return C.loading|=2}),Fi(p,"link",_),Tn(p),h.head.appendChild(p))}function Xp(h){return'[src="'+Pn(h)+'"]'}function Ry(h){return"script[async]"+h}function iB(h,p,_){if(p.count++,p.instance===null)switch(p.type){case"style":var C=h.querySelector('style[data-href~="'+Pn(_.href)+'"]');if(C)return p.instance=C,Tn(C),C;var P=f({},_,{"data-href":_.href,"data-precedence":_.precedence,href:null,precedence:null});return C=(h.ownerDocument||h).createElement("style"),Tn(C),Fi(C,"style",P),mb(C,_.precedence,h),p.instance=C;case"stylesheet":P=$p(_.href);var k=h.querySelector(Ny(P));if(k)return p.state.loading|=4,p.instance=k,Tn(k),k;C=aB(_),(P=el.get(P))&&hA(C,P),k=(h.ownerDocument||h).createElement("link"),Tn(k);var Z=k;return Z._p=new Promise(function(ae,fe){Z.onload=ae,Z.onerror=fe}),Fi(k,"link",C),p.state.loading|=4,mb(k,_.precedence,h),p.instance=k;case"script":return k=Xp(_.src),(P=h.querySelector(Ry(k)))?(p.instance=P,Tn(P),P):(C=_,(P=el.get(k))&&(C=f({},_),dA(C,P)),h=h.ownerDocument||h,P=h.createElement("script"),Tn(P),Fi(P,"link",C),h.head.appendChild(P),p.instance=P);case"void":return null;default:throw Error(n(443,p.type))}else p.type==="stylesheet"&&(p.state.loading&4)===0&&(C=p.instance,p.state.loading|=4,mb(C,_.precedence,h));return p.instance}function mb(h,p,_){for(var C=_.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),P=C.length?C[C.length-1]:null,k=P,Z=0;Z<C.length;Z++){var ae=C[Z];if(ae.dataset.precedence===p)k=ae;else if(k!==P)break}k?k.parentNode.insertBefore(h,k.nextSibling):(p=_.nodeType===9?_.head:_,p.insertBefore(h,p.firstChild))}function hA(h,p){h.crossOrigin==null&&(h.crossOrigin=p.crossOrigin),h.referrerPolicy==null&&(h.referrerPolicy=p.referrerPolicy),h.title==null&&(h.title=p.title)}function dA(h,p){h.crossOrigin==null&&(h.crossOrigin=p.crossOrigin),h.referrerPolicy==null&&(h.referrerPolicy=p.referrerPolicy),h.integrity==null&&(h.integrity=p.integrity)}var yb=null;function oB(h,p,_){if(yb===null){var C=new Map,P=yb=new Map;P.set(_,C)}else P=yb,C=P.get(_),C||(C=new Map,P.set(_,C));if(C.has(h))return C;for(C.set(h,null),_=_.getElementsByTagName(h),P=0;P<_.length;P++){var k=_[P];if(!(k[cr]||k[Je]||h==="link"&&k.getAttribute("rel")==="stylesheet")&&k.namespaceURI!=="http://www.w3.org/2000/svg"){var Z=k.getAttribute(p)||"";Z=h+Z;var ae=C.get(Z);ae?ae.push(k):C.set(Z,[k])}}return C}function sB(h,p,_){h=h.ownerDocument||h,h.head.insertBefore(_,p==="title"?h.querySelector("head > title"):null)}function Zre(h,p,_){if(_===1||p.itemProp!=null)return!1;switch(h){case"meta":case"title":return!0;case"style":if(typeof p.precedence!="string"||typeof p.href!="string"||p.href==="")break;return!0;case"link":if(typeof p.rel!="string"||typeof p.href!="string"||p.href===""||p.onLoad||p.onError)break;return p.rel==="stylesheet"?(h=p.disabled,typeof p.precedence=="string"&&h==null):!0;case"script":if(p.async&&typeof p.async!="function"&&typeof p.async!="symbol"&&!p.onLoad&&!p.onError&&p.src&&typeof p.src=="string")return!0}return!1}function lB(h){return!(h.type==="stylesheet"&&(h.state.loading&3)===0)}function qre(h,p,_,C){if(_.type==="stylesheet"&&(typeof C.media!="string"||matchMedia(C.media).matches!==!1)&&(_.state.loading&4)===0){if(_.instance===null){var P=$p(C.href),k=p.querySelector(Ny(P));if(k){p=k._p,p!==null&&typeof p=="object"&&typeof p.then=="function"&&(h.count++,h=xb.bind(h),p.then(h,h)),_.state.loading|=4,_.instance=k,Tn(k);return}k=p.ownerDocument||p,C=aB(C),(P=el.get(P))&&hA(C,P),k=k.createElement("link"),Tn(k);var Z=k;Z._p=new Promise(function(ae,fe){Z.onload=ae,Z.onerror=fe}),Fi(k,"link",C),_.instance=k}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(_,p),(p=_.state.preload)&&(_.state.loading&3)===0&&(h.count++,_=xb.bind(h),p.addEventListener("load",_),p.addEventListener("error",_))}}var vA=0;function $re(h,p){return h.stylesheets&&h.count===0&&bb(h,h.stylesheets),0<h.count||0<h.imgCount?function(_){var C=setTimeout(function(){if(h.stylesheets&&bb(h,h.stylesheets),h.unsuspend){var k=h.unsuspend;h.unsuspend=null,k()}},6e4+p);0<h.imgBytes&&vA===0&&(vA=62500*Lre());var P=setTimeout(function(){if(h.waitingForImages=!1,h.count===0&&(h.stylesheets&&bb(h,h.stylesheets),h.unsuspend)){var k=h.unsuspend;h.unsuspend=null,k()}},(h.imgBytes>vA?50:800)+p);return h.unsuspend=_,function(){h.unsuspend=null,clearTimeout(C),clearTimeout(P)}}:null}function xb(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bb(this,this.stylesheets);else if(this.unsuspend){var h=this.unsuspend;this.unsuspend=null,h()}}}var _b=null;function bb(h,p){h.stylesheets=null,h.unsuspend!==null&&(h.count++,_b=new Map,p.forEach(Xre,h),_b=null,xb.call(h))}function Xre(h,p){if(!(p.state.loading&4)){var _=_b.get(h);if(_)var C=_.get(null);else{_=new Map,_b.set(h,_);for(var P=h.querySelectorAll("link[data-precedence],style[data-precedence]"),k=0;k<P.length;k++){var Z=P[k];(Z.nodeName==="LINK"||Z.getAttribute("media")!=="not all")&&(_.set(Z.dataset.precedence,Z),C=Z)}C&&_.set(null,C)}P=p.instance,Z=P.getAttribute("data-precedence"),k=_.get(Z)||C,k===C&&_.set(null,P),_.set(Z,P),this.count++,C=xb.bind(this),P.addEventListener("load",C),P.addEventListener("error",C),k?k.parentNode.insertBefore(P,k.nextSibling):(h=h.nodeType===9?h.head:h,h.insertBefore(P,h.firstChild)),p.state.loading|=4}}var Py={$$typeof:M,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function Kre(h,p,_,C,P,k,Z,ae,fe){this.tag=1,this.containerInfo=h,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ws(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ws(0),this.hiddenUpdates=Ws(null),this.identifierPrefix=C,this.onUncaughtError=P,this.onCaughtError=k,this.onRecoverableError=Z,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=fe,this.incompleteTransitions=new Map}function uB(h,p,_,C,P,k,Z,ae,fe,Me,je,He){return h=new Kre(h,p,_,Z,fe,Me,je,He,ae),p=1,k===!0&&(p|=24),k=Ji(3,null,null,p),h.current=k,k.stateNode=h,p=ZC(),p.refCount++,h.pooledCache=p,p.refCount++,k.memoizedState={element:C,isDehydrated:_,cache:p},KC(k),h}function cB(h){return h?(h=kc,h):kc}function fB(h,p,_,C,P,k){P=cB(P),C.context===null?C.context=P:C.pendingContext=P,C=Wf(p),C.payload={element:_},k=k===void 0?null:k,k!==null&&(C.callback=k),_=Yf(h,C,p),_!==null&&(Jo(_,h,p),fy(_,h,p))}function hB(h,p){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var _=h.retryLane;h.retryLane=_!==0&&_<p?_:p}}function pA(h,p){hB(h,p),(h=h.alternate)&&hB(h,p)}function dB(h){if(h.tag===13||h.tag===31){var p=Xs(h,67108864);p!==null&&Jo(p,h,67108864),pA(h,67108864)}}function vB(h){if(h.tag===13||h.tag===31){var p=Ss();p=be(p);var _=Xs(h,p);_!==null&&Jo(_,h,p),pA(h,p)}}var Sb=!0;function Qre(h,p,_,C){var P=H.T;H.T=null;var k=X.p;try{X.p=2,gA(h,p,_,C)}finally{X.p=k,H.T=P}}function Jre(h,p,_,C){var P=H.T;H.T=null;var k=X.p;try{X.p=8,gA(h,p,_,C)}finally{X.p=k,H.T=P}}function gA(h,p,_,C){if(Sb){var P=mA(C);if(P===null)rA(h,p,C,wb,_),gB(h,C);else if(tne(P,h,p,_,C))C.stopPropagation();else if(gB(h,C),p&4&&-1<ene.indexOf(h)){for(;P!==null;){var k=mr(P);if(k!==null)switch(k.tag){case 3:if(k=k.stateNode,k.current.memoizedState.isDehydrated){var Z=jo(k.pendingLanes);if(Z!==0){var ae=k;for(ae.pendingLanes|=2,ae.entangledLanes|=2;Z;){var fe=1<<31-ca(Z);ae.entanglements[1]|=fe,Z&=~fe}Ou(k),(dn&6)===0&&(ib=Mt()+500,Ay(0))}}break;case 31:case 13:ae=Xs(k,2),ae!==null&&Jo(ae,k,2),sb(),pA(k,2)}if(k=mA(C),k===null&&rA(h,p,C,wb,_),k===P)break;P=k}P!==null&&C.stopPropagation()}else rA(h,p,C,null,_)}}function mA(h){return h=Ho(h),yA(h)}var wb=null;function yA(h){if(wb=null,h=lr(h),h!==null){var p=i(h);if(p===null)h=null;else{var _=p.tag;if(_===13){if(h=o(p),h!==null)return h;h=null}else if(_===31){if(h=s(p),h!==null)return h;h=null}else if(_===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;h=null}else p!==h&&(h=null)}}return wb=h,null}function pB(h){switch(h){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nt()){case Or:return 2;case wn:return 8;case ea:case Sa:return 32;case ai:return 268435456;default:return 32}default:return 32}}var xA=!1,nh=null,ah=null,ih=null,ky=new Map,Iy=new Map,oh=[],ene="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gB(h,p){switch(h){case"focusin":case"focusout":nh=null;break;case"dragenter":case"dragleave":ah=null;break;case"mouseover":case"mouseout":ih=null;break;case"pointerover":case"pointerout":ky.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":Iy.delete(p.pointerId)}}function Oy(h,p,_,C,P,k){return h===null||h.nativeEvent!==k?(h={blockedOn:p,domEventName:_,eventSystemFlags:C,nativeEvent:k,targetContainers:[P]},p!==null&&(p=mr(p),p!==null&&dB(p)),h):(h.eventSystemFlags|=C,p=h.targetContainers,P!==null&&p.indexOf(P)===-1&&p.push(P),h)}function tne(h,p,_,C,P){switch(p){case"focusin":return nh=Oy(nh,h,p,_,C,P),!0;case"dragenter":return ah=Oy(ah,h,p,_,C,P),!0;case"mouseover":return ih=Oy(ih,h,p,_,C,P),!0;case"pointerover":var k=P.pointerId;return ky.set(k,Oy(ky.get(k)||null,h,p,_,C,P)),!0;case"gotpointercapture":return k=P.pointerId,Iy.set(k,Oy(Iy.get(k)||null,h,p,_,C,P)),!0}return!1}function mB(h){var p=lr(h.target);if(p!==null){var _=i(p);if(_!==null){if(p=_.tag,p===13){if(p=o(_),p!==null){h.blockedOn=p,At(h.priority,function(){vB(_)});return}}else if(p===31){if(p=s(_),p!==null){h.blockedOn=p,At(h.priority,function(){vB(_)});return}}else if(p===3&&_.stateNode.current.memoizedState.isDehydrated){h.blockedOn=_.tag===3?_.stateNode.containerInfo:null;return}}}h.blockedOn=null}function Tb(h){if(h.blockedOn!==null)return!1;for(var p=h.targetContainers;0<p.length;){var _=mA(h.nativeEvent);if(_===null){_=h.nativeEvent;var C=new _.constructor(_.type,_);jf=C,_.target.dispatchEvent(C),jf=null}else return p=mr(_),p!==null&&dB(p),h.blockedOn=_,!1;p.shift()}return!0}function yB(h,p,_){Tb(h)&&_.delete(p)}function rne(){xA=!1,nh!==null&&Tb(nh)&&(nh=null),ah!==null&&Tb(ah)&&(ah=null),ih!==null&&Tb(ih)&&(ih=null),ky.forEach(yB),Iy.forEach(yB)}function Cb(h,p){h.blockedOn===p&&(h.blockedOn=null,xA||(xA=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,rne)))}var Mb=null;function xB(h){Mb!==h&&(Mb=h,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Mb===h&&(Mb=null);for(var p=0;p<h.length;p+=3){var _=h[p],C=h[p+1],P=h[p+2];if(typeof C!="function"){if(yA(C||_)===null)continue;break}var k=mr(_);k!==null&&(h.splice(p,3),p-=3,mM(k,{pending:!0,data:P,method:_.method,action:C},C,P))}}))}function Kp(h){function p(fe){return Cb(fe,h)}nh!==null&&Cb(nh,h),ah!==null&&Cb(ah,h),ih!==null&&Cb(ih,h),ky.forEach(p),Iy.forEach(p);for(var _=0;_<oh.length;_++){var C=oh[_];C.blockedOn===h&&(C.blockedOn=null)}for(;0<oh.length&&(_=oh[0],_.blockedOn===null);)mB(_),_.blockedOn===null&&oh.shift();if(_=(h.ownerDocument||h).$$reactFormReplay,_!=null)for(C=0;C<_.length;C+=3){var P=_[C],k=_[C+1],Z=P[at]||null;if(typeof k=="function")Z||xB(_);else if(Z){var ae=null;if(k&&k.hasAttribute("formAction")){if(P=k,Z=k[at]||null)ae=Z.formAction;else if(yA(P)!==null)continue}else ae=Z.action;typeof ae=="function"?_[C+1]=ae:(_.splice(C,3),C-=3),xB(_)}}}function _B(){function h(k){k.canIntercept&&k.info==="react-transition"&&k.intercept({handler:function(){return new Promise(function(Z){return P=Z})},focusReset:"manual",scroll:"manual"})}function p(){P!==null&&(P(),P=null),C||setTimeout(_,20)}function _(){if(!C&&!navigation.transition){var k=navigation.currentEntry;k&&k.url!=null&&navigation.navigate(k.url,{state:k.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var C=!1,P=null;return navigation.addEventListener("navigate",h),navigation.addEventListener("navigatesuccess",p),navigation.addEventListener("navigateerror",p),setTimeout(_,100),function(){C=!0,navigation.removeEventListener("navigate",h),navigation.removeEventListener("navigatesuccess",p),navigation.removeEventListener("navigateerror",p),P!==null&&(P(),P=null)}}}function _A(h){this._internalRoot=h}Ab.prototype.render=_A.prototype.render=function(h){var p=this._internalRoot;if(p===null)throw Error(n(409));var _=p.current,C=Ss();fB(_,C,h,p,null,null)},Ab.prototype.unmount=_A.prototype.unmount=function(){var h=this._internalRoot;if(h!==null){this._internalRoot=null;var p=h.containerInfo;fB(h.current,2,null,h,null,null),sb(),p[pt]=null}};function Ab(h){this._internalRoot=h}Ab.prototype.unstable_scheduleHydration=function(h){if(h){var p=qe();h={blockedOn:null,target:h,priority:p};for(var _=0;_<oh.length&&p!==0&&p<oh[_].priority;_++);oh.splice(_,0,h),_===0&&mB(h)}};var bB=e.version;if(bB!=="19.2.4")throw Error(n(527,bB,"19.2.4"));X.findDOMNode=function(h){var p=h._reactInternals;if(p===void 0)throw typeof h.render=="function"?Error(n(188)):(h=Object.keys(h).join(","),Error(n(268,h)));return h=u(p),h=h!==null?c(h):null,h=h===null?null:h.stateNode,h};var nne={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Db=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Db.isDisabled&&Db.supportsFiber)try{ia=Db.inject(nne),gr=Db}catch{}}return zy.createRoot=function(h,p){if(!a(h))throw Error(n(299));var _=!1,C="",P=Dj,k=Lj,Z=Ej;return p!=null&&(p.unstable_strictMode===!0&&(_=!0),p.identifierPrefix!==void 0&&(C=p.identifierPrefix),p.onUncaughtError!==void 0&&(P=p.onUncaughtError),p.onCaughtError!==void 0&&(k=p.onCaughtError),p.onRecoverableError!==void 0&&(Z=p.onRecoverableError)),p=uB(h,1,!1,null,null,_,C,null,P,k,Z,_B),h[pt]=p.current,tA(h),new _A(p)},zy.hydrateRoot=function(h,p,_){if(!a(h))throw Error(n(299));var C=!1,P="",k=Dj,Z=Lj,ae=Ej,fe=null;return _!=null&&(_.unstable_strictMode===!0&&(C=!0),_.identifierPrefix!==void 0&&(P=_.identifierPrefix),_.onUncaughtError!==void 0&&(k=_.onUncaughtError),_.onCaughtError!==void 0&&(Z=_.onCaughtError),_.onRecoverableError!==void 0&&(ae=_.onRecoverableError),_.formState!==void 0&&(fe=_.formState)),p=uB(h,1,!0,p,_??null,C,P,fe,k,Z,ae,_B),p.context=cB(null),_=p.current,C=Ss(),C=be(C),P=Wf(C),P.callback=null,Yf(_,P,C),_=C,p.current.lanes=_,Ba(p,_),Ou(p),h[pt]=p.current,tA(h),new Ab(p)},zy.version="19.2.4",zy}var NB;function dne(){if(NB)return wA.exports;NB=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),wA.exports=hne(),wA.exports}var vne=dne();var Q8=t=>{throw TypeError(t)},pne=(t,e,r)=>e.has(t)||Q8("Cannot "+r),AA=(t,e,r)=>(pne(t,e,"read from private field"),r?r.call(t):e.get(t)),gne=(t,e,r)=>e.has(t)?Q8("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),RB="popstate";function mne(t={}){function e(n,a){let{pathname:i,search:o,hash:s}=n.location;return cx("",{pathname:i,search:o,hash:s},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:dc(a)}return xne(e,r,null,t)}function Ar(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Pa(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function yne(){return Math.random().toString(36).substring(2,10)}function PB(t,e){return{usr:t.state,key:t.key,idx:e}}function cx(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?id(e):e,state:r,key:e&&e.key||n||yne()}}function dc({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function id(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function xne(t,e,r,n={}){let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,s="POP",l=null,u=c();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function c(){return(o.state||{idx:null}).idx}function f(){s="POP";let b=c(),S=b==null?null:b-u;u=b,l&&l({action:s,location:y.location,delta:S})}function d(b,S){s="PUSH";let w=cx(y.location,b,S);u=c()+1;let M=PB(w,u),A=y.createHref(w);try{o.pushState(M,"",A)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;a.location.assign(A)}i&&l&&l({action:s,location:y.location,delta:1})}function v(b,S){s="REPLACE";let w=cx(y.location,b,S);u=c();let M=PB(w,u),A=y.createHref(w);o.replaceState(M,"",A),i&&l&&l({action:s,location:y.location,delta:0})}function g(b){return J8(b)}let y={get action(){return s},get location(){return t(a,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(RB,f),l=b,()=>{a.removeEventListener(RB,f),l=null}},createHref(b){return e(a,b)},createURL:g,encodeLocation(b){let S=g(b);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:d,replace:v,go(b){return o.go(b)}};return y}function J8(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Ar(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:dc(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}var C0,kB=class{constructor(t){if(gne(this,C0,new Map),t)for(let[e,r]of t)this.set(e,r)}get(t){if(AA(this,C0).has(t))return AA(this,C0).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){AA(this,C0).set(t,e)}};C0=new WeakMap;var _ne=new Set(["lazy","caseSensitive","path","id","index","children"]);function bne(t){return _ne.has(t)}var Sne=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function wne(t){return Sne.has(t)}function Tne(t){return t.index===!0}function fx(t,e,r=[],n={},a=!1){return t.map((i,o)=>{let s=[...r,String(o)],l=typeof i.id=="string"?i.id:s.join("-");if(Ar(i.index!==!0||!i.children,"Cannot specify children on an index route"),Ar(a||!n[l],`Found a route id collision on id "${l}".  Route id's must be globally unique within Data Router usages`),Tne(i)){let u={...i,id:l};return n[l]=IB(u,e(u)),u}else{let u={...i,id:l,children:void 0};return n[l]=IB(u,e(u)),i.children&&(u.children=fx(i.children,e,s,n,a)),u}})}function IB(t,e){return Object.assign(t,{...e,...typeof e.lazy=="object"&&e.lazy!=null?{lazy:{...t.lazy,...e.lazy}}:{}})}function Ah(t,e,r="/"){return M0(t,e,r,!1)}function M0(t,e,r,n){let a=typeof e=="string"?id(e):e,i=Cl(a.pathname||"/",r);if(i==null)return null;let o=e7(t);Mne(o);let s=null;for(let l=0;s==null&&l<o.length;++l){let u=jne(i);s=Ine(o[l],u,n)}return s}function Cne(t,e){let{route:r,pathname:n,params:a}=t;return{id:r.id,pathname:n,params:a,data:e[r.id],loaderData:e[r.id],handle:r.handle}}function e7(t,e=[],r=[],n="",a=!1){let i=(o,s,l=a,u)=>{let c={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};if(c.relativePath.startsWith("/")){if(!c.relativePath.startsWith(n)&&l)return;Ar(c.relativePath.startsWith(n),`Absolute route path "${c.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(n.length)}let f=sc([n,c.relativePath]),d=r.concat(c);o.children&&o.children.length>0&&(Ar(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),e7(o.children,e,d,f,l)),!(o.path==null&&!o.index)&&e.push({path:f,score:Pne(f,o.index),routesMeta:d})};return t.forEach((o,s)=>{if(o.path===""||!o.path?.includes("?"))i(o,s);else for(let l of t7(o.path))i(o,s,!0,l)}),e}function t7(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=t7(n.join("/")),s=[];return s.push(...o.map(l=>l===""?i:[i,l].join("/"))),a&&s.push(...o),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function Mne(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:kne(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var Ane=/^:[\w-]+$/,Dne=3,Lne=2,Ene=1,Nne=10,Rne=-2,OB=t=>t==="*";function Pne(t,e){let r=t.split("/"),n=r.length;return r.some(OB)&&(n+=Rne),e&&(n+=Lne),r.filter(a=>!OB(a)).reduce((a,i)=>a+(Ane.test(i)?Dne:i===""?Ene:Nne),n)}function kne(t,e){return t.length===e.length&&t.slice(0,-1).every((n,a)=>n===e[a])?t[t.length-1]-e[e.length-1]:0}function Ine(t,e,r=!1){let{routesMeta:n}=t,a={},i="/",o=[];for(let s=0;s<n.length;++s){let l=n[s],u=s===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",f=BS({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),d=l.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=BS({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:sc([i,f.pathname]),pathnameBase:Vne(sc([i,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(i=sc([i,f.pathnameBase]))}return o}function BS(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=One(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),s=a.slice(1);return{params:n.reduce((u,{paramName:c,isOptional:f},d)=>{if(c==="*"){let g=s[d]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const v=s[d];return f&&!v?u[c]=void 0:u[c]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function One(t,e=!1,r=!0){Pa(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,l)=>(n.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function jne(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Pa(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Cl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function zne({basename:t,pathname:e}){return e==="/"?t:sc([t,e])}var r7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,BR=t=>r7.test(t);function Bne(t,e="/"){let{pathname:r,search:n="",hash:a=""}=typeof t=="string"?id(t):t,i;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?i=jB(r.substring(1),"/"):i=jB(r,e)):i=e,{pathname:i,search:Fne(n),hash:Hne(a)}}function jB(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function DA(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function n7(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function fT(t){let e=n7(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function hT(t,e,r,n=!1){let a;typeof t=="string"?a=id(t):(a={...t},Ar(!a.pathname||!a.pathname.includes("?"),DA("?","pathname","search",a)),Ar(!a.pathname||!a.pathname.includes("#"),DA("#","pathname","hash",a)),Ar(!a.search||!a.search.includes("#"),DA("#","search","hash",a)));let i=t===""||a.pathname==="",o=i?"/":a.pathname,s;if(o==null)s=r;else{let f=e.length-1;if(!n&&o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),f-=1;a.pathname=d.join("/")}s=f>=0?e[f]:"/"}let l=Bne(a,s),u=o&&o!=="/"&&o.endsWith("/"),c=(i||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var sc=t=>t.join("/").replace(/\/\/+/g,"/"),Vne=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Fne=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Hne=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Kx=class{constructor(t,e,r,n=!1){this.status=t,this.statusText=e||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function hx(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function Qx(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var a7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function i7(t,e){let r=t;if(typeof r!="string"||!r7.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,a=!1;if(a7)try{let i=new URL(window.location.href),o=r.startsWith("//")?new URL(i.protocol+r):new URL(r),s=Cl(o.pathname,e);o.origin===i.origin&&s!=null?r=s+o.search+o.hash:a=!0}catch{Pa(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:a,to:r}}var Lh=Symbol("Uninstrumented");function Gne(t,e){let r={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};t.forEach(a=>a({id:e.id,index:e.index,path:e.path,instrument(i){let o=Object.keys(r);for(let s of o)i[s]&&r[s].push(i[s])}}));let n={};if(typeof e.lazy=="function"&&r.lazy.length>0){let a=Og(r.lazy,e.lazy,()=>{});a&&(n.lazy=a)}if(typeof e.lazy=="object"){let a=e.lazy;["middleware","loader","action"].forEach(i=>{let o=a[i],s=r[`lazy.${i}`];if(typeof o=="function"&&s.length>0){let l=Og(s,o,()=>{});l&&(n.lazy=Object.assign(n.lazy||{},{[i]:l}))}})}return["loader","action"].forEach(a=>{let i=e[a];if(typeof i=="function"&&r[a].length>0){let o=i[Lh]??i,s=Og(r[a],o,(...l)=>zB(l[0]));s&&(a==="loader"&&o.hydrate===!0&&(s.hydrate=!0),s[Lh]=o,n[a]=s)}}),e.middleware&&e.middleware.length>0&&r.middleware.length>0&&(n.middleware=e.middleware.map(a=>{let i=a[Lh]??a,o=Og(r.middleware,i,(...s)=>zB(s[0]));return o?(o[Lh]=i,o):a})),n}function Une(t,e){let r={navigate:[],fetch:[]};if(e.forEach(n=>n({instrument(a){let i=Object.keys(a);for(let o of i)a[o]&&r[o].push(a[o])}})),r.navigate.length>0){let n=t.navigate[Lh]??t.navigate,a=Og(r.navigate,n,(...i)=>{let[o,s]=i;return{to:typeof o=="number"||typeof o=="string"?o:o?dc(o):".",...BB(t,s??{})}});a&&(a[Lh]=n,t.navigate=a)}if(r.fetch.length>0){let n=t.fetch[Lh]??t.fetch,a=Og(r.fetch,n,(...i)=>{let[o,,s,l]=i;return{href:s??".",fetcherKey:o,...BB(t,l??{})}});a&&(a[Lh]=n,t.fetch=a)}return t}function Og(t,e,r){return t.length===0?null:async(...n)=>{let a=await o7(t,r(...n),()=>e(...n),t.length-1);if(a.type==="error")throw a.value;return a.value}}async function o7(t,e,r,n){let a=t[n],i;if(a){let o,s=async()=>(o?console.error("You cannot call instrumented handlers more than once"):o=o7(t,e,r,n-1),i=await o,Ar(i,"Expected a result"),i.type==="error"&&i.value instanceof Error?{status:"error",error:i.value}:{status:"success",error:void 0});try{await a(s,e)}catch(l){console.error("An instrumentation function threw an error:",l)}o||await s(),await o}else try{i={type:"success",value:await r()}}catch(o){i={type:"error",value:o}}return i||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function zB(t){let{request:e,context:r,params:n,unstable_pattern:a}=t;return{request:Wne(e),params:{...n},unstable_pattern:a,context:Yne(r)}}function BB(t,e){return{currentUrl:dc(t.state.location),..."formMethod"in e?{formMethod:e.formMethod}:{},..."formEncType"in e?{formEncType:e.formEncType}:{},..."formData"in e?{formData:e.formData}:{},..."body"in e?{body:e.body}:{}}}function Wne(t){return{method:t.method,url:t.url,headers:{get:(...e)=>t.headers.get(...e)}}}function Yne(t){if(qne(t)){let e={...t};return Object.freeze(e),e}else return{get:e=>t.get(e)}}var Zne=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function qne(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===Object.prototype||e===null||Object.getOwnPropertyNames(e).sort().join("\0")===Zne}var s7=["POST","PUT","PATCH","DELETE"],$ne=new Set(s7),Xne=["GET",...s7],Kne=new Set(Xne),l7=new Set([301,302,303,307,308]),Qne=new Set([307,308]),LA={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Jne={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},By={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},eae=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),u7="remix-router-transitions",c7=Symbol("ResetLoaderData");function tae(t){const e=t.window?t.window:typeof window<"u"?window:void 0,r=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Ar(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let n=t.hydrationRouteProperties||[],a=t.mapRouteProperties||eae,i=a;if(t.unstable_instrumentations){let ce=t.unstable_instrumentations;i=ge=>({...a(ge),...Gne(ce.map(be=>be.route).filter(Boolean),ge)})}let o={},s=fx(t.routes,i,void 0,o),l,u=t.basename||"/";u.startsWith("/")||(u=`/${u}`);let c=t.dataStrategy||oae,f={...t.future},d=null,v=new Set,g=null,y=null,b=null,S=t.hydrationData!=null,w=Ah(s,t.history.location,u),M=!1,A=null,D;if(w==null&&!t.patchRoutesOnNavigation){let ce=ll(404,{pathname:t.history.location.pathname}),{matches:ge,route:be}=Lb(s);D=!0,w=ge,A={[be.id]:ce}}else if(w&&!t.hydrationData&&kl(w,s,t.history.location.pathname).active&&(w=null),w)if(w.some(ce=>ce.route.lazy))D=!1;else if(!w.some(ce=>VR(ce.route)))D=!0;else{let ce=t.hydrationData?t.hydrationData.loaderData:null,ge=t.hydrationData?t.hydrationData.errors:null;if(ge){let be=w.findIndex(Te=>ge[Te.route.id]!==void 0);D=w.slice(0,be+1).every(Te=>!BL(Te.route,ce,ge))}else D=w.every(be=>!BL(be.route,ce,ge))}else{D=!1,w=[];let ce=kl(null,s,t.history.location.pathname);ce.active&&ce.matches&&(M=!0,w=ce.matches)}let R,N={historyAction:t.history.action,location:t.history.location,matches:w,initialized:D,navigation:LA,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||A,fetchers:new Map,blockers:new Map},I="POP",z=null,B=!1,V,G=!1,F=new Map,q=null,Q=!1,H=!1,X=new Set,W=new Map,J=0,ee=-1,K=new Map,ne=new Set,ie=new Map,le=new Map,me=new Set,we=new Map,pe,Pe=null;function ke(){if(d=t.history.listen(({action:ce,location:ge,delta:be})=>{if(pe){pe(),pe=void 0;return}Pa(we.size===0||be!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Te=oa({currentLocation:N.location,nextLocation:ge,historyAction:ce});if(Te&&be!=null){let qe=new Promise(At=>{pe=At});t.history.go(be*-1),Ri(Te,{state:"blocked",location:ge,proceed(){Ri(Te,{state:"proceeding",proceed:void 0,reset:void 0,location:ge}),qe.then(()=>t.history.go(be))},reset(){let At=new Map(N.blockers);At.set(Te,By),Oe({blockers:At})}}),z?.resolve(),z=null;return}return jt(ce,ge)}),r){Tae(e,F);let ce=()=>Cae(e,F);e.addEventListener("pagehide",ce),q=()=>e.removeEventListener("pagehide",ce)}return N.initialized||jt("POP",N.location,{initialHydration:!0}),R}function ze(){d&&d(),q&&q(),v.clear(),V&&V.abort(),N.fetchers.forEach((ce,ge)=>wa(ge)),N.blockers.forEach((ce,ge)=>Oo(ge))}function Ie(ce){return v.add(ce),()=>v.delete(ce)}function Oe(ce,ge={}){ce.matches&&(ce.matches=ce.matches.map(qe=>{let At=o[qe.route.id],rt=qe.route;return rt.element!==At.element||rt.errorElement!==At.errorElement||rt.hydrateFallbackElement!==At.hydrateFallbackElement?{...qe,route:At}:qe})),N={...N,...ce};let be=[],Te=[];N.fetchers.forEach((qe,At)=>{qe.state==="idle"&&(me.has(At)?be.push(At):Te.push(At))}),me.forEach(qe=>{!N.fetchers.has(qe)&&!W.has(qe)&&be.push(qe)}),[...v].forEach(qe=>qe(N,{deletedFetchers:be,newErrors:ce.errors??null,viewTransitionOpts:ge.viewTransitionOpts,flushSync:ge.flushSync===!0})),be.forEach(qe=>wa(qe)),Te.forEach(qe=>N.fetchers.delete(qe))}function vt(ce,ge,{flushSync:be}={}){let Te=N.actionData!=null&&N.navigation.formMethod!=null&&no(N.navigation.formMethod)&&N.navigation.state==="loading"&&ce.state?._isRedirect!==!0,qe;ge.actionData?Object.keys(ge.actionData).length>0?qe=ge.actionData:qe=null:Te?qe=N.actionData:qe=null;let At=ge.loaderData?$B(N.loaderData,ge.loaderData,ge.matches||[],ge.errors):N.loaderData,rt=N.blockers;rt.size>0&&(rt=new Map(rt),rt.forEach((Pt,Tt)=>rt.set(Tt,By)));let Je=Q?!1:Pf(ce,ge.matches||N.matches),at=B===!0||N.navigation.formMethod!=null&&no(N.navigation.formMethod)&&ce.state?._isRedirect!==!0;l&&(s=l,l=void 0),Q||I==="POP"||(I==="PUSH"?t.history.push(ce,ce.state):I==="REPLACE"&&t.history.replace(ce,ce.state));let pt;if(I==="POP"){let Pt=F.get(N.location.pathname);Pt&&Pt.has(ce.pathname)?pt={currentLocation:N.location,nextLocation:ce}:F.has(ce.pathname)&&(pt={currentLocation:ce,nextLocation:N.location})}else if(G){let Pt=F.get(N.location.pathname);Pt?Pt.add(ce.pathname):(Pt=new Set([ce.pathname]),F.set(N.location.pathname,Pt)),pt={currentLocation:N.location,nextLocation:ce}}Oe({...ge,actionData:qe,loaderData:At,historyAction:I,location:ce,initialized:!0,navigation:LA,revalidation:"idle",restoreScrollPosition:Je,preventScrollReset:at,blockers:rt},{viewTransitionOpts:pt,flushSync:be===!0}),I="POP",B=!1,G=!1,Q=!1,H=!1,z?.resolve(),z=null,Pe?.resolve(),Pe=null}async function ct(ce,ge){if(z?.resolve(),z=null,typeof ce=="number"){z||(z=JB());let tr=z.promise;return t.history.go(ce),tr}let be=zL(N.location,N.matches,u,ce,ge?.fromRouteId,ge?.relative),{path:Te,submission:qe,error:At}=VB(!1,be,ge),rt=N.location,Je=cx(N.location,Te,ge&&ge.state);Je={...Je,...t.history.encodeLocation(Je)};let at=ge&&ge.replace!=null?ge.replace:void 0,pt="PUSH";at===!0?pt="REPLACE":at===!1||qe!=null&&no(qe.formMethod)&&qe.formAction===N.location.pathname+N.location.search&&(pt="REPLACE");let Pt=ge&&"preventScrollReset"in ge?ge.preventScrollReset===!0:void 0,Tt=(ge&&ge.flushSync)===!0,Tr=oa({currentLocation:rt,nextLocation:Je,historyAction:pt});if(Tr){Ri(Tr,{state:"blocked",location:Je,proceed(){Ri(Tr,{state:"proceeding",proceed:void 0,reset:void 0,location:Je}),ct(ce,ge)},reset(){let tr=new Map(N.blockers);tr.set(Tr,By),Oe({blockers:tr})}});return}await jt(pt,Je,{submission:qe,pendingError:At,preventScrollReset:Pt,replace:ge&&ge.replace,enableViewTransition:ge&&ge.viewTransition,flushSync:Tt,callSiteDefaultShouldRevalidate:ge&&ge.unstable_defaultShouldRevalidate})}function Ft(){Pe||(Pe=JB()),wn(),Oe({revalidation:"loading"});let ce=Pe.promise;return N.navigation.state==="submitting"?ce:N.navigation.state==="idle"?(jt(N.historyAction,N.location,{startUninterruptedRevalidation:!0}),ce):(jt(I||N.historyAction,N.navigation.location,{overrideNavigation:N.navigation,enableViewTransition:G===!0}),ce)}async function jt(ce,ge,be){V&&V.abort(),V=null,I=ce,Q=(be&&be.startUninterruptedRevalidation)===!0,Pl(N.location,N.matches),B=(be&&be.preventScrollReset)===!0,G=(be&&be.enableViewTransition)===!0;let Te=l||s,qe=be&&be.overrideNavigation,At=be?.initialHydration&&N.matches&&N.matches.length>0&&!M?N.matches:Ah(Te,ge,u),rt=(be&&be.flushSync)===!0;if(At&&N.initialized&&!H&&vae(N.location,ge)&&!(be&&be.submission&&no(be.submission.formMethod))){vt(ge,{matches:At},{flushSync:rt});return}let Je=kl(At,Te,ge.pathname);if(Je.active&&Je.matches&&(At=Je.matches),!At){let{error:fr,notFoundMatches:lr,route:mr}=po(ge.pathname);vt(ge,{matches:lr,loaderData:{},errors:{[mr.id]:fr}},{flushSync:rt});return}V=new AbortController;let at=Eg(t.history,ge,V.signal,be&&be.submission),pt=t.getContext?await t.getContext():new kB,Pt;if(be&&be.pendingError)Pt=[Dh(At).route.id,{type:"error",error:be.pendingError}];else if(be&&be.submission&&no(be.submission.formMethod)){let fr=await Lr(at,ge,be.submission,At,pt,Je.active,be&&be.initialHydration===!0,{replace:be.replace,flushSync:rt});if(fr.shortCircuited)return;if(fr.pendingActionResult){let[lr,mr]=fr.pendingActionResult;if(Ms(mr)&&hx(mr.error)&&mr.error.status===404){V=null,vt(ge,{matches:fr.matches,loaderData:{},errors:{[lr]:mr.error}});return}}At=fr.matches||At,Pt=fr.pendingActionResult,qe=EA(ge,be.submission),rt=!1,Je.active=!1,at=Eg(t.history,at.url,at.signal)}let{shortCircuited:Tt,matches:Tr,loaderData:tr,errors:cr}=await Rn(at,ge,At,pt,Je.active,qe,be&&be.submission,be&&be.fetcherSubmission,be&&be.replace,be&&be.initialHydration===!0,rt,Pt,be&&be.callSiteDefaultShouldRevalidate);Tt||(V=null,vt(ge,{matches:Tr||At,...XB(Pt),loaderData:tr,errors:cr}))}async function Lr(ce,ge,be,Te,qe,At,rt,Je={}){wn();let at=Sae(ge,be);if(Oe({navigation:at},{flushSync:Je.flushSync===!0}),At){let Tt=await Ws(Te,ge.pathname,ce.signal);if(Tt.type==="aborted")return{shortCircuited:!0};if(Tt.type==="error"){if(Tt.partialMatches.length===0){let{matches:tr,route:cr}=Lb(s);return{matches:tr,pendingActionResult:[cr.id,{type:"error",error:Tt.error}]}}let Tr=Dh(Tt.partialMatches).route.id;return{matches:Tt.partialMatches,pendingActionResult:[Tr,{type:"error",error:Tt.error}]}}else if(Tt.matches)Te=Tt.matches;else{let{notFoundMatches:Tr,error:tr,route:cr}=po(ge.pathname);return{matches:Tr,pendingActionResult:[cr.id,{type:"error",error:tr}]}}}let pt,Pt=uS(Te,ge);if(!Pt.route.action&&!Pt.route.lazy)pt={type:"error",error:ll(405,{method:ce.method,pathname:ge.pathname,routeId:Pt.route.id})};else{let Tt=Ug(i,o,ce,Te,Pt,rt?[]:n,qe),Tr=await nt(ce,Tt,qe,null);if(pt=Tr[Pt.route.id],!pt){for(let tr of Te)if(Tr[tr.route.id]){pt=Tr[tr.route.id];break}}if(ce.signal.aborted)return{shortCircuited:!0}}if(wv(pt)){let Tt;return Je&&Je.replace!=null?Tt=Je.replace:Tt=YB(pt.response.headers.get("Location"),new URL(ce.url),u,t.history)===N.location.pathname+N.location.search,await Mt(ce,pt,!0,{submission:be,replace:Tt}),{shortCircuited:!0}}if(Ms(pt)){let Tt=Dh(Te,Pt.route.id);return(Je&&Je.replace)!==!0&&(I="PUSH"),{matches:Te,pendingActionResult:[Tt.route.id,pt,Pt.route.id]}}return{matches:Te,pendingActionResult:[Pt.route.id,pt]}}async function Rn(ce,ge,be,Te,qe,At,rt,Je,at,pt,Pt,Tt,Tr){let tr=At||EA(ge,rt),cr=rt||Je||QB(tr),fr=!Q&&!pt;if(qe){if(fr){let Ot=fn(Tt);Oe({navigation:tr,...Ot!==void 0?{actionData:Ot}:{}},{flushSync:Pt})}let ir=await Ws(be,ge.pathname,ce.signal);if(ir.type==="aborted")return{shortCircuited:!0};if(ir.type==="error"){if(ir.partialMatches.length===0){let{matches:Cr,route:Er}=Lb(s);return{matches:Cr,loaderData:{},errors:{[Er.id]:ir.error}}}let Ot=Dh(ir.partialMatches).route.id;return{matches:ir.partialMatches,loaderData:{},errors:{[Ot]:ir.error}}}else if(ir.matches)be=ir.matches;else{let{error:Ot,notFoundMatches:Cr,route:Er}=po(ge.pathname);return{matches:Cr,loaderData:{},errors:{[Er.id]:Ot}}}}let lr=l||s,{dsMatches:mr,revalidatingFetchers:Vr}=FB(ce,Te,i,o,t.history,N,be,cr,ge,pt?[]:n,pt===!0,H,X,me,ie,ne,lr,u,t.patchRoutesOnNavigation!=null,Tt,Tr);if(ee=++J,!t.dataStrategy&&!mr.some(ir=>ir.shouldLoad)&&!mr.some(ir=>ir.route.middleware&&ir.route.middleware.length>0)&&Vr.length===0){let ir=ca();return vt(ge,{matches:be,loaderData:{},errors:Tt&&Ms(Tt[1])?{[Tt[0]]:Tt[1].error}:null,...XB(Tt),...ir?{fetchers:new Map(N.fetchers)}:{}},{flushSync:Pt}),{shortCircuited:!0}}if(fr){let ir={};if(!qe){ir.navigation=tr;let Ot=fn(Tt);Ot!==void 0&&(ir.actionData=Ot)}Vr.length>0&&(ir.fetchers=tn(Vr)),Oe(ir,{flushSync:Pt})}Vr.forEach(ir=>{gr(ir.key),ir.controller&&W.set(ir.key,ir.controller)});let ha=()=>Vr.forEach(ir=>gr(ir.key));V&&V.signal.addEventListener("abort",ha);let{loaderResults:Tn,fetcherResults:ki}=await Or(mr,Vr,ce,Te);if(ce.signal.aborted)return{shortCircuited:!0};V&&V.signal.removeEventListener("abort",ha),Vr.forEach(ir=>W.delete(ir.key));let Va=Eb(Tn);if(Va)return await Mt(ce,Va.result,!0,{replace:at}),{shortCircuited:!0};if(Va=Eb(ki),Va)return ne.add(Va.key),await Mt(ce,Va.result,!0,{replace:at}),{shortCircuited:!0};let{loaderData:Fa,errors:Ha}=qB(N,be,Tn,Tt,Vr,ki);pt&&N.errors&&(Ha={...N.errors,...Ha});let ii=ca(),zo=vo(ee),Bo=ii||zo||Vr.length>0;return{matches:be,loaderData:Fa,errors:Ha,...Bo?{fetchers:new Map(N.fetchers)}:{}}}function fn(ce){if(ce&&!Ms(ce[1]))return{[ce[0]]:ce[1].data};if(N.actionData)return Object.keys(N.actionData).length===0?null:N.actionData}function tn(ce){return ce.forEach(ge=>{let be=N.fetchers.get(ge.key),Te=Vy(void 0,be?be.data:void 0);N.fetchers.set(ge.key,Te)}),new Map(N.fetchers)}async function aa(ce,ge,be,Te){gr(ce);let qe=(Te&&Te.flushSync)===!0,At=l||s,rt=zL(N.location,N.matches,u,be,ge,Te?.relative),Je=Ah(At,rt,u),at=kl(Je,At,rt);if(at.active&&at.matches&&(Je=at.matches),!Je){Sa(ce,ge,ll(404,{pathname:rt}),{flushSync:qe});return}let{path:pt,submission:Pt,error:Tt}=VB(!0,rt,Te);if(Tt){Sa(ce,ge,Tt,{flushSync:qe});return}let Tr=t.getContext?await t.getContext():new kB,tr=(Te&&Te.preventScrollReset)===!0;if(Pt&&no(Pt.formMethod)){await za(ce,ge,pt,Je,Tr,at.active,qe,tr,Pt,Te&&Te.unstable_defaultShouldRevalidate);return}ie.set(ce,{routeId:ge,path:pt}),await ko(ce,ge,pt,Je,Tr,at.active,qe,tr,Pt)}async function za(ce,ge,be,Te,qe,At,rt,Je,at,pt){wn(),ie.delete(ce);let Pt=N.fetchers.get(ce);ea(ce,wae(at,Pt),{flushSync:rt});let Tt=new AbortController,Tr=Eg(t.history,be,Tt.signal,at);if(At){let or=await Ws(Te,new URL(Tr.url).pathname,Tr.signal,ce);if(or.type==="aborted")return;if(or.type==="error"){Sa(ce,ge,or.error,{flushSync:rt});return}else if(or.matches)Te=or.matches;else{Sa(ce,ge,ll(404,{pathname:be}),{flushSync:rt});return}}let tr=uS(Te,be);if(!tr.route.action&&!tr.route.lazy){let or=ll(405,{method:at.formMethod,pathname:be,routeId:ge});Sa(ce,ge,or,{flushSync:rt});return}W.set(ce,Tt);let cr=J,fr=Ug(i,o,Tr,Te,tr,n,qe),lr=await nt(Tr,fr,qe,ce),mr=lr[tr.route.id];if(!mr){for(let or of fr)if(lr[or.route.id]){mr=lr[or.route.id];break}}if(Tr.signal.aborted){W.get(ce)===Tt&&W.delete(ce);return}if(me.has(ce)){if(wv(mr)||Ms(mr)){ea(ce,tf(void 0));return}}else{if(wv(mr))if(W.delete(ce),ee>cr){ea(ce,tf(void 0));return}else return ne.add(ce),ea(ce,Vy(at)),Mt(Tr,mr,!1,{fetcherSubmission:at,preventScrollReset:Je});if(Ms(mr)){Sa(ce,ge,mr.error);return}}let Vr=N.navigation.location||N.location,ha=Eg(t.history,Vr,Tt.signal),Tn=l||s,ki=N.navigation.state!=="idle"?Ah(Tn,N.navigation.location,u):N.matches;Ar(ki,"Didn't find any matches after fetcher action");let Va=++J;K.set(ce,Va);let Fa=Vy(at,mr.data);N.fetchers.set(ce,Fa);let{dsMatches:Ha,revalidatingFetchers:ii}=FB(ha,qe,i,o,t.history,N,ki,at,Vr,n,!1,H,X,me,ie,ne,Tn,u,t.patchRoutesOnNavigation!=null,[tr.route.id,mr],pt);ii.filter(or=>or.key!==ce).forEach(or=>{let Ii=or.key,Ys=N.fetchers.get(Ii),Kt=Vy(void 0,Ys?Ys.data:void 0);N.fetchers.set(Ii,Kt),gr(Ii),or.controller&&W.set(Ii,or.controller)}),Oe({fetchers:new Map(N.fetchers)});let zo=()=>ii.forEach(or=>gr(or.key));Tt.signal.addEventListener("abort",zo);let{loaderResults:Bo,fetcherResults:ir}=await Or(Ha,ii,ha,qe);if(Tt.signal.aborted)return;if(Tt.signal.removeEventListener("abort",zo),K.delete(ce),W.delete(ce),ii.forEach(or=>W.delete(or.key)),N.fetchers.has(ce)){let or=tf(mr.data);N.fetchers.set(ce,or)}let Ot=Eb(Bo);if(Ot)return Mt(ha,Ot.result,!1,{preventScrollReset:Je});if(Ot=Eb(ir),Ot)return ne.add(Ot.key),Mt(ha,Ot.result,!1,{preventScrollReset:Je});let{loaderData:Cr,errors:Er}=qB(N,ki,Bo,void 0,ii,ir);vo(Va),N.navigation.state==="loading"&&Va>ee?(Ar(I,"Expected pending action"),V&&V.abort(),vt(N.navigation.location,{matches:ki,loaderData:Cr,errors:Er,fetchers:new Map(N.fetchers)})):(Oe({errors:Er,loaderData:$B(N.loaderData,Cr,ki,Er),fetchers:new Map(N.fetchers)}),H=!1)}async function ko(ce,ge,be,Te,qe,At,rt,Je,at){let pt=N.fetchers.get(ce);ea(ce,Vy(at,pt?pt.data:void 0),{flushSync:rt});let Pt=new AbortController,Tt=Eg(t.history,be,Pt.signal);if(At){let mr=await Ws(Te,new URL(Tt.url).pathname,Tt.signal,ce);if(mr.type==="aborted")return;if(mr.type==="error"){Sa(ce,ge,mr.error,{flushSync:rt});return}else if(mr.matches)Te=mr.matches;else{Sa(ce,ge,ll(404,{pathname:be}),{flushSync:rt});return}}let Tr=uS(Te,be);W.set(ce,Pt);let tr=J,cr=Ug(i,o,Tt,Te,Tr,n,qe),lr=(await nt(Tt,cr,qe,ce))[Tr.route.id];if(W.get(ce)===Pt&&W.delete(ce),!Tt.signal.aborted){if(me.has(ce)){ea(ce,tf(void 0));return}if(wv(lr))if(ee>tr){ea(ce,tf(void 0));return}else{ne.add(ce),await Mt(Tt,lr,!1,{preventScrollReset:Je});return}if(Ms(lr)){Sa(ce,ge,lr.error);return}ea(ce,tf(lr.data))}}async function Mt(ce,ge,be,{submission:Te,fetcherSubmission:qe,preventScrollReset:At,replace:rt}={}){be||(z?.resolve(),z=null),ge.response.headers.has("X-Remix-Revalidate")&&(H=!0);let Je=ge.response.headers.get("Location");Ar(Je,"Expected a Location header on the redirect Response"),Je=YB(Je,new URL(ce.url),u,t.history);let at=cx(N.location,Je,{_isRedirect:!0});if(r){let cr=!1;if(ge.response.headers.has("X-Remix-Reload-Document"))cr=!0;else if(BR(Je)){const fr=J8(Je,!0);cr=fr.origin!==e.location.origin||Cl(fr.pathname,u)==null}if(cr){rt?e.location.replace(Je):e.location.assign(Je);return}}V=null;let pt=rt===!0||ge.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Pt,formAction:Tt,formEncType:Tr}=N.navigation;!Te&&!qe&&Pt&&Tt&&Tr&&(Te=QB(N.navigation));let tr=Te||qe;if(Qne.has(ge.response.status)&&tr&&no(tr.formMethod))await jt(pt,at,{submission:{...tr,formAction:Je},preventScrollReset:At||B,enableViewTransition:be?G:void 0});else{let cr=EA(at,Te);await jt(pt,at,{overrideNavigation:cr,fetcherSubmission:qe,preventScrollReset:At||B,enableViewTransition:be?G:void 0})}}async function nt(ce,ge,be,Te){let qe,At={};try{qe=await lae(c,ce,ge,Te,be,!1)}catch(rt){return ge.filter(Je=>Je.shouldLoad).forEach(Je=>{At[Je.route.id]={type:"error",error:rt}}),At}if(ce.signal.aborted)return At;if(!no(ce.method))for(let rt of ge){if(qe[rt.route.id]?.type==="error")break;!qe.hasOwnProperty(rt.route.id)&&!N.loaderData.hasOwnProperty(rt.route.id)&&(!N.errors||!N.errors.hasOwnProperty(rt.route.id))&&rt.shouldCallHandler()&&(qe[rt.route.id]={type:"error",result:new Error(`No result returned from dataStrategy for route ${rt.route.id}`)})}for(let[rt,Je]of Object.entries(qe))if(yae(Je)){let at=Je.result;At[rt]={type:"redirect",response:hae(at,ce,rt,ge,u)}}else At[rt]=await fae(Je);return At}async function Or(ce,ge,be,Te){let qe=nt(be,ce,Te,null),At=Promise.all(ge.map(async at=>{if(at.matches&&at.match&&at.request&&at.controller){let Pt=(await nt(at.request,at.matches,Te,at.key))[at.match.route.id];return{[at.key]:Pt}}else return Promise.resolve({[at.key]:{type:"error",error:ll(404,{pathname:at.path})}})})),rt=await qe,Je=(await At).reduce((at,pt)=>Object.assign(at,pt),{});return{loaderResults:rt,fetcherResults:Je}}function wn(){H=!0,ie.forEach((ce,ge)=>{W.has(ge)&&X.add(ge),gr(ge)})}function ea(ce,ge,be={}){N.fetchers.set(ce,ge),Oe({fetchers:new Map(N.fetchers)},{flushSync:(be&&be.flushSync)===!0})}function Sa(ce,ge,be,Te={}){let qe=Dh(N.matches,ge);wa(ce),Oe({errors:{[qe.route.id]:be},fetchers:new Map(N.fetchers)},{flushSync:(Te&&Te.flushSync)===!0})}function ai(ce){return le.set(ce,(le.get(ce)||0)+1),me.has(ce)&&me.delete(ce),N.fetchers.get(ce)||Jne}function Io(ce,ge){gr(ce,ge?.reason),ea(ce,tf(null))}function wa(ce){let ge=N.fetchers.get(ce);W.has(ce)&&!(ge&&ge.state==="loading"&&K.has(ce))&&gr(ce),ie.delete(ce),K.delete(ce),ne.delete(ce),me.delete(ce),X.delete(ce),N.fetchers.delete(ce)}function ia(ce){let ge=(le.get(ce)||0)-1;ge<=0?(le.delete(ce),me.add(ce)):le.set(ce,ge),Oe({fetchers:new Map(N.fetchers)})}function gr(ce,ge){let be=W.get(ce);be&&(be.abort(ge),W.delete(ce))}function Zn(ce){for(let ge of ce){let be=ai(ge),Te=tf(be.data);N.fetchers.set(ge,Te)}}function ca(){let ce=[],ge=!1;for(let be of ne){let Te=N.fetchers.get(be);Ar(Te,`Expected fetcher: ${be}`),Te.state==="loading"&&(ne.delete(be),ce.push(be),ge=!0)}return Zn(ce),ge}function vo(ce){let ge=[];for(let[be,Te]of K)if(Te<ce){let qe=N.fetchers.get(be);Ar(qe,`Expected fetcher: ${be}`),qe.state==="loading"&&(gr(be),K.delete(be),ge.push(be))}return Zn(ge),ge.length>0}function Us(ce,ge){let be=N.blockers.get(ce)||By;return we.get(ce)!==ge&&we.set(ce,ge),be}function Oo(ce){N.blockers.delete(ce),we.delete(ce)}function Ri(ce,ge){let be=N.blockers.get(ce)||By;Ar(be.state==="unblocked"&&ge.state==="blocked"||be.state==="blocked"&&ge.state==="blocked"||be.state==="blocked"&&ge.state==="proceeding"||be.state==="blocked"&&ge.state==="unblocked"||be.state==="proceeding"&&ge.state==="unblocked",`Invalid blocker state transition: ${be.state} -> ${ge.state}`);let Te=new Map(N.blockers);Te.set(ce,ge),Oe({blockers:Te})}function oa({currentLocation:ce,nextLocation:ge,historyAction:be}){if(we.size===0)return;we.size>1&&Pa(!1,"A router only supports one blocker at a time");let Te=Array.from(we.entries()),[qe,At]=Te[Te.length-1],rt=N.blockers.get(qe);if(!(rt&&rt.state==="proceeding")&&At({currentLocation:ce,nextLocation:ge,historyAction:be}))return qe}function po(ce){let ge=ll(404,{pathname:ce}),be=l||s,{matches:Te,route:qe}=Lb(be);return{notFoundMatches:Te,route:qe,error:ge}}function jo(ce,ge,be){if(g=ce,b=ge,y=be||null,!S&&N.navigation===LA){S=!0;let Te=Pf(N.location,N.matches);Te!=null&&Oe({restoreScrollPosition:Te})}return()=>{g=null,b=null,y=null}}function Rl(ce,ge){return y&&y(ce,ge.map(Te=>Cne(Te,N.loaderData)))||ce.key}function Pl(ce,ge){if(g&&b){let be=Rl(ce,ge);g[be]=b()}}function Pf(ce,ge){if(g){let be=Rl(ce,ge),Te=g[be];if(typeof Te=="number")return Te}return null}function kl(ce,ge,be){if(t.patchRoutesOnNavigation)if(ce){if(Object.keys(ce[0].params).length>0)return{active:!0,matches:M0(ge,be,u,!0)}}else return{active:!0,matches:M0(ge,be,u,!0)||[]};return{active:!1,matches:null}}async function Ws(ce,ge,be,Te){if(!t.patchRoutesOnNavigation)return{type:"success",matches:ce};let qe=ce;for(;;){let At=l==null,rt=l||s,Je=o;try{await t.patchRoutesOnNavigation({signal:be,path:ge,matches:qe,fetcherKey:Te,patch:(Pt,Tt)=>{be.aborted||HB(Pt,Tt,rt,Je,i,!1)}})}catch(Pt){return{type:"error",error:Pt,partialMatches:qe}}finally{At&&!be.aborted&&(s=[...s])}if(be.aborted)return{type:"aborted"};let at=Ah(rt,ge,u),pt=null;if(at){if(Object.keys(at[0].params).length===0)return{type:"success",matches:at};if(pt=M0(rt,ge,u,!0),!(pt&&qe.length<pt.length&&Ba(qe,pt.slice(0,qe.length))))return{type:"success",matches:at}}if(pt||(pt=M0(rt,ge,u,!0)),!pt||Ba(qe,pt))return{type:"success",matches:null};qe=pt}}function Ba(ce,ge){return ce.length===ge.length&&ce.every((be,Te)=>be.route.id===ge[Te].route.id)}function fa(ce){o={},l=fx(ce,i,void 0,o)}function Pi(ce,ge,be=!1){let Te=l==null;HB(ce,ge,l||s,o,i,be),Te&&(s=[...s],Oe({}))}return R={get basename(){return u},get future(){return f},get state(){return N},get routes(){return s},get window(){return e},initialize:ke,subscribe:Ie,enableScrollRestoration:jo,navigate:ct,fetch:aa,revalidate:Ft,createHref:ce=>t.history.createHref(ce),encodeLocation:ce=>t.history.encodeLocation(ce),getFetcher:ai,resetFetcher:Io,deleteFetcher:ia,dispose:ze,getBlocker:Us,deleteBlocker:Oo,patchRoutes:Pi,_internalFetchControllers:W,_internalSetRoutes:fa,_internalSetStateDoNotUseOrYouWillBreakYourApp(ce){Oe(ce)}},t.unstable_instrumentations&&(R=Une(R,t.unstable_instrumentations.map(ce=>ce.router).filter(Boolean))),R}function rae(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function zL(t,e,r,n,a,i){let o,s;if(a){o=[];for(let u of e)if(o.push(u),u.route.id===a){s=u;break}}else o=e,s=e[e.length-1];let l=hT(n||".",fT(o),Cl(t.pathname,r)||t.pathname,i==="path");if(n==null&&(l.search=t.search,l.hash=t.hash),(n==null||n===""||n===".")&&s){let u=HR(l.search);if(s.route.index&&!u)l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index";else if(!s.route.index&&u){let c=new URLSearchParams(l.search),f=c.getAll("index");c.delete("index"),f.filter(v=>v).forEach(v=>c.append("index",v));let d=c.toString();l.search=d?`?${d}`:""}}return r!=="/"&&(l.pathname=zne({basename:r,pathname:l.pathname})),dc(l)}function VB(t,e,r){if(!r||!rae(r))return{path:e};if(r.formMethod&&!bae(r.formMethod))return{path:e,error:ll(405,{method:r.formMethod})};let n=()=>({path:e,error:ll(400,{type:"invalid-body"})}),i=(r.formMethod||"get").toUpperCase(),o=g7(e);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!no(i))return n();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((d,[v,g])=>`${d}${v}=${g}
`,""):String(r.body);return{path:e,submission:{formMethod:i,formAction:o,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!no(i))return n();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:e,submission:{formMethod:i,formAction:o,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return n()}}}Ar(typeof FormData=="function","FormData is not available in this environment");let s,l;if(r.formData)s=FL(r.formData),l=r.formData;else if(r.body instanceof FormData)s=FL(r.body),l=r.body;else if(r.body instanceof URLSearchParams)s=r.body,l=ZB(s);else if(r.body==null)s=new URLSearchParams,l=new FormData;else try{s=new URLSearchParams(r.body),l=ZB(s)}catch{return n()}let u={formMethod:i,formAction:o,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:l,json:void 0,text:void 0};if(no(u.formMethod))return{path:e,submission:u};let c=id(e);return t&&c.search&&HR(c.search)&&s.append("index",""),c.search=`?${s}`,{path:dc(c),submission:u}}function FB(t,e,r,n,a,i,o,s,l,u,c,f,d,v,g,y,b,S,w,M,A){let D=M?Ms(M[1])?M[1].error:M[1].data:void 0,R=a.createURL(i.location),N=a.createURL(l),I;if(c&&i.errors){let Q=Object.keys(i.errors)[0];I=o.findIndex(H=>H.route.id===Q)}else if(M&&Ms(M[1])){let Q=M[0];I=o.findIndex(H=>H.route.id===Q)-1}let z=M?M[1].statusCode:void 0,B=z&&z>=400,V={currentUrl:R,currentParams:i.matches[0]?.params||{},nextUrl:N,nextParams:o[0].params,...s,actionResult:D,actionStatus:z},G=Qx(o),F=o.map((Q,H)=>{let{route:X}=Q,W=null;if(I!=null&&H>I?W=!1:X.lazy?W=!0:VR(X)?c?W=BL(X,i.loaderData,i.errors):nae(i.loaderData,i.matches[H],Q)&&(W=!0):W=!1,W!==null)return VL(r,n,t,G,Q,u,e,W);let J=!1;typeof A=="boolean"?J=A:B?J=!1:(f||R.pathname+R.search===N.pathname+N.search||R.search!==N.search||aae(i.matches[H],Q))&&(J=!0);let ee={...V,defaultShouldRevalidate:J},K=Y0(Q,ee);return VL(r,n,t,G,Q,u,e,K,ee,A)}),q=[];return g.forEach((Q,H)=>{if(c||!o.some(le=>le.route.id===Q.routeId)||v.has(H))return;let X=i.fetchers.get(H),W=X&&X.state!=="idle"&&X.data===void 0,J=Ah(b,Q.path,S);if(!J){if(w&&W)return;q.push({key:H,routeId:Q.routeId,path:Q.path,matches:null,match:null,request:null,controller:null});return}if(y.has(H))return;let ee=uS(J,Q.path),K=new AbortController,ne=Eg(a,Q.path,K.signal),ie=null;if(d.has(H))d.delete(H),ie=Ug(r,n,ne,J,ee,u,e);else if(W)f&&(ie=Ug(r,n,ne,J,ee,u,e));else{let le;typeof A=="boolean"?le=A:B?le=!1:le=f;let me={...V,defaultShouldRevalidate:le};Y0(ee,me)&&(ie=Ug(r,n,ne,J,ee,u,e,me))}ie&&q.push({key:H,routeId:Q.routeId,path:Q.path,matches:ie,match:ee,request:ne,controller:K})}),{dsMatches:F,revalidatingFetchers:q}}function VR(t){return t.loader!=null||t.middleware!=null&&t.middleware.length>0}function BL(t,e,r){if(t.lazy)return!0;if(!VR(t))return!1;let n=e!=null&&t.id in e,a=r!=null&&r[t.id]!==void 0;return!n&&a?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!n&&!a}function nae(t,e,r){let n=!e||r.route.id!==e.route.id,a=!t.hasOwnProperty(r.route.id);return n||a}function aae(t,e){let r=t.route.path;return t.pathname!==e.pathname||r!=null&&r.endsWith("*")&&t.params["*"]!==e.params["*"]}function Y0(t,e){if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}function HB(t,e,r,n,a,i){let o;if(t){let u=n[t];Ar(u,`No route found to patch children into: routeId = ${t}`),u.children||(u.children=[]),o=u.children}else o=r;let s=[],l=[];if(e.forEach(u=>{let c=o.find(f=>f7(u,f));c?l.push({existingRoute:c,newRoute:u}):s.push(u)}),s.length>0){let u=fx(s,a,[t||"_","patch",String(o?.length||"0")],n);o.push(...u)}if(i&&l.length>0)for(let u=0;u<l.length;u++){let{existingRoute:c,newRoute:f}=l[u],d=c,[v]=fx([f],a,[],{},!0);Object.assign(d,{element:v.element?v.element:d.element,errorElement:v.errorElement?v.errorElement:d.errorElement,hydrateFallbackElement:v.hydrateFallbackElement?v.hydrateFallbackElement:d.hydrateFallbackElement})}}function f7(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((r,n)=>e.children?.some(a=>f7(r,a))):!1}var GB=new WeakMap,h7=({key:t,route:e,manifest:r,mapRouteProperties:n})=>{let a=r[e.id];if(Ar(a,"No route found in manifest"),!a.lazy||typeof a.lazy!="object")return;let i=a.lazy[t];if(!i)return;let o=GB.get(a);o||(o={},GB.set(a,o));let s=o[t];if(s)return s;let l=(async()=>{let u=bne(t),f=a[t]!==void 0&&t!=="hasErrorBoundary";if(u)Pa(!u,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),o[t]=Promise.resolve();else if(f)Pa(!1,`Route "${a.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let d=await i();d!=null&&(Object.assign(a,{[t]:d}),Object.assign(a,n(a)))}typeof a.lazy=="object"&&(a.lazy[t]=void 0,Object.values(a.lazy).every(d=>d===void 0)&&(a.lazy=void 0))})();return o[t]=l,l},UB=new WeakMap;function iae(t,e,r,n,a){let i=r[t.id];if(Ar(i,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let c=UB.get(i);if(c)return{lazyRoutePromise:c,lazyHandlerPromise:c};let f=(async()=>{Ar(typeof t.lazy=="function","No lazy route function found");let d=await t.lazy(),v={};for(let g in d){let y=d[g];if(y===void 0)continue;let b=wne(g),w=i[g]!==void 0&&g!=="hasErrorBoundary";b?Pa(!b,"Route property "+g+" is not a supported property to be returned from a lazy route function. This property will be ignored."):w?Pa(!w,`Route "${i.id}" has a static property "${g}" defined but its lazy function is also returning a value for this property. The lazy route property "${g}" will be ignored.`):v[g]=y}Object.assign(i,v),Object.assign(i,{...n(i),lazy:void 0})})();return UB.set(i,f),f.catch(()=>{}),{lazyRoutePromise:f,lazyHandlerPromise:f}}let o=Object.keys(t.lazy),s=[],l;for(let c of o){if(a&&a.includes(c))continue;let f=h7({key:c,route:t,manifest:r,mapRouteProperties:n});f&&(s.push(f),c===e&&(l=f))}let u=s.length>0?Promise.all(s).then(()=>{}):void 0;return u?.catch(()=>{}),l?.catch(()=>{}),{lazyRoutePromise:u,lazyHandlerPromise:l}}async function WB(t){let e=t.matches.filter(a=>a.shouldLoad),r={};return(await Promise.all(e.map(a=>a.resolve()))).forEach((a,i)=>{r[e[i].route.id]=a}),r}async function oae(t){return t.matches.some(e=>e.route.middleware)?d7(t,()=>WB(t)):WB(t)}function d7(t,e){return sae(t,e,n=>{if(_ae(n))throw n;return n},gae,r);function r(n,a,i){if(i)return Promise.resolve(Object.assign(i.value,{[a]:{type:"error",result:n}}));{let{matches:o}=t,s=Math.min(Math.max(o.findIndex(u=>u.route.id===a),0),Math.max(o.findIndex(u=>u.shouldCallHandler()),0)),l=Dh(o,o[s].route.id).route.id;return Promise.resolve({[l]:{type:"error",result:n}})}}}async function sae(t,e,r,n,a){let{matches:i,request:o,params:s,context:l,unstable_pattern:u}=t,c=i.flatMap(d=>d.route.middleware?d.route.middleware.map(v=>[d.route.id,v]):[]);return await v7({request:o,params:s,context:l,unstable_pattern:u},c,e,r,n,a)}async function v7(t,e,r,n,a,i,o=0){let{request:s}=t;if(s.signal.aborted)throw s.signal.reason??new Error(`Request aborted: ${s.method} ${s.url}`);let l=e[o];if(!l)return await r();let[u,c]=l,f,d=async()=>{if(f)throw new Error("You may only call `next()` once per middleware");try{return f={value:await v7(t,e,r,n,a,i,o+1)},f.value}catch(v){return f={value:await i(v,u,f)},f.value}};try{let v=await c(t,d),g=v!=null?n(v):void 0;return a(g)?g:f?g??f.value:(f={value:await d()},f.value)}catch(v){return await i(v,u,f)}}function p7(t,e,r,n,a){let i=h7({key:"middleware",route:n.route,manifest:e,mapRouteProperties:t}),o=iae(n.route,no(r.method)?"action":"loader",e,t,a);return{middleware:i,route:o.lazyRoutePromise,handler:o.lazyHandlerPromise}}function VL(t,e,r,n,a,i,o,s,l=null,u){let c=!1,f=p7(t,e,r,a,i);return{...a,_lazyPromises:f,shouldLoad:s,shouldRevalidateArgs:l,shouldCallHandler(d){return c=!0,l?typeof u=="boolean"?Y0(a,{...l,defaultShouldRevalidate:u}):typeof d=="boolean"?Y0(a,{...l,defaultShouldRevalidate:d}):Y0(a,l):s},resolve(d){let{lazy:v,loader:g,middleware:y}=a.route,b=c||s||d&&!no(r.method)&&(v||g),S=y&&y.length>0&&!g&&!v;return b&&(no(r.method)||!S)?uae({request:r,unstable_pattern:n,match:a,lazyHandlerPromise:f?.handler,lazyRoutePromise:f?.route,handlerOverride:d,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}}}function Ug(t,e,r,n,a,i,o,s=null){return n.map(l=>l.route.id!==a.route.id?{...l,shouldLoad:!1,shouldRevalidateArgs:s,shouldCallHandler:()=>!1,_lazyPromises:p7(t,e,r,l,i),resolve:()=>Promise.resolve({type:"data",result:void 0})}:VL(t,e,r,Qx(n),l,i,o,!0,s))}async function lae(t,e,r,n,a,i){r.some(u=>u._lazyPromises?.middleware)&&await Promise.all(r.map(u=>u._lazyPromises?.middleware));let o={request:e,unstable_pattern:Qx(r),params:r[0].params,context:a,matches:r},l=await t({...o,fetcherKey:n,runClientMiddleware:u=>{let c=o;return d7(c,()=>u({...c,fetcherKey:n,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(r.flatMap(u=>[u._lazyPromises?.handler,u._lazyPromises?.route]))}catch{}return l}async function uae({request:t,unstable_pattern:e,match:r,lazyHandlerPromise:n,lazyRoutePromise:a,handlerOverride:i,scopedContext:o}){let s,l,u=no(t.method),c=u?"action":"loader",f=d=>{let v,g=new Promise((S,w)=>v=w);l=()=>v(),t.signal.addEventListener("abort",l);let y=S=>typeof d!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${c}" [routeId: ${r.route.id}]`)):d({request:t,unstable_pattern:e,params:r.params,context:o},...S!==void 0?[S]:[]),b=(async()=>{try{return{type:"data",result:await(i?i(w=>y(w)):y())}}catch(S){return{type:"error",result:S}}})();return Promise.race([b,g])};try{let d=u?r.route.action:r.route.loader;if(n||a)if(d){let v,[g]=await Promise.all([f(d).catch(y=>{v=y}),n,a]);if(v!==void 0)throw v;s=g}else{await n;let v=u?r.route.action:r.route.loader;if(v)[s]=await Promise.all([f(v),a]);else if(c==="action"){let g=new URL(t.url),y=g.pathname+g.search;throw ll(405,{method:t.method,pathname:y,routeId:r.route.id})}else return{type:"data",result:void 0}}else if(d)s=await f(d);else{let v=new URL(t.url),g=v.pathname+v.search;throw ll(404,{pathname:g})}}catch(d){return{type:"error",result:d}}finally{l&&t.signal.removeEventListener("abort",l)}return s}async function cae(t){let e=t.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?t.body==null?null:t.json():t.text()}async function fae(t){let{result:e,type:r}=t;if(FR(e)){let n;try{n=await cae(e)}catch(a){return{type:"error",error:a}}return r==="error"?{type:"error",error:new Kx(e.status,e.statusText,n),statusCode:e.status,headers:e.headers}:{type:"data",data:n,statusCode:e.status,headers:e.headers}}return r==="error"?KB(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:pae(e),statusCode:hx(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:hx(e)?e.status:void 0}:KB(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function hae(t,e,r,n,a){let i=t.headers.get("Location");if(Ar(i,"Redirects returned/thrown from loaders/actions must have a Location header"),!BR(i)){let o=n.slice(0,n.findIndex(s=>s.route.id===r)+1);i=zL(new URL(e.url),o,a,i),t.headers.set("Location",i)}return t}function YB(t,e,r,n){let a=["about:","blob:","chrome:","chrome-untrusted:","content:","data:","devtools:","file:","filesystem:","javascript:"];if(BR(t)){let i=t,o=i.startsWith("//")?new URL(e.protocol+i):new URL(i);if(a.includes(o.protocol))throw new Error("Invalid redirect location");let s=Cl(o.pathname,r)!=null;if(o.origin===e.origin&&s)return o.pathname+o.search+o.hash}try{let i=n.createURL(t);if(a.includes(i.protocol))throw new Error("Invalid redirect location")}catch{}return t}function Eg(t,e,r,n){let a=t.createURL(g7(e)).toString(),i={signal:r};if(n&&no(n.formMethod)){let{formMethod:o,formEncType:s}=n;i.method=o.toUpperCase(),s==="application/json"?(i.headers=new Headers({"Content-Type":s}),i.body=JSON.stringify(n.json)):s==="text/plain"?i.body=n.text:s==="application/x-www-form-urlencoded"&&n.formData?i.body=FL(n.formData):i.body=n.formData}return new Request(a,i)}function FL(t){let e=new URLSearchParams;for(let[r,n]of t.entries())e.append(r,typeof n=="string"?n:n.name);return e}function ZB(t){let e=new FormData;for(let[r,n]of t.entries())e.append(r,n);return e}function dae(t,e,r,n=!1,a=!1){let i={},o=null,s,l=!1,u={},c=r&&Ms(r[1])?r[1].error:void 0;return t.forEach(f=>{if(!(f.route.id in e))return;let d=f.route.id,v=e[d];if(Ar(!wv(v),"Cannot handle redirect results in processLoaderData"),Ms(v)){let g=v.error;if(c!==void 0&&(g=c,c=void 0),o=o||{},a)o[d]=g;else{let y=Dh(t,d);o[y.route.id]==null&&(o[y.route.id]=g)}n||(i[d]=c7),l||(l=!0,s=hx(v.error)?v.error.status:500),v.headers&&(u[d]=v.headers)}else i[d]=v.data,v.statusCode&&v.statusCode!==200&&!l&&(s=v.statusCode),v.headers&&(u[d]=v.headers)}),c!==void 0&&r&&(o={[r[0]]:c},r[2]&&(i[r[2]]=void 0)),{loaderData:i,errors:o,statusCode:s||200,loaderHeaders:u}}function qB(t,e,r,n,a,i){let{loaderData:o,errors:s}=dae(e,r,n);return a.filter(l=>!l.matches||l.matches.some(u=>u.shouldLoad)).forEach(l=>{let{key:u,match:c,controller:f}=l;if(f&&f.signal.aborted)return;let d=i[u];if(Ar(d,"Did not find corresponding fetcher result"),Ms(d)){let v=Dh(t.matches,c?.route.id);s&&s[v.route.id]||(s={...s,[v.route.id]:d.error}),t.fetchers.delete(u)}else if(wv(d))Ar(!1,"Unhandled fetcher revalidation redirect");else{let v=tf(d.data);t.fetchers.set(u,v)}}),{loaderData:o,errors:s}}function $B(t,e,r,n){let a=Object.entries(e).filter(([,i])=>i!==c7).reduce((i,[o,s])=>(i[o]=s,i),{});for(let i of r){let o=i.route.id;if(!e.hasOwnProperty(o)&&t.hasOwnProperty(o)&&i.route.loader&&(a[o]=t[o]),n&&n.hasOwnProperty(o))break}return a}function XB(t){return t?Ms(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Dh(t,e){return(e?t.slice(0,t.findIndex(n=>n.route.id===e)+1):[...t]).reverse().find(n=>n.route.hasErrorBoundary===!0)||t[0]}function Lb(t){let e=t.length===1?t[0]:t.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ll(t,{pathname:e,routeId:r,method:n,type:a,message:i}={}){let o="Unknown Server Error",s="Unknown @remix-run/router error";return t===400?(o="Bad Request",n&&e&&r?s=`You made a ${n} request to "${e}" but did not provide a \`loader\` for route "${r}", so there is no way to handle the request.`:a==="invalid-body"&&(s="Unable to encode submission body")):t===403?(o="Forbidden",s=`Route "${r}" does not match URL "${e}"`):t===404?(o="Not Found",s=`No route matches URL "${e}"`):t===405&&(o="Method Not Allowed",n&&e&&r?s=`You made a ${n.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${r}", so there is no way to handle the request.`:n&&(s=`Invalid request method "${n.toUpperCase()}"`)),new Kx(t||500,o,new Error(s),!0)}function Eb(t){let e=Object.entries(t);for(let r=e.length-1;r>=0;r--){let[n,a]=e[r];if(wv(a))return{key:n,result:a}}}function g7(t){let e=typeof t=="string"?id(t):t;return dc({...e,hash:""})}function vae(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function pae(t){return new Kx(t.init?.status??500,t.init?.statusText??"Internal Server Error",t.data)}function gae(t){return t!=null&&typeof t=="object"&&Object.entries(t).every(([e,r])=>typeof e=="string"&&mae(r))}function mae(t){return t!=null&&typeof t=="object"&&"type"in t&&"result"in t&&(t.type==="data"||t.type==="error")}function yae(t){return FR(t.result)&&l7.has(t.result.status)}function Ms(t){return t.type==="error"}function wv(t){return(t&&t.type)==="redirect"}function KB(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function FR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function xae(t){return l7.has(t)}function _ae(t){return FR(t)&&xae(t.status)&&t.headers.has("Location")}function bae(t){return Kne.has(t.toUpperCase())}function no(t){return $ne.has(t.toUpperCase())}function HR(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function uS(t,e){let r=typeof e=="string"?id(e).search:e.search;if(t[t.length-1].route.index&&HR(r||""))return t[t.length-1];let n=n7(t);return n[n.length-1]}function QB(t){let{formMethod:e,formAction:r,formEncType:n,text:a,formData:i,json:o}=t;if(!(!e||!r||!n)){if(a!=null)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:void 0,text:a};if(i!=null)return{formMethod:e,formAction:r,formEncType:n,formData:i,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:o,text:void 0}}}function EA(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Sae(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Vy(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function wae(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function tf(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Tae(t,e){try{let r=t.sessionStorage.getItem(u7);if(r){let n=JSON.parse(r);for(let[a,i]of Object.entries(n||{}))i&&Array.isArray(i)&&e.set(a,new Set(i||[]))}}catch{}}function Cae(t,e){if(e.size>0){let r={};for(let[n,a]of e)r[n]=[...a];try{t.sessionStorage.setItem(u7,JSON.stringify(r))}catch(n){Pa(!1,`Failed to save applied view transitions in sessionStorage (${n}).`)}}}function JB(){let t,e,r=new Promise((n,a)=>{t=async i=>{n(i);try{await r}catch{}},e=async i=>{a(i);try{await r}catch{}}});return{promise:r,resolve:t,reject:e}}var ip=O.createContext(null);ip.displayName="DataRouter";var Jx=O.createContext(null);Jx.displayName="DataRouterState";var m7=O.createContext(!1);function Mae(){return O.useContext(m7)}var GR=O.createContext({isTransitioning:!1});GR.displayName="ViewTransition";var y7=O.createContext(new Map);y7.displayName="Fetchers";var Aae=O.createContext(null);Aae.displayName="Await";var Bs=O.createContext(null);Bs.displayName="Navigation";var dT=O.createContext(null);dT.displayName="Location";var Ll=O.createContext({outlet:null,matches:[],isDataRoute:!1});Ll.displayName="Route";var UR=O.createContext(null);UR.displayName="RouteError";var x7="REACT_ROUTER_ERROR",Dae="REDIRECT",Lae="ROUTE_ERROR_RESPONSE";function Eae(t){if(t.startsWith(`${x7}:${Dae}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function Nae(t){if(t.startsWith(`${x7}:${Lae}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Kx(e.status,e.statusText,e.data)}catch{}}function Rae(t,{relative:e}={}){Ar(Cm(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=O.useContext(Bs),{hash:a,pathname:i,search:o}=e_(t,{relative:e}),s=i;return r!=="/"&&(s=i==="/"?r:sc([r,i])),n.createHref({pathname:s,search:o,hash:a})}function Cm(){return O.useContext(dT)!=null}function Mf(){return Ar(Cm(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(dT).location}var _7="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function b7(t){O.useContext(Bs).static||O.useLayoutEffect(t)}function S7(){let{isDataRoute:t}=O.useContext(Ll);return t?Zae():Pae()}function Pae(){Ar(Cm(),"useNavigate() may be used only in the context of a <Router> component.");let t=O.useContext(ip),{basename:e,navigator:r}=O.useContext(Bs),{matches:n}=O.useContext(Ll),{pathname:a}=Mf(),i=JSON.stringify(fT(n)),o=O.useRef(!1);return b7(()=>{o.current=!0}),O.useCallback((l,u={})=>{if(Pa(o.current,_7),!o.current)return;if(typeof l=="number"){r.go(l);return}let c=hT(l,JSON.parse(i),a,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:sc([e,c.pathname])),(u.replace?r.replace:r.push)(c,u.state,u)},[e,r,i,a,t])}var kae=O.createContext(null);function Iae(t){let e=O.useContext(Ll).outlet;return O.useMemo(()=>e&&O.createElement(kae.Provider,{value:t},e),[e,t])}function w7(){let{matches:t}=O.useContext(Ll),e=t[t.length-1];return e?e.params:{}}function e_(t,{relative:e}={}){let{matches:r}=O.useContext(Ll),{pathname:n}=Mf(),a=JSON.stringify(fT(r));return O.useMemo(()=>hT(t,JSON.parse(a),n,e==="path"),[t,a,n,e])}function Oae(t,e,r,n,a){Ar(Cm(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=O.useContext(Bs),{matches:o}=O.useContext(Ll),s=o[o.length-1],l=s?s.params:{},u=s?s.pathname:"/",c=s?s.pathnameBase:"/",f=s&&s.route;{let w=f&&f.path||"";C7(u,!f||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let d=Mf(),v;v=d;let g=v.pathname||"/",y=g;if(c!=="/"){let w=c.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(w.length).join("/")}let b=Ah(t,{pathname:y});return Pa(f||b!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Pa(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),Fae(b&&b.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:sc([c,i.encodeLocation?i.encodeLocation(w.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:sc([c,i.encodeLocation?i.encodeLocation(w.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathnameBase])})),o,r,n,a)}function jae(){let t=Yae(),e=hx(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:i},"ErrorBoundary")," or"," ",O.createElement("code",{style:i},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),r?O.createElement("pre",{style:a},r):null,o)}var zae=O.createElement(jae,null),T7=class extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const r=Nae(t.digest);r&&(t=r)}let e=t!==void 0?O.createElement(Ll.Provider,{value:this.props.routeContext},O.createElement(UR.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?O.createElement(Bae,{error:t},e):e}};T7.contextType=m7;var NA=new WeakMap;function Bae({children:t,error:e}){let{basename:r}=O.useContext(Bs);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let n=Eae(e.digest);if(n){let a=NA.get(e);if(a)throw a;let i=i7(n.location,r);if(a7&&!NA.get(e))if(i.isExternal||n.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const o=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:n.replace}));throw NA.set(e,o),o}return O.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return t}function Vae({routeContext:t,match:e,children:r}){let n=O.useContext(ip);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(Ll.Provider,{value:t},r)}function Fae(t,e=[],r=null,n=null,a=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,o=r?.errors;if(o!=null){let c=i.findIndex(f=>f.route.id&&o?.[f.route.id]!==void 0);Ar(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let s=!1,l=-1;if(r)for(let c=0;c<i.length;c++){let f=i[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(l=c),f.route.id){let{loaderData:d,errors:v}=r,g=f.route.loader&&!d.hasOwnProperty(f.route.id)&&(!v||v[f.route.id]===void 0);if(f.route.lazy||g){s=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}let u=r&&n?(c,f)=>{n(c,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:Qx(r.matches),errorInfo:f})}:void 0;return i.reduceRight((c,f,d)=>{let v,g=!1,y=null,b=null;r&&(v=o&&f.route.id?o[f.route.id]:void 0,y=f.route.errorElement||zae,s&&(l<0&&d===0?(C7("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,b=null):l===d&&(g=!0,b=f.route.hydrateFallbackElement||null)));let S=e.concat(i.slice(0,d+1)),w=()=>{let M;return v?M=y:g?M=b:f.route.Component?M=O.createElement(f.route.Component,null):f.route.element?M=f.route.element:M=c,O.createElement(Vae,{match:f,routeContext:{outlet:c,matches:S,isDataRoute:r!=null},children:M})};return r&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?O.createElement(T7,{location:r.location,revalidation:r.revalidation,component:y,error:v,children:w(),routeContext:{outlet:null,matches:S,isDataRoute:!0},onError:u}):w()},null)}function WR(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Hae(t){let e=O.useContext(ip);return Ar(e,WR(t)),e}function Gae(t){let e=O.useContext(Jx);return Ar(e,WR(t)),e}function Uae(t){let e=O.useContext(Ll);return Ar(e,WR(t)),e}function YR(t){let e=Uae(t),r=e.matches[e.matches.length-1];return Ar(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function Wae(){return YR("useRouteId")}function Yae(){let t=O.useContext(UR),e=Gae("useRouteError"),r=YR("useRouteError");return t!==void 0?t:e.errors?.[r]}function Zae(){let{router:t}=Hae("useNavigate"),e=YR("useNavigate"),r=O.useRef(!1);return b7(()=>{r.current=!0}),O.useCallback(async(a,i={})=>{Pa(r.current,_7),r.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...i}))},[t,e])}var e5={};function C7(t,e,r){!e&&!e5[t]&&(e5[t]=!0,Pa(!1,r))}var t5={};function r5(t,e){!t&&!t5[e]&&(t5[e]=!0,console.warn(e))}var qae="useOptimistic",n5=zR[qae],$ae=()=>{};function Xae(t){return n5?n5(t):[t,$ae]}function Kae(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&Pa(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:O.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&Pa(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:O.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&Pa(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:O.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var Qae=["HydrateFallback","hydrateFallbackElement"],Jae=class{constructor(){this.status="pending",this.promise=new Promise((t,e)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",e(r))}})}};function eie({router:t,flushSync:e,onError:r,unstable_useTransitions:n}){n=Mae()||n;let[i,o]=O.useState(t.state),[s,l]=Xae(i),[u,c]=O.useState(),[f,d]=O.useState({isTransitioning:!1}),[v,g]=O.useState(),[y,b]=O.useState(),[S,w]=O.useState(),M=O.useRef(new Map),A=O.useCallback((I,{deletedFetchers:z,newErrors:B,flushSync:V,viewTransitionOpts:G})=>{B&&r&&Object.values(B).forEach(q=>r(q,{location:I.location,params:I.matches[0]?.params??{},unstable_pattern:Qx(I.matches)})),I.fetchers.forEach((q,Q)=>{q.data!==void 0&&M.current.set(Q,q.data)}),z.forEach(q=>M.current.delete(q)),r5(V===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let F=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(r5(G==null||F,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!G||!F){e&&V?e(()=>o(I)):n===!1?o(I):O.startTransition(()=>{n===!0&&l(q=>a5(q,I)),o(I)});return}if(e&&V){e(()=>{y&&(v?.resolve(),y.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:G.currentLocation,nextLocation:G.nextLocation})});let q=t.window.document.startViewTransition(()=>{e(()=>o(I))});q.finished.finally(()=>{e(()=>{g(void 0),b(void 0),c(void 0),d({isTransitioning:!1})})}),e(()=>b(q));return}y?(v?.resolve(),y.skipTransition(),w({state:I,currentLocation:G.currentLocation,nextLocation:G.nextLocation})):(c(I),d({isTransitioning:!0,flushSync:!1,currentLocation:G.currentLocation,nextLocation:G.nextLocation}))},[t.window,e,y,v,n,l,r]);O.useLayoutEffect(()=>t.subscribe(A),[t,A]),O.useEffect(()=>{f.isTransitioning&&!f.flushSync&&g(new Jae)},[f]),O.useEffect(()=>{if(v&&u&&t.window){let I=u,z=v.promise,B=t.window.document.startViewTransition(async()=>{n===!1?o(I):O.startTransition(()=>{n===!0&&l(V=>a5(V,I)),o(I)}),await z});B.finished.finally(()=>{g(void 0),b(void 0),c(void 0),d({isTransitioning:!1})}),b(B)}},[u,v,t.window,n,l]),O.useEffect(()=>{v&&u&&s.location.key===u.location.key&&v.resolve()},[v,y,s.location,u]),O.useEffect(()=>{!f.isTransitioning&&S&&(c(S.state),d({isTransitioning:!0,flushSync:!1,currentLocation:S.currentLocation,nextLocation:S.nextLocation}),w(void 0))},[f.isTransitioning,S]);let D=O.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:I=>t.navigate(I),push:(I,z,B)=>t.navigate(I,{state:z,preventScrollReset:B?.preventScrollReset}),replace:(I,z,B)=>t.navigate(I,{replace:!0,state:z,preventScrollReset:B?.preventScrollReset})}),[t]),R=t.basename||"/",N=O.useMemo(()=>({router:t,navigator:D,static:!1,basename:R,onError:r}),[t,D,R,r]);return O.createElement(O.Fragment,null,O.createElement(ip.Provider,{value:N},O.createElement(Jx.Provider,{value:s},O.createElement(y7.Provider,{value:M.current},O.createElement(GR.Provider,{value:f},O.createElement(nie,{basename:R,location:s.location,navigationType:s.historyAction,navigator:D,unstable_useTransitions:n},O.createElement(tie,{routes:t.routes,future:t.future,state:s,onError:r})))))),null)}function a5(t,e){return{...t,navigation:e.navigation.state!=="idle"?e.navigation:t.navigation,revalidation:e.revalidation!=="idle"?e.revalidation:t.revalidation,actionData:e.navigation.state!=="submitting"?e.actionData:t.actionData,fetchers:e.fetchers}}var tie=O.memo(rie);function rie({routes:t,future:e,state:r,onError:n}){return Oae(t,void 0,r,n,e)}function M7({to:t,replace:e,state:r,relative:n}){Ar(Cm(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=O.useContext(Bs);Pa(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=O.useContext(Ll),{pathname:o}=Mf(),s=S7(),l=hT(t,fT(i),o,n==="path"),u=JSON.stringify(l);return O.useEffect(()=>{s(JSON.parse(u),{replace:e,state:r,relative:n})},[s,u,n,e,r]),null}function A7(t){return Iae(t.context)}function nie({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:a,static:i=!1,unstable_useTransitions:o}){Ar(!Cm(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),l=O.useMemo(()=>({basename:s,navigator:a,static:i,unstable_useTransitions:o,future:{}}),[s,a,i,o]);typeof r=="string"&&(r=id(r));let{pathname:u="/",search:c="",hash:f="",state:d=null,key:v="default"}=r,g=O.useMemo(()=>{let y=Cl(u,s);return y==null?null:{location:{pathname:y,search:c,hash:f,state:d,key:v},navigationType:n}},[s,u,c,f,d,v,n]);return Pa(g!=null,`<Router basename="${s}"> is not able to match the URL "${u}${c}${f}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:O.createElement(Bs.Provider,{value:l},O.createElement(dT.Provider,{children:e,value:g}))}var cS="get",fS="application/x-www-form-urlencoded";function vT(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function aie(t){return vT(t)&&t.tagName.toLowerCase()==="button"}function iie(t){return vT(t)&&t.tagName.toLowerCase()==="form"}function oie(t){return vT(t)&&t.tagName.toLowerCase()==="input"}function sie(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function lie(t,e){return t.button===0&&(!e||e==="_self")&&!sie(t)}var Nb=null;function uie(){if(Nb===null)try{new FormData(document.createElement("form"),0),Nb=!1}catch{Nb=!0}return Nb}var cie=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function RA(t){return t!=null&&!cie.has(t)?(Pa(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fS}"`),null):t}function fie(t,e){let r,n,a,i,o;if(iie(t)){let s=t.getAttribute("action");n=s?Cl(s,e):null,r=t.getAttribute("method")||cS,a=RA(t.getAttribute("enctype"))||fS,i=new FormData(t)}else if(aie(t)||oie(t)&&(t.type==="submit"||t.type==="image")){let s=t.form;if(s==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||s.getAttribute("action");if(n=l?Cl(l,e):null,r=t.getAttribute("formmethod")||s.getAttribute("method")||cS,a=RA(t.getAttribute("formenctype"))||RA(s.getAttribute("enctype"))||fS,i=new FormData(s,t),!uie()){let{name:u,type:c,value:f}=t;if(c==="image"){let d=u?`${u}.`:"";i.append(`${d}x`,"0"),i.append(`${d}y`,"0")}else u&&i.append(u,f)}}else{if(vT(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=cS,n=null,a=fS,o=t}return i&&a==="text/plain"&&(o=i,i=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ZR(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function hie(t,e,r,n){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${n}`:a.pathname=`${a.pathname}.${n}`:a.pathname==="/"?a.pathname=`_root.${n}`:e&&Cl(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function die(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vie(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function pie(t,e,r){let n=await Promise.all(t.map(async a=>{let i=e.routes[a.route.id];if(i){let o=await die(i,r);return o.links?o.links():[]}return[]}));return xie(n.flat(1).filter(vie).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function i5(t,e,r,n,a,i){let o=(l,u)=>r[u]?l.route.id!==r[u].route.id:!0,s=(l,u)=>r[u].pathname!==l.pathname||r[u].route.path?.endsWith("*")&&r[u].params["*"]!==l.params["*"];return i==="assets"?e.filter((l,u)=>o(l,u)||s(l,u)):i==="data"?e.filter((l,u)=>{let c=n.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(o(l,u)||s(l,u))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function gie(t,e,{includeHydrateFallback:r}={}){return mie(t.map(n=>{let a=e.routes[n.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function mie(t){return[...new Set(t)]}function yie(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function xie(t,e){let r=new Set;return new Set(e),t.reduce((n,a)=>{let i=JSON.stringify(yie(a));return r.has(i)||(r.add(i),n.push({key:i,link:a})),n},[])}function D7(){let t=O.useContext(ip);return ZR(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function _ie(){let t=O.useContext(Jx);return ZR(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var qR=O.createContext(void 0);qR.displayName="FrameworkContext";function L7(){let t=O.useContext(qR);return ZR(t,"You must render this element inside a <HydratedRouter> element"),t}function bie(t,e){let r=O.useContext(qR),[n,a]=O.useState(!1),[i,o]=O.useState(!1),{onFocus:s,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:f}=e,d=O.useRef(null);O.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let y=S=>{S.forEach(w=>{o(w.isIntersecting)})},b=new IntersectionObserver(y,{threshold:.5});return d.current&&b.observe(d.current),()=>{b.disconnect()}}},[t]),O.useEffect(()=>{if(n){let y=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(y)}}},[n]);let v=()=>{a(!0)},g=()=>{a(!1),o(!1)};return r?t!=="intent"?[i,d,{}]:[i,d,{onFocus:Fy(s,v),onBlur:Fy(l,g),onMouseEnter:Fy(u,v),onMouseLeave:Fy(c,g),onTouchStart:Fy(f,v)}]:[!1,d,{}]}function Fy(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function Sie({page:t,...e}){let{router:r}=D7(),n=O.useMemo(()=>Ah(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?O.createElement(Tie,{page:t,matches:n,...e}):null}function wie(t){let{manifest:e,routeModules:r}=L7(),[n,a]=O.useState([]);return O.useEffect(()=>{let i=!1;return pie(t,e,r).then(o=>{i||a(o)}),()=>{i=!0}},[t,e,r]),n}function Tie({page:t,matches:e,...r}){let n=Mf(),{future:a,manifest:i,routeModules:o}=L7(),{basename:s}=D7(),{loaderData:l,matches:u}=_ie(),c=O.useMemo(()=>i5(t,e,u,i,n,"data"),[t,e,u,i,n]),f=O.useMemo(()=>i5(t,e,u,i,n,"assets"),[t,e,u,i,n]),d=O.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let y=new Set,b=!1;if(e.forEach(w=>{let M=i.routes[w.route.id];!M||!M.hasLoader||(!c.some(A=>A.route.id===w.route.id)&&w.route.id in l&&o[w.route.id]?.shouldRevalidate||M.hasClientLoader?b=!0:y.add(w.route.id))}),y.size===0)return[];let S=hie(t,s,a.unstable_trailingSlashAwareDataRequests,"data");return b&&y.size>0&&S.searchParams.set("_routes",e.filter(w=>y.has(w.route.id)).map(w=>w.route.id).join(",")),[S.pathname+S.search]},[s,a.unstable_trailingSlashAwareDataRequests,l,n,i,c,e,t,o]),v=O.useMemo(()=>gie(f,i),[f,i]),g=wie(f);return O.createElement(O.Fragment,null,d.map(y=>O.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...r})),v.map(y=>O.createElement("link",{key:y,rel:"modulepreload",href:y,...r})),g.map(({key:y,link:b})=>O.createElement("link",{key:y,nonce:r.nonce,...b,crossOrigin:b.crossOrigin??r.crossOrigin})))}function Cie(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var Mie=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Mie&&(window.__reactRouterVersion="7.13.0")}catch{}function Aie(t,e){return tae({basename:e?.basename,getContext:e?.getContext,future:e?.future,history:mne({window:e?.window}),hydrationData:e?.hydrationData||Die(),routes:t,mapRouteProperties:Kae,hydrationRouteProperties:Qae,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window,unstable_instrumentations:e?.unstable_instrumentations}).initialize()}function Die(){let t=window?.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:Lie(t.errors)}),t}function Lie(t){if(!t)return null;let e=Object.entries(t),r={};for(let[n,a]of e)if(a&&a.__type==="RouteErrorResponse")r[n]=new Kx(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let i=window[a.__subType];if(typeof i=="function")try{let o=new i(a.message);o.stack="",r[n]=o}catch{}}if(r[n]==null){let i=new Error(a.message);i.stack="",r[n]=i}}else r[n]=a;return r}var E7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ui=O.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:a,reloadDocument:i,replace:o,state:s,target:l,to:u,preventScrollReset:c,viewTransition:f,unstable_defaultShouldRevalidate:d,...v},g){let{basename:y,unstable_useTransitions:b}=O.useContext(Bs),S=typeof u=="string"&&E7.test(u),w=i7(u,y);u=w.to;let M=Rae(u,{relative:a}),[A,D,R]=bie(n,v),N=Pie(u,{replace:o,state:s,target:l,preventScrollReset:c,relative:a,viewTransition:f,unstable_defaultShouldRevalidate:d,unstable_useTransitions:b});function I(B){e&&e(B),B.defaultPrevented||N(B)}let z=O.createElement("a",{...v,...R,href:w.absoluteURL||M,onClick:w.isExternal||i?e:I,ref:Cie(g,D),target:l,"data-discover":!S&&r==="render"?"true":void 0});return A&&!S?O.createElement(O.Fragment,null,z,O.createElement(Sie,{page:M})):z});Ui.displayName="Link";var Eie=O.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:a=!1,style:i,to:o,viewTransition:s,children:l,...u},c){let f=e_(o,{relative:u.relative}),d=Mf(),v=O.useContext(Jx),{navigator:g,basename:y}=O.useContext(Bs),b=v!=null&&zie(f)&&s===!0,S=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,w=d.pathname,M=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;r||(w=w.toLowerCase(),M=M?M.toLowerCase():null,S=S.toLowerCase()),M&&y&&(M=Cl(M,y)||M);const A=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let D=w===S||!a&&w.startsWith(S)&&w.charAt(A)==="/",R=M!=null&&(M===S||!a&&M.startsWith(S)&&M.charAt(S.length)==="/"),N={isActive:D,isPending:R,isTransitioning:b},I=D?e:void 0,z;typeof n=="function"?z=n(N):z=[n,D?"active":null,R?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let B=typeof i=="function"?i(N):i;return O.createElement(Ui,{...u,"aria-current":I,className:z,ref:c,style:B,to:o,viewTransition:s},typeof l=="function"?l(N):l)});Eie.displayName="NavLink";var Nie=O.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:a,state:i,method:o=cS,action:s,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:f,unstable_defaultShouldRevalidate:d,...v},g)=>{let{unstable_useTransitions:y}=O.useContext(Bs),b=Oie(),S=jie(s,{relative:u}),w=o.toLowerCase()==="get"?"get":"post",M=typeof s=="string"&&E7.test(s),A=D=>{if(l&&l(D),D.defaultPrevented)return;D.preventDefault();let R=D.nativeEvent.submitter,N=R?.getAttribute("formmethod")||o,I=()=>b(R||D.currentTarget,{fetcherKey:e,method:N,navigate:r,replace:a,state:i,relative:u,preventScrollReset:c,viewTransition:f,unstable_defaultShouldRevalidate:d});y&&r!==!1?O.startTransition(()=>I()):I()};return O.createElement("form",{ref:g,method:w,action:S,onSubmit:n?l:A,...v,"data-discover":!M&&t==="render"?"true":void 0})});Nie.displayName="Form";function Rie(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function N7(t){let e=O.useContext(ip);return Ar(e,Rie(t)),e}function Pie(t,{target:e,replace:r,state:n,preventScrollReset:a,relative:i,viewTransition:o,unstable_defaultShouldRevalidate:s,unstable_useTransitions:l}={}){let u=S7(),c=Mf(),f=e_(t,{relative:i});return O.useCallback(d=>{if(lie(d,e)){d.preventDefault();let v=r!==void 0?r:dc(c)===dc(f),g=()=>u(t,{replace:v,state:n,preventScrollReset:a,relative:i,viewTransition:o,unstable_defaultShouldRevalidate:s});l?O.startTransition(()=>g()):g()}},[c,u,f,r,n,e,t,a,i,o,s,l])}var kie=0,Iie=()=>`__${String(++kie)}__`;function Oie(){let{router:t}=N7("useSubmit"),{basename:e}=O.useContext(Bs),r=Wae(),n=t.fetch,a=t.navigate;return O.useCallback(async(i,o={})=>{let{action:s,method:l,encType:u,formData:c,body:f}=fie(i,e);if(o.navigate===!1){let d=o.fetcherKey||Iie();await n(d,r,o.action||s,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:c,body:f,formMethod:o.method||l,formEncType:o.encType||u,flushSync:o.flushSync})}else await a(o.action||s,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:c,body:f,formMethod:o.method||l,formEncType:o.encType||u,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,a,e,r])}function jie(t,{relative:e}={}){let{basename:r}=O.useContext(Bs),n=O.useContext(Ll);Ar(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),i={...e_(t||".",{relative:e})},o=Mf();if(t==null){i.search=o.search;let s=new URLSearchParams(i.search),l=s.getAll("index");if(l.some(c=>c==="")){s.delete("index"),l.filter(f=>f).forEach(f=>s.append("index",f));let c=s.toString();i.search=c?`?${c}`:""}}return(!t||t===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:sc([r,i.pathname])),dc(i)}function zie(t,{relative:e}={}){let r=O.useContext(GR);Ar(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=N7("useViewTransitionState"),a=e_(t,{relative:e});if(!r.isTransitioning)return!1;let i=Cl(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Cl(r.nextLocation.pathname,n)||r.nextLocation.pathname;return BS(a.pathname,o)!=null||BS(a.pathname,i)!=null}var op=K8();const Bie=OR(op);function Vie(t){return O.createElement(eie,{flushSync:op.flushSync,...t})}var Mm=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Fie={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Hie=class{#t=Fie;#e=!1;setTimeoutProvider(t){this.#t=t}setTimeout(t,e){return this.#t.setTimeout(t,e)}clearTimeout(t){this.#t.clearTimeout(t)}setInterval(t,e){return this.#t.setInterval(t,e)}clearInterval(t){this.#t.clearInterval(t)}},Tv=new Hie;function Gie(t){setTimeout(t,0)}var Hv=typeof window>"u"||"Deno"in globalThis;function wo(){}function Uie(t,e){return typeof t=="function"?t(e):t}function HL(t){return typeof t=="number"&&t>=0&&t!==1/0}function R7(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Bh(t,e){return typeof t=="function"?t(e):t}function fl(t,e){return typeof t=="function"?t(e):t}function o5(t,e){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:o,stale:s}=t;if(o){if(n){if(e.queryHash!==$R(o,e.options))return!1}else if(!dx(e.queryKey,o))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof s=="boolean"&&e.isStale()!==s||a&&a!==e.state.fetchStatus||i&&!i(e))}function s5(t,e){const{exact:r,status:n,predicate:a,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(r){if(Gv(e.options.mutationKey)!==Gv(i))return!1}else if(!dx(e.options.mutationKey,i))return!1}return!(n&&e.state.status!==n||a&&!a(e))}function $R(t,e){return(e?.queryKeyHashFn||Gv)(t)}function Gv(t){return JSON.stringify(t,(e,r)=>GL(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function dx(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>dx(t[r],e[r])):!1}var Wie=Object.prototype.hasOwnProperty;function P7(t,e,r=0){if(t===e)return t;if(r>500)return e;const n=l5(t)&&l5(e);if(!n&&!(GL(t)&&GL(e)))return e;const i=(n?t:Object.keys(t)).length,o=n?e:Object.keys(e),s=o.length,l=n?new Array(s):{};let u=0;for(let c=0;c<s;c++){const f=n?c:o[c],d=t[f],v=e[f];if(d===v){l[f]=d,(n?c<i:Wie.call(t,f))&&u++;continue}if(d===null||v===null||typeof d!="object"||typeof v!="object"){l[f]=v;continue}const g=P7(d,v,r+1);l[f]=g,g===d&&u++}return i===s&&u===i?t:l}function VS(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function l5(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function GL(t){if(!u5(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!u5(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function u5(t){return Object.prototype.toString.call(t)==="[object Object]"}function Yie(t){return new Promise(e=>{Tv.setTimeout(e,t)})}function UL(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?P7(t,e):e}function Zie(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function qie(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var XR=Symbol();function k7(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===XR?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function KR(t,e){return typeof t=="function"?t(...e):!!t}function $ie(t,e,r){let n=!1,a;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(a??=e(),n||(n=!0,a.aborted?r():a.addEventListener("abort",r,{once:!0})),a)}),t}var Xie=class extends Mm{#t;#e;#r;constructor(){super(),this.#r=t=>{if(!Hv&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#r=t,this.#e?.(),this.#e=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#t!==t&&(this.#t=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},QR=new Xie;function WL(){let t,e;const r=new Promise((a,i)=>{t=a,e=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),t(a)},r.reject=a=>{n({status:"rejected",reason:a}),e(a)},r}var Kie=Gie;function Qie(){let t=[],e=0,r=s=>{s()},n=s=>{s()},a=Kie;const i=s=>{e?t.push(s):a(()=>{r(s)})},o=()=>{const s=t;t=[],s.length&&a(()=>{n(()=>{s.forEach(l=>{r(l)})})})};return{batch:s=>{let l;e++;try{l=s()}finally{e--,e||o()}return l},batchCalls:s=>(...l)=>{i(()=>{s(...l)})},schedule:i,setNotifyFunction:s=>{r=s},setBatchNotifyFunction:s=>{n=s},setScheduler:s=>{a=s}}}var pi=Qie(),Jie=class extends Mm{#t=!0;#e;#r;constructor(){super(),this.#r=t=>{if(!Hv&&window.addEventListener){const e=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#r=t,this.#e?.(),this.#e=t(this.setOnline.bind(this))}setOnline(t){this.#t!==t&&(this.#t=t,this.listeners.forEach(r=>{r(t)}))}isOnline(){return this.#t}},FS=new Jie;function eoe(t){return Math.min(1e3*2**t,3e4)}function I7(t){return(t??"online")==="online"?FS.isOnline():!0}var YL=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function O7(t){let e=!1,r=0,n;const a=WL(),i=()=>a.status!=="pending",o=y=>{if(!i()){const b=new YL(y);d(b),t.onCancel?.(b)}},s=()=>{e=!0},l=()=>{e=!1},u=()=>QR.isFocused()&&(t.networkMode==="always"||FS.isOnline())&&t.canRun(),c=()=>I7(t.networkMode)&&t.canRun(),f=y=>{i()||(n?.(),a.resolve(y))},d=y=>{i()||(n?.(),a.reject(y))},v=()=>new Promise(y=>{n=b=>{(i()||u())&&y(b)},t.onPause?.()}).then(()=>{n=void 0,i()||t.onContinue?.()}),g=()=>{if(i())return;let y;const b=r===0?t.initialPromise:void 0;try{y=b??t.fn()}catch(S){y=Promise.reject(S)}Promise.resolve(y).then(f).catch(S=>{if(i())return;const w=t.retry??(Hv?0:3),M=t.retryDelay??eoe,A=typeof M=="function"?M(r,S):M,D=w===!0||typeof w=="number"&&r<w||typeof w=="function"&&w(r,S);if(e||!D){d(S);return}r++,t.onFail?.(r,S),Yie(A).then(()=>u()?void 0:v()).then(()=>{e?d(S):g()})})};return{promise:a,status:()=>a.status,cancel:o,continue:()=>(n?.(),a),cancelRetry:s,continueRetry:l,canStart:c,start:()=>(c()?g():v().then(g),a)}}var j7=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),HL(this.gcTime)&&(this.#t=Tv.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Hv?1/0:300*1e3))}clearGcTimeout(){this.#t&&(Tv.clearTimeout(this.#t),this.#t=void 0)}},toe=class extends j7{#t;#e;#r;#i;#n;#s;#a;constructor(t){super(),this.#a=!1,this.#s=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#i=t.client,this.#r=this.#i.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#t=f5(this.options),this.state=t.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(t){if(this.options={...this.#s,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=f5(this.options);e.data!==void 0&&(this.setState(c5(e.data,e.dataUpdatedAt)),this.#t=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(t,e){const r=UL(this.state.data,t,this.options);return this.#o({data:r,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),r}setState(t,e){this.#o({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#n?.promise;return this.#n?.cancel(t),e?e.then(wo).catch(wo):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(t=>fl(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===XR||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Bh(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!R7(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#n&&(this.#a?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#o({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#n?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(t&&this.setOptions(t),!this.options.queryFn){const s=this.observers.find(l=>l.options.queryFn);s&&this.setOptions(s.options)}const r=new AbortController,n=s=>{Object.defineProperty(s,"signal",{enumerable:!0,get:()=>(this.#a=!0,r.signal)})},a=()=>{const s=k7(this.options,e),u=(()=>{const c={client:this.#i,queryKey:this.queryKey,meta:this.meta};return n(c),c})();return this.#a=!1,this.options.persister?this.options.persister(s,u,this):s(u)},o=(()=>{const s={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:a};return n(s),s})();this.options.behavior?.onFetch(o,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#o({type:"fetch",meta:o.fetchOptions?.meta}),this.#n=O7({initialPromise:e?.initialPromise,fn:o.fetchFn,onCancel:s=>{s instanceof YL&&s.revert&&this.setState({...this.#e,fetchStatus:"idle"}),r.abort()},onFail:(s,l)=>{this.#o({type:"failed",failureCount:s,error:l})},onPause:()=>{this.#o({type:"pause"})},onContinue:()=>{this.#o({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0});try{const s=await this.#n.start();if(s===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(s),this.#r.config.onSuccess?.(s,this),this.#r.config.onSettled?.(s,this.state.error,this),s}catch(s){if(s instanceof YL){if(s.silent)return this.#n.promise;if(s.revert){if(this.state.data===void 0)throw s;return this.state.data}}throw this.#o({type:"error",error:s}),this.#r.config.onError?.(s,this),this.#r.config.onSettled?.(this.state.data,s,this),s}finally{this.scheduleGc()}}#o(t){const e=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...z7(r.data,this.options),fetchMeta:t.meta??null};case"success":const n={...r,...c5(t.data,t.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#e=t.manual?n:void 0,n;case"error":const a=t.error;return{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=e(this.state),pi.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:t})})}};function z7(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:I7(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function c5(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function f5(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var roe=class extends Mm{constructor(t,e){super(),this.options=e,this.#t=t,this.#o=null,this.#a=WL(),this.bindMethods(),this.setOptions(e)}#t;#e=void 0;#r=void 0;#i=void 0;#n;#s;#a;#o;#v;#y;#x;#p;#g;#c;#_=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),h5(this.#e,this.options)?this.#f():this.updateResult(),this.#h())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ZL(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ZL(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#l(),this.#e.removeObserver(this)}setOptions(t){const e=this.options,r=this.#e;if(this.options=this.#t.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof fl(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#T(),this.#e.setOptions(this.options),e._defaulted&&!VS(this.options,e)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const n=this.hasListeners();n&&d5(this.#e,r,this.options,e)&&this.#f(),this.updateResult(),n&&(this.#e!==r||fl(this.options.enabled,this.#e)!==fl(e.enabled,this.#e)||Bh(this.options.staleTime,this.#e)!==Bh(e.staleTime,this.#e))&&this.#S();const a=this.#w();n&&(this.#e!==r||fl(this.options.enabled,this.#e)!==fl(e.enabled,this.#e)||a!==this.#c)&&this.#m(a)}getOptimisticResult(t){const e=this.#t.getQueryCache().build(this.#t,t),r=this.createResult(e,t);return aoe(this,r)&&(this.#i=r,this.#s=this.options,this.#n=this.#e.state),r}getCurrentResult(){return this.#i}trackResult(t,e){return new Proxy(t,{get:(r,n)=>(this.trackProp(n),e?.(n),n==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#a.status==="pending"&&this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,n))})}trackProp(t){this.#_.add(t)}getCurrentQuery(){return this.#e}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#t.defaultQueryOptions(t),r=this.#t.getQueryCache().build(this.#t,e);return r.fetch().then(()=>this.createResult(r,e))}fetch(t){return this.#f({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#i))}#f(t){this.#T();let e=this.#e.fetch(this.options,t);return t?.throwOnError||(e=e.catch(wo)),e}#S(){this.#b();const t=Bh(this.options.staleTime,this.#e);if(Hv||this.#i.isStale||!HL(t))return;const r=R7(this.#i.dataUpdatedAt,t)+1;this.#p=Tv.setTimeout(()=>{this.#i.isStale||this.updateResult()},r)}#w(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#m(t){this.#l(),this.#c=t,!(Hv||fl(this.options.enabled,this.#e)===!1||!HL(this.#c)||this.#c===0)&&(this.#g=Tv.setInterval(()=>{(this.options.refetchIntervalInBackground||QR.isFocused())&&this.#f()},this.#c))}#h(){this.#S(),this.#m(this.#w())}#b(){this.#p&&(Tv.clearTimeout(this.#p),this.#p=void 0)}#l(){this.#g&&(Tv.clearInterval(this.#g),this.#g=void 0)}createResult(t,e){const r=this.#e,n=this.options,a=this.#i,i=this.#n,o=this.#s,l=t!==r?t.state:this.#r,{state:u}=t;let c={...u},f=!1,d;if(e._optimisticResults){const I=this.hasListeners(),z=!I&&h5(t,e),B=I&&d5(t,r,e,n);(z||B)&&(c={...c,...z7(u.data,t.options)}),e._optimisticResults==="isRestoring"&&(c.fetchStatus="idle")}let{error:v,errorUpdatedAt:g,status:y}=c;d=c.data;let b=!1;if(e.placeholderData!==void 0&&d===void 0&&y==="pending"){let I;a?.isPlaceholderData&&e.placeholderData===o?.placeholderData?(I=a.data,b=!0):I=typeof e.placeholderData=="function"?e.placeholderData(this.#x?.state.data,this.#x):e.placeholderData,I!==void 0&&(y="success",d=UL(a?.data,I,e),f=!0)}if(e.select&&d!==void 0&&!b)if(a&&d===i?.data&&e.select===this.#v)d=this.#y;else try{this.#v=e.select,d=e.select(d),d=UL(a?.data,d,e),this.#y=d,this.#o=null}catch(I){this.#o=I}this.#o&&(v=this.#o,d=this.#y,g=Date.now(),y="error");const S=c.fetchStatus==="fetching",w=y==="pending",M=y==="error",A=w&&S,D=d!==void 0,N={status:y,fetchStatus:c.fetchStatus,isPending:w,isSuccess:y==="success",isError:M,isInitialLoading:A,isLoading:A,data:d,dataUpdatedAt:c.dataUpdatedAt,error:v,errorUpdatedAt:g,failureCount:c.fetchFailureCount,failureReason:c.fetchFailureReason,errorUpdateCount:c.errorUpdateCount,isFetched:c.dataUpdateCount>0||c.errorUpdateCount>0,isFetchedAfterMount:c.dataUpdateCount>l.dataUpdateCount||c.errorUpdateCount>l.errorUpdateCount,isFetching:S,isRefetching:S&&!w,isLoadingError:M&&!D,isPaused:c.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:M&&D,isStale:JR(t,e),refetch:this.refetch,promise:this.#a,isEnabled:fl(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const I=N.data!==void 0,z=N.status==="error"&&!I,B=F=>{z?F.reject(N.error):I&&F.resolve(N.data)},V=()=>{const F=this.#a=N.promise=WL();B(F)},G=this.#a;switch(G.status){case"pending":t.queryHash===r.queryHash&&B(G);break;case"fulfilled":(z||N.data!==G.value)&&V();break;case"rejected":(!z||N.error!==G.reason)&&V();break}}return N}updateResult(){const t=this.#i,e=this.createResult(this.#e,this.options);if(this.#n=this.#e.state,this.#s=this.options,this.#n.data!==void 0&&(this.#x=this.#e),VS(e,t))return;this.#i=e;const r=()=>{if(!t)return!0;const{notifyOnChangeProps:n}=this.options,a=typeof n=="function"?n():n;if(a==="all"||!a&&!this.#_.size)return!0;const i=new Set(a??this.#_);return this.options.throwOnError&&i.add("error"),Object.keys(this.#i).some(o=>{const s=o;return this.#i[s]!==t[s]&&i.has(s)})};this.#C({listeners:r()})}#T(){const t=this.#t.getQueryCache().build(this.#t,this.options);if(t===this.#e)return;const e=this.#e;this.#e=t,this.#r=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#h()}#C(t){pi.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#i)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function noe(t,e){return fl(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function h5(t,e){return noe(t,e)||t.state.data!==void 0&&ZL(t,e,e.refetchOnMount)}function ZL(t,e,r){if(fl(e.enabled,t)!==!1&&Bh(e.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&JR(t,e)}return!1}function d5(t,e,r,n){return(t!==e||fl(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&JR(t,r)}function JR(t,e){return fl(e.enabled,t)!==!1&&t.isStaleByTime(Bh(e.staleTime,t))}function aoe(t,e){return!VS(t.getCurrentResult(),e)}function v5(t){return{onFetch:(e,r)=>{const n=e.options,a=e.fetchOptions?.meta?.fetchMore?.direction,i=e.state.data?.pages||[],o=e.state.data?.pageParams||[];let s={pages:[],pageParams:[]},l=0;const u=async()=>{let c=!1;const f=g=>{$ie(g,()=>e.signal,()=>c=!0)},d=k7(e.options,e.fetchOptions),v=async(g,y,b)=>{if(c)return Promise.reject();if(y==null&&g.pages.length)return Promise.resolve(g);const w=(()=>{const R={client:e.client,queryKey:e.queryKey,pageParam:y,direction:b?"backward":"forward",meta:e.options.meta};return f(R),R})(),M=await d(w),{maxPages:A}=e.options,D=b?qie:Zie;return{pages:D(g.pages,M,A),pageParams:D(g.pageParams,y,A)}};if(a&&i.length){const g=a==="backward",y=g?ioe:p5,b={pages:i,pageParams:o},S=y(n,b);s=await v(b,S,g)}else{const g=t??i.length;do{const y=l===0?o[0]??n.initialPageParam:p5(n,s);if(l>0&&y==null)break;s=await v(s,y),l++}while(l<g)}return s};e.options.persister?e.fetchFn=()=>e.options.persister?.(u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r):e.fetchFn=u}}}function p5(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function ioe(t,{pages:e,pageParams:r}){return e.length>0?t.getPreviousPageParam?.(e[0],e,r[0],r):void 0}var ooe=class extends j7{#t;#e;#r;#i;constructor(t){super(),this.#t=t.client,this.mutationId=t.mutationId,this.#r=t.mutationCache,this.#e=[],this.state=t.state||B7(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#r.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#r.remove(this))}continue(){return this.#i?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#n({type:"continue"})},r={client:this.#t,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#i=O7({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(i,o)=>{this.#n({type:"failed",failureCount:i,error:o})},onPause:()=>{this.#n({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#r.canRun(this)});const n=this.state.status==="pending",a=!this.#i.canStart();try{if(n)e();else{this.#n({type:"pending",variables:t,isPaused:a}),this.#r.config.onMutate&&await this.#r.config.onMutate(t,this,r);const o=await this.options.onMutate?.(t,r);o!==this.state.context&&this.#n({type:"pending",context:o,variables:t,isPaused:a})}const i=await this.#i.start();return await this.#r.config.onSuccess?.(i,t,this.state.context,this,r),await this.options.onSuccess?.(i,t,this.state.context,r),await this.#r.config.onSettled?.(i,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(i,null,t,this.state.context,r),this.#n({type:"success",data:i}),i}catch(i){try{await this.#r.config.onError?.(i,t,this.state.context,this,r)}catch(o){Promise.reject(o)}try{await this.options.onError?.(i,t,this.state.context,r)}catch(o){Promise.reject(o)}try{await this.#r.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this,r)}catch(o){Promise.reject(o)}try{await this.options.onSettled?.(void 0,i,t,this.state.context,r)}catch(o){Promise.reject(o)}throw this.#n({type:"error",error:i}),i}finally{this.#r.runNext(this)}}#n(t){const e=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),pi.batch(()=>{this.#e.forEach(r=>{r.onMutationUpdate(t)}),this.#r.notify({mutation:this,type:"updated",action:t})})}};function B7(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var soe=class extends Mm{constructor(t={}){super(),this.config=t,this.#t=new Set,this.#e=new Map,this.#r=0}#t;#e;#r;build(t,e,r){const n=new ooe({client:t,mutationCache:this,mutationId:++this.#r,options:t.defaultMutationOptions(e),state:r});return this.add(n),n}add(t){this.#t.add(t);const e=Rb(t);if(typeof e=="string"){const r=this.#e.get(e);r?r.push(t):this.#e.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#t.delete(t)){const e=Rb(t);if(typeof e=="string"){const r=this.#e.get(e);if(r)if(r.length>1){const n=r.indexOf(t);n!==-1&&r.splice(n,1)}else r[0]===t&&this.#e.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=Rb(t);if(typeof e=="string"){const n=this.#e.get(e)?.find(a=>a.state.status==="pending");return!n||n===t}else return!0}runNext(t){const e=Rb(t);return typeof e=="string"?this.#e.get(e)?.find(n=>n!==t&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){pi.batch(()=>{this.#t.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(t){const e={exact:!0,...t};return this.getAll().find(r=>s5(e,r))}findAll(t={}){return this.getAll().filter(e=>s5(t,e))}notify(t){pi.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return pi.batch(()=>Promise.all(t.map(e=>e.continue().catch(wo))))}};function Rb(t){return t.options.scope?.id}var loe=class extends Mm{#t;#e=void 0;#r;#i;constructor(e,r){super(),this.#t=e,this.setOptions(r),this.bindMethods(),this.#n()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const r=this.options;this.options=this.#t.defaultMutationOptions(e),VS(this.options,r)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),r?.mutationKey&&this.options.mutationKey&&Gv(r.mutationKey)!==Gv(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(e){this.#n(),this.#s(e)}getCurrentResult(){return this.#e}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#n(),this.#s()}mutate(e,r){return this.#i=r,this.#r?.removeObserver(this),this.#r=this.#t.getMutationCache().build(this.#t,this.options),this.#r.addObserver(this),this.#r.execute(e)}#n(){const e=this.#r?.state??B7();this.#e={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#s(e){pi.batch(()=>{if(this.#i&&this.hasListeners()){const r=this.#e.variables,n=this.#e.context,a={client:this.#t,meta:this.options.meta,mutationKey:this.options.mutationKey};if(e?.type==="success"){try{this.#i.onSuccess?.(e.data,r,n,a)}catch(i){Promise.reject(i)}try{this.#i.onSettled?.(e.data,null,r,n,a)}catch(i){Promise.reject(i)}}else if(e?.type==="error"){try{this.#i.onError?.(e.error,r,n,a)}catch(i){Promise.reject(i)}try{this.#i.onSettled?.(void 0,e.error,r,n,a)}catch(i){Promise.reject(i)}}}this.listeners.forEach(r=>{r(this.#e)})})}},uoe=class extends Mm{constructor(t={}){super(),this.config=t,this.#t=new Map}#t;build(t,e,r){const n=e.queryKey,a=e.queryHash??$R(n,e);let i=this.get(a);return i||(i=new toe({client:t,queryKey:n,queryHash:a,options:t.defaultQueryOptions(e),state:r,defaultOptions:t.getQueryDefaults(n)}),this.add(i)),i}add(t){this.#t.has(t.queryHash)||(this.#t.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#t.get(t.queryHash);e&&(t.destroy(),e===t&&this.#t.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){pi.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#t.get(t)}getAll(){return[...this.#t.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(r=>o5(e,r))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(r=>o5(t,r)):e}notify(t){pi.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){pi.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){pi.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},coe=class{#t;#e;#r;#i;#n;#s;#a;#o;constructor(t={}){this.#t=t.queryCache||new uoe,this.#e=t.mutationCache||new soe,this.#r=t.defaultOptions||{},this.#i=new Map,this.#n=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#a=QR.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#o=FS.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#a?.(),this.#a=void 0,this.#o?.(),this.#o=void 0)}isFetching(t){return this.#t.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#e.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#t.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=this.#t.build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(Bh(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return this.#t.findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=this.#t.get(n.queryHash)?.state.data,o=Uie(e,i);if(o!==void 0)return this.#t.build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return pi.batch(()=>this.#t.findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#t.get(e.queryHash)?.state}removeQueries(t){const e=this.#t;pi.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=this.#t;return pi.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=pi.batch(()=>this.#t.findAll(t).map(a=>a.cancel(r)));return Promise.all(n).then(wo).catch(wo)}invalidateQueries(t,e={}){return pi.batch(()=>(this.#t.findAll(t).forEach(r=>{r.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=pi.batch(()=>this.#t.findAll(t).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(wo)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(wo)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=this.#t.build(this,e);return r.isStaleByTime(Bh(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(wo).catch(wo)}fetchInfiniteQuery(t){return t.behavior=v5(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(wo).catch(wo)}ensureInfiniteQueryData(t){return t.behavior=v5(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return FS.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#r}setDefaultOptions(t){this.#r=t}setQueryDefaults(t,e){this.#i.set(Gv(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#i.values()],r={};return e.forEach(n=>{dx(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){this.#n.set(Gv(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#n.values()],r={};return e.forEach(n=>{dx(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#r.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=$R(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===XR&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#r.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},V7=O.createContext(void 0),Fn=t=>{const e=O.useContext(V7);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},foe=({client:t,children:e})=>(O.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),x.jsx(V7.Provider,{value:t,children:e})),F7=O.createContext(!1),hoe=()=>O.useContext(F7);F7.Provider;function doe(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var voe=O.createContext(doe()),poe=()=>O.useContext(voe),goe=(t,e,r)=>{const n=r?.state.error&&typeof t.throwOnError=="function"?KR(t.throwOnError,[r.state.error,r]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||n)&&(e.isReset()||(t.retryOnMount=!1))},moe=t=>{O.useEffect(()=>{t.clearReset()},[t])},yoe=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:a})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(a&&t.data===void 0||KR(r,[t.error,n])),xoe=t=>{if(t.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},_oe=(t,e)=>t.isLoading&&t.isFetching&&!e,boe=(t,e)=>t?.suspense&&e.isPending,g5=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function Soe(t,e,r){const n=hoe(),a=poe(),i=Fn(),o=i.defaultQueryOptions(t);i.getDefaultOptions().queries?._experimental_beforeQuery?.(o);const s=i.getQueryCache().get(o.queryHash);o._optimisticResults=n?"isRestoring":"optimistic",xoe(o),goe(o,a,s),moe(a);const l=!i.getQueryCache().get(o.queryHash),[u]=O.useState(()=>new e(i,o)),c=u.getOptimisticResult(o),f=!n&&t.subscribed!==!1;if(O.useSyncExternalStore(O.useCallback(d=>{const v=f?u.subscribe(pi.batchCalls(d)):wo;return u.updateResult(),v},[u,f]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),O.useEffect(()=>{u.setOptions(o)},[o,u]),boe(o,c))throw g5(o,u,a);if(yoe({result:c,errorResetBoundary:a,throwOnError:o.throwOnError,query:s,suspense:o.suspense}))throw c.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(o,c),o.experimental_prefetchInRender&&!Hv&&_oe(c,n)&&(l?g5(o,u,a):s?.promise)?.catch(wo).finally(()=>{u.updateResult()}),o.notifyOnChangeProps?c:u.trackResult(c)}function Xr(t,e){return Soe(t,roe)}function Nn(t,e){const r=Fn(),[n]=O.useState(()=>new loe(r,t));O.useEffect(()=>{n.setOptions(t)},[n,t]);const a=O.useSyncExternalStore(O.useCallback(o=>n.subscribe(pi.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=O.useCallback((o,s)=>{n.mutate(o,s).catch(wo)},[n]);if(a.error&&KR(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}const woe="application/json";class Toe{#t=[];#e;#r=!0;#i;#n=this.#D(console.info);#s=this.#D(console.warn);#a={enable:!0,callbackList:[],interval:5};#o;didInitialize=!1;authenticated=!1;loginRequired=!1;responseMode="fragment";responseType="code";flow="standard";timeSkew=null;redirectUri;silentCheckSsoRedirectUri;silentCheckSsoFallback=!0;pkceMethod="S256";enableLogging=!1;logoutMethod="GET";scope;messageReceiveTimeout=1e4;idToken;idTokenParsed;token;tokenParsed;refreshToken;refreshTokenParsed;clientId;sessionId;subject;authServerUrl;realm;realmAccess;resourceAccess;profile;userInfo;endpoints;tokenTimeoutHandle;onAuthSuccess;onAuthError;onAuthRefreshSuccess;onAuthRefreshError;onTokenExpired;onAuthLogout;onReady;onActionUpdate;constructor(e){if(typeof e!="string"&&!qL(e))throw new Error("The 'Keycloak' constructor must be provided with a configuration object, or a URL to a JSON configuration file.");if(qL(e)){const r="oidcProvider"in e?["clientId"]:["url","realm","clientId"];for(const n of r)if(!(n in e))throw new Error(`The configuration object is missing the required '${n}' property.`)}globalThis.isSecureContext||this.#s(`[KEYCLOAK] Keycloak JS must be used in a 'secure context' to function properly as it relies on browser APIs that are otherwise not available.
Continuing to run your application insecurely will lead to unexpected behavior and breakage.

For more information see: https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts`),this.#o=e}init=async(e={})=>{if(this.didInitialize)throw new Error("A 'Keycloak' instance can only be initialized once.");this.didInitialize=!0,this.#i=Noe();const r=["default","cordova","cordova-native"];if(typeof e.adapter=="string"&&r.includes(e.adapter)?this.#e=this.#v(e.adapter):typeof e.adapter=="object"?this.#e=e.adapter:"Cordova"in window||"cordova"in window?this.#e=this.#v("cordova"):this.#e=this.#v("default"),typeof e.useNonce<"u"&&(this.#r=e.useNonce),typeof e.checkLoginIframe<"u"&&(this.#a.enable=e.checkLoginIframe),e.checkLoginIframeInterval&&(this.#a.interval=e.checkLoginIframeInterval),e.onLoad==="login-required"&&(this.loginRequired=!0),e.responseMode)if(e.responseMode==="query"||e.responseMode==="fragment")this.responseMode=e.responseMode;else throw new Error("Invalid value for responseMode");if(e.flow){switch(e.flow){case"standard":this.responseType="code";break;case"implicit":this.responseType="id_token token";break;case"hybrid":this.responseType="code id_token token";break;default:throw new Error("Invalid value for flow")}this.flow=e.flow}if(typeof e.timeSkew=="number"&&(this.timeSkew=e.timeSkew),e.redirectUri&&(this.redirectUri=e.redirectUri),e.silentCheckSsoRedirectUri&&(this.silentCheckSsoRedirectUri=e.silentCheckSsoRedirectUri),typeof e.silentCheckSsoFallback=="boolean"&&(this.silentCheckSsoFallback=e.silentCheckSsoFallback),typeof e.pkceMethod<"u"){if(e.pkceMethod!=="S256"&&e.pkceMethod!==!1)throw new TypeError(`Invalid value for pkceMethod', expected 'S256' or false but got ${e.pkceMethod}.`);this.pkceMethod=e.pkceMethod}return typeof e.enableLogging=="boolean"&&(this.enableLogging=e.enableLogging),e.logoutMethod==="POST"&&(this.logoutMethod="POST"),typeof e.scope=="string"&&(this.scope=e.scope),typeof e.messageReceiveTimeout=="number"&&e.messageReceiveTimeout>0&&(this.messageReceiveTimeout=e.messageReceiveTimeout),await this.#g(),await this.#S(),await this.#w(e),this.onReady?.(this.authenticated),this.authenticated};#v(e){if(e==="default")return this.#y();if(e==="cordova")return this.#a.enable=!1,this.#x();if(e==="cordova-native")return this.#a.enable=!1,this.#p();throw new Error("invalid adapter type: "+e)}#y(){const e=r=>r?.redirectUri||this.redirectUri||globalThis.location.href;return{login:async r=>(window.location.assign(await this.createLoginUrl(r)),await new Promise(()=>{})),logout:async r=>{if((r?.logoutMethod??this.logoutMethod)==="GET"){window.location.replace(this.createLogoutUrl(r));return}const a=document.createElement("form");a.setAttribute("method","POST"),a.setAttribute("action",this.createLogoutUrl(r)),a.style.display="none";const i={id_token_hint:this.idToken,client_id:this.clientId,post_logout_redirect_uri:e(r)};for(const[o,s]of Object.entries(i)){const l=document.createElement("input");l.setAttribute("type","hidden"),l.setAttribute("name",o),l.setAttribute("value",s),a.appendChild(l)}document.body.appendChild(a),a.submit()},register:async r=>(window.location.assign(await this.createRegisterUrl(r)),await new Promise(()=>{})),accountManagement:async()=>{const r=this.createAccountUrl();if(typeof r<"u")window.location.href=r;else throw new Error("Not supported by the OIDC server");return await new Promise(()=>{})},redirectUri:e}}#x(){const e=(o,s,l)=>window.cordova&&window.cordova.InAppBrowser?window.cordova.InAppBrowser.open(o,s,l):window.open(o,s,l),r=o=>o&&o.cordovaOptions?Object.keys(o.cordovaOptions).reduce((s,l)=>(s[l]=o.cordovaOptions[l],s),{}):{},n=o=>Object.keys(o).reduce((s,l)=>(s.push(l+"="+o[l]),s),[]).join(","),a=o=>{const s=r(o);return s.location="no",o&&o.prompt==="none"&&(s.hidden="yes"),n(s)},i=()=>this.redirectUri||"http://localhost";return{login:async o=>{const s=a(o),l=await this.createLoginUrl(o),u=e(l,"_blank",s);let c=!1,f=!1;function d(){f=!0,u.close()}return await new Promise((v,g)=>{u.addEventListener("loadstart",async y=>{if(y.url.indexOf(i())===0){const b=this.#l(y.url);try{await this.#d(b),v()}catch(S){g(S)}d(),c=!0}}),u.addEventListener("loaderror",async y=>{if(!c)if(y.url.indexOf(i())===0){const b=this.#l(y.url);try{await this.#d(b),v()}catch(S){g(S)}d(),c=!0}else g(new Error("Unable to process login.")),d()}),u.addEventListener("exit",function(y){f||g(new Error("User closed the login window."))})})},logout:async o=>{const s=this.createLogoutUrl(o),l=e(s,"_blank","location=no,hidden=yes,clearcache=yes");let u=!1;l.addEventListener("loadstart",c=>{c.url.indexOf(i())===0&&l.close()}),l.addEventListener("loaderror",c=>{c.url.indexOf(i())===0||(u=!0),l.close()}),await new Promise((c,f)=>{l.addEventListener("exit",()=>{u?f(new Error("User closed the login window.")):(this.clearToken(),c())})})},register:async o=>{const s=await this.createRegisterUrl(),l=a(o),u=e(s,"_blank",l);await new Promise((f,d)=>{u.addEventListener("loadstart",async v=>{if(v.url.indexOf(i())===0){u.close();const g=this.#l(v.url);try{await this.#d(g),f()}catch(y){d(y)}}})})},accountManagement:async()=>{const o=this.createAccountUrl();if(typeof o<"u"){const s=e(o,"_blank","location=no");s.addEventListener("loadstart",function(l){l.url.indexOf(i())===0&&s.close()})}else throw new Error("Not supported by the OIDC server")},redirectUri:()=>i()}}#p(){return{login:async e=>{const r=await this.createLoginUrl(e);await new Promise((n,a)=>{universalLinks.subscribe("keycloak",async i=>{universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close();const o=this.#l(i.url);try{await this.#d(o),n()}catch(s){a(s)}}),window.cordova.plugins.browsertab.openUrl(r)})},logout:async e=>{const r=this.createLogoutUrl(e);await new Promise(n=>{universalLinks.subscribe("keycloak",()=>{universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close(),this.clearToken(),n()}),window.cordova.plugins.browsertab.openUrl(r)})},register:async e=>{const r=await this.createRegisterUrl(e);await new Promise((n,a)=>{universalLinks.subscribe("keycloak",async i=>{universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close();const o=this.#l(i.url);try{await this.#d(o),n()}catch(s){a(s)}}),window.cordova.plugins.browsertab.openUrl(r)})},accountManagement:async()=>{const e=this.createAccountUrl();if(typeof e<"u")window.cordova.plugins.browsertab.openUrl(e);else throw new Error("Not supported by the OIDC server")},redirectUri:e=>e&&e.redirectUri?e.redirectUri:this.redirectUri?this.redirectUri:"http://localhost"}}async#g(){if(typeof this.#o=="string"){const e=await zoe(this.#o);this.authServerUrl=e["auth-server-url"],this.realm=e.realm,this.clientId=e.resource,this.#c()}else this.clientId=this.#o.clientId,"oidcProvider"in this.#o?await this.#_(this.#o.oidcProvider):(this.authServerUrl=this.#o.url,this.realm=this.#o.realm,this.#c())}#c(){this.endpoints={authorize:()=>this.#u()+"/protocol/openid-connect/auth",token:()=>this.#u()+"/protocol/openid-connect/token",logout:()=>this.#u()+"/protocol/openid-connect/logout",checkSessionIframe:()=>this.#u()+"/protocol/openid-connect/login-status-iframe.html",thirdPartyCookiesIframe:()=>this.#u()+"/protocol/openid-connect/3p-cookies/step1.html",register:()=>this.#u()+"/protocol/openid-connect/registrations",userinfo:()=>this.#u()+"/protocol/openid-connect/userinfo"}}async#_(e){if(typeof e=="string"){const r=`${x5(e)}/.well-known/openid-configuration`,n=await Boe(r);this.#f(n)}else this.#f(e)}#f(e){this.endpoints={authorize(){return e.authorization_endpoint},token(){return e.token_endpoint},logout(){if(!e.end_session_endpoint)throw new Error("Not supported by the OIDC server");return e.end_session_endpoint},checkSessionIframe(){if(!e.check_session_iframe)throw new Error("Not supported by the OIDC server");return e.check_session_iframe},register(){throw new Error('Redirection to "Register user" page not supported in standard OIDC mode')},userinfo(){if(!e.userinfo_endpoint)throw new Error("Not supported by the OIDC server");return e.userinfo_endpoint}}}async#S(){if(!this.#a.enable&&!this.silentCheckSsoRedirectUri||typeof this.endpoints.thirdPartyCookiesIframe!="function")return;const e=document.createElement("iframe");e.setAttribute("src",this.endpoints.thirdPartyCookiesIframe()),e.setAttribute("sandbox","allow-storage-access-by-user-activation allow-scripts allow-same-origin"),e.setAttribute("title","keycloak-3p-check-iframe"),e.style.display="none",document.body.appendChild(e);const r=new Promise(n=>{const a=i=>{e.contentWindow===i.source&&(i.data!=="supported"&&i.data!=="unsupported"||(i.data==="unsupported"&&(this.#s(`[KEYCLOAK] Your browser is blocking access to 3rd-party cookies, this means:

 - It is not possible to retrieve tokens without redirecting to the Keycloak server (a.k.a. no support for silent authentication).
 - It is not possible to automatically detect changes to the session status (such as the user logging out in another tab).

For more information see: https://www.keycloak.org/securing-apps/javascript-adapter#_modern_browsers`),this.#a.enable=!1,this.silentCheckSsoFallback&&(this.silentCheckSsoRedirectUri=void 0)),document.body.removeChild(e),window.removeEventListener("message",a),n()))};window.addEventListener("message",a,!1)});return await Eoe(r,this.messageReceiveTimeout,"Timeout when waiting for 3rd party check iframe message.")}async#w(e){const r=this.#l(window.location.href);if(r?.newUrl&&window.history.replaceState(window.history.state,"",r.newUrl),r&&r.valid){await this.#m(),await this.#d(r);return}const n=async i=>{const o={};i||(o.prompt="none"),e.locale&&(o.locale=e.locale),await this.login(o)},a=async()=>{switch(e.onLoad){case"check-sso":this.#a.enable?(await this.#m(),await this.#h()||(this.silentCheckSsoRedirectUri?await this.#b():await n(!1))):this.silentCheckSsoRedirectUri?await this.#b():await n(!1);break;case"login-required":await n(!0);break;default:throw new Error("Invalid value for onLoad")}};if(e.token&&e.refreshToken)if(this.#M(e.token,e.refreshToken,e.idToken),this.#a.enable)await this.#m(),await this.#h()&&(this.onAuthSuccess?.(),this.#A());else try{await this.updateToken(-1),this.onAuthSuccess?.()}catch(i){if(this.onAuthError?.(),e.onLoad)await a();else throw i}else e.onLoad&&await a()}async#m(){if(!this.#a.enable||this.#a.iframe)return;const e=document.createElement("iframe");this.#a.iframe=e,e.setAttribute("src",this.endpoints.checkSessionIframe()),e.setAttribute("sandbox","allow-storage-access-by-user-activation allow-scripts allow-same-origin"),e.setAttribute("title","keycloak-session-iframe"),e.style.display="none",document.body.appendChild(e);const r=a=>{if(a.origin!==this.#a.iframeOrigin||this.#a.iframe?.contentWindow!==a.source||!(a.data==="unchanged"||a.data==="changed"||a.data==="error"))return;a.data!=="unchanged"&&this.clearToken();const i=this.#a.callbackList;this.#a.callbackList=[];for(const o of i.reverse())a.data==="error"?o(new Error("Error while checking login iframe")):o(null,a.data==="unchanged")};window.addEventListener("message",r,!1),await new Promise(a=>{e.addEventListener("load",()=>{const i=this.endpoints.authorize();i.startsWith("/")?this.#a.iframeOrigin=globalThis.location.origin:this.#a.iframeOrigin=new URL(i).origin,a()})})}async#h(){if(!this.#a.iframe||!this.#a.iframeOrigin)return;const e=`${this.clientId} ${this.sessionId?this.sessionId:""}`,r=this.#a.iframeOrigin;return await new Promise((a,i)=>{const o=(s,l)=>s?i(s):a(l);this.#a.callbackList.push(o),this.#a.callbackList.length===1&&this.#a.iframe?.contentWindow?.postMessage(e,r)})}async#b(){const e=document.createElement("iframe"),r=await this.createLoginUrl({prompt:"none",redirectUri:this.silentCheckSsoRedirectUri});return e.setAttribute("src",r),e.setAttribute("sandbox","allow-storage-access-by-user-activation allow-scripts allow-same-origin"),e.setAttribute("title","keycloak-silent-check-sso"),e.style.display="none",document.body.appendChild(e),await new Promise((n,a)=>{const i=async o=>{if(o.origin!==window.location.origin||e.contentWindow!==o.source)return;const s=this.#l(o.data);try{await this.#d(s),n()}catch(l){a(l)}document.body.removeChild(e),window.removeEventListener("message",i)};window.addEventListener("message",i)})}#l(e){const r=this.#T(e);if(!r)return;const n=this.#i.get(r.state);return n&&(r.valid=!0,r.redirectUri=n.redirectUri,r.storedNonce=n.nonce,r.prompt=n.prompt,r.pkceCodeVerifier=n.pkceCodeVerifier,r.loginOptions=n.loginOptions),r}#T(e){let r=[];switch(this.flow){case"standard":r=["code","state","session_state","kc_action_status","kc_action","iss"];break;case"implicit":r=["access_token","token_type","id_token","state","session_state","expires_in","kc_action_status","kc_action","iss"];break;case"hybrid":r=["access_token","token_type","id_token","code","state","session_state","expires_in","kc_action_status","kc_action","iss"];break}r.push("error"),r.push("error_description"),r.push("error_uri");const n=new URL(e);let a="",i;if(this.responseMode==="query"&&n.searchParams.size>0?(i=this.#C(n.search,r),n.search=i.paramsString,a=n.toString()):this.responseMode==="fragment"&&n.hash.length>0&&(i=this.#C(n.hash.substring(1),r),n.hash=i.paramsString,a=n.toString()),i?.oauthParams){if(this.flow==="standard"||this.flow==="hybrid"){if((i.oauthParams.code||i.oauthParams.error)&&i.oauthParams.state)return i.oauthParams.newUrl=a,i.oauthParams}else if(this.flow==="implicit"&&(i.oauthParams.access_token||i.oauthParams.error)&&i.oauthParams.state)return i.oauthParams.newUrl=a,i.oauthParams}}#C(e,r){const n=e.split("&"),a={};let i="";for(const o of n.reverse()){const s=new URLSearchParams(o).entries().next().value;if(!s){i="&"+i;continue}const[l,u]=s;r.includes(l)&&!(l in a)?a[l]=u:i=i.length===0?o:o+"&"+i}return{paramsString:i,oauthParams:a}}async#d(e){const{code:r,error:n,prompt:a}=e;let i=new Date().getTime();const o=(s,l,u)=>{if(i=(i+new Date().getTime())/2,this.#M(s,l,u,i),this.#r&&this.idTokenParsed&&this.idTokenParsed.nonce!==e.storedNonce)throw this.#n("[KEYCLOAK] Invalid nonce, clearing token"),this.clearToken(),new Error("Invalid nonce.")};if(e.kc_action_status&&this.onActionUpdate&&this.onActionUpdate(e.kc_action_status,e.kc_action),n){if(a!=="none")if(e.error_description&&e.error_description==="authentication_expired")await this.login(e.loginOptions);else{const s={error:n,error_description:e.error_description};throw this.onAuthError?.(s),s}return}else this.flow!=="standard"&&(e.access_token||e.id_token)&&(o(e.access_token,void 0,e.id_token),this.onAuthSuccess?.());if(this.flow!=="implicit"&&r)try{const s=await Voe(this.endpoints.token(),r,this.clientId,e.redirectUri,e.pkceCodeVerifier);o(s.access_token,s.refresh_token,s.id_token),this.flow==="standard"&&this.onAuthSuccess?.(),this.#A()}catch(s){throw this.onAuthError?.(),s}}async#A(){this.#a.enable&&this.token&&(await Goe(this.#a.interval*1e3),await this.#h()&&await this.#A())}login=e=>this.#e.login(e);createLoginUrl=async e=>{const r=m5(),n=m5(),a=this.#e.redirectUri(e),i={state:r,nonce:n,redirectUri:a,loginOptions:e};e?.prompt&&(i.prompt=e.prompt);const o=e?.action==="register"?this.endpoints.register():this.endpoints.authorize();let s=e?.scope||this.scope;const l=s?s.split(" "):[];l.includes("openid")||l.unshift("openid"),s=l.join(" ");const u=new URLSearchParams([["client_id",this.clientId],["redirect_uri",a],["state",r],["response_mode",this.responseMode],["response_type",this.responseType],["scope",s]]);if(this.#r&&u.append("nonce",n),e?.prompt&&u.append("prompt",e.prompt),typeof e?.maxAge=="number"&&u.append("max_age",e.maxAge.toString()),e?.loginHint&&u.append("login_hint",e.loginHint),e?.idpHint&&u.append("kc_idp_hint",e.idpHint),e?.action&&e.action!=="register"&&u.append("kc_action",e.action),e?.locale&&u.append("ui_locales",e.locale),e?.acr&&u.append("claims",Coe(e.acr)),e?.acrValues&&u.append("acr_values",e.acrValues),this.pkceMethod)try{const c=Moe(96),f=await Aoe(this.pkceMethod,c);i.pkceCodeVerifier=c,u.append("code_challenge",f),u.append("code_challenge_method",this.pkceMethod)}catch(c){throw new Error("Failed to generate PKCE challenge.",{cause:c})}return this.#i.add(i),`${o}?${u.toString()}`};logout=e=>this.#e.logout(e);createLogoutUrl=e=>{const r=e?.logoutMethod??this.logoutMethod,n=this.endpoints.logout();if(r==="POST")return n;const a=new URLSearchParams([["client_id",this.clientId],["post_logout_redirect_uri",this.#e.redirectUri(e)]]);return this.idToken&&a.append("id_token_hint",this.idToken),`${n}?${a.toString()}`};register=e=>this.#e.register(e);createRegisterUrl=e=>this.createLoginUrl({...e,action:"register"});createAccountUrl=e=>{const r=this.#u();if(!r)throw new Error("Unable to create account URL, make sure the adapter is not configured using a generic OIDC provider.");const n=new URLSearchParams([["referrer",this.clientId],["referrer_uri",this.#e.redirectUri(e)]]);return`${r}/account?${n.toString()}`};accountManagement=()=>this.#e.accountManagement();hasRealmRole=e=>{const r=this.realmAccess;return!!r&&r.roles.indexOf(e)>=0};hasResourceRole=(e,r)=>{if(!this.resourceAccess)return!1;const n=this.resourceAccess[r||this.clientId];return!!n&&n.roles.indexOf(e)>=0};loadUserProfile=async()=>{const e=this.#u();if(!e)throw new Error("Unable to load user profile, make sure the adapter is not configured using a generic OIDC provider.");const r=`${e}/account`,n=await tm(r,{headers:[y5(this.token)]});return this.profile=n};loadUserInfo=async()=>{const e=this.endpoints.userinfo(),r=await tm(e,{headers:[y5(this.token)]});return this.userInfo=r};isTokenExpired=e=>{if(!this.tokenParsed||!this.refreshToken&&this.flow!=="implicit")throw new Error("Not authenticated");if(this.timeSkew==null)return this.#n("[KEYCLOAK] Unable to determine if token is expired as timeskew is not set"),!0;if(typeof this.tokenParsed.exp!="number")return!1;let r=this.tokenParsed.exp-Math.ceil(new Date().getTime()/1e3)+this.timeSkew;if(e){if(isNaN(e))throw new Error("Invalid minValidity");r-=e}return r<0};updateToken=async e=>{if(!this.refreshToken)throw new Error("Unable to update token, no refresh token available.");e=e||5,this.#a.enable&&await this.#h();let r=!1;if(e===-1?(r=!0,this.#n("[KEYCLOAK] Refreshing token: forced refresh")):(!this.tokenParsed||this.isTokenExpired(e))&&(r=!0,this.#n("[KEYCLOAK] Refreshing token: token expired")),!r)return!1;const{promise:n,resolve:a,reject:i}=Promise.withResolvers();if(this.#t.push({resolve:a,reject:i}),this.#t.length===1){const o=this.endpoints.token();let s=new Date().getTime();try{const l=await Foe(o,this.refreshToken,this.clientId);this.#n("[KEYCLOAK] Token refreshed"),s=(s+new Date().getTime())/2,this.#M(l.access_token,l.refresh_token,l.id_token,s),this.onAuthRefreshSuccess?.();for(let u=this.#t.pop();u!=null;u=this.#t.pop())u.resolve(!0)}catch(l){this.#s("[KEYCLOAK] Failed to refresh token"),l instanceof H7&&l.response.status===400&&this.clearToken(),this.onAuthRefreshError?.();for(let u=this.#t.pop();u!=null;u=this.#t.pop())u.reject(l)}}return await n};clearToken=()=>{this.token&&(this.#M(),this.onAuthLogout?.(),this.loginRequired&&this.login())};#M(e,r,n,a){if(this.tokenTimeoutHandle&&(clearTimeout(this.tokenTimeoutHandle),this.tokenTimeoutHandle=void 0),r?(this.refreshToken=r,this.refreshTokenParsed=PA(r)):(delete this.refreshToken,delete this.refreshTokenParsed),n?(this.idToken=n,this.idTokenParsed=PA(n)):(delete this.idToken,delete this.idTokenParsed),e){if(this.token=e,this.tokenParsed=PA(e),this.sessionId=this.tokenParsed.sid,this.authenticated=!0,this.subject=this.tokenParsed.sub,this.realmAccess=this.tokenParsed.realm_access,this.resourceAccess=this.tokenParsed.resource_access,a&&(this.timeSkew=Math.floor(a/1e3)-this.tokenParsed.iat),this.timeSkew!==null&&(this.#n("[KEYCLOAK] Estimated time difference between browser and server is "+this.timeSkew+" seconds"),this.onTokenExpired)){const i=(this.tokenParsed.exp-new Date().getTime()/1e3+this.timeSkew)*1e3;this.#n("[KEYCLOAK] Token expires in "+Math.round(i/1e3)+" s"),i<=0?this.onTokenExpired():this.tokenTimeoutHandle=window.setTimeout(this.onTokenExpired,i)}}else delete this.token,delete this.tokenParsed,delete this.subject,delete this.realmAccess,delete this.resourceAccess,this.authenticated=!1}#u(){if(!(typeof this.authServerUrl>"u"))return`${x5(this.authServerUrl)}/realms/${encodeURIComponent(this.realm)}`}#D(e){return r=>{this.enableLogging&&e.call(console,r)}}}function m5(){if(typeof crypto>"u"||typeof crypto.randomUUID>"u")throw new Error("Web Crypto API is not available.");return crypto.randomUUID()}function Coe(t){return JSON.stringify({id_token:{acr:t}})}function Moe(t){return Doe(t,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789")}async function Aoe(t,e){if(t!=="S256")throw new TypeError(`Invalid value for 'pkceMethod', expected 'S256' but got '${t}'.`);const r=new Uint8Array(await Ioe(e));return koe(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function Doe(t,e){const r=Loe(t),n=new Array(t);for(let a=0;a<t;a++)n[a]=e.charCodeAt(r[a]%e.length);return String.fromCharCode.apply(null,n)}function Loe(t){if(typeof crypto>"u"||typeof crypto.getRandomValues>"u")throw new Error("Web Crypto API is not available.");return crypto.getRandomValues(new Uint8Array(t))}function Eoe(t,e,r){let n;const a=new Promise(function(i,o){n=window.setTimeout(function(){o(new Error(r))},e)});return Promise.race([t,a]).finally(function(){clearTimeout(n)})}function Noe(){try{return new Roe}catch{return new Poe}}const Wg="kc-callback-";class Roe{constructor(){globalThis.localStorage.setItem("kc-test","test"),globalThis.localStorage.removeItem("kc-test")}get(e){if(!e)return null;this.#t();const r=Wg+e,n=globalThis.localStorage.getItem(r);return n?(globalThis.localStorage.removeItem(r),JSON.parse(n)):null}add(e){this.#t();const r=Wg+e.state,n=JSON.stringify({...e,expires:Date.now()+3600*1e3});try{globalThis.localStorage.setItem(r,n)}catch{this.#e(),globalThis.localStorage.setItem(r,n)}}#t(){const e=Date.now();for(const[r,n]of this.#r()){const a=this.#i(n);(a===null||a<e)&&globalThis.localStorage.removeItem(r)}}#e(){for(const[e]of this.#r())globalThis.localStorage.removeItem(e)}#r(){return Object.entries(globalThis.localStorage).filter(([e])=>e.startsWith(Wg))}#i(e){let r;try{r=JSON.parse(e)}catch{return null}return qL(r)&&"expires"in r&&typeof r.expires=="number"?r.expires:null}}class Poe{get(e){if(!e)return null;const r=this.#t(Wg+e);return this.#e(Wg+e,"",this.#r(-100)),r?JSON.parse(r):null}add(e){this.#e(Wg+e.state,JSON.stringify(e),this.#r(60))}#t(e){const r=e+"=",n=document.cookie.split(";");for(let a=0;a<n.length;a++){let i=n[a];for(;i.charAt(0)===" ";)i=i.substring(1);if(i.indexOf(r)===0)return i.substring(r.length,i.length)}return""}#e(e,r,n){const a=e+"="+r+"; expires="+n.toUTCString()+"; ";document.cookie=a}#r(e){const r=new Date;return r.setTime(r.getTime()+e*60*1e3),r}}function koe(t){const e=String.fromCodePoint(...t);return btoa(e)}async function Ioe(t){const r=new TextEncoder().encode(t);if(typeof crypto>"u"||typeof crypto.subtle>"u")throw new Error("Web Crypto API is not available.");return await crypto.subtle.digest("SHA-256",r)}function PA(t){const[,e]=t.split(".");if(typeof e!="string")throw new Error("Unable to decode token, payload not found.");let r;try{r=Ooe(e)}catch(n){throw new Error("Unable to decode token, payload is not a valid Base64URL value.",{cause:n})}try{return JSON.parse(r)}catch(n){throw new Error("Unable to decode token, payload is not a valid JSON value.",{cause:n})}}function Ooe(t){let e=t.replaceAll("-","+").replaceAll("_","/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw new Error("Input is not of the correct length.")}try{return joe(e)}catch{return atob(e)}}function joe(t){return decodeURIComponent(atob(t).replace(/(.)/g,(e,r)=>{let n=r.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}function qL(t){return typeof t=="object"&&t!==null}async function zoe(t){return await tm(t)}async function Boe(t){return await tm(t)}async function Voe(t,e,r,n,a){const i=new URLSearchParams([["code",e],["grant_type","authorization_code"],["client_id",r],["redirect_uri",n]]);return a&&i.append("code_verifier",a),await tm(t,{method:"POST",credentials:"include",body:i})}async function Foe(t,e,r){const n=new URLSearchParams([["grant_type","refresh_token"],["refresh_token",e],["client_id",r]]);return await tm(t,{method:"POST",credentials:"include",body:n})}async function tm(t,e={}){const r=new Headers(e.headers);return r.set("Accept",woe),await(await Hoe(t,{...e,headers:r})).json()}async function Hoe(t,e){const r=await fetch(t,e);if(!r.ok)throw new H7("Server responded with an invalid status.",{response:r});return r}function y5(t){if(!t)throw new Error("Unable to build authorization header, token is not set, make sure the user is authenticated.");return["Authorization",`bearer ${t}`]}function x5(t){return t.endsWith("/")?t.slice(0,-1):t}class H7 extends Error{response;constructor(e,r){super(e,r),this.response=r.response}}const Goe=t=>new Promise(e=>setTimeout(e,t)),Uoe=window.location.origin,La=new Toe({url:Uoe,realm:"pulse",clientId:"pulse-ui"}),G7=O.createContext({authenticated:!1,user:null,token:null,login:()=>{},logout:()=>{},isCustomer:!1,isOperator:!1});function El(){return O.useContext(G7)}function _5(){if(!La.tokenParsed)return null;const t=La.tokenParsed;return{sub:t.sub||"",email:t.email||"",tenantId:t.tenant_id||"",role:t.role||"",name:t.preferred_username||t.name||""}}function Woe({children:t}){const[e,r]=O.useState(!1),[n,a]=O.useState(null),[i,o]=O.useState(null),[s,l]=O.useState(!1),[u,c]=O.useState(null);O.useEffect(()=>{La.init({onLoad:"login-required",pkceMethod:"S256",checkLoginIframe:!1}).then(S=>{S&&(r(!0),a(_5()),o(La.token||null)),l(!0)}).catch(S=>{console.error("Keycloak init failed:",S),c("Authentication service unavailable"),l(!0)});const b=setInterval(()=>{La.authenticated&&La.updateToken(60).then(S=>{S&&(o(La.token||null),a(_5()))}).catch(()=>{console.warn("Token refresh failed, redirecting to login"),La.login()})},3e4);return()=>clearInterval(b)},[]);const f=O.useCallback(()=>{La.login()},[]),d=O.useCallback(()=>{La.logout({redirectUri:window.location.origin+"/app/"})},[]),v=n?.role||"",g=v==="customer_admin"||v==="customer_viewer",y=v==="operator"||v==="operator_admin";return s?u?x.jsx("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center",children:x.jsxs("div",{className:"text-center space-y-4",children:[x.jsx("p",{className:"text-destructive text-lg",children:u}),x.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded-md",children:"Retry"})]})}):x.jsx(G7.Provider,{value:{authenticated:e,user:n,token:i,login:f,logout:d,isCustomer:g,isOperator:y},children:t}):x.jsx("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center",children:x.jsxs("div",{className:"text-center space-y-4",children:[x.jsx("div",{className:"animate-spin h-8 w-8 border-2 border-primary border-t-transparent rounded-full mx-auto"}),x.jsx("p",{className:"text-muted-foreground",children:"Authenticating..."})]})})}const Yoe=new coe({defaultOptions:{queries:{staleTime:3e4,refetchInterval:6e4,retry:1,refetchOnWindowFocus:!0}}});function Zoe({children:t}){return x.jsx(Woe,{children:x.jsx(foe,{client:Yoe,children:t})})}function U7(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=U7(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function W7(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=U7(t))&&(n&&(n+=" "),n+=e);return n}const b5=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,S5=W7,pT=(t,e)=>r=>{var n;if(e?.variants==null)return S5(t,r?.class,r?.className);const{variants:a,defaultVariants:i}=e,o=Object.keys(a).map(u=>{const c=r?.[u],f=i?.[u];if(c===null)return null;const d=b5(c)||b5(f);return a[u][d]}),s=r&&Object.entries(r).reduce((u,c)=>{let[f,d]=c;return d===void 0||(u[f]=d),u},{}),l=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((u,c)=>{let{class:f,className:d,...v}=c;return Object.entries(v).every(g=>{let[y,b]=g;return Array.isArray(b)?b.includes({...i,...s}[y]):{...i,...s}[y]===b})?[...u,f,d]:u},[]);return S5(t,o,l,r?.class,r?.className)};const Y7=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();const qoe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const $oe=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase());const w5=t=>{const e=$oe(t);return e.charAt(0).toUpperCase()+e.slice(1)};var Xoe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Koe=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const Qoe=O.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...s},l)=>O.createElement("svg",{ref:l,...Xoe,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:Y7("lucide",a),...!i&&!Koe(s)&&{"aria-hidden":"true"},...s},[...o.map(([u,c])=>O.createElement(u,c)),...Array.isArray(i)?i:[i]]));const Yt=(t,e)=>{const r=O.forwardRef(({className:n,...a},i)=>O.createElement(Qoe,{ref:i,iconNode:e,className:Y7(`lucide-${qoe(w5(t))}`,`lucide-${t}`,n),...a}));return r.displayName=w5(t),r};const Joe=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],rm=Yt("activity",Joe);const ese=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],tse=Yt("arrow-left",ese);const rse=[["path",{d:"M 22 14 L 22 10",key:"nqc4tb"}],["rect",{x:"2",y:"6",width:"16",height:"12",rx:"2",key:"13zb55"}]],nse=Yt("battery",rse);const ase=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Am=Yt("bell",ase);const ise=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],Z7=Yt("building-2",ise);const ose=[["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M21 12.598V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8.5",key:"1glfrc"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}]],kA=Yt("calendar-plus",ose);const sse=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],T5=Yt("chart-pie",sse);const lse=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],use=Yt("check",lse);const cse=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],q7=Yt("chevron-down",cse);const fse=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],hse=Yt("chevron-up",fse);const dse=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],vse=Yt("circle-alert",dse);const pse=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],gse=Yt("circle-check-big",pse);const mse=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],$7=Yt("circle-x",mse);const yse=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],eP=Yt("clock",yse);const xse=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],t_=Yt("cpu",xse);const _se=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],tP=Yt("credit-card",_se);const bse=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],C5=Yt("database",bse);const Sse=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],wse=Yt("eye",Sse);const Tse=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],Cse=Yt("gauge",Tse);const Mse=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Ase=Yt("layout-dashboard",Mse);const Dse=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Lse=Yt("link",Dse);const Ese=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Nse=Yt("loader-circle",Ese);const Rse=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Pse=Yt("log-out",Rse);const kse=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],X7=Yt("mail",kse);const Ise=[["path",{d:"M5 12h14",key:"1ays0h"}]],Ose=Yt("minus",Ise);const jse=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],K7=Yt("monitor",jse);const zse=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],M5=Yt("moon",zse);const Bse=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],Q7=Yt("network",Bse);const Vse=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],Fse=Yt("panel-left",Vse);const Hse=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],Gse=Yt("pause",Hse);const Use=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],rP=Yt("pencil",Use);const Wse=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Yse=Yt("play",Wse);const Zse=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],gT=Yt("plus",Zse);const qse=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],HS=Yt("radio",qse);const $se=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],Xse=Yt("refresh-ccw",$se);const Kse=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],J7=Yt("refresh-cw",Kse);const Qse=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],mT=Yt("scroll-text",Qse);const Jse=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],A5=Yt("send",Jse);const ele=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],eW=Yt("server",ele);const tle=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],tW=Yt("settings",tle);const rle=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],rW=Yt("shield-alert",rle);const nle=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ale=Yt("shield",nle);const ile=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],D5=Yt("sun",ile);const ole=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],sle=Yt("trash-2",ole);const lle=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],ule=Yt("trending-down",lle);const cle=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],$L=Yt("trending-up",cle);const fle=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],su=Yt("triangle-alert",fle);const hle=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],dle=Yt("truck",hle);const vle=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],L5=Yt("upload",vle);const ple=[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]],nW=Yt("webhook",ple);const gle=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],r_=Yt("wifi",gle);const mle=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],aW=Yt("x",mle);function E5(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function yT(...t){return e=>{let r=!1;const n=t.map(a=>{const i=E5(a,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():E5(t[a],null)}}}}function en(...t){return O.useCallback(yT(...t),t)}function Uv(t){const e=yle(t),r=O.forwardRef((n,a)=>{const{children:i,...o}=n,s=O.Children.toArray(i),l=s.find(xle);if(l){const u=l.props.children,c=s.map(f=>f===l?O.Children.count(u)>1?O.Children.only(null):O.isValidElement(u)?u.props.children:null:f);return x.jsx(e,{...o,ref:a,children:O.isValidElement(u)?O.cloneElement(u,void 0,c):null})}return x.jsx(e,{...o,ref:a,children:i})});return r.displayName=`${t}.Slot`,r}var xT=Uv("Slot");function yle(t){const e=O.forwardRef((r,n)=>{const{children:a,...i}=r;if(O.isValidElement(a)){const o=ble(a),s=_le(i,a.props);return a.type!==O.Fragment&&(s.ref=n?yT(n,o):o),O.cloneElement(a,s)}return O.Children.count(a)>1?O.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var iW=Symbol("radix.slottable");function oW(t){const e=({children:r})=>x.jsx(x.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=iW,e}function xle(t){return O.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===iW}function _le(t,e){const r={...e};for(const n in e){const a=t[n],i=e[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...s)=>{const l=i(...s);return a(...s),l}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...t,...r}}function ble(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Sle=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],pr=Sle.reduce((t,e)=>{const r=Uv(`Primitive.${e}`),n=O.forwardRef((a,i)=>{const{asChild:o,...s}=a,l=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),x.jsx(l,{...s,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function sW(t,e){t&&op.flushSync(()=>t.dispatchEvent(e))}var lW=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),wle="VisuallyHidden",uW=O.forwardRef((t,e)=>x.jsx(pr.span,{...t,ref:e,style:{...lW,...t.style}}));uW.displayName=wle;var Tle=uW;function Cle(t,e){const r=O.createContext(e),n=i=>{const{children:o,...s}=i,l=O.useMemo(()=>s,Object.values(s));return x.jsx(r.Provider,{value:l,children:o})};n.displayName=t+"Provider";function a(i){const o=O.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[n,a]}function vu(t,e=[]){let r=[];function n(i,o){const s=O.createContext(o),l=r.length;r=[...r,o];const u=f=>{const{scope:d,children:v,...g}=f,y=d?.[t]?.[l]||s,b=O.useMemo(()=>g,Object.values(g));return x.jsx(y.Provider,{value:b,children:v})};u.displayName=i+"Provider";function c(f,d){const v=d?.[t]?.[l]||s,g=O.useContext(v);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,c]}const a=()=>{const i=r.map(o=>O.createContext(o));return function(s){const l=s?.[t]||i;return O.useMemo(()=>({[`__scope${t}`]:{...s,[t]:l}}),[s,l])}};return a.scopeName=t,[n,Mle(a,...e)]}function Mle(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((s,{useScope:l,scopeName:u})=>{const f=l(i)[`__scope${u}`];return{...s,...f}},{});return O.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function nP(t){const e=t+"CollectionProvider",[r,n]=vu(e),[a,i]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:b,children:S}=y,w=Mo.useRef(null),M=Mo.useRef(new Map).current;return x.jsx(a,{scope:b,itemMap:M,collectionRef:w,children:S})};o.displayName=e;const s=t+"CollectionSlot",l=Uv(s),u=Mo.forwardRef((y,b)=>{const{scope:S,children:w}=y,M=i(s,S),A=en(b,M.collectionRef);return x.jsx(l,{ref:A,children:w})});u.displayName=s;const c=t+"CollectionItemSlot",f="data-radix-collection-item",d=Uv(c),v=Mo.forwardRef((y,b)=>{const{scope:S,children:w,...M}=y,A=Mo.useRef(null),D=en(b,A),R=i(c,S);return Mo.useEffect(()=>(R.itemMap.set(A,{ref:A,...M}),()=>{R.itemMap.delete(A)})),x.jsx(d,{[f]:"",ref:D,children:w})});v.displayName=c;function g(y){const b=i(t+"CollectionConsumer",y);return Mo.useCallback(()=>{const w=b.collectionRef.current;if(!w)return[];const M=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((R,N)=>M.indexOf(R.ref.current)-M.indexOf(N.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:u,ItemSlot:v},g,n]}function St(t,e,{checkForDefaultPrevented:r=!0}={}){return function(a){if(t?.(a),r===!1||!a.defaultPrevented)return e?.(a)}}var lo=globalThis?.document?O.useLayoutEffect:()=>{},Ale=zR[" useInsertionEffect ".trim().toString()]||lo;function Zh({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[a,i,o]=Dle({defaultProp:e,onChange:r}),s=t!==void 0,l=s?t:a;{const c=O.useRef(t!==void 0);O.useEffect(()=>{const f=c.current;f!==s&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${s?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),c.current=s},[s,n])}const u=O.useCallback(c=>{if(s){const f=Lle(c)?c(t):c;f!==t&&o.current?.(f)}else i(c)},[s,t,i,o]);return[l,u]}function Dle({defaultProp:t,onChange:e}){const[r,n]=O.useState(t),a=O.useRef(r),i=O.useRef(e);return Ale(()=>{i.current=e},[e]),O.useEffect(()=>{a.current!==r&&(i.current?.(r),a.current=r)},[r,a]),[r,n,i]}function Lle(t){return typeof t=="function"}function Ele(t,e){return O.useReducer((r,n)=>e[r][n]??r,t)}var pu=t=>{const{present:e,children:r}=t,n=Nle(e),a=typeof r=="function"?r({present:n.isPresent}):O.Children.only(r),i=en(n.ref,Rle(a));return typeof r=="function"||n.isPresent?O.cloneElement(a,{ref:i}):null};pu.displayName="Presence";function Nle(t){const[e,r]=O.useState(),n=O.useRef(null),a=O.useRef(t),i=O.useRef("none"),o=t?"mounted":"unmounted",[s,l]=Ele(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return O.useEffect(()=>{const u=Pb(n.current);i.current=s==="mounted"?u:"none"},[s]),lo(()=>{const u=n.current,c=a.current;if(c!==t){const d=i.current,v=Pb(u);t?l("MOUNT"):v==="none"||u?.display==="none"?l("UNMOUNT"):l(c&&d!==v?"ANIMATION_OUT":"UNMOUNT"),a.current=t}},[t,l]),lo(()=>{if(e){let u;const c=e.ownerDocument.defaultView??window,f=v=>{const y=Pb(n.current).includes(CSS.escape(v.animationName));if(v.target===e&&y&&(l("ANIMATION_END"),!a.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",u=c.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},d=v=>{v.target===e&&(i.current=Pb(n.current))};return e.addEventListener("animationstart",d),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{c.clearTimeout(u),e.removeEventListener("animationstart",d),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:O.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Pb(t){return t?.animationName||"none"}function Rle(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Ple=zR[" useId ".trim().toString()]||(()=>{}),kle=0;function nu(t){const[e,r]=O.useState(Ple());return lo(()=>{r(n=>n??String(kle++))},[t]),t||(e?`radix-${e}`:"")}var Ile=O.createContext(void 0);function _T(t){const e=O.useContext(Ile);return t||e||"ltr"}function vc(t){const e=O.useRef(t);return O.useEffect(()=>{e.current=t}),O.useMemo(()=>(...r)=>e.current?.(...r),[])}function Ole(t,e=globalThis?.document){const r=vc(t);O.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var jle="DismissableLayer",XL="dismissableLayer.update",zle="dismissableLayer.pointerDownOutside",Ble="dismissableLayer.focusOutside",N5,cW=O.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),n_=O.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:s,...l}=t,u=O.useContext(cW),[c,f]=O.useState(null),d=c?.ownerDocument??globalThis?.document,[,v]=O.useState({}),g=en(e,N=>f(N)),y=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),S=y.indexOf(b),w=c?y.indexOf(c):-1,M=u.layersWithOutsidePointerEventsDisabled.size>0,A=w>=S,D=Hle(N=>{const I=N.target,z=[...u.branches].some(B=>B.contains(I));!A||z||(a?.(N),o?.(N),N.defaultPrevented||s?.())},d),R=Gle(N=>{const I=N.target;[...u.branches].some(B=>B.contains(I))||(i?.(N),o?.(N),N.defaultPrevented||s?.())},d);return Ole(N=>{w===u.layers.size-1&&(n?.(N),!N.defaultPrevented&&s&&(N.preventDefault(),s()))},d),O.useEffect(()=>{if(c)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(N5=d.body.style.pointerEvents,d.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(c)),u.layers.add(c),R5(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(d.body.style.pointerEvents=N5)}},[c,d,r,u]),O.useEffect(()=>()=>{c&&(u.layers.delete(c),u.layersWithOutsidePointerEventsDisabled.delete(c),R5())},[c,u]),O.useEffect(()=>{const N=()=>v({});return document.addEventListener(XL,N),()=>document.removeEventListener(XL,N)},[]),x.jsx(pr.div,{...l,ref:g,style:{pointerEvents:M?A?"auto":"none":void 0,...t.style},onFocusCapture:St(t.onFocusCapture,R.onFocusCapture),onBlurCapture:St(t.onBlurCapture,R.onBlurCapture),onPointerDownCapture:St(t.onPointerDownCapture,D.onPointerDownCapture)})});n_.displayName=jle;var Vle="DismissableLayerBranch",Fle=O.forwardRef((t,e)=>{const r=O.useContext(cW),n=O.useRef(null),a=en(e,n);return O.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),x.jsx(pr.div,{...t,ref:a})});Fle.displayName=Vle;function Hle(t,e=globalThis?.document){const r=vc(t),n=O.useRef(!1),a=O.useRef(()=>{});return O.useEffect(()=>{const i=s=>{if(s.target&&!n.current){let l=function(){fW(zle,r,u,{discrete:!0})};const u={originalEvent:s};s.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=l,e.addEventListener("click",a.current,{once:!0})):l()}else e.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",a.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function Gle(t,e=globalThis?.document){const r=vc(t),n=O.useRef(!1);return O.useEffect(()=>{const a=i=>{i.target&&!n.current&&fW(Ble,r,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function R5(){const t=new CustomEvent(XL);document.dispatchEvent(t)}function fW(t,e,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&a.addEventListener(t,e,{once:!0}),n?sW(a,i):a.dispatchEvent(i)}var IA="focusScope.autoFocusOnMount",OA="focusScope.autoFocusOnUnmount",P5={bubbles:!1,cancelable:!0},Ule="FocusScope",bT=O.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=t,[s,l]=O.useState(null),u=vc(a),c=vc(i),f=O.useRef(null),d=en(e,y=>l(y)),v=O.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;O.useEffect(()=>{if(n){let y=function(M){if(v.paused||!s)return;const A=M.target;s.contains(A)?f.current=A:bh(f.current,{select:!0})},b=function(M){if(v.paused||!s)return;const A=M.relatedTarget;A!==null&&(s.contains(A)||bh(f.current,{select:!0}))},S=function(M){if(document.activeElement===document.body)for(const D of M)D.removedNodes.length>0&&bh(s)};document.addEventListener("focusin",y),document.addEventListener("focusout",b);const w=new MutationObserver(S);return s&&w.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",b),w.disconnect()}}},[n,s,v.paused]),O.useEffect(()=>{if(s){I5.add(v);const y=document.activeElement;if(!s.contains(y)){const S=new CustomEvent(IA,P5);s.addEventListener(IA,u),s.dispatchEvent(S),S.defaultPrevented||(Wle(Xle(hW(s)),{select:!0}),document.activeElement===y&&bh(s))}return()=>{s.removeEventListener(IA,u),setTimeout(()=>{const S=new CustomEvent(OA,P5);s.addEventListener(OA,c),s.dispatchEvent(S),S.defaultPrevented||bh(y??document.body,{select:!0}),s.removeEventListener(OA,c),I5.remove(v)},0)}}},[s,u,c,v]);const g=O.useCallback(y=>{if(!r&&!n||v.paused)return;const b=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,S=document.activeElement;if(b&&S){const w=y.currentTarget,[M,A]=Yle(w);M&&A?!y.shiftKey&&S===A?(y.preventDefault(),r&&bh(M,{select:!0})):y.shiftKey&&S===M&&(y.preventDefault(),r&&bh(A,{select:!0})):S===w&&y.preventDefault()}},[r,n,v.paused]);return x.jsx(pr.div,{tabIndex:-1,...o,ref:d,onKeyDown:g})});bT.displayName=Ule;function Wle(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(bh(n,{select:e}),document.activeElement!==r)return}function Yle(t){const e=hW(t),r=k5(e,t),n=k5(e.reverse(),t);return[r,n]}function hW(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function k5(t,e){for(const r of t)if(!Zle(r,{upTo:e}))return r}function Zle(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function qle(t){return t instanceof HTMLInputElement&&"select"in t}function bh(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&qle(t)&&e&&t.select()}}var I5=$le();function $le(){let t=[];return{add(e){const r=t[0];e!==r&&r?.pause(),t=O5(t,e),t.unshift(e)},remove(e){t=O5(t,e),t[0]?.resume()}}}function O5(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function Xle(t){return t.filter(e=>e.tagName!=="A")}var Kle="Portal",a_=O.forwardRef((t,e)=>{const{container:r,...n}=t,[a,i]=O.useState(!1);lo(()=>i(!0),[]);const o=r||a&&globalThis?.document?.body;return o?Bie.createPortal(x.jsx(pr.div,{...n,ref:e}),o):null});a_.displayName=Kle;var jA=0;function aP(){O.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??j5()),document.body.insertAdjacentElement("beforeend",t[1]??j5()),jA++,()=>{jA===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),jA--}},[])}function j5(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var $u=function(){return $u=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},$u.apply(this,arguments)};function dW(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r}function Qle(t,e,r){if(r||arguments.length===2)for(var n=0,a=e.length,i;n<a;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}var hS="right-scroll-bar-position",dS="width-before-scroll-bar",Jle="with-scroll-bars-hidden",eue="--removed-body-scroll-bar-size";function zA(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function tue(t,e){var r=O.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=e,r.facade}var rue=typeof window<"u"?O.useLayoutEffect:O.useEffect,z5=new WeakMap;function nue(t,e){var r=tue(null,function(n){return t.forEach(function(a){return zA(a,n)})});return rue(function(){var n=z5.get(r);if(n){var a=new Set(n),i=new Set(t),o=r.current;a.forEach(function(s){i.has(s)||zA(s,null)}),i.forEach(function(s){a.has(s)||zA(s,o)})}z5.set(r,t)},[t]),r}function aue(t){return t}function iue(t,e){e===void 0&&(e=aue);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(i){var o=e(i,n);return r.push(o),function(){r=r.filter(function(s){return s!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(s){return i(s)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var s=r;r=[],s.forEach(i),o=r}var l=function(){var c=o;o=[],c.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),r={push:function(c){o.push(c),u()},filter:function(c){return o=o.filter(c),r}}}};return a}function oue(t){t===void 0&&(t={});var e=iue(null);return e.options=$u({async:!0,ssr:!1},t),e}var vW=function(t){var e=t.sideCar,r=dW(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return O.createElement(n,$u({},r))};vW.isSideCarExport=!0;function sue(t,e){return t.useMedium(e),vW}var pW=oue(),BA=function(){},ST=O.forwardRef(function(t,e){var r=O.useRef(null),n=O.useState({onScrollCapture:BA,onWheelCapture:BA,onTouchMoveCapture:BA}),a=n[0],i=n[1],o=t.forwardProps,s=t.children,l=t.className,u=t.removeScrollBar,c=t.enabled,f=t.shards,d=t.sideCar,v=t.noRelative,g=t.noIsolation,y=t.inert,b=t.allowPinchZoom,S=t.as,w=S===void 0?"div":S,M=t.gapMode,A=dW(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=d,R=nue([r,e]),N=$u($u({},A),a);return O.createElement(O.Fragment,null,c&&O.createElement(D,{sideCar:pW,removeScrollBar:u,shards:f,noRelative:v,noIsolation:g,inert:y,setCallbacks:i,allowPinchZoom:!!b,lockRef:r,gapMode:M}),o?O.cloneElement(O.Children.only(s),$u($u({},N),{ref:R})):O.createElement(w,$u({},N,{className:l,ref:R}),s))});ST.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ST.classNames={fullWidth:dS,zeroRight:hS};var lue=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function uue(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=lue();return e&&t.setAttribute("nonce",e),t}function cue(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function fue(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var hue=function(){var t=0,e=null;return{add:function(r){t==0&&(e=uue())&&(cue(e,r),fue(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},due=function(){var t=hue();return function(e,r){O.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},gW=function(){var t=due(),e=function(r){var n=r.styles,a=r.dynamic;return t(n,a),null};return e},vue={left:0,top:0,right:0,gap:0},VA=function(t){return parseInt(t||"",10)||0},pue=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],a=e[t==="padding"?"paddingRight":"marginRight"];return[VA(r),VA(n),VA(a)]},gue=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return vue;var e=pue(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},mue=gW(),Yg="data-scroll-locked",yue=function(t,e,r,n){var a=t.left,i=t.top,o=t.right,s=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(Jle,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(s,"px ").concat(n,`;
  }
  body[`).concat(Yg,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(s,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(hS,` {
    right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(dS,` {
    margin-right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(hS," .").concat(hS,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(dS," .").concat(dS,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Yg,`] {
    `).concat(eue,": ").concat(s,`px;
  }
`)},B5=function(){var t=parseInt(document.body.getAttribute(Yg)||"0",10);return isFinite(t)?t:0},xue=function(){O.useEffect(function(){return document.body.setAttribute(Yg,(B5()+1).toString()),function(){var t=B5()-1;t<=0?document.body.removeAttribute(Yg):document.body.setAttribute(Yg,t.toString())}},[])},_ue=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,a=n===void 0?"margin":n;xue();var i=O.useMemo(function(){return gue(a)},[a]);return O.createElement(mue,{styles:yue(i,!e,a,r?"":"!important")})},KL=!1;if(typeof window<"u")try{var kb=Object.defineProperty({},"passive",{get:function(){return KL=!0,!0}});window.addEventListener("test",kb,kb),window.removeEventListener("test",kb,kb)}catch{KL=!1}var Qp=KL?{passive:!1}:!1,bue=function(t){return t.tagName==="TEXTAREA"},mW=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!bue(t)&&r[e]==="visible")},Sue=function(t){return mW(t,"overflowY")},wue=function(t){return mW(t,"overflowX")},V5=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=yW(t,n);if(a){var i=xW(t,n),o=i[1],s=i[2];if(o>s)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Tue=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},Cue=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},yW=function(t,e){return t==="v"?Sue(e):wue(e)},xW=function(t,e){return t==="v"?Tue(e):Cue(e)},Mue=function(t,e){return t==="h"&&e==="rtl"?-1:1},Aue=function(t,e,r,n,a){var i=Mue(t,window.getComputedStyle(e).direction),o=i*n,s=r.target,l=e.contains(s),u=!1,c=o>0,f=0,d=0;do{if(!s)break;var v=xW(t,s),g=v[0],y=v[1],b=v[2],S=y-b-i*g;(g||S)&&yW(t,s)&&(f+=S,d+=g);var w=s.parentNode;s=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!l&&s!==document.body||l&&(e.contains(s)||e===s));return(c&&Math.abs(f)<1||!c&&Math.abs(d)<1)&&(u=!0),u},Ib=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},F5=function(t){return[t.deltaX,t.deltaY]},H5=function(t){return t&&"current"in t?t.current:t},Due=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Lue=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Eue=0,Jp=[];function Nue(t){var e=O.useRef([]),r=O.useRef([0,0]),n=O.useRef(),a=O.useState(Eue++)[0],i=O.useState(gW)[0],o=O.useRef(t);O.useEffect(function(){o.current=t},[t]),O.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(a));var y=Qle([t.lockRef.current],(t.shards||[]).map(H5),!0).filter(Boolean);return y.forEach(function(b){return b.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),y.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(a))})}}},[t.inert,t.lockRef.current,t.shards]);var s=O.useCallback(function(y,b){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var S=Ib(y),w=r.current,M="deltaX"in y?y.deltaX:w[0]-S[0],A="deltaY"in y?y.deltaY:w[1]-S[1],D,R=y.target,N=Math.abs(M)>Math.abs(A)?"h":"v";if("touches"in y&&N==="h"&&R.type==="range")return!1;var I=window.getSelection(),z=I&&I.anchorNode,B=z?z===R||z.contains(R):!1;if(B)return!1;var V=V5(N,R);if(!V)return!0;if(V?D=N:(D=N==="v"?"h":"v",V=V5(N,R)),!V)return!1;if(!n.current&&"changedTouches"in y&&(M||A)&&(n.current=D),!D)return!0;var G=n.current||D;return Aue(G,b,y,G==="h"?M:A)},[]),l=O.useCallback(function(y){var b=y;if(!(!Jp.length||Jp[Jp.length-1]!==i)){var S="deltaY"in b?F5(b):Ib(b),w=e.current.filter(function(D){return D.name===b.type&&(D.target===b.target||b.target===D.shadowParent)&&Due(D.delta,S)})[0];if(w&&w.should){b.cancelable&&b.preventDefault();return}if(!w){var M=(o.current.shards||[]).map(H5).filter(Boolean).filter(function(D){return D.contains(b.target)}),A=M.length>0?s(b,M[0]):!o.current.noIsolation;A&&b.cancelable&&b.preventDefault()}}},[]),u=O.useCallback(function(y,b,S,w){var M={name:y,delta:b,target:S,should:w,shadowParent:Rue(S)};e.current.push(M),setTimeout(function(){e.current=e.current.filter(function(A){return A!==M})},1)},[]),c=O.useCallback(function(y){r.current=Ib(y),n.current=void 0},[]),f=O.useCallback(function(y){u(y.type,F5(y),y.target,s(y,t.lockRef.current))},[]),d=O.useCallback(function(y){u(y.type,Ib(y),y.target,s(y,t.lockRef.current))},[]);O.useEffect(function(){return Jp.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:d}),document.addEventListener("wheel",l,Qp),document.addEventListener("touchmove",l,Qp),document.addEventListener("touchstart",c,Qp),function(){Jp=Jp.filter(function(y){return y!==i}),document.removeEventListener("wheel",l,Qp),document.removeEventListener("touchmove",l,Qp),document.removeEventListener("touchstart",c,Qp)}},[]);var v=t.removeScrollBar,g=t.inert;return O.createElement(O.Fragment,null,g?O.createElement(i,{styles:Lue(a)}):null,v?O.createElement(_ue,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function Rue(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Pue=sue(pW,Nue);var wT=O.forwardRef(function(t,e){return O.createElement(ST,$u({},t,{ref:e,sideCar:Pue}))});wT.classNames=ST.classNames;var kue=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},eg=new WeakMap,Ob=new WeakMap,jb={},FA=0,_W=function(t){return t&&(t.host||_W(t.parentNode))},Iue=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=_W(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},Oue=function(t,e,r,n){var a=Iue(e,Array.isArray(t)?t:[t]);jb[r]||(jb[r]=new WeakMap);var i=jb[r],o=[],s=new Set,l=new Set(a),u=function(f){!f||s.has(f)||(s.add(f),u(f.parentNode))};a.forEach(u);var c=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(d){if(s.has(d))c(d);else try{var v=d.getAttribute(n),g=v!==null&&v!=="false",y=(eg.get(d)||0)+1,b=(i.get(d)||0)+1;eg.set(d,y),i.set(d,b),o.push(d),y===1&&g&&Ob.set(d,!0),b===1&&d.setAttribute(r,"true"),g||d.setAttribute(n,"true")}catch(S){console.error("aria-hidden: cannot operate on ",d,S)}})};return c(e),s.clear(),FA++,function(){o.forEach(function(f){var d=eg.get(f)-1,v=i.get(f)-1;eg.set(f,d),i.set(f,v),d||(Ob.has(f)||f.removeAttribute(n),Ob.delete(f)),v||f.removeAttribute(r)}),FA--,FA||(eg=new WeakMap,eg=new WeakMap,Ob=new WeakMap,jb={})}},iP=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),a=kue(t);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),Oue(n,a,r,"aria-hidden")):function(){return null}},TT="Dialog",[bW,SW]=vu(TT),[jue,gu]=bW(TT),wW=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=t,s=O.useRef(null),l=O.useRef(null),[u,c]=Zh({prop:n,defaultProp:a??!1,onChange:i,caller:TT});return x.jsx(jue,{scope:e,triggerRef:s,contentRef:l,contentId:nu(),titleId:nu(),descriptionId:nu(),open:u,onOpenChange:c,onOpenToggle:O.useCallback(()=>c(f=>!f),[c]),modal:o,children:r})};wW.displayName=TT;var TW="DialogTrigger",CW=O.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=gu(TW,r),i=en(e,a.triggerRef);return x.jsx(pr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":lP(a.open),...n,ref:i,onClick:St(t.onClick,a.onOpenToggle)})});CW.displayName=TW;var oP="DialogPortal",[zue,MW]=bW(oP,{forceMount:void 0}),AW=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:a}=t,i=gu(oP,e);return x.jsx(zue,{scope:e,forceMount:r,children:O.Children.map(n,o=>x.jsx(pu,{present:r||i.open,children:x.jsx(a_,{asChild:!0,container:a,children:o})}))})};AW.displayName=oP;var GS="DialogOverlay",DW=O.forwardRef((t,e)=>{const r=MW(GS,t.__scopeDialog),{forceMount:n=r.forceMount,...a}=t,i=gu(GS,t.__scopeDialog);return i.modal?x.jsx(pu,{present:n||i.open,children:x.jsx(Vue,{...a,ref:e})}):null});DW.displayName=GS;var Bue=Uv("DialogOverlay.RemoveScroll"),Vue=O.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=gu(GS,r);return x.jsx(wT,{as:Bue,allowPinchZoom:!0,shards:[a.contentRef],children:x.jsx(pr.div,{"data-state":lP(a.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Wv="DialogContent",LW=O.forwardRef((t,e)=>{const r=MW(Wv,t.__scopeDialog),{forceMount:n=r.forceMount,...a}=t,i=gu(Wv,t.__scopeDialog);return x.jsx(pu,{present:n||i.open,children:i.modal?x.jsx(Fue,{...a,ref:e}):x.jsx(Hue,{...a,ref:e})})});LW.displayName=Wv;var Fue=O.forwardRef((t,e)=>{const r=gu(Wv,t.__scopeDialog),n=O.useRef(null),a=en(e,r.contentRef,n);return O.useEffect(()=>{const i=n.current;if(i)return iP(i)},[]),x.jsx(EW,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:St(t.onCloseAutoFocus,i=>{i.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:St(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,s=o.button===0&&o.ctrlKey===!0;(o.button===2||s)&&i.preventDefault()}),onFocusOutside:St(t.onFocusOutside,i=>i.preventDefault())})}),Hue=O.forwardRef((t,e)=>{const r=gu(Wv,t.__scopeDialog),n=O.useRef(!1),a=O.useRef(!1);return x.jsx(EW,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{t.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||r.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{t.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;r.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),EW=O.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=t,s=gu(Wv,r),l=O.useRef(null),u=en(e,l);return aP(),x.jsxs(x.Fragment,{children:[x.jsx(bT,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:x.jsx(n_,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":lP(s.open),...o,ref:u,onDismiss:()=>s.onOpenChange(!1)})}),x.jsxs(x.Fragment,{children:[x.jsx(Uue,{titleId:s.titleId}),x.jsx(Yue,{contentRef:l,descriptionId:s.descriptionId})]})]})}),sP="DialogTitle",NW=O.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=gu(sP,r);return x.jsx(pr.h2,{id:a.titleId,...n,ref:e})});NW.displayName=sP;var RW="DialogDescription",PW=O.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=gu(RW,r);return x.jsx(pr.p,{id:a.descriptionId,...n,ref:e})});PW.displayName=RW;var kW="DialogClose",IW=O.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=gu(kW,r);return x.jsx(pr.button,{type:"button",...n,ref:e,onClick:St(t.onClick,()=>a.onOpenChange(!1))})});IW.displayName=kW;function lP(t){return t?"open":"closed"}var OW="DialogTitleWarning",[Gue,jW]=Cle(OW,{contentName:Wv,titleName:sP,docsSlug:"dialog"}),Uue=({titleId:t})=>{const e=jW(OW),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return O.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},Wue="DialogDescriptionWarning",Yue=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${jW(Wue).contentName}}.`;return O.useEffect(()=>{const a=t.current?.getAttribute("aria-describedby");e&&a&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},uP=wW,Zue=CW,cP=AW,fP=DW,hP=LW,dP=NW,vP=PW,i_=IW,zW="AlertDialog",[que]=vu(zW,[SW]),Af=SW(),BW=t=>{const{__scopeAlertDialog:e,...r}=t,n=Af(e);return x.jsx(uP,{...n,...r,modal:!0})};BW.displayName=zW;var $ue="AlertDialogTrigger",Xue=O.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=Af(r);return x.jsx(Zue,{...a,...n,ref:e})});Xue.displayName=$ue;var Kue="AlertDialogPortal",VW=t=>{const{__scopeAlertDialog:e,...r}=t,n=Af(e);return x.jsx(cP,{...n,...r})};VW.displayName=Kue;var Que="AlertDialogOverlay",FW=O.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=Af(r);return x.jsx(fP,{...a,...n,ref:e})});FW.displayName=Que;var Zg="AlertDialogContent",[Jue,ece]=que(Zg),tce=oW("AlertDialogContent"),HW=O.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...a}=t,i=Af(r),o=O.useRef(null),s=en(e,o),l=O.useRef(null);return x.jsx(Gue,{contentName:Zg,titleName:GW,docsSlug:"alert-dialog",children:x.jsx(Jue,{scope:r,cancelRef:l,children:x.jsxs(hP,{role:"alertdialog",...i,...a,ref:s,onOpenAutoFocus:St(a.onOpenAutoFocus,u=>{u.preventDefault(),l.current?.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[x.jsx(tce,{children:n}),x.jsx(nce,{contentRef:o})]})})})});HW.displayName=Zg;var GW="AlertDialogTitle",UW=O.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=Af(r);return x.jsx(dP,{...a,...n,ref:e})});UW.displayName=GW;var WW="AlertDialogDescription",YW=O.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=Af(r);return x.jsx(vP,{...a,...n,ref:e})});YW.displayName=WW;var rce="AlertDialogAction",ZW=O.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=Af(r);return x.jsx(i_,{...a,...n,ref:e})});ZW.displayName=rce;var qW="AlertDialogCancel",$W=O.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:a}=ece(qW,r),i=Af(r),o=en(e,a);return x.jsx(i_,{...i,...n,ref:o})});$W.displayName=qW;var nce=({contentRef:t})=>{const e=`\`${Zg}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Zg}\` by passing a \`${WW}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Zg}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return O.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},ace=BW,ice=VW,oce=FW,sce=HW,lce=ZW,uce=$W,cce=UW,fce=YW;function XW(t){const e=O.useRef({value:t,previous:t});return O.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function KW(t){const[e,r]=O.useState(void 0);return lo(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,s;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,s=u.blockSize}else o=t.offsetWidth,s=t.offsetHeight;r({width:o,height:s})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}const hce=["top","right","bottom","left"],qh=Math.min,Ds=Math.max,US=Math.round,zb=Math.floor,lc=t=>({x:t,y:t}),dce={left:"right",right:"left",bottom:"top",top:"bottom"},vce={start:"end",end:"start"};function QL(t,e,r){return Ds(t,qh(e,r))}function pf(t,e){return typeof t=="function"?t(e):t}function gf(t){return t.split("-")[0]}function Dm(t){return t.split("-")[1]}function pP(t){return t==="x"?"y":"x"}function gP(t){return t==="y"?"height":"width"}const pce=new Set(["top","bottom"]);function ec(t){return pce.has(gf(t))?"y":"x"}function mP(t){return pP(ec(t))}function gce(t,e,r){r===void 0&&(r=!1);const n=Dm(t),a=mP(t),i=gP(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=WS(o)),[o,WS(o)]}function mce(t){const e=WS(t);return[JL(t),e,JL(e)]}function JL(t){return t.replace(/start|end/g,e=>vce[e])}const G5=["left","right"],U5=["right","left"],yce=["top","bottom"],xce=["bottom","top"];function _ce(t,e,r){switch(t){case"top":case"bottom":return r?e?U5:G5:e?G5:U5;case"left":case"right":return e?yce:xce;default:return[]}}function bce(t,e,r,n){const a=Dm(t);let i=_ce(gf(t),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),e&&(i=i.concat(i.map(JL)))),i}function WS(t){return t.replace(/left|right|bottom|top/g,e=>dce[e])}function Sce(t){return{top:0,right:0,bottom:0,left:0,...t}}function QW(t){return typeof t!="number"?Sce(t):{top:t,right:t,bottom:t,left:t}}function YS(t){const{x:e,y:r,width:n,height:a}=t;return{width:n,height:a,top:r,left:e,right:e+n,bottom:r+a,x:e,y:r}}function W5(t,e,r){let{reference:n,floating:a}=t;const i=ec(e),o=mP(e),s=gP(o),l=gf(e),u=i==="y",c=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,d=n[s]/2-a[s]/2;let v;switch(l){case"top":v={x:c,y:n.y-a.height};break;case"bottom":v={x:c,y:n.y+n.height};break;case"right":v={x:n.x+n.width,y:f};break;case"left":v={x:n.x-a.width,y:f};break;default:v={x:n.x,y:n.y}}switch(Dm(e)){case"start":v[o]-=d*(r&&u?-1:1);break;case"end":v[o]+=d*(r&&u?-1:1);break}return v}async function wce(t,e){var r;e===void 0&&(e={});const{x:n,y:a,platform:i,rects:o,elements:s,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:d=!1,padding:v=0}=pf(e,t),g=QW(v),b=s[d?f==="floating"?"reference":"floating":f],S=YS(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(b)))==null||r?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(s.floating)),boundary:u,rootBoundary:c,strategy:l})),w=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,M=await(i.getOffsetParent==null?void 0:i.getOffsetParent(s.floating)),A=await(i.isElement==null?void 0:i.isElement(M))?await(i.getScale==null?void 0:i.getScale(M))||{x:1,y:1}:{x:1,y:1},D=YS(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:w,offsetParent:M,strategy:l}):w);return{top:(S.top-D.top+g.top)/A.y,bottom:(D.bottom-S.bottom+g.bottom)/A.y,left:(S.left-D.left+g.left)/A.x,right:(D.right-S.right+g.right)/A.x}}const Tce=async(t,e,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,s=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:a}),{x:c,y:f}=W5(u,n,l),d=n,v={},g=0;for(let b=0;b<s.length;b++){var y;const{name:S,fn:w}=s[b],{x:M,y:A,data:D,reset:R}=await w({x:c,y:f,initialPlacement:n,placement:d,strategy:a,middlewareData:v,rects:u,platform:{...o,detectOverflow:(y=o.detectOverflow)!=null?y:wce},elements:{reference:t,floating:e}});c=M??c,f=A??f,v={...v,[S]:{...v[S],...D}},R&&g<=50&&(g++,typeof R=="object"&&(R.placement&&(d=R.placement),R.rects&&(u=R.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:a}):R.rects),{x:c,y:f}=W5(u,d,l)),b=-1)}return{x:c,y:f,placement:d,strategy:a,middlewareData:v}},Cce=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:a,rects:i,platform:o,elements:s,middlewareData:l}=e,{element:u,padding:c=0}=pf(t,e)||{};if(u==null)return{};const f=QW(c),d={x:r,y:n},v=mP(a),g=gP(v),y=await o.getDimensions(u),b=v==="y",S=b?"top":"left",w=b?"bottom":"right",M=b?"clientHeight":"clientWidth",A=i.reference[g]+i.reference[v]-d[v]-i.floating[g],D=d[v]-i.reference[v],R=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let N=R?R[M]:0;(!N||!await(o.isElement==null?void 0:o.isElement(R)))&&(N=s.floating[M]||i.floating[g]);const I=A/2-D/2,z=N/2-y[g]/2-1,B=qh(f[S],z),V=qh(f[w],z),G=B,F=N-y[g]-V,q=N/2-y[g]/2+I,Q=QL(G,q,F),H=!l.arrow&&Dm(a)!=null&&q!==Q&&i.reference[g]/2-(q<G?B:V)-y[g]/2<0,X=H?q<G?q-G:q-F:0;return{[v]:d[v]+X,data:{[v]:Q,centerOffset:q-Q-X,...H&&{alignmentOffset:X}},reset:H}}}),Mce=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:s,platform:l,elements:u}=e,{mainAxis:c=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:y=!0,...b}=pf(t,e);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const S=gf(a),w=ec(s),M=gf(s)===s,A=await(l.isRTL==null?void 0:l.isRTL(u.floating)),D=d||(M||!y?[WS(s)]:mce(s)),R=g!=="none";!d&&R&&D.push(...bce(s,y,g,A));const N=[s,...D],I=await l.detectOverflow(e,b),z=[];let B=((n=i.flip)==null?void 0:n.overflows)||[];if(c&&z.push(I[S]),f){const q=gce(a,o,A);z.push(I[q[0]],I[q[1]])}if(B=[...B,{placement:a,overflows:z}],!z.every(q=>q<=0)){var V,G;const q=(((V=i.flip)==null?void 0:V.index)||0)+1,Q=N[q];if(Q&&(!(f==="alignment"?w!==ec(Q):!1)||B.every(W=>ec(W.placement)===w?W.overflows[0]>0:!0)))return{data:{index:q,overflows:B},reset:{placement:Q}};let H=(G=B.filter(X=>X.overflows[0]<=0).sort((X,W)=>X.overflows[1]-W.overflows[1])[0])==null?void 0:G.placement;if(!H)switch(v){case"bestFit":{var F;const X=(F=B.filter(W=>{if(R){const J=ec(W.placement);return J===w||J==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(J=>J>0).reduce((J,ee)=>J+ee,0)]).sort((W,J)=>W[1]-J[1])[0])==null?void 0:F[0];X&&(H=X);break}case"initialPlacement":H=s;break}if(a!==H)return{reset:{placement:H}}}return{}}}};function Y5(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Z5(t){return hce.some(e=>t[e]>=0)}const Ace=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r,platform:n}=e,{strategy:a="referenceHidden",...i}=pf(t,e);switch(a){case"referenceHidden":{const o=await n.detectOverflow(e,{...i,elementContext:"reference"}),s=Y5(o,r.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:Z5(s)}}}case"escaped":{const o=await n.detectOverflow(e,{...i,altBoundary:!0}),s=Y5(o,r.floating);return{data:{escapedOffsets:s,escaped:Z5(s)}}}default:return{}}}}},JW=new Set(["left","top"]);async function Dce(t,e){const{placement:r,platform:n,elements:a}=t,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=gf(r),s=Dm(r),l=ec(r)==="y",u=JW.has(o)?-1:1,c=i&&l?-1:1,f=pf(e,t);let{mainAxis:d,crossAxis:v,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return s&&typeof g=="number"&&(v=s==="end"?g*-1:g),l?{x:v*c,y:d*u}:{x:d*u,y:v*c}}const Lce=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:a,y:i,placement:o,middlewareData:s}=e,l=await Dce(e,t);return o===((r=s.offset)==null?void 0:r.placement)&&(n=s.arrow)!=null&&n.alignmentOffset?{}:{x:a+l.x,y:i+l.y,data:{...l,placement:o}}}}},Ece=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:a,platform:i}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:l={fn:S=>{let{x:w,y:M}=S;return{x:w,y:M}}},...u}=pf(t,e),c={x:r,y:n},f=await i.detectOverflow(e,u),d=ec(gf(a)),v=pP(d);let g=c[v],y=c[d];if(o){const S=v==="y"?"top":"left",w=v==="y"?"bottom":"right",M=g+f[S],A=g-f[w];g=QL(M,g,A)}if(s){const S=d==="y"?"top":"left",w=d==="y"?"bottom":"right",M=y+f[S],A=y-f[w];y=QL(M,y,A)}const b=l.fn({...e,[v]:g,[d]:y});return{...b,data:{x:b.x-r,y:b.y-n,enabled:{[v]:o,[d]:s}}}}}},Nce=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=e,{offset:s=0,mainAxis:l=!0,crossAxis:u=!0}=pf(t,e),c={x:r,y:n},f=ec(a),d=pP(f);let v=c[d],g=c[f];const y=pf(s,e),b=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const M=d==="y"?"height":"width",A=i.reference[d]-i.floating[M]+b.mainAxis,D=i.reference[d]+i.reference[M]-b.mainAxis;v<A?v=A:v>D&&(v=D)}if(u){var S,w;const M=d==="y"?"width":"height",A=JW.has(gf(a)),D=i.reference[f]-i.floating[M]+(A&&((S=o.offset)==null?void 0:S[f])||0)+(A?0:b.crossAxis),R=i.reference[f]+i.reference[M]+(A?0:((w=o.offset)==null?void 0:w[f])||0)-(A?b.crossAxis:0);g<D?g=D:g>R&&(g=R)}return{[d]:v,[f]:g}}}},Rce=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:a,rects:i,platform:o,elements:s}=e,{apply:l=()=>{},...u}=pf(t,e),c=await o.detectOverflow(e,u),f=gf(a),d=Dm(a),v=ec(a)==="y",{width:g,height:y}=i.floating;let b,S;f==="top"||f==="bottom"?(b=f,S=d===(await(o.isRTL==null?void 0:o.isRTL(s.floating))?"start":"end")?"left":"right"):(S=f,b=d==="end"?"top":"bottom");const w=y-c.top-c.bottom,M=g-c.left-c.right,A=qh(y-c[b],w),D=qh(g-c[S],M),R=!e.middlewareData.shift;let N=A,I=D;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(I=M),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(N=w),R&&!d){const B=Ds(c.left,0),V=Ds(c.right,0),G=Ds(c.top,0),F=Ds(c.bottom,0);v?I=g-2*(B!==0||V!==0?B+V:Ds(c.left,c.right)):N=y-2*(G!==0||F!==0?G+F:Ds(c.top,c.bottom))}await l({...e,availableWidth:I,availableHeight:N});const z=await o.getDimensions(s.floating);return g!==z.width||y!==z.height?{reset:{rects:!0}}:{}}}};function CT(){return typeof window<"u"}function Lm(t){return e9(t)?(t.nodeName||"").toLowerCase():"#document"}function Rs(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function wc(t){var e;return(e=(e9(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function e9(t){return CT()?t instanceof Node||t instanceof Rs(t).Node:!1}function lu(t){return CT()?t instanceof Element||t instanceof Rs(t).Element:!1}function pc(t){return CT()?t instanceof HTMLElement||t instanceof Rs(t).HTMLElement:!1}function q5(t){return!CT()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Rs(t).ShadowRoot}const Pce=new Set(["inline","contents"]);function o_(t){const{overflow:e,overflowX:r,overflowY:n,display:a}=uu(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!Pce.has(a)}const kce=new Set(["table","td","th"]);function Ice(t){return kce.has(Lm(t))}const Oce=[":popover-open",":modal"];function MT(t){return Oce.some(e=>{try{return t.matches(e)}catch{return!1}})}const jce=["transform","translate","scale","rotate","perspective"],zce=["transform","translate","scale","rotate","perspective","filter"],Bce=["paint","layout","strict","content"];function yP(t){const e=xP(),r=lu(t)?uu(t):t;return jce.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||zce.some(n=>(r.willChange||"").includes(n))||Bce.some(n=>(r.contain||"").includes(n))}function Vce(t){let e=$h(t);for(;pc(e)&&!nm(e);){if(yP(e))return e;if(MT(e))return null;e=$h(e)}return null}function xP(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Fce=new Set(["html","body","#document"]);function nm(t){return Fce.has(Lm(t))}function uu(t){return Rs(t).getComputedStyle(t)}function AT(t){return lu(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function $h(t){if(Lm(t)==="html")return t;const e=t.assignedSlot||t.parentNode||q5(t)&&t.host||wc(t);return q5(e)?e.host:e}function t9(t){const e=$h(t);return nm(e)?t.ownerDocument?t.ownerDocument.body:t.body:pc(e)&&o_(e)?e:t9(e)}function vx(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const a=t9(t),i=a===((n=t.ownerDocument)==null?void 0:n.body),o=Rs(a);if(i){const s=eE(o);return e.concat(o,o.visualViewport||[],o_(a)?a:[],s&&r?vx(s):[])}return e.concat(a,vx(a,[],r))}function eE(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function r9(t){const e=uu(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const a=pc(t),i=a?t.offsetWidth:r,o=a?t.offsetHeight:n,s=US(r)!==i||US(n)!==o;return s&&(r=i,n=o),{width:r,height:n,$:s}}function _P(t){return lu(t)?t:t.contextElement}function qg(t){const e=_P(t);if(!pc(e))return lc(1);const r=e.getBoundingClientRect(),{width:n,height:a,$:i}=r9(e);let o=(i?US(r.width):r.width)/n,s=(i?US(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!s||!Number.isFinite(s))&&(s=1),{x:o,y:s}}const Hce=lc(0);function n9(t){const e=Rs(t);return!xP()||!e.visualViewport?Hce:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Gce(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Rs(t)?!1:e}function Yv(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const a=t.getBoundingClientRect(),i=_P(t);let o=lc(1);e&&(n?lu(n)&&(o=qg(n)):o=qg(t));const s=Gce(i,r,n)?n9(i):lc(0);let l=(a.left+s.x)/o.x,u=(a.top+s.y)/o.y,c=a.width/o.x,f=a.height/o.y;if(i){const d=Rs(i),v=n&&lu(n)?Rs(n):n;let g=d,y=eE(g);for(;y&&n&&v!==g;){const b=qg(y),S=y.getBoundingClientRect(),w=uu(y),M=S.left+(y.clientLeft+parseFloat(w.paddingLeft))*b.x,A=S.top+(y.clientTop+parseFloat(w.paddingTop))*b.y;l*=b.x,u*=b.y,c*=b.x,f*=b.y,l+=M,u+=A,g=Rs(y),y=eE(g)}}return YS({width:c,height:f,x:l,y:u})}function DT(t,e){const r=AT(t).scrollLeft;return e?e.left+r:Yv(wc(t)).left+r}function a9(t,e){const r=t.getBoundingClientRect(),n=r.left+e.scrollLeft-DT(t,r),a=r.top+e.scrollTop;return{x:n,y:a}}function Uce(t){let{elements:e,rect:r,offsetParent:n,strategy:a}=t;const i=a==="fixed",o=wc(n),s=e?MT(e.floating):!1;if(n===o||s&&i)return r;let l={scrollLeft:0,scrollTop:0},u=lc(1);const c=lc(0),f=pc(n);if((f||!f&&!i)&&((Lm(n)!=="body"||o_(o))&&(l=AT(n)),pc(n))){const v=Yv(n);u=qg(n),c.x=v.x+n.clientLeft,c.y=v.y+n.clientTop}const d=o&&!f&&!i?a9(o,l):lc(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-l.scrollLeft*u.x+c.x+d.x,y:r.y*u.y-l.scrollTop*u.y+c.y+d.y}}function Wce(t){return Array.from(t.getClientRects())}function Yce(t){const e=wc(t),r=AT(t),n=t.ownerDocument.body,a=Ds(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),i=Ds(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+DT(t);const s=-r.scrollTop;return uu(n).direction==="rtl"&&(o+=Ds(e.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:s}}const $5=25;function Zce(t,e){const r=Rs(t),n=wc(t),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,s=0,l=0;if(a){i=a.width,o=a.height;const c=xP();(!c||c&&e==="fixed")&&(s=a.offsetLeft,l=a.offsetTop)}const u=DT(n);if(u<=0){const c=n.ownerDocument,f=c.body,d=getComputedStyle(f),v=c.compatMode==="CSS1Compat"&&parseFloat(d.marginLeft)+parseFloat(d.marginRight)||0,g=Math.abs(n.clientWidth-f.clientWidth-v);g<=$5&&(i-=g)}else u<=$5&&(i+=u);return{width:i,height:o,x:s,y:l}}const qce=new Set(["absolute","fixed"]);function $ce(t,e){const r=Yv(t,!0,e==="fixed"),n=r.top+t.clientTop,a=r.left+t.clientLeft,i=pc(t)?qg(t):lc(1),o=t.clientWidth*i.x,s=t.clientHeight*i.y,l=a*i.x,u=n*i.y;return{width:o,height:s,x:l,y:u}}function X5(t,e,r){let n;if(e==="viewport")n=Zce(t,r);else if(e==="document")n=Yce(wc(t));else if(lu(e))n=$ce(e,r);else{const a=n9(t);n={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return YS(n)}function i9(t,e){const r=$h(t);return r===e||!lu(r)||nm(r)?!1:uu(r).position==="fixed"||i9(r,e)}function Xce(t,e){const r=e.get(t);if(r)return r;let n=vx(t,[],!1).filter(s=>lu(s)&&Lm(s)!=="body"),a=null;const i=uu(t).position==="fixed";let o=i?$h(t):t;for(;lu(o)&&!nm(o);){const s=uu(o),l=yP(o);!l&&s.position==="fixed"&&(a=null),(i?!l&&!a:!l&&s.position==="static"&&!!a&&qce.has(a.position)||o_(o)&&!l&&i9(t,o))?n=n.filter(c=>c!==o):a=s,o=$h(o)}return e.set(t,n),n}function Kce(t){let{element:e,boundary:r,rootBoundary:n,strategy:a}=t;const o=[...r==="clippingAncestors"?MT(e)?[]:Xce(e,this._c):[].concat(r),n],s=o[0],l=o.reduce((u,c)=>{const f=X5(e,c,a);return u.top=Ds(f.top,u.top),u.right=qh(f.right,u.right),u.bottom=qh(f.bottom,u.bottom),u.left=Ds(f.left,u.left),u},X5(e,s,a));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Qce(t){const{width:e,height:r}=r9(t);return{width:e,height:r}}function Jce(t,e,r){const n=pc(e),a=wc(e),i=r==="fixed",o=Yv(t,!0,i,e);let s={scrollLeft:0,scrollTop:0};const l=lc(0);function u(){l.x=DT(a)}if(n||!n&&!i)if((Lm(e)!=="body"||o_(a))&&(s=AT(e)),n){const v=Yv(e,!0,i,e);l.x=v.x+e.clientLeft,l.y=v.y+e.clientTop}else a&&u();i&&!n&&a&&u();const c=a&&!n&&!i?a9(a,s):lc(0),f=o.left+s.scrollLeft-l.x-c.x,d=o.top+s.scrollTop-l.y-c.y;return{x:f,y:d,width:o.width,height:o.height}}function HA(t){return uu(t).position==="static"}function K5(t,e){if(!pc(t)||uu(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return wc(t)===r&&(r=r.ownerDocument.body),r}function o9(t,e){const r=Rs(t);if(MT(t))return r;if(!pc(t)){let a=$h(t);for(;a&&!nm(a);){if(lu(a)&&!HA(a))return a;a=$h(a)}return r}let n=K5(t,e);for(;n&&Ice(n)&&HA(n);)n=K5(n,e);return n&&nm(n)&&HA(n)&&!yP(n)?r:n||Vce(t)||r}const efe=async function(t){const e=this.getOffsetParent||o9,r=this.getDimensions,n=await r(t.floating);return{reference:Jce(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function tfe(t){return uu(t).direction==="rtl"}const rfe={convertOffsetParentRelativeRectToViewportRelativeRect:Uce,getDocumentElement:wc,getClippingRect:Kce,getOffsetParent:o9,getElementRects:efe,getClientRects:Wce,getDimensions:Qce,getScale:qg,isElement:lu,isRTL:tfe};function s9(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function nfe(t,e){let r=null,n;const a=wc(t);function i(){var s;clearTimeout(n),(s=r)==null||s.disconnect(),r=null}function o(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),i();const u=t.getBoundingClientRect(),{left:c,top:f,width:d,height:v}=u;if(s||e(),!d||!v)return;const g=zb(f),y=zb(a.clientWidth-(c+d)),b=zb(a.clientHeight-(f+v)),S=zb(c),M={rootMargin:-g+"px "+-y+"px "+-b+"px "+-S+"px",threshold:Ds(0,qh(1,l))||1};let A=!0;function D(R){const N=R[0].intersectionRatio;if(N!==l){if(!A)return o();N?o(!1,N):n=setTimeout(()=>{o(!1,1e-7)},1e3)}N===1&&!s9(u,t.getBoundingClientRect())&&o(),A=!1}try{r=new IntersectionObserver(D,{...M,root:a.ownerDocument})}catch{r=new IntersectionObserver(D,M)}r.observe(t)}return o(!0),i}function afe(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,u=_P(t),c=a||i?[...u?vx(u):[],...vx(e)]:[];c.forEach(S=>{a&&S.addEventListener("scroll",r,{passive:!0}),i&&S.addEventListener("resize",r)});const f=u&&s?nfe(u,r):null;let d=-1,v=null;o&&(v=new ResizeObserver(S=>{let[w]=S;w&&w.target===u&&v&&(v.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var M;(M=v)==null||M.observe(e)})),r()}),u&&!l&&v.observe(u),v.observe(e));let g,y=l?Yv(t):null;l&&b();function b(){const S=Yv(t);y&&!s9(y,S)&&r(),y=S,g=requestAnimationFrame(b)}return r(),()=>{var S;c.forEach(w=>{a&&w.removeEventListener("scroll",r),i&&w.removeEventListener("resize",r)}),f?.(),(S=v)==null||S.disconnect(),v=null,l&&cancelAnimationFrame(g)}}const ife=Lce,ofe=Ece,sfe=Mce,lfe=Rce,ufe=Ace,Q5=Cce,cfe=Nce,ffe=(t,e,r)=>{const n=new Map,a={platform:rfe,...r},i={...a.platform,_c:n};return Tce(t,e,{...a,platform:i})};var hfe=typeof document<"u",dfe=function(){},vS=hfe?O.useLayoutEffect:dfe;function ZS(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,a;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!ZS(t[n],e[n]))return!1;return!0}if(a=Object.keys(t),r=a.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&t.$$typeof)&&!ZS(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function l9(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function J5(t,e){const r=l9(t);return Math.round(e*r)/r}function GA(t){const e=O.useRef(t);return vS(()=>{e.current=t}),e}function vfe(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:s=!0,whileElementsMounted:l,open:u}=t,[c,f]=O.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[d,v]=O.useState(n);ZS(d,n)||v(n);const[g,y]=O.useState(null),[b,S]=O.useState(null),w=O.useCallback(W=>{W!==R.current&&(R.current=W,y(W))},[]),M=O.useCallback(W=>{W!==N.current&&(N.current=W,S(W))},[]),A=i||g,D=o||b,R=O.useRef(null),N=O.useRef(null),I=O.useRef(c),z=l!=null,B=GA(l),V=GA(a),G=GA(u),F=O.useCallback(()=>{if(!R.current||!N.current)return;const W={placement:e,strategy:r,middleware:d};V.current&&(W.platform=V.current),ffe(R.current,N.current,W).then(J=>{const ee={...J,isPositioned:G.current!==!1};q.current&&!ZS(I.current,ee)&&(I.current=ee,op.flushSync(()=>{f(ee)}))})},[d,e,r,V,G]);vS(()=>{u===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,f(W=>({...W,isPositioned:!1})))},[u]);const q=O.useRef(!1);vS(()=>(q.current=!0,()=>{q.current=!1}),[]),vS(()=>{if(A&&(R.current=A),D&&(N.current=D),A&&D){if(B.current)return B.current(A,D,F);F()}},[A,D,F,B,z]);const Q=O.useMemo(()=>({reference:R,floating:N,setReference:w,setFloating:M}),[w,M]),H=O.useMemo(()=>({reference:A,floating:D}),[A,D]),X=O.useMemo(()=>{const W={position:r,left:0,top:0};if(!H.floating)return W;const J=J5(H.floating,c.x),ee=J5(H.floating,c.y);return s?{...W,transform:"translate("+J+"px, "+ee+"px)",...l9(H.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:J,top:ee}},[r,s,H.floating,c.x,c.y]);return O.useMemo(()=>({...c,update:F,refs:Q,elements:H,floatingStyles:X}),[c,F,Q,H,X])}const pfe=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:a}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?Q5({element:n.current,padding:a}).fn(r):{}:n?Q5({element:n,padding:a}).fn(r):{}}}},gfe=(t,e)=>({...ife(t),options:[t,e]}),mfe=(t,e)=>({...ofe(t),options:[t,e]}),yfe=(t,e)=>({...cfe(t),options:[t,e]}),xfe=(t,e)=>({...sfe(t),options:[t,e]}),_fe=(t,e)=>({...lfe(t),options:[t,e]}),bfe=(t,e)=>({...ufe(t),options:[t,e]}),Sfe=(t,e)=>({...pfe(t),options:[t,e]});var wfe="Arrow",u9=O.forwardRef((t,e)=>{const{children:r,width:n=10,height:a=5,...i}=t;return x.jsx(pr.svg,{...i,ref:e,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:x.jsx("polygon",{points:"0,0 30,0 15,10"})})});u9.displayName=wfe;var Tfe=u9,bP="Popper",[c9,Em]=vu(bP),[Cfe,f9]=c9(bP),h9=t=>{const{__scopePopper:e,children:r}=t,[n,a]=O.useState(null);return x.jsx(Cfe,{scope:e,anchor:n,onAnchorChange:a,children:r})};h9.displayName=bP;var d9="PopperAnchor",v9=O.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...a}=t,i=f9(d9,r),o=O.useRef(null),s=en(e,o),l=O.useRef(null);return O.useEffect(()=>{const u=l.current;l.current=n?.current||o.current,u!==l.current&&i.onAnchorChange(l.current)}),n?null:x.jsx(pr.div,{...a,ref:s})});v9.displayName=d9;var SP="PopperContent",[Mfe,Afe]=c9(SP),p9=O.forwardRef((t,e)=>{const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:s=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:c=0,sticky:f="partial",hideWhenDetached:d=!1,updatePositionStrategy:v="optimized",onPlaced:g,...y}=t,b=f9(SP,r),[S,w]=O.useState(null),M=en(e,pe=>w(pe)),[A,D]=O.useState(null),R=KW(A),N=R?.width??0,I=R?.height??0,z=n+(i!=="center"?"-"+i:""),B=typeof c=="number"?c:{top:0,right:0,bottom:0,left:0,...c},V=Array.isArray(u)?u:[u],G=V.length>0,F={padding:B,boundary:V.filter(Lfe),altBoundary:G},{refs:q,floatingStyles:Q,placement:H,isPositioned:X,middlewareData:W}=vfe({strategy:"fixed",placement:z,whileElementsMounted:(...pe)=>afe(...pe,{animationFrame:v==="always"}),elements:{reference:b.anchor},middleware:[gfe({mainAxis:a+I,alignmentAxis:o}),l&&mfe({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?yfe():void 0,...F}),l&&xfe({...F}),_fe({...F,apply:({elements:pe,rects:Pe,availableWidth:ke,availableHeight:ze})=>{const{width:Ie,height:Oe}=Pe.reference,vt=pe.floating.style;vt.setProperty("--radix-popper-available-width",`${ke}px`),vt.setProperty("--radix-popper-available-height",`${ze}px`),vt.setProperty("--radix-popper-anchor-width",`${Ie}px`),vt.setProperty("--radix-popper-anchor-height",`${Oe}px`)}}),A&&Sfe({element:A,padding:s}),Efe({arrowWidth:N,arrowHeight:I}),d&&bfe({strategy:"referenceHidden",...F})]}),[J,ee]=y9(H),K=vc(g);lo(()=>{X&&K?.()},[X,K]);const ne=W.arrow?.x,ie=W.arrow?.y,le=W.arrow?.centerOffset!==0,[me,we]=O.useState();return lo(()=>{S&&we(window.getComputedStyle(S).zIndex)},[S]),x.jsx("div",{ref:q.setFloating,"data-radix-popper-content-wrapper":"",style:{...Q,transform:X?Q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:me,"--radix-popper-transform-origin":[W.transformOrigin?.x,W.transformOrigin?.y].join(" "),...W.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:x.jsx(Mfe,{scope:r,placedSide:J,onArrowChange:D,arrowX:ne,arrowY:ie,shouldHideArrow:le,children:x.jsx(pr.div,{"data-side":J,"data-align":ee,...y,ref:M,style:{...y.style,animation:X?void 0:"none"}})})})});p9.displayName=SP;var g9="PopperArrow",Dfe={top:"bottom",right:"left",bottom:"top",left:"right"},m9=O.forwardRef(function(e,r){const{__scopePopper:n,...a}=e,i=Afe(g9,n),o=Dfe[i.placedSide];return x.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:x.jsx(Tfe,{...a,ref:r,style:{...a.style,display:"block"}})})});m9.displayName=g9;function Lfe(t){return t!==null}var Efe=t=>({name:"transformOrigin",options:t,fn(e){const{placement:r,rects:n,middlewareData:a}=e,o=a.arrow?.centerOffset!==0,s=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,c]=y9(r),f={start:"0%",center:"50%",end:"100%"}[c],d=(a.arrow?.x??0)+s/2,v=(a.arrow?.y??0)+l/2;let g="",y="";return u==="bottom"?(g=o?f:`${d}px`,y=`${-l}px`):u==="top"?(g=o?f:`${d}px`,y=`${n.floating.height+l}px`):u==="right"?(g=`${-l}px`,y=o?f:`${v}px`):u==="left"&&(g=`${n.floating.width+l}px`,y=o?f:`${v}px`),{data:{x:g,y}}}});function y9(t){const[e,r="center"]=t.split("-");return[e,r]}var wP=h9,TP=v9,CP=p9,MP=m9,UA="rovingFocusGroup.onEntryFocus",Nfe={bubbles:!1,cancelable:!0},s_="RovingFocusGroup",[tE,x9,Rfe]=nP(s_),[Pfe,LT]=vu(s_,[Rfe]),[kfe,Ife]=Pfe(s_),_9=O.forwardRef((t,e)=>x.jsx(tE.Provider,{scope:t.__scopeRovingFocusGroup,children:x.jsx(tE.Slot,{scope:t.__scopeRovingFocusGroup,children:x.jsx(Ofe,{...t,ref:e})})}));_9.displayName=s_;var Ofe=O.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:c=!1,...f}=t,d=O.useRef(null),v=en(e,d),g=_T(i),[y,b]=Zh({prop:o,defaultProp:s??null,onChange:l,caller:s_}),[S,w]=O.useState(!1),M=vc(u),A=x9(r),D=O.useRef(!1),[R,N]=O.useState(0);return O.useEffect(()=>{const I=d.current;if(I)return I.addEventListener(UA,M),()=>I.removeEventListener(UA,M)},[M]),x.jsx(kfe,{scope:r,orientation:n,dir:g,loop:a,currentTabStopId:y,onItemFocus:O.useCallback(I=>b(I),[b]),onItemShiftTab:O.useCallback(()=>w(!0),[]),onFocusableItemAdd:O.useCallback(()=>N(I=>I+1),[]),onFocusableItemRemove:O.useCallback(()=>N(I=>I-1),[]),children:x.jsx(pr.div,{tabIndex:S||R===0?-1:0,"data-orientation":n,...f,ref:v,style:{outline:"none",...t.style},onMouseDown:St(t.onMouseDown,()=>{D.current=!0}),onFocus:St(t.onFocus,I=>{const z=!D.current;if(I.target===I.currentTarget&&z&&!S){const B=new CustomEvent(UA,Nfe);if(I.currentTarget.dispatchEvent(B),!B.defaultPrevented){const V=A().filter(H=>H.focusable),G=V.find(H=>H.active),F=V.find(H=>H.id===y),Q=[G,F,...V].filter(Boolean).map(H=>H.ref.current);w9(Q,c)}}D.current=!1}),onBlur:St(t.onBlur,()=>w(!1))})})}),b9="RovingFocusGroupItem",S9=O.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:o,...s}=t,l=nu(),u=i||l,c=Ife(b9,r),f=c.currentTabStopId===u,d=x9(r),{onFocusableItemAdd:v,onFocusableItemRemove:g,currentTabStopId:y}=c;return O.useEffect(()=>{if(n)return v(),()=>g()},[n,v,g]),x.jsx(tE.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:x.jsx(pr.span,{tabIndex:f?0:-1,"data-orientation":c.orientation,...s,ref:e,onMouseDown:St(t.onMouseDown,b=>{n?c.onItemFocus(u):b.preventDefault()}),onFocus:St(t.onFocus,()=>c.onItemFocus(u)),onKeyDown:St(t.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){c.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const S=Bfe(b,c.orientation,c.dir);if(S!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let M=d().filter(A=>A.focusable).map(A=>A.ref.current);if(S==="last")M.reverse();else if(S==="prev"||S==="next"){S==="prev"&&M.reverse();const A=M.indexOf(b.currentTarget);M=c.loop?Vfe(M,A+1):M.slice(A+1)}setTimeout(()=>w9(M))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:y!=null}):o})})});S9.displayName=b9;var jfe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function zfe(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Bfe(t,e,r){const n=zfe(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return jfe[n]}function w9(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function Vfe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var T9=_9,C9=S9,rE=["Enter"," "],Ffe=["ArrowDown","PageUp","Home"],M9=["ArrowUp","PageDown","End"],Hfe=[...Ffe,...M9],Gfe={ltr:[...rE,"ArrowRight"],rtl:[...rE,"ArrowLeft"]},Ufe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},l_="Menu",[px,Wfe,Yfe]=nP(l_),[sp,A9]=vu(l_,[Yfe,Em,LT]),ET=Em(),D9=LT(),[Zfe,lp]=sp(l_),[qfe,u_]=sp(l_),L9=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:a,onOpenChange:i,modal:o=!0}=t,s=ET(e),[l,u]=O.useState(null),c=O.useRef(!1),f=vc(i),d=_T(a);return O.useEffect(()=>{const v=()=>{c.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>c.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),x.jsx(wP,{...s,children:x.jsx(Zfe,{scope:e,open:r,onOpenChange:f,content:l,onContentChange:u,children:x.jsx(qfe,{scope:e,onClose:O.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:c,dir:d,modal:o,children:n})})})};L9.displayName=l_;var $fe="MenuAnchor",AP=O.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,a=ET(r);return x.jsx(TP,{...a,...n,ref:e})});AP.displayName=$fe;var DP="MenuPortal",[Xfe,E9]=sp(DP,{forceMount:void 0}),N9=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:a}=t,i=lp(DP,e);return x.jsx(Xfe,{scope:e,forceMount:r,children:x.jsx(pu,{present:r||i.open,children:x.jsx(a_,{asChild:!0,container:a,children:n})})})};N9.displayName=DP;var xl="MenuContent",[Kfe,LP]=sp(xl),R9=O.forwardRef((t,e)=>{const r=E9(xl,t.__scopeMenu),{forceMount:n=r.forceMount,...a}=t,i=lp(xl,t.__scopeMenu),o=u_(xl,t.__scopeMenu);return x.jsx(px.Provider,{scope:t.__scopeMenu,children:x.jsx(pu,{present:n||i.open,children:x.jsx(px.Slot,{scope:t.__scopeMenu,children:o.modal?x.jsx(Qfe,{...a,ref:e}):x.jsx(Jfe,{...a,ref:e})})})})}),Qfe=O.forwardRef((t,e)=>{const r=lp(xl,t.__scopeMenu),n=O.useRef(null),a=en(e,n);return O.useEffect(()=>{const i=n.current;if(i)return iP(i)},[]),x.jsx(EP,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:St(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Jfe=O.forwardRef((t,e)=>{const r=lp(xl,t.__scopeMenu);return x.jsx(EP,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),ehe=Uv("MenuContent.ScrollLock"),EP=O.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:s,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:c,onFocusOutside:f,onInteractOutside:d,onDismiss:v,disableOutsideScroll:g,...y}=t,b=lp(xl,r),S=u_(xl,r),w=ET(r),M=D9(r),A=Wfe(r),[D,R]=O.useState(null),N=O.useRef(null),I=en(e,N,b.onContentChange),z=O.useRef(0),B=O.useRef(""),V=O.useRef(0),G=O.useRef(null),F=O.useRef("right"),q=O.useRef(0),Q=g?wT:O.Fragment,H=g?{as:ehe,allowPinchZoom:!0}:void 0,X=J=>{const ee=B.current+J,K=A().filter(pe=>!pe.disabled),ne=document.activeElement,ie=K.find(pe=>pe.ref.current===ne)?.textValue,le=K.map(pe=>pe.textValue),me=hhe(le,ee,ie),we=K.find(pe=>pe.textValue===me)?.ref.current;(function pe(Pe){B.current=Pe,window.clearTimeout(z.current),Pe!==""&&(z.current=window.setTimeout(()=>pe(""),1e3))})(ee),we&&setTimeout(()=>we.focus())};O.useEffect(()=>()=>window.clearTimeout(z.current),[]),aP();const W=O.useCallback(J=>F.current===G.current?.side&&vhe(J,G.current?.area),[]);return x.jsx(Kfe,{scope:r,searchRef:B,onItemEnter:O.useCallback(J=>{W(J)&&J.preventDefault()},[W]),onItemLeave:O.useCallback(J=>{W(J)||(N.current?.focus(),R(null))},[W]),onTriggerLeave:O.useCallback(J=>{W(J)&&J.preventDefault()},[W]),pointerGraceTimerRef:V,onPointerGraceIntentChange:O.useCallback(J=>{G.current=J},[]),children:x.jsx(Q,{...H,children:x.jsx(bT,{asChild:!0,trapped:a,onMountAutoFocus:St(i,J=>{J.preventDefault(),N.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:x.jsx(n_,{asChild:!0,disableOutsidePointerEvents:s,onEscapeKeyDown:u,onPointerDownOutside:c,onFocusOutside:f,onInteractOutside:d,onDismiss:v,children:x.jsx(T9,{asChild:!0,...M,dir:S.dir,orientation:"vertical",loop:n,currentTabStopId:D,onCurrentTabStopIdChange:R,onEntryFocus:St(l,J=>{S.isUsingKeyboardRef.current||J.preventDefault()}),preventScrollOnEntryFocus:!0,children:x.jsx(CP,{role:"menu","aria-orientation":"vertical","data-state":q9(b.open),"data-radix-menu-content":"",dir:S.dir,...w,...y,ref:I,style:{outline:"none",...y.style},onKeyDown:St(y.onKeyDown,J=>{const K=J.target.closest("[data-radix-menu-content]")===J.currentTarget,ne=J.ctrlKey||J.altKey||J.metaKey,ie=J.key.length===1;K&&(J.key==="Tab"&&J.preventDefault(),!ne&&ie&&X(J.key));const le=N.current;if(J.target!==le||!Hfe.includes(J.key))return;J.preventDefault();const we=A().filter(pe=>!pe.disabled).map(pe=>pe.ref.current);M9.includes(J.key)&&we.reverse(),che(we)}),onBlur:St(t.onBlur,J=>{J.currentTarget.contains(J.target)||(window.clearTimeout(z.current),B.current="")}),onPointerMove:St(t.onPointerMove,gx(J=>{const ee=J.target,K=q.current!==J.clientX;if(J.currentTarget.contains(ee)&&K){const ne=J.clientX>q.current?"right":"left";F.current=ne,q.current=J.clientX}}))})})})})})})});R9.displayName=xl;var the="MenuGroup",NP=O.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return x.jsx(pr.div,{role:"group",...n,ref:e})});NP.displayName=the;var rhe="MenuLabel",P9=O.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return x.jsx(pr.div,{...n,ref:e})});P9.displayName=rhe;var qS="MenuItem",e3="menu.itemSelect",NT=O.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...a}=t,i=O.useRef(null),o=u_(qS,t.__scopeMenu),s=LP(qS,t.__scopeMenu),l=en(e,i),u=O.useRef(!1),c=()=>{const f=i.current;if(!r&&f){const d=new CustomEvent(e3,{bubbles:!0,cancelable:!0});f.addEventListener(e3,v=>n?.(v),{once:!0}),sW(f,d),d.defaultPrevented?u.current=!1:o.onClose()}};return x.jsx(k9,{...a,ref:l,disabled:r,onClick:St(t.onClick,c),onPointerDown:f=>{t.onPointerDown?.(f),u.current=!0},onPointerUp:St(t.onPointerUp,f=>{u.current||f.currentTarget?.click()}),onKeyDown:St(t.onKeyDown,f=>{const d=s.searchRef.current!=="";r||d&&f.key===" "||rE.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});NT.displayName=qS;var k9=O.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...i}=t,o=LP(qS,r),s=D9(r),l=O.useRef(null),u=en(e,l),[c,f]=O.useState(!1),[d,v]=O.useState("");return O.useEffect(()=>{const g=l.current;g&&v((g.textContent??"").trim())},[i.children]),x.jsx(px.ItemSlot,{scope:r,disabled:n,textValue:a??d,children:x.jsx(C9,{asChild:!0,...s,focusable:!n,children:x.jsx(pr.div,{role:"menuitem","data-highlighted":c?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:St(t.onPointerMove,gx(g=>{n?o.onItemLeave(g):(o.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:St(t.onPointerLeave,gx(g=>o.onItemLeave(g))),onFocus:St(t.onFocus,()=>f(!0)),onBlur:St(t.onBlur,()=>f(!1))})})})}),nhe="MenuCheckboxItem",I9=O.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...a}=t;return x.jsx(V9,{scope:t.__scopeMenu,checked:r,children:x.jsx(NT,{role:"menuitemcheckbox","aria-checked":$S(r)?"mixed":r,...a,ref:e,"data-state":PP(r),onSelect:St(a.onSelect,()=>n?.($S(r)?!0:!r),{checkForDefaultPrevented:!1})})})});I9.displayName=nhe;var O9="MenuRadioGroup",[ahe,ihe]=sp(O9,{value:void 0,onValueChange:()=>{}}),j9=O.forwardRef((t,e)=>{const{value:r,onValueChange:n,...a}=t,i=vc(n);return x.jsx(ahe,{scope:t.__scopeMenu,value:r,onValueChange:i,children:x.jsx(NP,{...a,ref:e})})});j9.displayName=O9;var z9="MenuRadioItem",B9=O.forwardRef((t,e)=>{const{value:r,...n}=t,a=ihe(z9,t.__scopeMenu),i=r===a.value;return x.jsx(V9,{scope:t.__scopeMenu,checked:i,children:x.jsx(NT,{role:"menuitemradio","aria-checked":i,...n,ref:e,"data-state":PP(i),onSelect:St(n.onSelect,()=>a.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});B9.displayName=z9;var RP="MenuItemIndicator",[V9,ohe]=sp(RP,{checked:!1}),F9=O.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...a}=t,i=ohe(RP,r);return x.jsx(pu,{present:n||$S(i.checked)||i.checked===!0,children:x.jsx(pr.span,{...a,ref:e,"data-state":PP(i.checked)})})});F9.displayName=RP;var she="MenuSeparator",H9=O.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return x.jsx(pr.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});H9.displayName=she;var lhe="MenuArrow",G9=O.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,a=ET(r);return x.jsx(MP,{...a,...n,ref:e})});G9.displayName=lhe;var uhe="MenuSub",[vFe,U9]=sp(uhe),A0="MenuSubTrigger",W9=O.forwardRef((t,e)=>{const r=lp(A0,t.__scopeMenu),n=u_(A0,t.__scopeMenu),a=U9(A0,t.__scopeMenu),i=LP(A0,t.__scopeMenu),o=O.useRef(null),{pointerGraceTimerRef:s,onPointerGraceIntentChange:l}=i,u={__scopeMenu:t.__scopeMenu},c=O.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return O.useEffect(()=>c,[c]),O.useEffect(()=>{const f=s.current;return()=>{window.clearTimeout(f),l(null)}},[s,l]),x.jsx(AP,{asChild:!0,...u,children:x.jsx(k9,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":q9(r.open),...t,ref:yT(e,a.onTriggerChange),onClick:f=>{t.onClick?.(f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:St(t.onPointerMove,gx(f=>{i.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),c()},100))})),onPointerLeave:St(t.onPointerLeave,gx(f=>{c();const d=r.content?.getBoundingClientRect();if(d){const v=r.content?.dataset.side,g=v==="right",y=g?-5:5,b=d[g?"left":"right"],S=d[g?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+y,y:f.clientY},{x:b,y:d.top},{x:S,y:d.top},{x:S,y:d.bottom},{x:b,y:d.bottom}],side:v}),window.clearTimeout(s.current),s.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:St(t.onKeyDown,f=>{const d=i.searchRef.current!=="";t.disabled||d&&f.key===" "||Gfe[n.dir].includes(f.key)&&(r.onOpenChange(!0),r.content?.focus(),f.preventDefault())})})})});W9.displayName=A0;var Y9="MenuSubContent",Z9=O.forwardRef((t,e)=>{const r=E9(xl,t.__scopeMenu),{forceMount:n=r.forceMount,...a}=t,i=lp(xl,t.__scopeMenu),o=u_(xl,t.__scopeMenu),s=U9(Y9,t.__scopeMenu),l=O.useRef(null),u=en(e,l);return x.jsx(px.Provider,{scope:t.__scopeMenu,children:x.jsx(pu,{present:n||i.open,children:x.jsx(px.Slot,{scope:t.__scopeMenu,children:x.jsx(EP,{id:s.contentId,"aria-labelledby":s.triggerId,...a,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:c=>{o.isUsingKeyboardRef.current&&l.current?.focus(),c.preventDefault()},onCloseAutoFocus:c=>c.preventDefault(),onFocusOutside:St(t.onFocusOutside,c=>{c.target!==s.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:St(t.onEscapeKeyDown,c=>{o.onClose(),c.preventDefault()}),onKeyDown:St(t.onKeyDown,c=>{const f=c.currentTarget.contains(c.target),d=Ufe[o.dir].includes(c.key);f&&d&&(i.onOpenChange(!1),s.trigger?.focus(),c.preventDefault())})})})})})});Z9.displayName=Y9;function q9(t){return t?"open":"closed"}function $S(t){return t==="indeterminate"}function PP(t){return $S(t)?"indeterminate":t?"checked":"unchecked"}function che(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function fhe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function hhe(t,e,r){const a=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=r?t.indexOf(r):-1;let o=fhe(t,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const l=o.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return l!==r?l:void 0}function dhe(t,e){const{x:r,y:n}=t;let a=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const s=e[i],l=e[o],u=s.x,c=s.y,f=l.x,d=l.y;c>n!=d>n&&r<(f-u)*(n-c)/(d-c)+u&&(a=!a)}return a}function vhe(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return dhe(r,e)}function gx(t){return e=>e.pointerType==="mouse"?t(e):void 0}var phe=L9,ghe=AP,mhe=N9,yhe=R9,xhe=NP,_he=P9,bhe=NT,She=I9,whe=j9,The=B9,Che=F9,Mhe=H9,Ahe=G9,Dhe=W9,Lhe=Z9,RT="DropdownMenu",[Ehe]=vu(RT,[A9]),Ro=A9(),[Nhe,$9]=Ehe(RT),X9=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:a,defaultOpen:i,onOpenChange:o,modal:s=!0}=t,l=Ro(e),u=O.useRef(null),[c,f]=Zh({prop:a,defaultProp:i??!1,onChange:o,caller:RT});return x.jsx(Nhe,{scope:e,triggerId:nu(),triggerRef:u,contentId:nu(),open:c,onOpenChange:f,onOpenToggle:O.useCallback(()=>f(d=>!d),[f]),modal:s,children:x.jsx(phe,{...l,open:c,onOpenChange:f,dir:n,modal:s,children:r})})};X9.displayName=RT;var K9="DropdownMenuTrigger",Q9=O.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=t,i=$9(K9,r),o=Ro(r);return x.jsx(ghe,{asChild:!0,...o,children:x.jsx(pr.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:yT(e,i.triggerRef),onPointerDown:St(t.onPointerDown,s=>{!n&&s.button===0&&s.ctrlKey===!1&&(i.onOpenToggle(),i.open||s.preventDefault())}),onKeyDown:St(t.onKeyDown,s=>{n||(["Enter"," "].includes(s.key)&&i.onOpenToggle(),s.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(s.key)&&s.preventDefault())})})})});Q9.displayName=K9;var Rhe="DropdownMenuPortal",J9=t=>{const{__scopeDropdownMenu:e,...r}=t,n=Ro(e);return x.jsx(mhe,{...n,...r})};J9.displayName=Rhe;var eY="DropdownMenuContent",tY=O.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=$9(eY,r),i=Ro(r),o=O.useRef(!1);return x.jsx(yhe,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...n,ref:e,onCloseAutoFocus:St(t.onCloseAutoFocus,s=>{o.current||a.triggerRef.current?.focus(),o.current=!1,s.preventDefault()}),onInteractOutside:St(t.onInteractOutside,s=>{const l=s.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,c=l.button===2||u;(!a.modal||c)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});tY.displayName=eY;var Phe="DropdownMenuGroup",khe=O.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=Ro(r);return x.jsx(xhe,{...a,...n,ref:e})});khe.displayName=Phe;var Ihe="DropdownMenuLabel",Ohe=O.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=Ro(r);return x.jsx(_he,{...a,...n,ref:e})});Ohe.displayName=Ihe;var jhe="DropdownMenuItem",rY=O.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=Ro(r);return x.jsx(bhe,{...a,...n,ref:e})});rY.displayName=jhe;var zhe="DropdownMenuCheckboxItem",Bhe=O.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=Ro(r);return x.jsx(She,{...a,...n,ref:e})});Bhe.displayName=zhe;var Vhe="DropdownMenuRadioGroup",Fhe=O.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=Ro(r);return x.jsx(whe,{...a,...n,ref:e})});Fhe.displayName=Vhe;var Hhe="DropdownMenuRadioItem",Ghe=O.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=Ro(r);return x.jsx(The,{...a,...n,ref:e})});Ghe.displayName=Hhe;var Uhe="DropdownMenuItemIndicator",Whe=O.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=Ro(r);return x.jsx(Che,{...a,...n,ref:e})});Whe.displayName=Uhe;var Yhe="DropdownMenuSeparator",Zhe=O.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=Ro(r);return x.jsx(Mhe,{...a,...n,ref:e})});Zhe.displayName=Yhe;var qhe="DropdownMenuArrow",$he=O.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=Ro(r);return x.jsx(Ahe,{...a,...n,ref:e})});$he.displayName=qhe;var Xhe="DropdownMenuSubTrigger",Khe=O.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=Ro(r);return x.jsx(Dhe,{...a,...n,ref:e})});Khe.displayName=Xhe;var Qhe="DropdownMenuSubContent",Jhe=O.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=Ro(r);return x.jsx(Lhe,{...a,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Jhe.displayName=Qhe;var ede=X9,tde=Q9,rde=J9,nde=tY,ade=rY,ide="Label",nY=O.forwardRef((t,e)=>x.jsx(pr.label,{...t,ref:e,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(t.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));nY.displayName=ide;var ode=nY;function t3(t,[e,r]){return Math.min(r,Math.max(e,t))}var sde=[" ","Enter","ArrowUp","ArrowDown"],lde=[" ","Enter"],Zv="Select",[PT,kT,ude]=nP(Zv),[Nm]=vu(Zv,[ude,Em]),IT=Em(),[cde,od]=Nm(Zv),[fde,hde]=Nm(Zv),aY=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:s,onValueChange:l,dir:u,name:c,autoComplete:f,disabled:d,required:v,form:g}=t,y=IT(e),[b,S]=O.useState(null),[w,M]=O.useState(null),[A,D]=O.useState(!1),R=_T(u),[N,I]=Zh({prop:n,defaultProp:a??!1,onChange:i,caller:Zv}),[z,B]=Zh({prop:o,defaultProp:s,onChange:l,caller:Zv}),V=O.useRef(null),G=b?g||!!b.closest("form"):!0,[F,q]=O.useState(new Set),Q=Array.from(F).map(H=>H.props.value).join(";");return x.jsx(wP,{...y,children:x.jsxs(cde,{required:v,scope:e,trigger:b,onTriggerChange:S,valueNode:w,onValueNodeChange:M,valueNodeHasChildren:A,onValueNodeHasChildrenChange:D,contentId:nu(),value:z,onValueChange:B,open:N,onOpenChange:I,dir:R,triggerPointerDownPosRef:V,disabled:d,children:[x.jsx(PT.Provider,{scope:e,children:x.jsx(fde,{scope:t.__scopeSelect,onNativeOptionAdd:O.useCallback(H=>{q(X=>new Set(X).add(H))},[]),onNativeOptionRemove:O.useCallback(H=>{q(X=>{const W=new Set(X);return W.delete(H),W})},[]),children:r})}),G?x.jsxs(DY,{"aria-hidden":!0,required:v,tabIndex:-1,name:c,autoComplete:f,value:z,onChange:H=>B(H.target.value),disabled:d,form:g,children:[z===void 0?x.jsx("option",{value:""}):null,Array.from(F)]},Q):null]})})};aY.displayName=Zv;var iY="SelectTrigger",oY=O.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...a}=t,i=IT(r),o=od(iY,r),s=o.disabled||n,l=en(e,o.onTriggerChange),u=kT(r),c=O.useRef("touch"),[f,d,v]=EY(y=>{const b=u().filter(M=>!M.disabled),S=b.find(M=>M.value===o.value),w=NY(b,y,S);w!==void 0&&o.onValueChange(w.value)}),g=y=>{s||(o.onOpenChange(!0),v()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return x.jsx(TP,{asChild:!0,...i,children:x.jsx(pr.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":LY(o.value)?"":void 0,...a,ref:l,onClick:St(a.onClick,y=>{y.currentTarget.focus(),c.current!=="mouse"&&g(y)}),onPointerDown:St(a.onPointerDown,y=>{c.current=y.pointerType;const b=y.target;b.hasPointerCapture(y.pointerId)&&b.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(g(y),y.preventDefault())}),onKeyDown:St(a.onKeyDown,y=>{const b=f.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&d(y.key),!(b&&y.key===" ")&&sde.includes(y.key)&&(g(),y.preventDefault())})})})});oY.displayName=iY;var sY="SelectValue",lY=O.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...s}=t,l=od(sY,r),{onValueNodeHasChildrenChange:u}=l,c=i!==void 0,f=en(e,l.onValueNodeChange);return lo(()=>{u(c)},[u,c]),x.jsx(pr.span,{...s,ref:f,style:{pointerEvents:"none"},children:LY(l.value)?x.jsx(x.Fragment,{children:o}):i})});lY.displayName=sY;var dde="SelectIcon",uY=O.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...a}=t;return x.jsx(pr.span,{"aria-hidden":!0,...a,ref:e,children:n||""})});uY.displayName=dde;var vde="SelectPortal",cY=t=>x.jsx(a_,{asChild:!0,...t});cY.displayName=vde;var qv="SelectContent",fY=O.forwardRef((t,e)=>{const r=od(qv,t.__scopeSelect),[n,a]=O.useState();if(lo(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?op.createPortal(x.jsx(hY,{scope:t.__scopeSelect,children:x.jsx(PT.Slot,{scope:t.__scopeSelect,children:x.jsx("div",{children:t.children})})}),i):null}return x.jsx(dY,{...t,ref:e})});fY.displayName=qv;var Xl=10,[hY,sd]=Nm(qv),pde="SelectContentImpl",gde=Uv("SelectContent.RemoveScroll"),dY=O.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:s,sideOffset:l,align:u,alignOffset:c,arrowPadding:f,collisionBoundary:d,collisionPadding:v,sticky:g,hideWhenDetached:y,avoidCollisions:b,...S}=t,w=od(qv,r),[M,A]=O.useState(null),[D,R]=O.useState(null),N=en(e,pe=>A(pe)),[I,z]=O.useState(null),[B,V]=O.useState(null),G=kT(r),[F,q]=O.useState(!1),Q=O.useRef(!1);O.useEffect(()=>{if(M)return iP(M)},[M]),aP();const H=O.useCallback(pe=>{const[Pe,...ke]=G().map(Oe=>Oe.ref.current),[ze]=ke.slice(-1),Ie=document.activeElement;for(const Oe of pe)if(Oe===Ie||(Oe?.scrollIntoView({block:"nearest"}),Oe===Pe&&D&&(D.scrollTop=0),Oe===ze&&D&&(D.scrollTop=D.scrollHeight),Oe?.focus(),document.activeElement!==Ie))return},[G,D]),X=O.useCallback(()=>H([I,M]),[H,I,M]);O.useEffect(()=>{F&&X()},[F,X]);const{onOpenChange:W,triggerPointerDownPosRef:J}=w;O.useEffect(()=>{if(M){let pe={x:0,y:0};const Pe=ze=>{pe={x:Math.abs(Math.round(ze.pageX)-(J.current?.x??0)),y:Math.abs(Math.round(ze.pageY)-(J.current?.y??0))}},ke=ze=>{pe.x<=10&&pe.y<=10?ze.preventDefault():M.contains(ze.target)||W(!1),document.removeEventListener("pointermove",Pe),J.current=null};return J.current!==null&&(document.addEventListener("pointermove",Pe),document.addEventListener("pointerup",ke,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Pe),document.removeEventListener("pointerup",ke,{capture:!0})}}},[M,W,J]),O.useEffect(()=>{const pe=()=>W(!1);return window.addEventListener("blur",pe),window.addEventListener("resize",pe),()=>{window.removeEventListener("blur",pe),window.removeEventListener("resize",pe)}},[W]);const[ee,K]=EY(pe=>{const Pe=G().filter(Ie=>!Ie.disabled),ke=Pe.find(Ie=>Ie.ref.current===document.activeElement),ze=NY(Pe,pe,ke);ze&&setTimeout(()=>ze.ref.current.focus())}),ne=O.useCallback((pe,Pe,ke)=>{const ze=!Q.current&&!ke;(w.value!==void 0&&w.value===Pe||ze)&&(z(pe),ze&&(Q.current=!0))},[w.value]),ie=O.useCallback(()=>M?.focus(),[M]),le=O.useCallback((pe,Pe,ke)=>{const ze=!Q.current&&!ke;(w.value!==void 0&&w.value===Pe||ze)&&V(pe)},[w.value]),me=n==="popper"?nE:vY,we=me===nE?{side:s,sideOffset:l,align:u,alignOffset:c,arrowPadding:f,collisionBoundary:d,collisionPadding:v,sticky:g,hideWhenDetached:y,avoidCollisions:b}:{};return x.jsx(hY,{scope:r,content:M,viewport:D,onViewportChange:R,itemRefCallback:ne,selectedItem:I,onItemLeave:ie,itemTextRefCallback:le,focusSelectedItem:X,selectedItemText:B,position:n,isPositioned:F,searchRef:ee,children:x.jsx(wT,{as:gde,allowPinchZoom:!0,children:x.jsx(bT,{asChild:!0,trapped:w.open,onMountAutoFocus:pe=>{pe.preventDefault()},onUnmountAutoFocus:St(a,pe=>{w.trigger?.focus({preventScroll:!0}),pe.preventDefault()}),children:x.jsx(n_,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:pe=>pe.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:x.jsx(me,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:pe=>pe.preventDefault(),...S,...we,onPlaced:()=>q(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...S.style},onKeyDown:St(S.onKeyDown,pe=>{const Pe=pe.ctrlKey||pe.altKey||pe.metaKey;if(pe.key==="Tab"&&pe.preventDefault(),!Pe&&pe.key.length===1&&K(pe.key),["ArrowUp","ArrowDown","Home","End"].includes(pe.key)){let ze=G().filter(Ie=>!Ie.disabled).map(Ie=>Ie.ref.current);if(["ArrowUp","End"].includes(pe.key)&&(ze=ze.slice().reverse()),["ArrowUp","ArrowDown"].includes(pe.key)){const Ie=pe.target,Oe=ze.indexOf(Ie);ze=ze.slice(Oe+1)}setTimeout(()=>H(ze)),pe.preventDefault()}})})})})})})});dY.displayName=pde;var mde="SelectItemAlignedPosition",vY=O.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...a}=t,i=od(qv,r),o=sd(qv,r),[s,l]=O.useState(null),[u,c]=O.useState(null),f=en(e,N=>c(N)),d=kT(r),v=O.useRef(!1),g=O.useRef(!0),{viewport:y,selectedItem:b,selectedItemText:S,focusSelectedItem:w}=o,M=O.useCallback(()=>{if(i.trigger&&i.valueNode&&s&&u&&y&&b&&S){const N=i.trigger.getBoundingClientRect(),I=u.getBoundingClientRect(),z=i.valueNode.getBoundingClientRect(),B=S.getBoundingClientRect();if(i.dir!=="rtl"){const Ie=B.left-I.left,Oe=z.left-Ie,vt=N.left-Oe,ct=N.width+vt,Ft=Math.max(ct,I.width),jt=window.innerWidth-Xl,Lr=t3(Oe,[Xl,Math.max(Xl,jt-Ft)]);s.style.minWidth=ct+"px",s.style.left=Lr+"px"}else{const Ie=I.right-B.right,Oe=window.innerWidth-z.right-Ie,vt=window.innerWidth-N.right-Oe,ct=N.width+vt,Ft=Math.max(ct,I.width),jt=window.innerWidth-Xl,Lr=t3(Oe,[Xl,Math.max(Xl,jt-Ft)]);s.style.minWidth=ct+"px",s.style.right=Lr+"px"}const V=d(),G=window.innerHeight-Xl*2,F=y.scrollHeight,q=window.getComputedStyle(u),Q=parseInt(q.borderTopWidth,10),H=parseInt(q.paddingTop,10),X=parseInt(q.borderBottomWidth,10),W=parseInt(q.paddingBottom,10),J=Q+H+F+W+X,ee=Math.min(b.offsetHeight*5,J),K=window.getComputedStyle(y),ne=parseInt(K.paddingTop,10),ie=parseInt(K.paddingBottom,10),le=N.top+N.height/2-Xl,me=G-le,we=b.offsetHeight/2,pe=b.offsetTop+we,Pe=Q+H+pe,ke=J-Pe;if(Pe<=le){const Ie=V.length>0&&b===V[V.length-1].ref.current;s.style.bottom="0px";const Oe=u.clientHeight-y.offsetTop-y.offsetHeight,vt=Math.max(me,we+(Ie?ie:0)+Oe+X),ct=Pe+vt;s.style.height=ct+"px"}else{const Ie=V.length>0&&b===V[0].ref.current;s.style.top="0px";const vt=Math.max(le,Q+y.offsetTop+(Ie?ne:0)+we)+ke;s.style.height=vt+"px",y.scrollTop=Pe-le+y.offsetTop}s.style.margin=`${Xl}px 0`,s.style.minHeight=ee+"px",s.style.maxHeight=G+"px",n?.(),requestAnimationFrame(()=>v.current=!0)}},[d,i.trigger,i.valueNode,s,u,y,b,S,i.dir,n]);lo(()=>M(),[M]);const[A,D]=O.useState();lo(()=>{u&&D(window.getComputedStyle(u).zIndex)},[u]);const R=O.useCallback(N=>{N&&g.current===!0&&(M(),w?.(),g.current=!1)},[M,w]);return x.jsx(xde,{scope:r,contentWrapper:s,shouldExpandOnScrollRef:v,onScrollButtonChange:R,children:x.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:x.jsx(pr.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});vY.displayName=mde;var yde="SelectPopperPosition",nE=O.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Xl,...i}=t,o=IT(r);return x.jsx(CP,{...o,...i,ref:e,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});nE.displayName=yde;var[xde,kP]=Nm(qv,{}),aE="SelectViewport",pY=O.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...a}=t,i=sd(aE,r),o=kP(aE,r),s=en(e,i.onViewportChange),l=O.useRef(0);return x.jsxs(x.Fragment,{children:[x.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),x.jsx(PT.Slot,{scope:r,children:x.jsx(pr.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:s,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:St(a.onScroll,u=>{const c=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:d}=o;if(d?.current&&f){const v=Math.abs(l.current-c.scrollTop);if(v>0){const g=window.innerHeight-Xl*2,y=parseFloat(f.style.minHeight),b=parseFloat(f.style.height),S=Math.max(y,b);if(S<g){const w=S+v,M=Math.min(g,w),A=w-M;f.style.height=M+"px",f.style.bottom==="0px"&&(c.scrollTop=A>0?A:0,f.style.justifyContent="flex-end")}}}l.current=c.scrollTop})})})]})});pY.displayName=aE;var gY="SelectGroup",[_de,bde]=Nm(gY),mY=O.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=nu();return x.jsx(_de,{scope:r,id:a,children:x.jsx(pr.div,{role:"group","aria-labelledby":a,...n,ref:e})})});mY.displayName=gY;var yY="SelectLabel",xY=O.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=bde(yY,r);return x.jsx(pr.div,{id:a.id,...n,ref:e})});xY.displayName=yY;var XS="SelectItem",[Sde,_Y]=Nm(XS),bY=O.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=t,s=od(XS,r),l=sd(XS,r),u=s.value===n,[c,f]=O.useState(i??""),[d,v]=O.useState(!1),g=en(e,w=>l.itemRefCallback?.(w,n,a)),y=nu(),b=O.useRef("touch"),S=()=>{a||(s.onValueChange(n),s.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return x.jsx(Sde,{scope:r,value:n,disabled:a,textId:y,isSelected:u,onItemTextChange:O.useCallback(w=>{f(M=>M||(w?.textContent??"").trim())},[]),children:x.jsx(PT.ItemSlot,{scope:r,value:n,disabled:a,textValue:c,children:x.jsx(pr.div,{role:"option","aria-labelledby":y,"data-highlighted":d?"":void 0,"aria-selected":u&&d,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:g,onFocus:St(o.onFocus,()=>v(!0)),onBlur:St(o.onBlur,()=>v(!1)),onClick:St(o.onClick,()=>{b.current!=="mouse"&&S()}),onPointerUp:St(o.onPointerUp,()=>{b.current==="mouse"&&S()}),onPointerDown:St(o.onPointerDown,w=>{b.current=w.pointerType}),onPointerMove:St(o.onPointerMove,w=>{b.current=w.pointerType,a?l.onItemLeave?.():b.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:St(o.onPointerLeave,w=>{w.currentTarget===document.activeElement&&l.onItemLeave?.()}),onKeyDown:St(o.onKeyDown,w=>{l.searchRef?.current!==""&&w.key===" "||(lde.includes(w.key)&&S(),w.key===" "&&w.preventDefault())})})})})});bY.displayName=XS;var D0="SelectItemText",SY=O.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:a,...i}=t,o=od(D0,r),s=sd(D0,r),l=_Y(D0,r),u=hde(D0,r),[c,f]=O.useState(null),d=en(e,S=>f(S),l.onItemTextChange,S=>s.itemTextRefCallback?.(S,l.value,l.disabled)),v=c?.textContent,g=O.useMemo(()=>x.jsx("option",{value:l.value,disabled:l.disabled,children:v},l.value),[l.disabled,l.value,v]),{onNativeOptionAdd:y,onNativeOptionRemove:b}=u;return lo(()=>(y(g),()=>b(g)),[y,b,g]),x.jsxs(x.Fragment,{children:[x.jsx(pr.span,{id:l.textId,...i,ref:d}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?op.createPortal(i.children,o.valueNode):null]})});SY.displayName=D0;var wY="SelectItemIndicator",TY=O.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return _Y(wY,r).isSelected?x.jsx(pr.span,{"aria-hidden":!0,...n,ref:e}):null});TY.displayName=wY;var iE="SelectScrollUpButton",CY=O.forwardRef((t,e)=>{const r=sd(iE,t.__scopeSelect),n=kP(iE,t.__scopeSelect),[a,i]=O.useState(!1),o=en(e,n.onScrollButtonChange);return lo(()=>{if(r.viewport&&r.isPositioned){let s=function(){const u=l.scrollTop>0;i(u)};const l=r.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[r.viewport,r.isPositioned]),a?x.jsx(AY,{...t,ref:o,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=r;s&&l&&(s.scrollTop=s.scrollTop-l.offsetHeight)}}):null});CY.displayName=iE;var oE="SelectScrollDownButton",MY=O.forwardRef((t,e)=>{const r=sd(oE,t.__scopeSelect),n=kP(oE,t.__scopeSelect),[a,i]=O.useState(!1),o=en(e,n.onScrollButtonChange);return lo(()=>{if(r.viewport&&r.isPositioned){let s=function(){const u=l.scrollHeight-l.clientHeight,c=Math.ceil(l.scrollTop)<u;i(c)};const l=r.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[r.viewport,r.isPositioned]),a?x.jsx(AY,{...t,ref:o,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=r;s&&l&&(s.scrollTop=s.scrollTop+l.offsetHeight)}}):null});MY.displayName=oE;var AY=O.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=t,i=sd("SelectScrollButton",r),o=O.useRef(null),s=kT(r),l=O.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return O.useEffect(()=>()=>l(),[l]),lo(()=>{s().find(c=>c.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[s]),x.jsx(pr.div,{"aria-hidden":!0,...a,ref:e,style:{flexShrink:0,...a.style},onPointerDown:St(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:St(a.onPointerMove,()=>{i.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:St(a.onPointerLeave,()=>{l()})})}),wde="SelectSeparator",Tde=O.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return x.jsx(pr.div,{"aria-hidden":!0,...n,ref:e})});Tde.displayName=wde;var sE="SelectArrow",Cde=O.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=IT(r),i=od(sE,r),o=sd(sE,r);return i.open&&o.position==="popper"?x.jsx(MP,{...a,...n,ref:e}):null});Cde.displayName=sE;var Mde="SelectBubbleInput",DY=O.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const a=O.useRef(null),i=en(n,a),o=XW(e);return O.useEffect(()=>{const s=a.current;if(!s)return;const l=window.HTMLSelectElement.prototype,c=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&c){const f=new Event("change",{bubbles:!0});c.call(s,e),s.dispatchEvent(f)}},[o,e]),x.jsx(pr.select,{...r,style:{...lW,...r.style},ref:i,defaultValue:e})});DY.displayName=Mde;function LY(t){return t===""||t===void 0}function EY(t){const e=vc(t),r=O.useRef(""),n=O.useRef(0),a=O.useCallback(o=>{const s=r.current+o;e(s),(function l(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>l(""),1e3))})(s)},[e]),i=O.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return O.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function NY(t,e,r){const a=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=r?t.indexOf(r):-1;let o=Ade(t,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const l=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return l!==r?l:void 0}function Ade(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var Dde=aY,Lde=oY,Ede=lY,Nde=uY,Rde=cY,Pde=fY,kde=pY,Ide=mY,Ode=xY,jde=bY,zde=SY,Bde=TY,Vde=CY,Fde=MY,Hde="Separator",r3="horizontal",Gde=["horizontal","vertical"],RY=O.forwardRef((t,e)=>{const{decorative:r,orientation:n=r3,...a}=t,i=Ude(n)?n:r3,s=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return x.jsx(pr.div,{"data-orientation":i,...s,...a,ref:e})});RY.displayName=Hde;function Ude(t){return Gde.includes(t)}var Wde=RY,OT="Switch",[Yde]=vu(OT),[Zde,qde]=Yde(OT),PY=O.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:o,disabled:s,value:l="on",onCheckedChange:u,form:c,...f}=t,[d,v]=O.useState(null),g=en(e,M=>v(M)),y=O.useRef(!1),b=d?c||!!d.closest("form"):!0,[S,w]=Zh({prop:a,defaultProp:i??!1,onChange:u,caller:OT});return x.jsxs(Zde,{scope:r,checked:S,disabled:s,children:[x.jsx(pr.button,{type:"button",role:"switch","aria-checked":S,"aria-required":o,"data-state":jY(S),"data-disabled":s?"":void 0,disabled:s,value:l,...f,ref:g,onClick:St(t.onClick,M=>{w(A=>!A),b&&(y.current=M.isPropagationStopped(),y.current||M.stopPropagation())})}),b&&x.jsx(OY,{control:d,bubbles:!y.current,name:n,value:l,checked:S,required:o,disabled:s,form:c,style:{transform:"translateX(-100%)"}})]})});PY.displayName=OT;var kY="SwitchThumb",IY=O.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,a=qde(kY,r);return x.jsx(pr.span,{"data-state":jY(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:e})});IY.displayName=kY;var $de="SwitchBubbleInput",OY=O.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:n=!0,...a},i)=>{const o=O.useRef(null),s=en(o,i),l=XW(r),u=KW(e);return O.useEffect(()=>{const c=o.current;if(!c)return;const f=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==r&&v){const g=new Event("click",{bubbles:n});v.call(c,r),c.dispatchEvent(g)}},[l,r,n]),x.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:s,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});OY.displayName=$de;function jY(t){return t?"checked":"unchecked"}var Xde=PY,Kde=IY,jT="Tabs",[Qde]=vu(jT,[LT]),zY=LT(),[Jde,IP]=Qde(jT),BY=O.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:s,activationMode:l="automatic",...u}=t,c=_T(s),[f,d]=Zh({prop:n,onChange:a,defaultProp:i??"",caller:jT});return x.jsx(Jde,{scope:r,baseId:nu(),value:f,onValueChange:d,orientation:o,dir:c,activationMode:l,children:x.jsx(pr.div,{dir:c,"data-orientation":o,...u,ref:e})})});BY.displayName=jT;var VY="TabsList",FY=O.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...a}=t,i=IP(VY,r),o=zY(r);return x.jsx(T9,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:x.jsx(pr.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:e})})});FY.displayName=VY;var HY="TabsTrigger",GY=O.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=t,o=IP(HY,r),s=zY(r),l=WY(o.baseId,n),u=YY(o.baseId,n),c=n===o.value;return x.jsx(C9,{asChild:!0,...s,focusable:!a,active:c,children:x.jsx(pr.button,{type:"button",role:"tab","aria-selected":c,"aria-controls":u,"data-state":c?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:l,...i,ref:e,onMouseDown:St(t.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:St(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:St(t.onFocus,()=>{const f=o.activationMode!=="manual";!c&&!a&&f&&o.onValueChange(n)})})})});GY.displayName=HY;var UY="TabsContent",eve=O.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=t,s=IP(UY,r),l=WY(s.baseId,n),u=YY(s.baseId,n),c=n===s.value,f=O.useRef(c);return O.useEffect(()=>{const d=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(d)},[]),x.jsx(pu,{present:a||c,children:({present:d})=>x.jsx(pr.div,{"data-state":c?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":l,hidden:!d,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:d&&i})})});eve.displayName=UY;function WY(t,e){return`${t}-trigger-${e}`}function YY(t,e){return`${t}-content-${e}`}var tve=BY,rve=FY,nve=GY,[zT]=vu("Tooltip",[Em]),BT=Em(),ZY="TooltipProvider",ave=700,lE="tooltip.open",[ive,OP]=zT(ZY),qY=t=>{const{__scopeTooltip:e,delayDuration:r=ave,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=t,o=O.useRef(!0),s=O.useRef(!1),l=O.useRef(0);return O.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),x.jsx(ive,{scope:e,isOpenDelayedRef:o,delayDuration:r,onOpen:O.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:O.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:s,onPointerInTransitChange:O.useCallback(u=>{s.current=u},[]),disableHoverableContent:a,children:i})};qY.displayName=ZY;var mx="Tooltip",[ove,c_]=zT(mx),$Y=t=>{const{__scopeTooltip:e,children:r,open:n,defaultOpen:a,onOpenChange:i,disableHoverableContent:o,delayDuration:s}=t,l=OP(mx,t.__scopeTooltip),u=BT(e),[c,f]=O.useState(null),d=nu(),v=O.useRef(0),g=o??l.disableHoverableContent,y=s??l.delayDuration,b=O.useRef(!1),[S,w]=Zh({prop:n,defaultProp:a??!1,onChange:N=>{N?(l.onOpen(),document.dispatchEvent(new CustomEvent(lE))):l.onClose(),i?.(N)},caller:mx}),M=O.useMemo(()=>S?b.current?"delayed-open":"instant-open":"closed",[S]),A=O.useCallback(()=>{window.clearTimeout(v.current),v.current=0,b.current=!1,w(!0)},[w]),D=O.useCallback(()=>{window.clearTimeout(v.current),v.current=0,w(!1)},[w]),R=O.useCallback(()=>{window.clearTimeout(v.current),v.current=window.setTimeout(()=>{b.current=!0,w(!0),v.current=0},y)},[y,w]);return O.useEffect(()=>()=>{v.current&&(window.clearTimeout(v.current),v.current=0)},[]),x.jsx(wP,{...u,children:x.jsx(ove,{scope:e,contentId:d,open:S,stateAttribute:M,trigger:c,onTriggerChange:f,onTriggerEnter:O.useCallback(()=>{l.isOpenDelayedRef.current?R():A()},[l.isOpenDelayedRef,R,A]),onTriggerLeave:O.useCallback(()=>{g?D():(window.clearTimeout(v.current),v.current=0)},[D,g]),onOpen:A,onClose:D,disableHoverableContent:g,children:r})})};$Y.displayName=mx;var uE="TooltipTrigger",XY=O.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,a=c_(uE,r),i=OP(uE,r),o=BT(r),s=O.useRef(null),l=en(e,s,a.onTriggerChange),u=O.useRef(!1),c=O.useRef(!1),f=O.useCallback(()=>u.current=!1,[]);return O.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),x.jsx(TP,{asChild:!0,...o,children:x.jsx(pr.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:l,onPointerMove:St(t.onPointerMove,d=>{d.pointerType!=="touch"&&!c.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),c.current=!0)}),onPointerLeave:St(t.onPointerLeave,()=>{a.onTriggerLeave(),c.current=!1}),onPointerDown:St(t.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:St(t.onFocus,()=>{u.current||a.onOpen()}),onBlur:St(t.onBlur,a.onClose),onClick:St(t.onClick,a.onClose)})})});XY.displayName=uE;var jP="TooltipPortal",[sve,lve]=zT(jP,{forceMount:void 0}),KY=t=>{const{__scopeTooltip:e,forceMount:r,children:n,container:a}=t,i=c_(jP,e);return x.jsx(sve,{scope:e,forceMount:r,children:x.jsx(pu,{present:r||i.open,children:x.jsx(a_,{asChild:!0,container:a,children:n})})})};KY.displayName=jP;var am="TooltipContent",QY=O.forwardRef((t,e)=>{const r=lve(am,t.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=t,o=c_(am,t.__scopeTooltip);return x.jsx(pu,{present:n||o.open,children:o.disableHoverableContent?x.jsx(JY,{side:a,...i,ref:e}):x.jsx(uve,{side:a,...i,ref:e})})}),uve=O.forwardRef((t,e)=>{const r=c_(am,t.__scopeTooltip),n=OP(am,t.__scopeTooltip),a=O.useRef(null),i=en(e,a),[o,s]=O.useState(null),{trigger:l,onClose:u}=r,c=a.current,{onPointerInTransitChange:f}=n,d=O.useCallback(()=>{s(null),f(!1)},[f]),v=O.useCallback((g,y)=>{const b=g.currentTarget,S={x:g.clientX,y:g.clientY},w=dve(S,b.getBoundingClientRect()),M=vve(S,w),A=pve(y.getBoundingClientRect()),D=mve([...M,...A]);s(D),f(!0)},[f]);return O.useEffect(()=>()=>d(),[d]),O.useEffect(()=>{if(l&&c){const g=b=>v(b,c),y=b=>v(b,l);return l.addEventListener("pointerleave",g),c.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",g),c.removeEventListener("pointerleave",y)}}},[l,c,v,d]),O.useEffect(()=>{if(o){const g=y=>{const b=y.target,S={x:y.clientX,y:y.clientY},w=l?.contains(b)||c?.contains(b),M=!gve(S,o);w?d():M&&(d(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[l,c,o,u,d]),x.jsx(JY,{...t,ref:i})}),[cve,fve]=zT(mx,{isInside:!1}),hve=oW("TooltipContent"),JY=O.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...s}=t,l=c_(am,r),u=BT(r),{onClose:c}=l;return O.useEffect(()=>(document.addEventListener(lE,c),()=>document.removeEventListener(lE,c)),[c]),O.useEffect(()=>{if(l.trigger){const f=d=>{d.target?.contains(l.trigger)&&c()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,c]),x.jsx(n_,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:c,children:x.jsxs(CP,{"data-state":l.stateAttribute,...u,...s,ref:e,style:{...s.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[x.jsx(hve,{children:n}),x.jsx(cve,{scope:r,isInside:!0,children:x.jsx(Tle,{id:l.contentId,role:"tooltip",children:a||n})})]})})});QY.displayName=am;var eZ="TooltipArrow",tZ=O.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,a=BT(r);return fve(eZ,r).isInside?null:x.jsx(MP,{...a,...n,ref:e})});tZ.displayName=eZ;function dve(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),a=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function vve(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function pve(t){const{top:e,right:r,bottom:n,left:a}=t;return[{x:a,y:e},{x:r,y:e},{x:r,y:n},{x:a,y:n}]}function gve(t,e){const{x:r,y:n}=t;let a=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const s=e[i],l=e[o],u=s.x,c=s.y,f=l.x,d=l.y;c>n!=d>n&&r<(f-u)*(n-c)/(d-c)+u&&(a=!a)}return a}function mve(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),yve(e)}function yve(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const a=t[n];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))e.pop();else break}e.push(a)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const a=t[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var xve=qY,_ve=$Y,bve=XY,Sve=KY,wve=QY,Tve=tZ;const WA=768;function Cve(){const[t,e]=O.useState(void 0);return O.useEffect(()=>{const r=window.matchMedia(`(max-width: ${WA-1}px)`),n=()=>{e(window.innerWidth<WA)};return r.addEventListener("change",n),e(window.innerWidth<WA),()=>r.removeEventListener("change",n)},[]),!!t}const Mve=(t,e)=>{const r=new Array(t.length+e.length);for(let n=0;n<t.length;n++)r[n]=t[n];for(let n=0;n<e.length;n++)r[t.length+n]=e[n];return r},Ave=(t,e)=>({classGroupId:t,validator:e}),rZ=(t=new Map,e=null,r)=>({nextPart:t,validators:e,classGroupId:r}),KS="-",n3=[],Dve="arbitrary..",Lve=t=>{const e=Nve(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return Eve(o);const s=o.split(KS),l=s[0]===""&&s.length>1?1:0;return nZ(s,l,e)},getConflictingClassGroupIds:(o,s)=>{if(s){const l=n[o],u=r[o];return l?u?Mve(u,l):l:u||n3}return r[o]||n3}}},nZ=(t,e,r)=>{if(t.length-e===0)return r.classGroupId;const a=t[e],i=r.nextPart.get(a);if(i){const u=nZ(t,e+1,i);if(u)return u}const o=r.validators;if(o===null)return;const s=e===0?t.join(KS):t.slice(e).join(KS),l=o.length;for(let u=0;u<l;u++){const c=o[u];if(c.validator(s))return c.classGroupId}},Eve=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),r=e.indexOf(":"),n=e.slice(0,r);return n?Dve+n:void 0})(),Nve=t=>{const{theme:e,classGroups:r}=t;return Rve(r,e)},Rve=(t,e)=>{const r=rZ();for(const n in t){const a=t[n];zP(a,r,n,e)}return r},zP=(t,e,r,n)=>{const a=t.length;for(let i=0;i<a;i++){const o=t[i];Pve(o,e,r,n)}},Pve=(t,e,r,n)=>{if(typeof t=="string"){kve(t,e,r);return}if(typeof t=="function"){Ive(t,e,r,n);return}Ove(t,e,r,n)},kve=(t,e,r)=>{const n=t===""?e:aZ(e,t);n.classGroupId=r},Ive=(t,e,r,n)=>{if(jve(t)){zP(t(n),e,r,n);return}e.validators===null&&(e.validators=[]),e.validators.push(Ave(r,t))},Ove=(t,e,r,n)=>{const a=Object.entries(t),i=a.length;for(let o=0;o<i;o++){const[s,l]=a[o];zP(l,aZ(e,s),r,n)}},aZ=(t,e)=>{let r=t;const n=e.split(KS),a=n.length;for(let i=0;i<a;i++){const o=n[i];let s=r.nextPart.get(o);s||(s=rZ(),r.nextPart.set(o,s)),r=s}return r},jve=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,zve=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=Object.create(null),n=Object.create(null);const a=(i,o)=>{r[i]=o,e++,e>t&&(e=0,n=r,r=Object.create(null))};return{get(i){let o=r[i];if(o!==void 0)return o;if((o=n[i])!==void 0)return a(i,o),o},set(i,o){i in r?r[i]=o:a(i,o)}}},cE="!",a3=":",Bve=[],i3=(t,e,r,n,a)=>({modifiers:t,hasImportantModifier:e,baseClassName:r,maybePostfixModifierPosition:n,isExternal:a}),Vve=t=>{const{prefix:e,experimentalParseClassName:r}=t;let n=a=>{const i=[];let o=0,s=0,l=0,u;const c=a.length;for(let y=0;y<c;y++){const b=a[y];if(o===0&&s===0){if(b===a3){i.push(a.slice(l,y)),l=y+1;continue}if(b==="/"){u=y;continue}}b==="["?o++:b==="]"?o--:b==="("?s++:b===")"&&s--}const f=i.length===0?a:a.slice(l);let d=f,v=!1;f.endsWith(cE)?(d=f.slice(0,-1),v=!0):f.startsWith(cE)&&(d=f.slice(1),v=!0);const g=u&&u>l?u-l:void 0;return i3(i,v,d,g)};if(e){const a=e+a3,i=n;n=o=>o.startsWith(a)?i(o.slice(a.length)):i3(Bve,!1,o,void 0,!0)}if(r){const a=n;n=i=>r({className:i,parseClassName:a})}return n},Fve=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((r,n)=>{e.set(r,1e6+n)}),r=>{const n=[];let a=[];for(let i=0;i<r.length;i++){const o=r[i],s=o[0]==="[",l=e.has(o);s||l?(a.length>0&&(a.sort(),n.push(...a),a=[]),n.push(o)):a.push(o)}return a.length>0&&(a.sort(),n.push(...a)),n}},Hve=t=>({cache:zve(t.cacheSize),parseClassName:Vve(t),sortModifiers:Fve(t),...Lve(t)}),Gve=/\s+/,Uve=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:i}=e,o=[],s=t.trim().split(Gve);let l="";for(let u=s.length-1;u>=0;u-=1){const c=s[u],{isExternal:f,modifiers:d,hasImportantModifier:v,baseClassName:g,maybePostfixModifierPosition:y}=r(c);if(f){l=c+(l.length>0?" "+l:l);continue}let b=!!y,S=n(b?g.substring(0,y):g);if(!S){if(!b){l=c+(l.length>0?" "+l:l);continue}if(S=n(g),!S){l=c+(l.length>0?" "+l:l);continue}b=!1}const w=d.length===0?"":d.length===1?d[0]:i(d).join(":"),M=v?w+cE:w,A=M+S;if(o.indexOf(A)>-1)continue;o.push(A);const D=a(S,b);for(let R=0;R<D.length;++R){const N=D[R];o.push(M+N)}l=c+(l.length>0?" "+l:l)}return l},Wve=(...t)=>{let e=0,r,n,a="";for(;e<t.length;)(r=t[e++])&&(n=iZ(r))&&(a&&(a+=" "),a+=n);return a},iZ=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=iZ(t[n]))&&(r&&(r+=" "),r+=e);return r},Yve=(t,...e)=>{let r,n,a,i;const o=l=>{const u=e.reduce((c,f)=>f(c),t());return r=Hve(u),n=r.cache.get,a=r.cache.set,i=s,s(l)},s=l=>{const u=n(l);if(u)return u;const c=Uve(l,r);return a(l,c),c};return i=o,(...l)=>i(Wve(...l))},Zve=[],fi=t=>{const e=r=>r[t]||Zve;return e.isThemeGetter=!0,e},oZ=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,sZ=/^\((?:(\w[\w-]*):)?(.+)\)$/i,qve=/^\d+\/\d+$/,$ve=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Xve=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Kve=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Qve=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Jve=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,tg=t=>qve.test(t),Mr=t=>!!t&&!Number.isNaN(Number(t)),lh=t=>!!t&&Number.isInteger(Number(t)),YA=t=>t.endsWith("%")&&Mr(t.slice(0,-1)),$c=t=>$ve.test(t),epe=()=>!0,tpe=t=>Xve.test(t)&&!Kve.test(t),lZ=()=>!1,rpe=t=>Qve.test(t),npe=t=>Jve.test(t),ape=t=>!Et(t)&&!Nt(t),ipe=t=>Rm(t,fZ,lZ),Et=t=>oZ.test(t),Id=t=>Rm(t,hZ,tpe),ZA=t=>Rm(t,cpe,Mr),o3=t=>Rm(t,uZ,lZ),ope=t=>Rm(t,cZ,npe),Bb=t=>Rm(t,dZ,rpe),Nt=t=>sZ.test(t),Hy=t=>Pm(t,hZ),spe=t=>Pm(t,fpe),s3=t=>Pm(t,uZ),lpe=t=>Pm(t,fZ),upe=t=>Pm(t,cZ),Vb=t=>Pm(t,dZ,!0),Rm=(t,e,r)=>{const n=oZ.exec(t);return n?n[1]?e(n[1]):r(n[2]):!1},Pm=(t,e,r=!1)=>{const n=sZ.exec(t);return n?n[1]?e(n[1]):r:!1},uZ=t=>t==="position"||t==="percentage",cZ=t=>t==="image"||t==="url",fZ=t=>t==="length"||t==="size"||t==="bg-size",hZ=t=>t==="length",cpe=t=>t==="number",fpe=t=>t==="family-name",dZ=t=>t==="shadow",hpe=()=>{const t=fi("color"),e=fi("font"),r=fi("text"),n=fi("font-weight"),a=fi("tracking"),i=fi("leading"),o=fi("breakpoint"),s=fi("container"),l=fi("spacing"),u=fi("radius"),c=fi("shadow"),f=fi("inset-shadow"),d=fi("text-shadow"),v=fi("drop-shadow"),g=fi("blur"),y=fi("perspective"),b=fi("aspect"),S=fi("ease"),w=fi("animate"),M=()=>["auto","avoid","all","avoid-page","page","left","right","column"],A=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],D=()=>[...A(),Nt,Et],R=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto","contain","none"],I=()=>[Nt,Et,l],z=()=>[tg,"full","auto",...I()],B=()=>[lh,"none","subgrid",Nt,Et],V=()=>["auto",{span:["full",lh,Nt,Et]},lh,Nt,Et],G=()=>[lh,"auto",Nt,Et],F=()=>["auto","min","max","fr",Nt,Et],q=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Q=()=>["start","end","center","stretch","center-safe","end-safe"],H=()=>["auto",...I()],X=()=>[tg,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...I()],W=()=>[t,Nt,Et],J=()=>[...A(),s3,o3,{position:[Nt,Et]}],ee=()=>["no-repeat",{repeat:["","x","y","space","round"]}],K=()=>["auto","cover","contain",lpe,ipe,{size:[Nt,Et]}],ne=()=>[YA,Hy,Id],ie=()=>["","none","full",u,Nt,Et],le=()=>["",Mr,Hy,Id],me=()=>["solid","dashed","dotted","double"],we=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],pe=()=>[Mr,YA,s3,o3],Pe=()=>["","none",g,Nt,Et],ke=()=>["none",Mr,Nt,Et],ze=()=>["none",Mr,Nt,Et],Ie=()=>[Mr,Nt,Et],Oe=()=>[tg,"full",...I()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[$c],breakpoint:[$c],color:[epe],container:[$c],"drop-shadow":[$c],ease:["in","out","in-out"],font:[ape],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[$c],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[$c],shadow:[$c],spacing:["px",Mr],text:[$c],"text-shadow":[$c],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",tg,Et,Nt,b]}],container:["container"],columns:[{columns:[Mr,Et,Nt,s]}],"break-after":[{"break-after":M()}],"break-before":[{"break-before":M()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:D()}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:z()}],"inset-x":[{"inset-x":z()}],"inset-y":[{"inset-y":z()}],start:[{start:z()}],end:[{end:z()}],top:[{top:z()}],right:[{right:z()}],bottom:[{bottom:z()}],left:[{left:z()}],visibility:["visible","invisible","collapse"],z:[{z:[lh,"auto",Nt,Et]}],basis:[{basis:[tg,"full","auto",s,...I()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Mr,tg,"auto","initial","none",Et]}],grow:[{grow:["",Mr,Nt,Et]}],shrink:[{shrink:["",Mr,Nt,Et]}],order:[{order:[lh,"first","last","none",Nt,Et]}],"grid-cols":[{"grid-cols":B()}],"col-start-end":[{col:V()}],"col-start":[{"col-start":G()}],"col-end":[{"col-end":G()}],"grid-rows":[{"grid-rows":B()}],"row-start-end":[{row:V()}],"row-start":[{"row-start":G()}],"row-end":[{"row-end":G()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":F()}],"auto-rows":[{"auto-rows":F()}],gap:[{gap:I()}],"gap-x":[{"gap-x":I()}],"gap-y":[{"gap-y":I()}],"justify-content":[{justify:[...q(),"normal"]}],"justify-items":[{"justify-items":[...Q(),"normal"]}],"justify-self":[{"justify-self":["auto",...Q()]}],"align-content":[{content:["normal",...q()]}],"align-items":[{items:[...Q(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Q(),{baseline:["","last"]}]}],"place-content":[{"place-content":q()}],"place-items":[{"place-items":[...Q(),"baseline"]}],"place-self":[{"place-self":["auto",...Q()]}],p:[{p:I()}],px:[{px:I()}],py:[{py:I()}],ps:[{ps:I()}],pe:[{pe:I()}],pt:[{pt:I()}],pr:[{pr:I()}],pb:[{pb:I()}],pl:[{pl:I()}],m:[{m:H()}],mx:[{mx:H()}],my:[{my:H()}],ms:[{ms:H()}],me:[{me:H()}],mt:[{mt:H()}],mr:[{mr:H()}],mb:[{mb:H()}],ml:[{ml:H()}],"space-x":[{"space-x":I()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":I()}],"space-y-reverse":["space-y-reverse"],size:[{size:X()}],w:[{w:[s,"screen",...X()]}],"min-w":[{"min-w":[s,"screen","none",...X()]}],"max-w":[{"max-w":[s,"screen","none","prose",{screen:[o]},...X()]}],h:[{h:["screen","lh",...X()]}],"min-h":[{"min-h":["screen","lh","none",...X()]}],"max-h":[{"max-h":["screen","lh",...X()]}],"font-size":[{text:["base",r,Hy,Id]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Nt,ZA]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",YA,Et]}],"font-family":[{font:[spe,Et,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Nt,Et]}],"line-clamp":[{"line-clamp":[Mr,"none",Nt,ZA]}],leading:[{leading:[i,...I()]}],"list-image":[{"list-image":["none",Nt,Et]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Nt,Et]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:W()}],"text-color":[{text:W()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...me(),"wavy"]}],"text-decoration-thickness":[{decoration:[Mr,"from-font","auto",Nt,Id]}],"text-decoration-color":[{decoration:W()}],"underline-offset":[{"underline-offset":[Mr,"auto",Nt,Et]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Nt,Et]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Nt,Et]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:J()}],"bg-repeat":[{bg:ee()}],"bg-size":[{bg:K()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},lh,Nt,Et],radial:["",Nt,Et],conic:[lh,Nt,Et]},upe,ope]}],"bg-color":[{bg:W()}],"gradient-from-pos":[{from:ne()}],"gradient-via-pos":[{via:ne()}],"gradient-to-pos":[{to:ne()}],"gradient-from":[{from:W()}],"gradient-via":[{via:W()}],"gradient-to":[{to:W()}],rounded:[{rounded:ie()}],"rounded-s":[{"rounded-s":ie()}],"rounded-e":[{"rounded-e":ie()}],"rounded-t":[{"rounded-t":ie()}],"rounded-r":[{"rounded-r":ie()}],"rounded-b":[{"rounded-b":ie()}],"rounded-l":[{"rounded-l":ie()}],"rounded-ss":[{"rounded-ss":ie()}],"rounded-se":[{"rounded-se":ie()}],"rounded-ee":[{"rounded-ee":ie()}],"rounded-es":[{"rounded-es":ie()}],"rounded-tl":[{"rounded-tl":ie()}],"rounded-tr":[{"rounded-tr":ie()}],"rounded-br":[{"rounded-br":ie()}],"rounded-bl":[{"rounded-bl":ie()}],"border-w":[{border:le()}],"border-w-x":[{"border-x":le()}],"border-w-y":[{"border-y":le()}],"border-w-s":[{"border-s":le()}],"border-w-e":[{"border-e":le()}],"border-w-t":[{"border-t":le()}],"border-w-r":[{"border-r":le()}],"border-w-b":[{"border-b":le()}],"border-w-l":[{"border-l":le()}],"divide-x":[{"divide-x":le()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":le()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...me(),"hidden","none"]}],"divide-style":[{divide:[...me(),"hidden","none"]}],"border-color":[{border:W()}],"border-color-x":[{"border-x":W()}],"border-color-y":[{"border-y":W()}],"border-color-s":[{"border-s":W()}],"border-color-e":[{"border-e":W()}],"border-color-t":[{"border-t":W()}],"border-color-r":[{"border-r":W()}],"border-color-b":[{"border-b":W()}],"border-color-l":[{"border-l":W()}],"divide-color":[{divide:W()}],"outline-style":[{outline:[...me(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Mr,Nt,Et]}],"outline-w":[{outline:["",Mr,Hy,Id]}],"outline-color":[{outline:W()}],shadow:[{shadow:["","none",c,Vb,Bb]}],"shadow-color":[{shadow:W()}],"inset-shadow":[{"inset-shadow":["none",f,Vb,Bb]}],"inset-shadow-color":[{"inset-shadow":W()}],"ring-w":[{ring:le()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:W()}],"ring-offset-w":[{"ring-offset":[Mr,Id]}],"ring-offset-color":[{"ring-offset":W()}],"inset-ring-w":[{"inset-ring":le()}],"inset-ring-color":[{"inset-ring":W()}],"text-shadow":[{"text-shadow":["none",d,Vb,Bb]}],"text-shadow-color":[{"text-shadow":W()}],opacity:[{opacity:[Mr,Nt,Et]}],"mix-blend":[{"mix-blend":[...we(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":we()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Mr]}],"mask-image-linear-from-pos":[{"mask-linear-from":pe()}],"mask-image-linear-to-pos":[{"mask-linear-to":pe()}],"mask-image-linear-from-color":[{"mask-linear-from":W()}],"mask-image-linear-to-color":[{"mask-linear-to":W()}],"mask-image-t-from-pos":[{"mask-t-from":pe()}],"mask-image-t-to-pos":[{"mask-t-to":pe()}],"mask-image-t-from-color":[{"mask-t-from":W()}],"mask-image-t-to-color":[{"mask-t-to":W()}],"mask-image-r-from-pos":[{"mask-r-from":pe()}],"mask-image-r-to-pos":[{"mask-r-to":pe()}],"mask-image-r-from-color":[{"mask-r-from":W()}],"mask-image-r-to-color":[{"mask-r-to":W()}],"mask-image-b-from-pos":[{"mask-b-from":pe()}],"mask-image-b-to-pos":[{"mask-b-to":pe()}],"mask-image-b-from-color":[{"mask-b-from":W()}],"mask-image-b-to-color":[{"mask-b-to":W()}],"mask-image-l-from-pos":[{"mask-l-from":pe()}],"mask-image-l-to-pos":[{"mask-l-to":pe()}],"mask-image-l-from-color":[{"mask-l-from":W()}],"mask-image-l-to-color":[{"mask-l-to":W()}],"mask-image-x-from-pos":[{"mask-x-from":pe()}],"mask-image-x-to-pos":[{"mask-x-to":pe()}],"mask-image-x-from-color":[{"mask-x-from":W()}],"mask-image-x-to-color":[{"mask-x-to":W()}],"mask-image-y-from-pos":[{"mask-y-from":pe()}],"mask-image-y-to-pos":[{"mask-y-to":pe()}],"mask-image-y-from-color":[{"mask-y-from":W()}],"mask-image-y-to-color":[{"mask-y-to":W()}],"mask-image-radial":[{"mask-radial":[Nt,Et]}],"mask-image-radial-from-pos":[{"mask-radial-from":pe()}],"mask-image-radial-to-pos":[{"mask-radial-to":pe()}],"mask-image-radial-from-color":[{"mask-radial-from":W()}],"mask-image-radial-to-color":[{"mask-radial-to":W()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":A()}],"mask-image-conic-pos":[{"mask-conic":[Mr]}],"mask-image-conic-from-pos":[{"mask-conic-from":pe()}],"mask-image-conic-to-pos":[{"mask-conic-to":pe()}],"mask-image-conic-from-color":[{"mask-conic-from":W()}],"mask-image-conic-to-color":[{"mask-conic-to":W()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:J()}],"mask-repeat":[{mask:ee()}],"mask-size":[{mask:K()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Nt,Et]}],filter:[{filter:["","none",Nt,Et]}],blur:[{blur:Pe()}],brightness:[{brightness:[Mr,Nt,Et]}],contrast:[{contrast:[Mr,Nt,Et]}],"drop-shadow":[{"drop-shadow":["","none",v,Vb,Bb]}],"drop-shadow-color":[{"drop-shadow":W()}],grayscale:[{grayscale:["",Mr,Nt,Et]}],"hue-rotate":[{"hue-rotate":[Mr,Nt,Et]}],invert:[{invert:["",Mr,Nt,Et]}],saturate:[{saturate:[Mr,Nt,Et]}],sepia:[{sepia:["",Mr,Nt,Et]}],"backdrop-filter":[{"backdrop-filter":["","none",Nt,Et]}],"backdrop-blur":[{"backdrop-blur":Pe()}],"backdrop-brightness":[{"backdrop-brightness":[Mr,Nt,Et]}],"backdrop-contrast":[{"backdrop-contrast":[Mr,Nt,Et]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Mr,Nt,Et]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Mr,Nt,Et]}],"backdrop-invert":[{"backdrop-invert":["",Mr,Nt,Et]}],"backdrop-opacity":[{"backdrop-opacity":[Mr,Nt,Et]}],"backdrop-saturate":[{"backdrop-saturate":[Mr,Nt,Et]}],"backdrop-sepia":[{"backdrop-sepia":["",Mr,Nt,Et]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":I()}],"border-spacing-x":[{"border-spacing-x":I()}],"border-spacing-y":[{"border-spacing-y":I()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Nt,Et]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Mr,"initial",Nt,Et]}],ease:[{ease:["linear","initial",S,Nt,Et]}],delay:[{delay:[Mr,Nt,Et]}],animate:[{animate:["none",w,Nt,Et]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,Nt,Et]}],"perspective-origin":[{"perspective-origin":D()}],rotate:[{rotate:ke()}],"rotate-x":[{"rotate-x":ke()}],"rotate-y":[{"rotate-y":ke()}],"rotate-z":[{"rotate-z":ke()}],scale:[{scale:ze()}],"scale-x":[{"scale-x":ze()}],"scale-y":[{"scale-y":ze()}],"scale-z":[{"scale-z":ze()}],"scale-3d":["scale-3d"],skew:[{skew:Ie()}],"skew-x":[{"skew-x":Ie()}],"skew-y":[{"skew-y":Ie()}],transform:[{transform:[Nt,Et,"","none","gpu","cpu"]}],"transform-origin":[{origin:D()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Oe()}],"translate-x":[{"translate-x":Oe()}],"translate-y":[{"translate-y":Oe()}],"translate-z":[{"translate-z":Oe()}],"translate-none":["translate-none"],accent:[{accent:W()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:W()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Nt,Et]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Nt,Et]}],fill:[{fill:["none",...W()]}],"stroke-w":[{stroke:[Mr,Hy,Id,ZA]}],stroke:[{stroke:["none",...W()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},dpe=Yve(hpe);function dt(...t){return dpe(W7(t))}const BP=pT("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",xs:"h-6 gap-1 rounded-md px-2 text-xs has-[>svg]:px-1.5 [&_svg:not([class*='size-'])]:size-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-xs":"size-6 rounded-md [&_svg:not([class*='size-'])]:size-3","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function Ze({className:t,variant:e="default",size:r="default",asChild:n=!1,...a}){const i=n?xT:"button";return x.jsx(i,{"data-slot":"button","data-variant":e,"data-size":r,className:dt(BP({variant:e,size:r,className:t})),...a})}function _t({className:t,type:e,...r}){return x.jsx("input",{type:e,"data-slot":"input",className:dt("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...r})}function vpe({className:t,orientation:e="horizontal",decorative:r=!0,...n}){return x.jsx(Wde,{"data-slot":"separator",decorative:r,orientation:e,className:dt("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...n})}function ppe({...t}){return x.jsx(uP,{"data-slot":"sheet",...t})}function gpe({...t}){return x.jsx(cP,{"data-slot":"sheet-portal",...t})}function mpe({className:t,...e}){return x.jsx(fP,{"data-slot":"sheet-overlay",className:dt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function ype({className:t,children:e,side:r="right",showCloseButton:n=!0,...a}){return x.jsxs(gpe,{children:[x.jsx(mpe,{}),x.jsxs(hP,{"data-slot":"sheet-content",className:dt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",r==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",r==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",r==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",r==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...a,children:[e,n&&x.jsxs(i_,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[x.jsx(aW,{className:"size-4"}),x.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function xpe({className:t,...e}){return x.jsx("div",{"data-slot":"sheet-header",className:dt("flex flex-col gap-1.5 p-4",t),...e})}function _pe({className:t,...e}){return x.jsx(dP,{"data-slot":"sheet-title",className:dt("text-foreground font-semibold",t),...e})}function bpe({className:t,...e}){return x.jsx(vP,{"data-slot":"sheet-description",className:dt("text-muted-foreground text-sm",t),...e})}function wr({className:t,...e}){return x.jsx("div",{"data-slot":"skeleton",className:dt("bg-accent animate-pulse rounded-md",t),...e})}function VT({delayDuration:t=0,...e}){return x.jsx(xve,{"data-slot":"tooltip-provider",delayDuration:t,...e})}function FT({...t}){return x.jsx(_ve,{"data-slot":"tooltip",...t})}function HT({...t}){return x.jsx(bve,{"data-slot":"tooltip-trigger",...t})}function GT({className:t,sideOffset:e=0,children:r,...n}){return x.jsx(Sve,{children:x.jsxs(wve,{"data-slot":"tooltip-content",sideOffset:e,className:dt("bg-foreground text-background animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",t),...n,children:[r,x.jsx(Tve,{className:"bg-foreground fill-foreground z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}const Spe="sidebar_state",wpe=3600*24*7,Tpe="16rem",Cpe="18rem",Mpe="3rem",Ape="b",vZ=O.createContext(null);function VP(){const t=O.useContext(vZ);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}function Dpe({defaultOpen:t=!0,open:e,onOpenChange:r,className:n,style:a,children:i,...o}){const s=Cve(),[l,u]=O.useState(!1),[c,f]=O.useState(t),d=e??c,v=O.useCallback(S=>{const w=typeof S=="function"?S(d):S;r?r(w):f(w),document.cookie=`${Spe}=${w}; path=/; max-age=${wpe}`},[r,d]),g=O.useCallback(()=>s?u(S=>!S):v(S=>!S),[s,v,u]);O.useEffect(()=>{const S=w=>{w.key===Ape&&(w.metaKey||w.ctrlKey)&&(w.preventDefault(),g())};return window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)},[g]);const y=d?"expanded":"collapsed",b=O.useMemo(()=>({state:y,open:d,setOpen:v,isMobile:s,openMobile:l,setOpenMobile:u,toggleSidebar:g}),[y,d,v,s,l,u,g]);return x.jsx(vZ.Provider,{value:b,children:x.jsx(VT,{delayDuration:0,children:x.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":Tpe,"--sidebar-width-icon":Mpe,...a},className:dt("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",n),...o,children:i})})})}function Lpe({side:t="left",variant:e="sidebar",collapsible:r="offcanvas",className:n,children:a,...i}){const{isMobile:o,state:s,openMobile:l,setOpenMobile:u}=VP();return r==="none"?x.jsx("div",{"data-slot":"sidebar",className:dt("bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col",n),...i,children:a}):o?x.jsx(ppe,{open:l,onOpenChange:u,...i,children:x.jsxs(ype,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden",style:{"--sidebar-width":Cpe},side:t,children:[x.jsxs(xpe,{className:"sr-only",children:[x.jsx(_pe,{children:"Sidebar"}),x.jsx(bpe,{children:"Displays the mobile sidebar."})]}),x.jsx("div",{className:"flex h-full w-full flex-col",children:a})]})}):x.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":s,"data-collapsible":s==="collapsed"?r:"","data-variant":e,"data-side":t,"data-slot":"sidebar",children:[x.jsx("div",{"data-slot":"sidebar-gap",className:dt("relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon)")}),x.jsx("div",{"data-slot":"sidebar-container",className:dt("fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...i,children:x.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:a})})]})}function Epe({className:t,onClick:e,...r}){const{toggleSidebar:n}=VP();return x.jsxs(Ze,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:dt("size-7",t),onClick:a=>{e?.(a),n()},...r,children:[x.jsx(Fse,{}),x.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function Npe({className:t,...e}){return x.jsx("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:dt("flex flex-col gap-2 p-2",t),...e})}function Rpe({className:t,...e}){return x.jsx("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:dt("flex flex-col gap-2 p-2",t),...e})}function Ppe({className:t,...e}){return x.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:dt("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...e})}function qA({className:t,...e}){return x.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:dt("relative flex w-full min-w-0 flex-col p-2",t),...e})}function $A({className:t,asChild:e=!1,...r}){const n=e?xT:"div";return x.jsx(n,{"data-slot":"sidebar-group-label","data-sidebar":"group-label",className:dt("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...r})}function XA({className:t,...e}){return x.jsx("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:dt("w-full text-sm",t),...e})}function KA({className:t,...e}){return x.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:dt("flex w-full min-w-0 flex-col gap-1",t),...e})}function QA({className:t,...e}){return x.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:dt("group/menu-item relative",t),...e})}const kpe=pT("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function JA({asChild:t=!1,isActive:e=!1,variant:r="default",size:n="default",tooltip:a,className:i,...o}){const s=t?xT:"button",{isMobile:l,state:u}=VP(),c=x.jsx(s,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":n,"data-active":e,className:dt(kpe({variant:r,size:n}),i),...o});return a?(typeof a=="string"&&(a={children:a}),x.jsxs(FT,{children:[x.jsx(HT,{asChild:!0,children:c}),x.jsx(GT,{side:"right",align:"center",hidden:u!=="collapsed"||l,...a})]})):c}const Ipe=[{label:"Dashboard",href:"/dashboard",icon:Ase},{label:"Devices",href:"/devices",icon:t_},{label:"Alerts",href:"/alerts",icon:Am},{label:"Alert Rules",href:"/alert-rules",icon:rW},{label:"Activity Log",href:"/activity-log",icon:mT},{label:"Metrics",href:"/metrics",icon:Cse},{label:"Subscription",href:"/subscription",icon:tP}],Ope=[{label:"Webhooks",href:"/integrations/webhooks",icon:nW},{label:"SNMP",href:"/integrations/snmp",icon:Q7},{label:"Email",href:"/integrations/email",icon:X7},{label:"MQTT",href:"/integrations/mqtt",icon:HS}],jpe=[{label:"Overview",href:"/operator",icon:K7},{label:"All Devices",href:"/operator/devices",icon:eW},{label:"Tenants",href:"/operator/tenants",icon:Z7},{label:"System",href:"/operator/system",icon:rm},{label:"Activity Log",href:"/operator/audit-log",icon:mT},{label:"Settings",href:"/operator/settings",icon:tW}];function zpe(){const t=Mf(),{isOperator:e,isCustomer:r}=El();function n(a){return a==="/dashboard"?t.pathname==="/dashboard"||t.pathname==="/"||t.pathname==="":a==="/operator"?t.pathname==="/operator":t.pathname.startsWith(a)}return x.jsxs(Lpe,{children:[x.jsx(Npe,{className:"p-4",children:x.jsxs(Ui,{to:e?"/operator":"/dashboard",className:"flex items-center gap-2 no-underline",children:[x.jsx("img",{src:"/app/opsconductor_logo_clean_PROPER.svg",alt:"OpsConductor Pulse",className:"h-8 w-8"}),x.jsxs("div",{children:[x.jsx("div",{className:"text-sm font-bold text-sidebar-foreground",children:"OpsConductor"}),x.jsx("div",{className:"text-xs text-muted-foreground",children:"Pulse"})]})]})}),x.jsxs(Ppe,{children:[r&&x.jsxs(qA,{children:[x.jsx($A,{children:"Monitoring"}),x.jsx(XA,{children:x.jsx(KA,{children:Ipe.map(a=>x.jsx(QA,{children:x.jsx(JA,{asChild:!0,isActive:n(a.href),children:x.jsxs(Ui,{to:a.href,children:[x.jsx(a.icon,{className:"h-4 w-4"}),x.jsx("span",{children:a.label})]})})},a.href))})})]}),r&&x.jsxs(qA,{children:[x.jsx($A,{children:"Integrations"}),x.jsx(XA,{children:x.jsx(KA,{children:Ope.map(a=>x.jsx(QA,{children:x.jsx(JA,{asChild:!0,isActive:n(a.href),children:x.jsxs(Ui,{to:a.href,children:[x.jsx(a.icon,{className:"h-4 w-4"}),x.jsx("span",{children:a.label})]})})},a.href))})})]}),e&&x.jsxs(qA,{children:[x.jsx($A,{children:"Operator"}),x.jsx(XA,{children:x.jsx(KA,{children:jpe.map(a=>x.jsx(QA,{children:x.jsx(JA,{asChild:!0,isActive:n(a.href),children:x.jsxs(Ui,{to:a.href,children:[x.jsx(a.icon,{className:"h-4 w-4"}),x.jsx("span",{children:a.label})]})})},a.href))})})]})]}),x.jsx(Rpe,{className:"p-4",children:x.jsx("div",{className:"text-xs text-muted-foreground",children:"OpsConductor Pulse v18"})})]})}const Bpe=pT("inline-flex items-center justify-center rounded-full border border-transparent px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border-border text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground",ghost:"[a&]:hover:bg-accent [a&]:hover:text-accent-foreground",link:"text-primary underline-offset-4 [a&]:hover:underline"}},defaultVariants:{variant:"default"}});function yi({className:t,variant:e="default",asChild:r=!1,...n}){const a=r?xT:"span";return x.jsx(a,{"data-slot":"badge","data-variant":e,className:dt(Bpe({variant:e}),t),...n})}const l3=t=>{let e;const r=new Set,n=(u,c)=>{const f=typeof u=="function"?u(e):u;if(!Object.is(f,e)){const d=e;e=c??(typeof f!="object"||f===null)?f:Object.assign({},e,f),r.forEach(v=>v(e,d))}},a=()=>e,s={setState:n,getState:a,getInitialState:()=>l,subscribe:u=>(r.add(u),()=>r.delete(u))},l=e=t(n,a,s);return s},Vpe=(t=>t?l3(t):l3),Fpe=t=>t;function Hpe(t,e=Fpe){const r=Mo.useSyncExternalStore(t.subscribe,Mo.useCallback(()=>e(t.getState()),[t,e]),Mo.useCallback(()=>e(t.getInitialState()),[t,e]));return Mo.useDebugValue(r),r}const u3=t=>{const e=Vpe(t),r=n=>Hpe(e,n);return Object.assign(r,e),r},pZ=(t=>t?u3(t):u3);function Gpe(t,e){let r;try{r=t()}catch{return}return{getItem:a=>{var i;const o=l=>l===null?null:JSON.parse(l,void 0),s=(i=r.getItem(a))!=null?i:null;return s instanceof Promise?s.then(o):o(s)},setItem:(a,i)=>r.setItem(a,JSON.stringify(i,void 0)),removeItem:a=>r.removeItem(a)}}const fE=t=>e=>{try{const r=t(e);return r instanceof Promise?r:{then(n){return fE(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return fE(n)(r)}}}},Upe=(t,e)=>(r,n,a)=>{let i={storage:Gpe(()=>window.localStorage),partialize:b=>b,version:0,merge:(b,S)=>({...S,...b}),...e},o=!1,s=0;const l=new Set,u=new Set;let c=i.storage;if(!c)return t((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...b)},n,a);const f=()=>{const b=i.partialize({...n()});return c.setItem(i.name,{state:b,version:i.version})},d=a.setState;a.setState=(b,S)=>(d(b,S),f());const v=t((...b)=>(r(...b),f()),n,a);a.getInitialState=()=>v;let g;const y=()=>{var b,S;if(!c)return;const w=++s;o=!1,l.forEach(A=>{var D;return A((D=n())!=null?D:v)});const M=((S=i.onRehydrateStorage)==null?void 0:S.call(i,(b=n())!=null?b:v))||void 0;return fE(c.getItem.bind(c))(i.name).then(A=>{if(A)if(typeof A.version=="number"&&A.version!==i.version){if(i.migrate){const D=i.migrate(A.state,A.version);return D instanceof Promise?D.then(R=>[!0,R]):[!0,D]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,A.state];return[!1,void 0]}).then(A=>{var D;if(w!==s)return;const[R,N]=A;if(g=i.merge(N,(D=n())!=null?D:v),r(g,!0),R)return f()}).then(()=>{w===s&&(M?.(g,void 0),g=n(),o=!0,u.forEach(A=>A(g)))}).catch(A=>{w===s&&M?.(void 0,A)})};return a.persist={setOptions:b=>{i={...i,...b},b.storage&&(c=b.storage)},clearStorage:()=>{c?.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>y(),hasHydrated:()=>o,onHydrate:b=>(l.add(b),()=>{l.delete(b)}),onFinishHydration:b=>(u.add(b),()=>{u.delete(b)})},i.skipHydration||y(),g||v},Wpe=Upe;function gZ(){return typeof window>"u"||window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function c3(t){return t==="system"?gZ():t}function hE(t){const e=document.documentElement;t==="dark"?e.classList.add("dark"):e.classList.remove("dark")}const io=pZ()(Wpe(t=>({wsStatus:"disconnected",wsRetryCount:0,wsError:null,setWsStatus:e=>t({wsStatus:e}),setWsRetryCount:e=>t({wsRetryCount:e}),setWsError:e=>t({wsError:e}),theme:"system",resolvedTheme:gZ(),setTheme:e=>{const r=c3(e);hE(r),t({theme:e,resolvedTheme:r})}}),{name:"pulse-ui-store",partialize:t=>({theme:t.theme}),onRehydrateStorage:()=>t=>{if(t){const e=c3(t.theme);hE(e),t.resolvedTheme=e}}}));typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",t=>{if(io.getState().theme==="system"){const r=t.matches?"dark":"light";hE(r),io.setState({resolvedTheme:r})}});function Ype(){const t=io(l=>l.wsStatus),e=io(l=>l.wsRetryCount),r=io(l=>l.wsError),n=t==="connected",a=t==="connecting";let i="Offline",o="WebSocket disconnected",s="bg-red-500";return n?(i="Live",o="WebSocket connected  receiving live updates",s="bg-green-500"):a?(i="Connecting",o=e>0?`Reconnecting (attempt ${e})...`:"Connecting to WebSocket...",s="bg-yellow-500 animate-pulse"):r&&(o=`WebSocket error: ${r}`),x.jsx(VT,{children:x.jsxs(FT,{children:[x.jsx(HT,{asChild:!0,children:x.jsxs("div",{className:dt("flex items-center gap-1.5 text-xs px-2 py-1 rounded-full border",n?"text-green-700 border-green-200 dark:text-green-400 dark:border-green-700/50":a?"text-yellow-700 border-yellow-200 dark:text-yellow-400 dark:border-yellow-700/50":"text-red-700 border-red-200 dark:text-red-400 dark:border-red-700/50"),children:[x.jsx("span",{className:dt("w-2 h-2 rounded-full",s)}),x.jsx("span",{className:"hidden sm:inline",children:i})]})}),x.jsx(GT,{side:"bottom",children:x.jsx("p",{children:o})})]})})}function Zpe({...t}){return x.jsx(ede,{"data-slot":"dropdown-menu",...t})}function qpe({...t}){return x.jsx(tde,{"data-slot":"dropdown-menu-trigger",...t})}function $pe({className:t,sideOffset:e=4,...r}){return x.jsx(rde,{children:x.jsx(nde,{"data-slot":"dropdown-menu-content",sideOffset:e,className:dt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...r})})}function e2({className:t,inset:e,variant:r="default",...n}){return x.jsx(ade,{"data-slot":"dropdown-menu-item","data-inset":e,"data-variant":r,className:dt("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n})}function Xpe(){const{theme:t,setTheme:e,resolvedTheme:r}=io();return x.jsxs(Zpe,{children:[x.jsx(qpe,{asChild:!0,children:x.jsxs(Ze,{variant:"ghost",size:"icon",className:"h-8 w-8",children:[r==="dark"?x.jsx(M5,{className:"h-4 w-4"}):x.jsx(D5,{className:"h-4 w-4"}),x.jsxs("span",{className:"sr-only",children:["Toggle theme (",t,")"]})]})}),x.jsxs($pe,{align:"end",children:[x.jsxs(e2,{onClick:()=>e("light"),children:[x.jsx(D5,{className:"mr-2 h-4 w-4"}),"Light"]}),x.jsxs(e2,{onClick:()=>e("dark"),children:[x.jsx(M5,{className:"mr-2 h-4 w-4"}),"Dark"]}),x.jsxs(e2,{onClick:()=>e("system"),children:[x.jsx(K7,{className:"mr-2 h-4 w-4"}),"System"]})]})]})}function Kpe(){const{user:t,logout:e}=El();return x.jsxs("header",{className:"flex h-14 items-center gap-4 border-b border-border px-4 bg-card",children:[x.jsx(Epe,{className:"-ml-1"}),x.jsx(vpe,{orientation:"vertical",className:"h-6"}),x.jsx("div",{className:"flex-1"}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(Ype,{}),x.jsx(Xpe,{})]}),t?.tenantId&&x.jsx(yi,{variant:"secondary",className:"font-mono text-xs",children:t.tenantId}),t?.email&&x.jsx("span",{className:"text-sm text-muted-foreground hidden sm:inline",children:t.email}),x.jsx(Ze,{variant:"ghost",size:"sm",onClick:e,title:"Logout",children:x.jsx(Pse,{className:"h-4 w-4"})})]})}class Qpe{listeners=new Map;on(e,r){return this.listeners.has(e)||this.listeners.set(e,new Set),this.listeners.get(e).add(r),()=>{const n=this.listeners.get(e);n&&(n.delete(r),n.size===0&&this.listeners.delete(e))}}emit(e,r){const n=this.listeners.get(e);n&&n.forEach(a=>{try{a(r)}catch(i){console.error(`MessageBus handler error on topic "${e}":`,i)}})}clear(){this.listeners.clear()}listenerCount(e){return this.listeners.get(e)?.size||0}}const ro=new Qpe,Jpe=3e4,ege=1e3,tge=20;class rge{ws=null;retryCount=0;retryTimer=null;intentionalClose=!1;subscriptions=[];connect(){if(this.ws?.readyState===WebSocket.OPEN||this.ws?.readyState===WebSocket.CONNECTING)return;const e=La.token;if(!e){console.warn("WebSocketManager: No token available, skipping connect"),ro.emit("connection",{status:"error",message:"No auth token"});return}this.intentionalClose=!1,ro.emit("connection",{status:"connecting"});const n=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/api/v2/ws?token=${encodeURIComponent(e)}`;try{this.ws=new WebSocket(n)}catch(a){console.error("WebSocketManager: Failed to create WebSocket",a),ro.emit("connection",{status:"error",message:"Connection failed"}),this.scheduleReconnect();return}this.ws.onopen=()=>{this.retryCount=0,ro.emit("connection",{status:"connected"});for(const a of this.subscriptions)this.send(a)},this.ws.onmessage=a=>{try{const i=JSON.parse(a.data);this.handleMessage(i)}catch(i){console.error("WebSocketManager: Failed to parse message",i)}},this.ws.onclose=a=>{this.ws=null,ro.emit("connection",{status:"disconnected",code:a.code,reason:a.reason}),this.intentionalClose||this.scheduleReconnect()},this.ws.onerror=()=>{ro.emit("connection",{status:"error",message:"WebSocket error"})}}disconnect(){this.intentionalClose=!0,this.retryTimer&&(clearTimeout(this.retryTimer),this.retryTimer=null),this.ws&&(this.ws.close(1e3,"Client disconnect"),this.ws=null),this.retryCount=0,ro.emit("connection",{status:"disconnected"})}subscribe(e,r){const n={action:"subscribe",type:e};e==="device"&&r&&(n.device_id=r),this.subscriptions.some(i=>i.type===e&&i.device_id===r)||this.subscriptions.push(n),this.send(n)}unsubscribe(e,r){const n={action:"unsubscribe",type:e};e==="device"&&r&&(n.device_id=r),this.subscriptions=this.subscriptions.filter(a=>!(a.type===e&&a.device_id===r)),this.send(n)}get isConnected(){return this.ws?.readyState===WebSocket.OPEN}send(e){this.ws?.readyState===WebSocket.OPEN&&this.ws.send(JSON.stringify(e))}handleMessage(e){switch(e.type){case"alerts":ro.emit("alerts",e.alerts);break;case"telemetry":ro.emit(`telemetry:${e.device_id}`,e.data);break;case"subscribed":case"unsubscribed":break;case"error":console.warn("WebSocket server error:",e.message),ro.emit("error",e.message);break;default:console.warn("Unknown WebSocket message type:",e)}}scheduleReconnect(){if(this.retryCount>=tge){console.warn("WebSocketManager: Max retries reached, giving up"),ro.emit("connection",{status:"error",message:"Max reconnection attempts reached"});return}const e=Math.min(ege*Math.pow(2,this.retryCount),Jpe);this.retryCount++,ro.emit("connection",{status:"disconnected",retryIn:e,retryCount:this.retryCount}),this.retryTimer=setTimeout(()=>{this.retryTimer=null,this.connect()},e)}}const Z0=new rge,q0=pZ(t=>({liveAlerts:[],lastWsUpdate:0,hasWsData:!1,setLiveAlerts:e=>t({liveAlerts:e,lastWsUpdate:Date.now(),hasWsData:!0}),clearLiveAlerts:()=>t({liveAlerts:[],lastWsUpdate:0,hasWsData:!1})}));function nge(){const t=q0(o=>o.setLiveAlerts),e=q0(o=>o.clearLiveAlerts),r=io(o=>o.setWsStatus),n=io(o=>o.setWsRetryCount),a=io(o=>o.setWsError),i=O.useRef({setLiveAlerts:t,clearLiveAlerts:e,setWsStatus:r,setWsRetryCount:n,setWsError:a});i.current={setLiveAlerts:t,clearLiveAlerts:e,setWsStatus:r,setWsRetryCount:n,setWsError:a},O.useEffect(()=>{const o=ro.on("alerts",u=>{i.current.setLiveAlerts(u)}),s=ro.on("connection",u=>{const c=u,d={connecting:"connecting",connected:"connected",disconnected:"disconnected",error:"error"}[c.status]||"disconnected";i.current.setWsStatus(d),c.retryCount!==void 0&&i.current.setWsRetryCount(c.retryCount),c.message&&i.current.setWsError(c.message),(d==="disconnected"||d==="error")&&i.current.clearLiveAlerts()}),l=ro.on("error",u=>{i.current.setWsError(u)});return Z0.connect(),Z0.subscribe("alerts"),()=>{o(),s(),l(),Z0.disconnect()}},[])}class Po extends Error{status;body;constructor(e,r,n){super(r),this.name="ApiError",this.status=e,this.body=n}}async function f_(){if(La.authenticated)try{await La.updateToken(30)}catch{throw La.login(),new Po(401,"Token expired")}const t={"Content-Type":"application/json"};return La.token&&(t.Authorization=`Bearer ${La.token}`),t}async function Yr(t){const e=await f_(),r=await fetch(t,{headers:e});if(!r.ok){let n;try{n=await r.json()}catch{n=await r.text()}throw new Po(r.status,`API error: ${r.status}`,n)}return r.json()}async function Vs(t,e){const r=await f_(),n=await fetch(t,{method:"POST",headers:r,body:JSON.stringify(e)});if(!n.ok){let a;try{a=await n.json()}catch{a=await n.text()}throw new Po(n.status,`API error: ${n.status}`,a)}return n.json()}async function age(t,e){const r=await f_(),n=await fetch(t,{method:"PUT",headers:r,body:JSON.stringify(e)});if(!n.ok){let a;try{a=await n.json()}catch{a=await n.text()}throw new Po(n.status,`API error: ${n.status}`,a)}return n.json()}async function Df(t,e){const r=await f_(),n=await fetch(t,{method:"PATCH",headers:r,body:JSON.stringify(e)});if(!n.ok){let a;try{a=await n.json()}catch{a=await n.text()}throw new Po(n.status,`API error: ${n.status}`,a)}return n.json()}async function ld(t){const e=await f_(),r=await fetch(t,{method:"DELETE",headers:e});if(!r.ok){let n;try{n=await r.json()}catch{n=await r.text()}throw new Po(r.status,`API error: ${r.status}`,n)}}async function ige(){return Yr("/customer/subscription")}function oge(){const{isOperator:t,isCustomer:e}=El(),{data:r}=Xr({queryKey:["subscription-status"],queryFn:ige,enabled:e,refetchInterval:300*1e3,staleTime:60*1e3});if(t||!e||!r)return null;const{status:n,days_until_expiry:a,grace_end:i,tenant_id:o}=r;if(n==="SUSPENDED"||n==="EXPIRED")return x.jsxs("div",{className:"flex items-center justify-between gap-4 border-b border-destructive/40 bg-destructive/10 px-6 py-3 text-destructive",children:[x.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[x.jsx($7,{className:"h-4 w-4"}),x.jsxs("span",{children:["Subscription ",n.toLowerCase(),". Contact support to restore access."]})]}),x.jsx(Ze,{variant:"outline",size:"sm",onClick:()=>{window.location.href=`mailto:support@opsconductor.com?subject=${encodeURIComponent(`Subscription Support - ${o}`)}&body=${encodeURIComponent(`Tenant ID: ${o}
Status: ${n}

Please describe your issue:
`)}`},children:"Contact Support"})]});if(n==="GRACE"){const s=i?new Date(i).toLocaleDateString():"soon";return x.jsxs("div",{className:"flex items-center justify-between gap-4 border-b border-orange-500/40 bg-orange-50 px-6 py-3 text-orange-800 dark:bg-orange-950/20 dark:text-orange-200",children:[x.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[x.jsx(vse,{className:"h-4 w-4 text-orange-600"}),x.jsxs("span",{children:["Grace period active. Renew by ",s," to avoid suspension."]})]}),x.jsx(Ze,{variant:"outline",size:"sm",className:"border-orange-500 text-orange-700 hover:bg-orange-100",onClick:()=>{window.location.href=`mailto:sales@opsconductor.com?subject=${encodeURIComponent(`Subscription Renewal - ${o}`)}&body=${encodeURIComponent(`Tenant ID: ${o}
Current Status: ${n}
Grace Period Ends: ${i||"N/A"}

I would like to renew my subscription.
`)}`},children:"Renew Now"})]})}return n==="ACTIVE"&&a!==null&&a<=30?x.jsxs("div",{className:"flex items-center justify-between gap-4 border-b border-yellow-500/40 bg-yellow-50 px-6 py-3 text-yellow-800 dark:bg-yellow-950/20 dark:text-yellow-200",children:[x.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[x.jsx(su,{className:"h-4 w-4 text-yellow-600"}),x.jsxs("span",{children:["Your subscription expires in ",a," day",a!==1?"s":"",". Renew to avoid service interruption."]})]}),x.jsx(Ze,{variant:"outline",size:"sm",className:"border-yellow-500 text-yellow-700 hover:bg-yellow-100",onClick:()=>{window.location.href=`mailto:sales@opsconductor.com?subject=${encodeURIComponent(`Subscription Renewal - ${o}`)}&body=${encodeURIComponent(`Tenant ID: ${o}
Days Until Expiry: ${a}

I would like to renew my subscription.
`)}`},children:"Renew Now"})]}):null}function sge(){return nge(),x.jsx(Dpe,{children:x.jsxs("div",{className:"flex min-h-screen w-full",children:[x.jsx(zpe,{}),x.jsxs("div",{className:"flex flex-1 flex-col",children:[x.jsx(Kpe,{}),x.jsx(oge,{}),x.jsx("main",{className:"flex-1 p-6 overflow-auto",children:x.jsx(A7,{})})]})]})})}const lge={ONLINE:"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-400 dark:border-green-700",STALE:"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-400 dark:border-orange-700",OFFLINE:"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-400 dark:border-red-700",REVOKED:"bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-900/30 dark:text-gray-400 dark:border-gray-700"};function FP({status:t,className:e}){return x.jsx(yi,{variant:"outline",className:dt(lge[t]||"text-muted-foreground",e),children:t})}function UT({severity:t,className:e}){let r="text-muted-foreground",n=String(t);return t>=5?(r="bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-400 dark:border-red-700",n=`${t} Critical`):t>=3?(r="bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-400 dark:border-orange-700",n=`${t} Warning`):(r="bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-400 dark:border-blue-700",n=`${t} Info`),x.jsx(yi,{variant:"outline",className:dt(r,e),children:n})}function Ml({title:t,description:e,icon:r,action:n}){return x.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[r&&x.jsx("div",{className:"mb-4 text-muted-foreground",children:r}),x.jsx("h3",{className:"text-lg font-medium text-foreground",children:t}),e&&x.jsx("p",{className:"mt-2 text-sm text-muted-foreground max-w-md",children:e}),n&&x.jsx("div",{className:"mt-4",children:n})]})}function ei({title:t,description:e,action:r}){return x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl font-bold",children:t}),e&&x.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:e})]}),r&&x.jsx("div",{children:r})]})}function Gr({className:t,...e}){return x.jsx("div",{"data-slot":"card",className:dt("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...e})}function Ur({className:t,...e}){return x.jsx("div",{"data-slot":"card-header",className:dt("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function pn({className:t,...e}){return x.jsx("div",{"data-slot":"card-title",className:dt("leading-none font-semibold",t),...e})}function Wr({className:t,...e}){return x.jsx("div",{"data-slot":"card-content",className:dt("px-6",t),...e})}function Xh({className:t,...e}){return x.jsx("div",{"data-slot":"card-footer",className:dt("flex items-center px-6 [.border-t]:pt-6",t),...e})}class qu extends O.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){console.error(`Widget "${this.props.widgetName||"unknown"}" crashed:`,e,r.componentStack)}render(){return this.state.hasError?x.jsxs(Gr,{className:"border-destructive/50",children:[x.jsx(Ur,{className:"pb-2",children:x.jsxs(pn,{className:"text-sm text-destructive flex items-center gap-2",children:[x.jsx(su,{className:"h-4 w-4"}),this.props.widgetName||"Widget"," Error"]})}),x.jsxs(Wr,{children:[x.jsx("p",{className:"text-xs text-muted-foreground",children:"This widget encountered an error and could not render."}),x.jsx("button",{onClick:()=>this.setState({hasError:!1,error:null}),className:"mt-2 text-xs text-primary hover:underline",children:"Try again"})]})]}):this.props.children}}async function uge(t=100,e=0){return Yr(`/api/v2/devices?limit=${t}&offset=${e}`)}async function cge(t){return Yr(`/api/v2/devices/${encodeURIComponent(t)}`)}async function mZ(){return Yr("/api/v2/fleet/summary")}async function t2(t,e){return Df(`/customer/devices/${encodeURIComponent(t)}`,e)}async function fge(t){return Yr(`/customer/devices/${encodeURIComponent(t)}/tags`)}async function hge(t,e){return age(`/customer/devices/${encodeURIComponent(t)}/tags`,{tags:e})}async function dge(){return Yr("/customer/tags")}async function vge(t){return Yr(`/customer/geocode?address=${encodeURIComponent(t)}`)}function Fb({title:t,value:e,icon:r,loading:n,className:a}){return x.jsxs(Gr,{children:[x.jsxs(Ur,{className:"flex flex-row items-center justify-between pb-2",children:[x.jsx(pn,{className:"text-sm font-medium text-muted-foreground",children:t}),x.jsx(r,{className:`h-4 w-4 ${a||"text-muted-foreground"}`})]}),x.jsx(Wr,{children:n?x.jsx(wr,{className:"h-8 w-16"}):x.jsx("div",{className:"text-3xl font-bold",children:e})})]})}function pge(){const{data:t,isLoading:e}=Xr({queryKey:["fleet-summary"],queryFn:mZ,refetchInterval:1e4}),r=t?.total_devices??0,n=t?.online??0,a=t?.stale??0,i=t?.alerts_open??0;return x.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[x.jsx(Fb,{title:"Total Devices",value:r,icon:t_,loading:e}),x.jsx(Fb,{title:"Online",value:n,icon:r_,loading:e,className:"text-green-700 dark:text-green-400"}),x.jsx(Fb,{title:"Stale",value:a,icon:su,loading:e,className:"text-orange-700 dark:text-orange-400"}),x.jsx(Fb,{title:"Open Alerts",value:i,icon:Am,loading:e,className:"text-red-700 dark:text-red-400"})]})}const gge=O.memo(pge);async function mge(t="OPEN",e=100,r=0,n){let a=`/api/v2/alerts?status=${t}&limit=${e}&offset=${r}`;return Yr(a)}async function yge(t=24){return Yr(`/api/v2/alerts/trend?hours=${t}`)}function yZ(t="OPEN",e=100,r=0,n){return Xr({queryKey:["alerts",t,e,r,n],queryFn:()=>mge(t,e,r)})}function xge(){const t=q0(u=>u.hasWsData),e=q0(u=>u.liveAlerts),r=q0(u=>u.lastWsUpdate),n=io(u=>u.wsStatus),{data:a,isLoading:i}=yZ("OPEN",50,0),o=t?e:a?.alerts||[],s=!t&&i,l=r?`${Math.round((Date.now()-r)/1e3)}s ago`:null;return x.jsxs(Gr,{children:[x.jsxs(Ur,{className:"flex flex-row items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(pn,{className:"text-lg",children:"Open Alerts"}),n==="connected"&&x.jsx(yi,{variant:"outline",className:"text-[10px] text-green-700 border-green-200 dark:text-green-400 dark:border-green-700/50",children:"LIVE"})]}),x.jsx("div",{className:"text-xs text-muted-foreground",children:l&&`Updated ${l}`})]}),x.jsx(Wr,{children:s?x.jsx("div",{className:"space-y-2",children:[1,2,3,4,5].map(u=>x.jsx(wr,{className:"h-8 w-full"},u))}):o.length===0?x.jsxs("div",{className:"flex flex-col items-center py-8 text-center",children:[x.jsx(Am,{className:"h-8 w-8 text-muted-foreground mb-2"}),x.jsx("p",{className:"text-sm text-muted-foreground",children:"No open alerts"})]}):x.jsxs("div",{className:"space-y-1",children:[o.slice(0,20).map(u=>x.jsxs("div",{className:"flex items-center gap-3 py-2 px-2 rounded-md hover:bg-accent/50 transition-colors text-sm",children:[x.jsx(UT,{severity:u.severity,className:"shrink-0"}),x.jsx(Ui,{to:`/devices/${u.device_id}`,className:"font-mono text-xs text-primary hover:underline shrink-0",children:u.device_id}),x.jsx("span",{className:"truncate flex-1",children:u.summary}),x.jsx("span",{className:"text-xs text-muted-foreground shrink-0 hidden md:inline",children:u.alert_type})]},u.alert_id)),o.length>20&&x.jsx("div",{className:"pt-2 text-center",children:x.jsxs(Ui,{to:"/alerts",className:"text-xs text-primary hover:underline",children:["View all ",o.length," alerts"]})})]})})]})}const _ge=O.memo(xge);function Os({className:t,...e}){return x.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:x.jsx("table",{"data-slot":"table",className:dt("w-full caption-bottom text-sm",t),...e})})}function js({className:t,...e}){return x.jsx("thead",{"data-slot":"table-header",className:dt("[&_tr]:border-b",t),...e})}function zs({className:t,...e}){return x.jsx("tbody",{"data-slot":"table-body",className:dt("[&_tr:last-child]:border-0",t),...e})}function jn({className:t,...e}){return x.jsx("tr",{"data-slot":"table-row",className:dt("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...e})}function Ct({className:t,...e}){return x.jsx("th",{"data-slot":"table-head",className:dt("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e})}function bt({className:t,...e}){return x.jsx("td",{"data-slot":"table-cell",className:dt("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e})}function HP(t=100,e=0){return Xr({queryKey:["devices",t,e],queryFn:()=>uge(t,e)})}function bge(t){return Xr({queryKey:["device",t],queryFn:()=>cge(t),enabled:!!t})}function Sge(){const{data:t,isLoading:e}=HP(10,0),r=t?.devices||[],n=t?.count||0;return x.jsxs(Gr,{children:[x.jsxs(Ur,{className:"flex flex-row items-center justify-between",children:[x.jsx(pn,{className:"text-lg",children:"Devices"}),n>10&&x.jsxs(Ui,{to:"/devices",className:"text-xs text-primary hover:underline",children:["View all ",n]})]}),x.jsx(Wr,{children:e?x.jsx("div",{className:"space-y-2",children:[1,2,3,4,5].map(a=>x.jsx(wr,{className:"h-10 w-full"},a))}):r.length===0?x.jsx("p",{className:"text-sm text-muted-foreground py-4 text-center",children:"No devices found."}):x.jsx("div",{className:"rounded-md border border-border",children:x.jsxs(Os,{children:[x.jsx(js,{children:x.jsxs(jn,{children:[x.jsx(Ct,{children:"Device"}),x.jsx(Ct,{children:"Site"}),x.jsx(Ct,{children:"Status"}),x.jsx(Ct,{className:"text-right",children:"Battery"})]})}),x.jsx(zs,{children:r.map(a=>x.jsxs(jn,{children:[x.jsx(bt,{children:x.jsx(Ui,{to:`/devices/${a.device_id}`,className:"font-mono text-xs text-primary hover:underline",children:a.device_id})}),x.jsx(bt,{className:"text-sm",children:a.site_id}),x.jsx(bt,{children:x.jsx(FP,{status:a.status})}),x.jsx(bt,{className:"text-right text-sm",children:a.state?.battery_pct!=null?`${a.state.battery_pct}%`:""})]},a.device_id))})]})})})]})}const wge=O.memo(Sge);function Tge(){const{data:t,isLoading:e}=Xr({queryKey:["fleet-summary"],queryFn:mZ,refetchInterval:1e4});if(e||!t)return x.jsxs(Gr,{children:[x.jsx(Ur,{children:x.jsxs(pn,{className:"flex items-center gap-2 text-base",children:[x.jsx(rm,{className:"h-4 w-4"}),"Fleet Health"]})}),x.jsx(Wr,{children:x.jsxs("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-4",children:[x.jsx(wr,{className:"h-[120px]"}),x.jsx(wr,{className:"h-[120px]"}),x.jsx(wr,{className:"h-[120px]"}),x.jsx(wr,{className:"h-[120px]"})]})})]});const r=t.total_devices>0?Math.round(t.online/t.total_devices*100):0;return x.jsxs(Gr,{children:[x.jsx(Ur,{className:"pb-2",children:x.jsxs(pn,{className:"flex items-center gap-2 text-base",children:[x.jsx(rm,{className:"h-4 w-4"}),"Fleet Health"]})}),x.jsx(Wr,{children:x.jsxs("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-4",children:[x.jsx(Hb,{icon:r_,label:"Online",value:`${t.online}/${t.total_devices}`,subtext:`${r}%`,status:r>=95?"success":r>=80?"warning":"error"}),x.jsx(Ui,{to:"/alerts?status=open",className:"block",children:x.jsx(Hb,{icon:su,label:"Open Alerts",value:t.alerts_open.toString(),subtext:t.alerts_new_1h>0?` ${t.alerts_new_1h} new/1h`:"",status:t.alerts_open>0?"error":"success"})}),x.jsx(Hb,{icon:nse,label:"Low Battery",value:t.low_battery_count.toString(),subtext:`< ${t.low_battery_threshold}%`,status:t.low_battery_count>0?"warning":"success",tooltip:t.low_battery_devices.length>0?t.low_battery_devices.join(", "):void 0}),x.jsx(Ui,{to:"/devices?state=stale",className:"block",children:x.jsx(Hb,{icon:eP,label:"Stale",value:t.stale.toString(),subtext:"> 5 min",status:t.stale>0?"warning":"success"})})]})})]})}function Hb({icon:t,label:e,value:r,subtext:n,status:a,tooltip:i}){const o={success:"text-green-600 dark:text-green-400",warning:"text-yellow-600 dark:text-yellow-400",error:"text-red-600 dark:text-red-400"},s={success:"bg-green-50 dark:bg-green-950",warning:"bg-yellow-50 dark:bg-yellow-950",error:"bg-red-50 dark:bg-red-950"};return x.jsxs("div",{className:`rounded-lg p-3 transition hover:opacity-80 ${s[a]}`,title:i,children:[x.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[x.jsx(t,{className:`h-4 w-4 ${o[a]}`}),x.jsx("span",{className:"text-xs text-muted-foreground",children:e})]}),x.jsx("div",{className:`text-2xl font-bold ${o[a]}`,children:r}),x.jsx("div",{className:"text-xs text-muted-foreground",children:n})]})}const Cge=O.memo(Tge),Mge=!0,_i="u-",Age="uplot",Dge=_i+"hz",Lge=_i+"vt",Ege=_i+"title",Nge=_i+"wrap",Rge=_i+"under",Pge=_i+"over",kge=_i+"axis",yv=_i+"off",Ige=_i+"select",Oge=_i+"cursor-x",jge=_i+"cursor-y",zge=_i+"cursor-pt",Bge=_i+"legend",Vge=_i+"live",Fge=_i+"inline",Hge=_i+"series",Gge=_i+"marker",f3=_i+"label",Uge=_i+"value",L0="width",E0="height",Gy="top",h3="bottom",rg="left",r2="right",GP="#000",d3=GP+"0",n2="mousemove",v3="mousedown",a2="mouseup",p3="mouseenter",g3="mouseleave",m3="dblclick",Wge="resize",Yge="scroll",y3="change",QS="dppxchange",UP="--",km=typeof window<"u",dE=km?document:null,$g=km?window:null,Zge=km?navigator:null;let vn,Gb;function vE(){let t=devicePixelRatio;vn!=t&&(vn=t,Gb&&gE(y3,Gb,vE),Gb=matchMedia(`(min-resolution: ${vn-.001}dppx) and (max-resolution: ${vn+.001}dppx)`),Rv(y3,Gb,vE),$g.dispatchEvent(new CustomEvent(QS)))}function Ts(t,e){if(e!=null){let r=t.classList;!r.contains(e)&&r.add(e)}}function pE(t,e){let r=t.classList;r.contains(e)&&r.remove(e)}function Jn(t,e,r){t.style[e]=r+"px"}function ql(t,e,r,n){let a=dE.createElement(t);return e!=null&&Ts(a,e),r?.insertBefore(a,n),a}function al(t,e){return ql("div",t,e)}const x3=new WeakMap;function ju(t,e,r,n,a){let i="translate("+e+"px,"+r+"px)",o=x3.get(t);i!=o&&(t.style.transform=i,x3.set(t,i),e<0||r<0||e>n||r>a?Ts(t,yv):pE(t,yv))}const _3=new WeakMap;function b3(t,e,r){let n=e+r,a=_3.get(t);n!=a&&(_3.set(t,n),t.style.background=e,t.style.borderColor=r)}const S3=new WeakMap;function w3(t,e,r,n){let a=e+""+r,i=S3.get(t);a!=i&&(S3.set(t,a),t.style.height=r+"px",t.style.width=e+"px",t.style.marginLeft=n?-e/2+"px":0,t.style.marginTop=n?-r/2+"px":0)}const WP={passive:!0},qge={...WP,capture:!0};function Rv(t,e,r,n){e.addEventListener(t,r,n?qge:WP)}function gE(t,e,r,n){e.removeEventListener(t,r,WP)}km&&vE();function eu(t,e,r,n){let a;r=r||0,n=n||e.length-1;let i=n<=2147483647;for(;n-r>1;)a=i?r+n>>1:Ps((r+n)/2),e[a]<t?r=a:n=a;return t-e[r]<=e[n]-t?r:n}function xZ(t){return(r,n,a)=>{let i=-1,o=-1;for(let s=n;s<=a;s++)if(t(r[s])){i=s;break}for(let s=a;s>=n;s--)if(t(r[s])){o=s;break}return[i,o]}}const _Z=t=>t!=null,bZ=t=>t!=null&&t>0,WT=xZ(_Z),$ge=xZ(bZ);function Xge(t,e,r,n=0,a=!1){let i=a?$ge:WT,o=a?bZ:_Z;[e,r]=i(t,e,r);let s=t[e],l=t[e];if(e>-1)if(n==1)s=t[e],l=t[r];else if(n==-1)s=t[r],l=t[e];else for(let u=e;u<=r;u++){let c=t[u];o(c)&&(c<s?s=c:c>l&&(l=c))}return[s??Gn,l??-Gn]}function YT(t,e,r,n){let a=M3(t),i=M3(e);t==e&&(a==-1?(t*=r,e/=r):(t/=r,e*=r));let o=r==10?lf:SZ,s=a==1?Ps:hl,l=i==1?hl:Ps,u=s(o(di(t))),c=l(o(di(e))),f=im(r,u),d=im(r,c);return r==10&&(u<0&&(f=Un(f,-u)),c<0&&(d=Un(d,-c))),n||r==2?(t=f*a,e=d*i):(t=MZ(t,f),e=ZT(e,d)),[t,e]}function YP(t,e,r,n){let a=YT(t,e,r,n);return t==0&&(a[0]=0),e==0&&(a[1]=0),a}const ZP=.1,T3={mode:3,pad:ZP},$0={pad:0,soft:null,mode:0},Kge={min:$0,max:$0};function JS(t,e,r,n){return qT(r)?C3(t,e,r):($0.pad=r,$0.soft=n?0:null,$0.mode=n?3:0,C3(t,e,Kge))}function un(t,e){return t??e}function Qge(t,e,r){for(e=un(e,0),r=un(r,t.length-1);e<=r;){if(t[e]!=null)return!0;e++}return!1}function C3(t,e,r){let n=r.min,a=r.max,i=un(n.pad,0),o=un(a.pad,0),s=un(n.hard,-Gn),l=un(a.hard,Gn),u=un(n.soft,Gn),c=un(a.soft,-Gn),f=un(n.mode,0),d=un(a.mode,0),v=e-t,g=lf(v),y=Do(di(t),di(e)),b=lf(y),S=di(b-g);(v<1e-24||S>10)&&(v=0,(t==0||e==0)&&(v=1e-24,f==2&&u!=Gn&&(i=0),d==2&&c!=-Gn&&(o=0)));let w=v||y||1e3,M=lf(w),A=im(10,Ps(M)),D=w*(v==0?t==0?.1:1:i),R=Un(MZ(t-D,A/10),24),N=t>=u&&(f==1||f==3&&R<=u||f==2&&R>=u)?u:Gn,I=Do(s,R<N&&t>=N?N:tu(N,R)),z=w*(v==0?e==0?.1:1:o),B=Un(ZT(e+z,A/10),24),V=e<=c&&(d==1||d==3&&B>=c||d==2&&B<=c)?c:-Gn,G=tu(l,B>V&&e<=V?V:Do(V,B));return I==G&&I==0&&(G=100),[I,G]}const Jge=new Intl.NumberFormat(km?Zge.language:"en-US"),qP=t=>Jge.format(t),Fs=Math,pS=Fs.PI,di=Fs.abs,Ps=Fs.floor,hi=Fs.round,hl=Fs.ceil,tu=Fs.min,Do=Fs.max,im=Fs.pow,M3=Fs.sign,lf=Fs.log10,SZ=Fs.log2,eme=(t,e=1)=>Fs.sinh(t)*e,i2=(t,e=1)=>Fs.asinh(t/e),Gn=1/0;function A3(t){return(lf((t^t>>31)-(t>>31))|0)+1}function mE(t,e,r){return tu(Do(t,e),r)}function wZ(t){return typeof t=="function"}function Br(t){return wZ(t)?t:()=>t}const tme=()=>{},TZ=t=>t,CZ=(t,e)=>e,rme=t=>null,D3=t=>!0,L3=(t,e)=>t==e,nme=/\.\d*?(?=9{6,}|0{6,})/gm,$v=t=>{if(DZ(t)||Kh.has(t))return t;const e=`${t}`,r=e.match(nme);if(r==null)return t;let n=r[0].length-1;if(e.indexOf("e-")!=-1){let[a,i]=e.split("e");return+`${$v(a)}e${i}`}return Un(t,n)};function uv(t,e){return $v(Un($v(t/e))*e)}function ZT(t,e){return $v(hl($v(t/e))*e)}function MZ(t,e){return $v(Ps($v(t/e))*e)}function Un(t,e=0){if(DZ(t))return t;let r=10**e,n=t*r*(1+Number.EPSILON);return hi(n)/r}const Kh=new Map;function AZ(t){return((""+t).split(".")[1]||"").length}function yx(t,e,r,n){let a=[],i=n.map(AZ);for(let o=e;o<r;o++){let s=di(o),l=Un(im(t,o),s);for(let u=0;u<n.length;u++){let c=t==10?+`${n[u]}e${o}`:n[u]*l,f=(o>=0?0:s)+(o>=i[u]?0:i[u]),d=t==10?c:Un(c,f);a.push(d),Kh.set(d,f)}}return a}const X0={},$P=[],om=[null,null],Th=Array.isArray,DZ=Number.isInteger,ame=t=>t===void 0;function E3(t){return typeof t=="string"}function qT(t){let e=!1;if(t!=null){let r=t.constructor;e=r==null||r==Object}return e}function ime(t){return t!=null&&typeof t=="object"}const ome=Object.getPrototypeOf(Uint8Array),LZ="__proto__";function sm(t,e=qT){let r;if(Th(t)){let n=t.find(a=>a!=null);if(Th(n)||e(n)){r=Array(t.length);for(let a=0;a<t.length;a++)r[a]=sm(t[a],e)}else r=t.slice()}else if(t instanceof ome)r=t.slice();else if(e(t)){r={};for(let n in t)n!=LZ&&(r[n]=sm(t[n],e))}else r=t;return r}function Qa(t){let e=arguments;for(let r=1;r<e.length;r++){let n=e[r];for(let a in n)a!=LZ&&(qT(t[a])?Qa(t[a],sm(n[a])):t[a]=sm(n[a]))}return t}const sme=0,lme=1,ume=2;function cme(t,e,r){for(let n=0,a,i=-1;n<e.length;n++){let o=e[n];if(o>i){for(a=o-1;a>=0&&t[a]==null;)t[a--]=null;for(a=o+1;a<r&&t[a]==null;)t[i=a++]=null}}}function fme(t,e){if(vme(t)){let o=t[0].slice();for(let s=1;s<t.length;s++)o.push(...t[s].slice(1));return pme(o[0])||(o=dme(o)),o}let r=new Set;for(let o=0;o<t.length;o++){let l=t[o][0],u=l.length;for(let c=0;c<u;c++)r.add(l[c])}let n=[Array.from(r).sort((o,s)=>o-s)],a=n[0].length,i=new Map;for(let o=0;o<a;o++)i.set(n[0][o],o);for(let o=0;o<t.length;o++){let s=t[o],l=s[0];for(let u=1;u<s.length;u++){let c=s[u],f=Array(a).fill(void 0),d=e?e[o][u]:lme,v=[];for(let g=0;g<c.length;g++){let y=c[g],b=i.get(l[g]);y===null?d!=sme&&(f[b]=y,d==ume&&v.push(b)):f[b]=y}cme(f,v,a),n.push(f)}}return n}const hme=typeof queueMicrotask>"u"?t=>Promise.resolve().then(t):queueMicrotask;function dme(t){let e=t[0],r=e.length,n=Array(r);for(let i=0;i<n.length;i++)n[i]=i;n.sort((i,o)=>e[i]-e[o]);let a=[];for(let i=0;i<t.length;i++){let o=t[i],s=Array(r);for(let l=0;l<r;l++)s[l]=o[n[l]];a.push(s)}return a}function vme(t){let e=t[0][0],r=e.length;for(let n=1;n<t.length;n++){let a=t[n][0];if(a.length!=r)return!1;if(a!=e){for(let i=0;i<r;i++)if(a[i]!=e[i])return!1}}return!0}function pme(t,e=100){const r=t.length;if(r<=1)return!0;let n=0,a=r-1;for(;n<=a&&t[n]==null;)n++;for(;a>=n&&t[a]==null;)a--;if(a<=n)return!0;const i=Do(1,Ps((a-n+1)/e));for(let o=t[n],s=n+i;s<=a;s+=i){const l=t[s];if(l!=null){if(l<=o)return!1;o=l}}return!0}const EZ=["January","February","March","April","May","June","July","August","September","October","November","December"],NZ=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function RZ(t){return t.slice(0,3)}const gme=NZ.map(RZ),mme=EZ.map(RZ),yme={MMMM:EZ,MMM:mme,WWWW:NZ,WWW:gme};function Uy(t){return(t<10?"0":"")+t}function xme(t){return(t<10?"00":t<100?"0":"")+t}const _me={YYYY:t=>t.getFullYear(),YY:t=>(t.getFullYear()+"").slice(2),MMMM:(t,e)=>e.MMMM[t.getMonth()],MMM:(t,e)=>e.MMM[t.getMonth()],MM:t=>Uy(t.getMonth()+1),M:t=>t.getMonth()+1,DD:t=>Uy(t.getDate()),D:t=>t.getDate(),WWWW:(t,e)=>e.WWWW[t.getDay()],WWW:(t,e)=>e.WWW[t.getDay()],HH:t=>Uy(t.getHours()),H:t=>t.getHours(),h:t=>{let e=t.getHours();return e==0?12:e>12?e-12:e},AA:t=>t.getHours()>=12?"PM":"AM",aa:t=>t.getHours()>=12?"pm":"am",a:t=>t.getHours()>=12?"p":"a",mm:t=>Uy(t.getMinutes()),m:t=>t.getMinutes(),ss:t=>Uy(t.getSeconds()),s:t=>t.getSeconds(),fff:t=>xme(t.getMilliseconds())};function XP(t,e){e=e||yme;let r=[],n=/\{([a-z]+)\}|[^{]+/gi,a;for(;a=n.exec(t);)r.push(a[0][0]=="{"?_me[a[1]]:a[0]);return i=>{let o="";for(let s=0;s<r.length;s++)o+=typeof r[s]=="string"?r[s]:r[s](i,e);return o}}const bme=new Intl.DateTimeFormat().resolvedOptions().timeZone;function Sme(t,e){let r;return e=="UTC"||e=="Etc/UTC"?r=new Date(+t+t.getTimezoneOffset()*6e4):e==bme?r=t:(r=new Date(t.toLocaleString("en-US",{timeZone:e})),r.setMilliseconds(t.getMilliseconds())),r}const PZ=t=>t%1==0,ew=[1,2,2.5,5],wme=yx(10,-32,0,ew),kZ=yx(10,0,32,ew),Tme=kZ.filter(PZ),cv=wme.concat(kZ),KP=`
`,IZ="{YYYY}",N3=KP+IZ,OZ="{M}/{D}",N0=KP+OZ,Ub=N0+"/{YY}",jZ="{aa}",Cme="{h}:{mm}",Ng=Cme+jZ,R3=KP+Ng,P3=":{ss}",xn=null;function zZ(t){let e=t*1e3,r=e*60,n=r*60,a=n*24,i=a*30,o=a*365,l=(t==1?yx(10,0,3,ew).filter(PZ):yx(10,-3,0,ew)).concat([e,e*5,e*10,e*15,e*30,r,r*5,r*10,r*15,r*30,n,n*2,n*3,n*4,n*6,n*8,n*12,a,a*2,a*3,a*4,a*5,a*6,a*7,a*8,a*9,a*10,a*15,i,i*2,i*3,i*4,i*6,o,o*2,o*5,o*10,o*25,o*50,o*100]);const u=[[o,IZ,xn,xn,xn,xn,xn,xn,1],[a*28,"{MMM}",N3,xn,xn,xn,xn,xn,1],[a,OZ,N3,xn,xn,xn,xn,xn,1],[n,"{h}"+jZ,Ub,xn,N0,xn,xn,xn,1],[r,Ng,Ub,xn,N0,xn,xn,xn,1],[e,P3,Ub+" "+Ng,xn,N0+" "+Ng,xn,R3,xn,1],[t,P3+".{fff}",Ub+" "+Ng,xn,N0+" "+Ng,xn,R3,xn,1]];function c(f){return(d,v,g,y,b,S)=>{let w=[],M=b>=o,A=b>=i&&b<o,D=f(g),R=Un(D*t,3),N=o2(D.getFullYear(),M?0:D.getMonth(),A||M?1:D.getDate()),I=Un(N*t,3);if(A||M){let z=A?b/i:0,B=M?b/o:0,V=R==I?R:Un(o2(N.getFullYear()+B,N.getMonth()+z,1)*t,3),G=new Date(hi(V/t)),F=G.getFullYear(),q=G.getMonth();for(let Q=0;V<=y;Q++){let H=o2(F+B*Q,q+z*Q,1),X=H-f(Un(H*t,3));V=Un((+H+X)*t,3),V<=y&&w.push(V)}}else{let z=b>=a?a:b,B=Ps(g)-Ps(R),V=I+B+ZT(R-I,z);w.push(V);let G=f(V),F=G.getHours()+G.getMinutes()/r+G.getSeconds()/n,q=b/n,Q=d.axes[v]._space,H=S/Q;for(;V=Un(V+b,t==1?0:3),!(V>y);)if(q>1){let X=Ps(Un(F+q,6))%24,ee=f(V).getHours()-X;ee>1&&(ee=-1),V-=ee*n,F=(F+q)%24;let K=w[w.length-1];Un((V-K)/b,3)*H>=.7&&w.push(V)}else w.push(V)}return w}}return[l,u,c]}const[Mme,Ame,Dme]=zZ(1),[Lme,Eme,Nme]=zZ(.001);yx(2,-53,53,[1]);function k3(t,e){return t.map(r=>r.map((n,a)=>a==0||a==8||n==null?n:e(a==1||r[8]==0?n:r[1]+n)))}function I3(t,e){return(r,n,a,i,o)=>{let s=e.find(g=>o>=g[0])||e[e.length-1],l,u,c,f,d,v;return n.map(g=>{let y=t(g),b=y.getFullYear(),S=y.getMonth(),w=y.getDate(),M=y.getHours(),A=y.getMinutes(),D=y.getSeconds(),R=b!=l&&s[2]||S!=u&&s[3]||w!=c&&s[4]||M!=f&&s[5]||A!=d&&s[6]||D!=v&&s[7]||s[1];return l=b,u=S,c=w,f=M,d=A,v=D,R(y)})}}function Rme(t,e){let r=XP(e);return(n,a,i,o,s)=>a.map(l=>r(t(l)))}function o2(t,e,r){return new Date(t,e,r)}function O3(t,e){return e(t)}const Pme="{YYYY}-{MM}-{DD} {h}:{mm}{aa}";function j3(t,e){return(r,n,a,i)=>i==null?UP:e(t(n))}function kme(t,e){let r=t.series[e];return r.width?r.stroke(t,e):r.points.width?r.points.stroke(t,e):null}function Ime(t,e){return t.series[e].fill(t,e)}const Ome={show:!0,live:!0,isolate:!1,mount:tme,markers:{show:!0,width:2,stroke:kme,fill:Ime,dash:"solid"},idx:null,idxs:null,values:[]};function jme(t,e){let r=t.cursor.points,n=al(),a=r.size(t,e);Jn(n,L0,a),Jn(n,E0,a);let i=a/-2;Jn(n,"marginLeft",i),Jn(n,"marginTop",i);let o=r.width(t,e,a);return o&&Jn(n,"borderWidth",o),n}function zme(t,e){let r=t.series[e].points;return r._fill||r._stroke}function Bme(t,e){let r=t.series[e].points;return r._stroke||r._fill}function Vme(t,e){return t.series[e].points.size}const s2=[0,0];function Fme(t,e,r){return s2[0]=e,s2[1]=r,s2}function Wb(t,e,r,n=!0){return a=>{a.button==0&&(!n||a.target==e)&&r(a)}}function l2(t,e,r,n=!0){return a=>{(!n||a.target==e)&&r(a)}}const Hme={show:!0,x:!0,y:!0,lock:!1,move:Fme,points:{one:!1,show:jme,size:Vme,width:0,stroke:Bme,fill:zme},bind:{mousedown:Wb,mouseup:Wb,click:Wb,dblclick:Wb,mousemove:l2,mouseleave:l2,mouseenter:l2},drag:{setScale:!0,x:!0,y:!1,dist:0,uni:null,click:(t,e)=>{e.stopPropagation(),e.stopImmediatePropagation()},_x:!1,_y:!1},focus:{dist:(t,e,r,n,a)=>n-a,prox:-1,bias:0},hover:{skip:[void 0],prox:null,bias:0},left:-10,top:-10,idx:null,dataIdx:null,idxs:null,event:null},BZ={show:!0,stroke:"rgba(0,0,0,0.07)",width:2},QP=Qa({},BZ,{filter:CZ}),VZ=Qa({},QP,{size:10}),FZ=Qa({},BZ,{show:!1}),JP='12px system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',HZ="bold "+JP,GZ=1.5,z3={show:!0,scale:"x",stroke:GP,space:50,gap:5,alignTo:1,size:50,labelGap:0,labelSize:30,labelFont:HZ,side:2,grid:QP,ticks:VZ,border:FZ,font:JP,lineGap:GZ,rotate:0},Gme="Value",Ume="Time",B3={show:!0,scale:"x",auto:!1,sorted:1,min:Gn,max:-Gn,idxs:[]};function Wme(t,e,r,n,a){return e.map(i=>i==null?"":qP(i))}function Yme(t,e,r,n,a,i,o){let s=[],l=Kh.get(a)||0;r=o?r:Un(ZT(r,a),l);for(let u=r;u<=n;u=Un(u+a,l))s.push(Object.is(u,-0)?0:u);return s}function yE(t,e,r,n,a,i,o){const s=[],l=t.scales[t.axes[e].scale].log,u=l==10?lf:SZ,c=Ps(u(r));a=im(l,c),l==10&&(a=cv[eu(a,cv)]);let f=r,d=a*l;l==10&&(d=cv[eu(d,cv)]);do s.push(f),f=f+a,l==10&&!Kh.has(f)&&(f=Un(f,Kh.get(a))),f>=d&&(a=f,d=a*l,l==10&&(d=cv[eu(d,cv)]));while(f<=n);return s}function Zme(t,e,r,n,a,i,o){let l=t.scales[t.axes[e].scale].asinh,u=n>l?yE(t,e,Do(l,r),n,a):[l],c=n>=0&&r<=0?[0]:[];return(r<-l?yE(t,e,Do(l,-n),-r,a):[l]).reverse().map(d=>-d).concat(c,u)}const UZ=/./,qme=/[12357]/,$me=/[125]/,V3=/1/,xE=(t,e,r,n)=>t.map((a,i)=>e==4&&a==0||i%n==0&&r.test(a.toExponential()[a<0?1:0])?a:null);function Xme(t,e,r,n,a){let i=t.axes[r],o=i.scale,s=t.scales[o],l=t.valToPos,u=i._space,c=l(10,o),f=l(9,o)-c>=u?UZ:l(7,o)-c>=u?qme:l(5,o)-c>=u?$me:V3;if(f==V3){let d=di(l(1,o)-c);if(d<u)return xE(e.slice().reverse(),s.distr,f,hl(u/d)).reverse()}return xE(e,s.distr,f,1)}function Kme(t,e,r,n,a){let i=t.axes[r],o=i.scale,s=i._space,l=t.valToPos,u=di(l(1,o)-l(2,o));return u<s?xE(e.slice().reverse(),3,UZ,hl(s/u)).reverse():e}function Qme(t,e,r,n){return n==null?UP:e==null?"":qP(e)}const F3={show:!0,scale:"y",stroke:GP,space:30,gap:5,alignTo:1,size:50,labelGap:0,labelSize:30,labelFont:HZ,side:3,grid:QP,ticks:VZ,border:FZ,font:JP,lineGap:GZ,rotate:0};function Jme(t,e){let r=3+(t||1)*2;return Un(r*e,3)}function eye(t,e){let{scale:r,idxs:n}=t.series[0],a=t._data[0],i=t.valToPos(a[n[0]],r,!0),o=t.valToPos(a[n[1]],r,!0),s=di(o-i),l=t.series[e],u=s/(l.points.space*vn);return n[1]-n[0]<=u}const H3={scale:null,auto:!0,sorted:0,min:Gn,max:-Gn},WZ=(t,e,r,n,a)=>a,G3={show:!0,auto:!0,sorted:0,gaps:WZ,alpha:1,facets:[Qa({},H3,{scale:"x"}),Qa({},H3,{scale:"y"})]},U3={scale:"y",auto:!0,sorted:0,show:!0,spanGaps:!1,gaps:WZ,alpha:1,points:{show:eye,filter:null},values:null,min:Gn,max:-Gn,idxs:[],path:null,clip:null};function tye(t,e,r,n,a){return r/10}const YZ={time:Mge,auto:!0,distr:1,log:10,asinh:1,min:null,max:null,dir:1,ori:0},rye=Qa({},YZ,{time:!1,ori:1}),W3={};function ZZ(t,e){let r=W3[t];return r||(r={key:t,plots:[],sub(n){r.plots.push(n)},unsub(n){r.plots=r.plots.filter(a=>a!=n)},pub(n,a,i,o,s,l,u){for(let c=0;c<r.plots.length;c++)r.plots[c]!=a&&r.plots[c].pub(n,a,i,o,s,l,u)}},t!=null&&(W3[t]=r)),r}const lm=1,_E=2;function up(t,e,r){const n=t.mode,a=t.series[e],i=n==2?t._data[e]:t._data,o=t.scales,s=t.bbox;let l=i[0],u=n==2?i[1]:i[e],c=n==2?o[a.facets[0].scale]:o[t.series[0].scale],f=n==2?o[a.facets[1].scale]:o[a.scale],d=s.left,v=s.top,g=s.width,y=s.height,b=t.valToPosH,S=t.valToPosV;return c.ori==0?r(a,l,u,c,f,b,S,d,v,g,y,XT,Im,QT,$Z,KZ):r(a,l,u,c,f,S,b,v,d,y,g,KT,Om,rk,XZ,QZ)}function ek(t,e){let r=0,n=0,a=un(t.bands,$P);for(let i=0;i<a.length;i++){let o=a[i];o.series[0]==e?r=o.dir:o.series[1]==e&&(o.dir==1?n|=1:n|=2)}return[r,n==1?-1:n==2?1:n==3?2:0]}function nye(t,e,r,n,a){let i=t.mode,o=t.series[e],s=i==2?o.facets[1].scale:o.scale,l=t.scales[s];return a==-1?l.min:a==1?l.max:l.distr==3?l.dir==1?l.min:l.max:0}function uf(t,e,r,n,a,i){return up(t,e,(o,s,l,u,c,f,d,v,g,y,b)=>{let S=o.pxRound;const w=u.dir*(u.ori==0?1:-1),M=u.ori==0?Im:Om;let A,D;w==1?(A=r,D=n):(A=n,D=r);let R=S(f(s[A],u,y,v)),N=S(d(l[A],c,b,g)),I=S(f(s[D],u,y,v)),z=S(d(i==1?c.max:c.min,c,b,g)),B=new Path2D(a);return M(B,I,z),M(B,R,z),M(B,R,N),B})}function $T(t,e,r,n,a,i){let o=null;if(t.length>0){o=new Path2D;const s=e==0?QT:rk;let l=r;for(let f=0;f<t.length;f++){let d=t[f];if(d[1]>d[0]){let v=d[0]-l;v>0&&s(o,l,n,v,n+i),l=d[1]}}let u=r+a-l,c=10;u>0&&s(o,l,n-c/2,u,n+i+c)}return o}function aye(t,e,r){let n=t[t.length-1];n&&n[0]==e?n[1]=r:t.push([e,r])}function tk(t,e,r,n,a,i,o){let s=[],l=t.length;for(let u=a==1?r:n;u>=r&&u<=n;u+=a)if(e[u]===null){let f=u,d=u;if(a==1)for(;++u<=n&&e[u]===null;)d=u;else for(;--u>=r&&e[u]===null;)d=u;let v=i(t[f]),g=d==f?v:i(t[d]),y=f-a;v=o<=0&&y>=0&&y<l?i(t[y]):v;let S=d+a;g=o>=0&&S>=0&&S<l?i(t[S]):g,g>=v&&s.push([v,g])}return s}function Y3(t){return t==0?TZ:t==1?hi:e=>uv(e,t)}function qZ(t){let e=t==0?XT:KT,r=t==0?(a,i,o,s,l,u)=>{a.arcTo(i,o,s,l,u)}:(a,i,o,s,l,u)=>{a.arcTo(o,i,l,s,u)},n=t==0?(a,i,o,s,l)=>{a.rect(i,o,s,l)}:(a,i,o,s,l)=>{a.rect(o,i,l,s)};return(a,i,o,s,l,u=0,c=0)=>{u==0&&c==0?n(a,i,o,s,l):(u=tu(u,s/2,l/2),c=tu(c,s/2,l/2),e(a,i+u,o),r(a,i+s,o,i+s,o+l,u),r(a,i+s,o+l,i,o+l,c),r(a,i,o+l,i,o,c),r(a,i,o,i+s,o,u),a.closePath())}}const XT=(t,e,r)=>{t.moveTo(e,r)},KT=(t,e,r)=>{t.moveTo(r,e)},Im=(t,e,r)=>{t.lineTo(e,r)},Om=(t,e,r)=>{t.lineTo(r,e)},QT=qZ(0),rk=qZ(1),$Z=(t,e,r,n,a,i)=>{t.arc(e,r,n,a,i)},XZ=(t,e,r,n,a,i)=>{t.arc(r,e,n,a,i)},KZ=(t,e,r,n,a,i,o)=>{t.bezierCurveTo(e,r,n,a,i,o)},QZ=(t,e,r,n,a,i,o)=>{t.bezierCurveTo(r,e,a,n,o,i)};function JZ(t){return(e,r,n,a,i)=>up(e,r,(o,s,l,u,c,f,d,v,g,y,b)=>{let{pxRound:S,points:w}=o,M,A;u.ori==0?(M=XT,A=$Z):(M=KT,A=XZ);const D=Un(w.width*vn,3);let R=(w.size-w.width)/2*vn,N=Un(R*2,3),I=new Path2D,z=new Path2D,{left:B,top:V,width:G,height:F}=e.bbox;QT(z,B-N,V-N,G+N*2,F+N*2);const q=Q=>{if(l[Q]!=null){let H=S(f(s[Q],u,y,v)),X=S(d(l[Q],c,b,g));M(I,H+R,X),A(I,H,X,R,0,pS*2)}};if(i)i.forEach(q);else for(let Q=n;Q<=a;Q++)q(Q);return{stroke:D>0?I:null,fill:I,clip:z,flags:lm|_E}})}function eq(t){return(e,r,n,a,i,o)=>{n!=a&&(i!=n&&o!=n&&t(e,r,n),i!=a&&o!=a&&t(e,r,a),t(e,r,o))}}const iye=eq(Im),oye=eq(Om);function tq(t){const e=un(t?.alignGaps,0);return(r,n,a,i)=>up(r,n,(o,s,l,u,c,f,d,v,g,y,b)=>{[a,i]=WT(l,a,i);let S=o.pxRound,w=F=>S(f(F,u,y,v)),M=F=>S(d(F,c,b,g)),A,D;u.ori==0?(A=Im,D=iye):(A=Om,D=oye);const R=u.dir*(u.ori==0?1:-1),N={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:lm},I=N.stroke;let z=!1;if(i-a>=y*4){let F=ie=>r.posToVal(ie,u.key,!0),q=null,Q=null,H,X,W,J=w(s[R==1?a:i]),ee=w(s[a]),K=w(s[i]),ne=F(R==1?ee+1:K-1);for(let ie=R==1?a:i;ie>=a&&ie<=i;ie+=R){let le=s[ie],we=(R==1?le<ne:le>ne)?J:w(le),pe=l[ie];we==J?pe!=null?(X=pe,q==null?(A(I,we,M(X)),H=q=Q=X):X<q?q=X:X>Q&&(Q=X)):pe===null&&(z=!0):(q!=null&&D(I,J,M(q),M(Q),M(H),M(X)),pe!=null?(X=pe,A(I,we,M(X)),q=Q=H=X):(q=Q=null,pe===null&&(z=!0)),J=we,ne=F(J+R))}q!=null&&q!=Q&&W!=J&&D(I,J,M(q),M(Q),M(H),M(X))}else for(let F=R==1?a:i;F>=a&&F<=i;F+=R){let q=l[F];q===null?z=!0:q!=null&&A(I,w(s[F]),M(q))}let[V,G]=ek(r,n);if(o.fill!=null||V!=0){let F=N.fill=new Path2D(I),q=o.fillTo(r,n,o.min,o.max,V),Q=M(q),H=w(s[a]),X=w(s[i]);R==-1&&([X,H]=[H,X]),A(F,X,Q),A(F,H,Q)}if(!o.spanGaps){let F=[];z&&F.push(...tk(s,l,a,i,R,w,e)),N.gaps=F=o.gaps(r,n,a,i,F),N.clip=$T(F,u.ori,v,g,y,b)}return G!=0&&(N.band=G==2?[uf(r,n,a,i,I,-1),uf(r,n,a,i,I,1)]:uf(r,n,a,i,I,G)),N})}function sye(t){const e=un(t.align,1),r=un(t.ascDesc,!1),n=un(t.alignGaps,0),a=un(t.extend,!1);return(i,o,s,l)=>up(i,o,(u,c,f,d,v,g,y,b,S,w,M)=>{[s,l]=WT(f,s,l);let A=u.pxRound,{left:D,width:R}=i.bbox,N=ee=>A(g(ee,d,w,b)),I=ee=>A(y(ee,v,M,S)),z=d.ori==0?Im:Om;const B={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:lm},V=B.stroke,G=d.dir*(d.ori==0?1:-1);let F=I(f[G==1?s:l]),q=N(c[G==1?s:l]),Q=q,H=q;a&&e==-1&&(H=D,z(V,H,F)),z(V,q,F);for(let ee=G==1?s:l;ee>=s&&ee<=l;ee+=G){let K=f[ee];if(K==null)continue;let ne=N(c[ee]),ie=I(K);e==1?z(V,ne,F):z(V,Q,ie),z(V,ne,ie),F=ie,Q=ne}let X=Q;a&&e==1&&(X=D+R,z(V,X,F));let[W,J]=ek(i,o);if(u.fill!=null||W!=0){let ee=B.fill=new Path2D(V),K=u.fillTo(i,o,u.min,u.max,W),ne=I(K);z(ee,X,ne),z(ee,H,ne)}if(!u.spanGaps){let ee=[];ee.push(...tk(c,f,s,l,G,N,n));let K=u.width*vn/2,ne=r||e==1?K:-K,ie=r||e==-1?-K:K;ee.forEach(le=>{le[0]+=ne,le[1]+=ie}),B.gaps=ee=u.gaps(i,o,s,l,ee),B.clip=$T(ee,d.ori,b,S,w,M)}return J!=0&&(B.band=J==2?[uf(i,o,s,l,V,-1),uf(i,o,s,l,V,1)]:uf(i,o,s,l,V,J)),B})}function Z3(t,e,r,n,a,i,o=Gn){if(t.length>1){let s=null;for(let l=0,u=1/0;l<t.length;l++)if(e[l]!==void 0){if(s!=null){let c=di(t[l]-t[s]);c<u&&(u=c,o=di(r(t[l],n,a,i)-r(t[s],n,a,i)))}s=l}}return o}function lye(t){t=t||X0;const e=un(t.size,[.6,Gn,1]),r=t.align||0,n=t.gap||0;let a=t.radius;a=a==null?[0,0]:typeof a=="number"?[a,0]:a;const i=Br(a),o=1-e[0],s=un(e[1],Gn),l=un(e[2],1),u=un(t.disp,X0),c=un(t.each,v=>{}),{fill:f,stroke:d}=u;return(v,g,y,b)=>up(v,g,(S,w,M,A,D,R,N,I,z,B,V)=>{let G=S.pxRound,F=r,q=n*vn,Q=s*vn,H=l*vn,X,W;A.ori==0?[X,W]=i(v,g):[W,X]=i(v,g);const J=A.dir*(A.ori==0?1:-1);let ee=A.ori==0?QT:rk,K=A.ori==0?c:(nt,Or,wn,ea,Sa,ai,Io)=>{c(nt,Or,wn,Sa,ea,Io,ai)},ne=un(v.bands,$P).find(nt=>nt.series[0]==g),ie=ne!=null?ne.dir:0,le=S.fillTo(v,g,S.min,S.max,ie),me=G(N(le,D,V,z)),we,pe,Pe,ke=B,ze=G(S.width*vn),Ie=!1,Oe=null,vt=null,ct=null,Ft=null;f!=null&&(ze==0||d!=null)&&(Ie=!0,Oe=f.values(v,g,y,b),vt=new Map,new Set(Oe).forEach(nt=>{nt!=null&&vt.set(nt,new Path2D)}),ze>0&&(ct=d.values(v,g,y,b),Ft=new Map,new Set(ct).forEach(nt=>{nt!=null&&Ft.set(nt,new Path2D)})));let{x0:jt,size:Lr}=u;if(jt!=null&&Lr!=null){F=1,w=jt.values(v,g,y,b),jt.unit==2&&(w=w.map(wn=>v.posToVal(I+wn*B,A.key,!0)));let nt=Lr.values(v,g,y,b);Lr.unit==2?pe=nt[0]*B:pe=R(nt[0],A,B,I)-R(0,A,B,I),ke=Z3(w,M,R,A,B,I,ke),Pe=ke-pe+q}else ke=Z3(w,M,R,A,B,I,ke),Pe=ke*o+q,pe=ke-Pe;Pe<1&&(Pe=0),ze>=pe/2&&(ze=0),Pe<5&&(G=TZ);let Rn=Pe>0,fn=ke-Pe-(Rn?ze:0);pe=G(mE(fn,H,Q)),we=(F==0?pe/2:F==J?0:pe)-F*J*((F==0?q/2:0)+(Rn?ze/2:0));const tn={stroke:null,fill:null,clip:null,band:null,gaps:null,flags:0},aa=Ie?null:new Path2D;let za=null;if(ne!=null)za=v.data[ne.series[1]];else{let{y0:nt,y1:Or}=u;nt!=null&&Or!=null&&(M=Or.values(v,g,y,b),za=nt.values(v,g,y,b))}let ko=X*pe,Mt=W*pe;for(let nt=J==1?y:b;nt>=y&&nt<=b;nt+=J){let Or=M[nt];if(Or==null)continue;if(za!=null){let gr=za[nt]??0;if(Or-gr==0)continue;me=N(gr,D,V,z)}let wn=A.distr!=2||u!=null?w[nt]:nt,ea=R(wn,A,B,I),Sa=N(un(Or,le),D,V,z),ai=G(ea-we),Io=G(Do(Sa,me)),wa=G(tu(Sa,me)),ia=Io-wa;if(Or!=null){let gr=Or<0?Mt:ko,Zn=Or<0?ko:Mt;Ie?(ze>0&&ct[nt]!=null&&ee(Ft.get(ct[nt]),ai,wa+Ps(ze/2),pe,Do(0,ia-ze),gr,Zn),Oe[nt]!=null&&ee(vt.get(Oe[nt]),ai,wa+Ps(ze/2),pe,Do(0,ia-ze),gr,Zn)):ee(aa,ai,wa+Ps(ze/2),pe,Do(0,ia-ze),gr,Zn),K(v,g,nt,ai-ze/2,wa,pe+ze,ia)}}return ze>0?tn.stroke=Ie?Ft:aa:Ie||(tn._fill=S.width==0?S._fill:S._stroke??S._fill,tn.width=0),tn.fill=Ie?vt:aa,tn})}function uye(t,e){const r=un(e?.alignGaps,0);return(n,a,i,o)=>up(n,a,(s,l,u,c,f,d,v,g,y,b,S)=>{[i,o]=WT(u,i,o);let w=s.pxRound,M=X=>w(d(X,c,b,g)),A=X=>w(v(X,f,S,y)),D,R,N;c.ori==0?(D=XT,N=Im,R=KZ):(D=KT,N=Om,R=QZ);const I=c.dir*(c.ori==0?1:-1);let z=M(l[I==1?i:o]),B=z,V=[],G=[];for(let X=I==1?i:o;X>=i&&X<=o;X+=I)if(u[X]!=null){let J=l[X],ee=M(J);V.push(B=ee),G.push(A(u[X]))}const F={stroke:t(V,G,D,N,R,w),fill:null,clip:null,band:null,gaps:null,flags:lm},q=F.stroke;let[Q,H]=ek(n,a);if(s.fill!=null||Q!=0){let X=F.fill=new Path2D(q),W=s.fillTo(n,a,s.min,s.max,Q),J=A(W);N(X,B,J),N(X,z,J)}if(!s.spanGaps){let X=[];X.push(...tk(l,u,i,o,I,M,r)),F.gaps=X=s.gaps(n,a,i,o,X),F.clip=$T(X,c.ori,g,y,b,S)}return H!=0&&(F.band=H==2?[uf(n,a,i,o,q,-1),uf(n,a,i,o,q,1)]:uf(n,a,i,o,q,H)),F})}function cye(t){return uye(fye,t)}function fye(t,e,r,n,a,i){const o=t.length;if(o<2)return null;const s=new Path2D;if(r(s,t[0],e[0]),o==2)n(s,t[1],e[1]);else{let l=Array(o),u=Array(o-1),c=Array(o-1),f=Array(o-1);for(let d=0;d<o-1;d++)c[d]=e[d+1]-e[d],f[d]=t[d+1]-t[d],u[d]=c[d]/f[d];l[0]=u[0];for(let d=1;d<o-1;d++)u[d]===0||u[d-1]===0||u[d-1]>0!=u[d]>0?l[d]=0:(l[d]=3*(f[d-1]+f[d])/((2*f[d]+f[d-1])/u[d-1]+(f[d]+2*f[d-1])/u[d]),isFinite(l[d])||(l[d]=0));l[o-1]=u[o-2];for(let d=0;d<o-1;d++)a(s,t[d]+f[d]/3,e[d]+l[d]*f[d]/3,t[d+1]-f[d]/3,e[d+1]-l[d+1]*f[d]/3,t[d+1],e[d+1])}return s}const bE=new Set;function q3(){for(let t of bE)t.syncRect(!0)}km&&(Rv(Wge,$g,q3),Rv(Yge,$g,q3,!0),Rv(QS,$g,()=>{oo.pxRatio=vn}));const hye=tq(),dye=JZ();function $3(t,e,r,n){return(n?[t[0],t[1]].concat(t.slice(2)):[t[0]].concat(t.slice(1))).map((i,o)=>SE(i,o,e,r))}function vye(t,e){return t.map((r,n)=>n==0?{}:Qa({},e,r))}function SE(t,e,r,n){return Qa({},e==0?r:n,t)}function rq(t,e,r){return e==null?om:[e,r]}const pye=rq;function gye(t,e,r){return e==null?om:JS(e,r,ZP,!0)}function nq(t,e,r,n){return e==null?om:YT(e,r,t.scales[n].log,!1)}const mye=nq;function aq(t,e,r,n){return e==null?om:YP(e,r,t.scales[n].log,!1)}const yye=aq;function xye(t,e,r,n,a){let i=Do(A3(t),A3(e)),o=e-t,s=eu(a/n*o,r);do{let l=r[s],u=n*l/o;if(u>=a&&i+(l<5?Kh.get(l):0)<=17)return[l,u]}while(++s<r.length);return[0,0]}function X3(t){let e,r;return t=t.replace(/(\d+)px/,(n,a)=>(e=hi((r=+a)*vn))+"px"),[t,e,r]}function _ye(t){t.show&&[t.font,t.labelFont].forEach(e=>{let r=Un(e[2]*vn,1);e[0]=e[0].replace(/[0-9.]+px/,r+"px"),e[1]=r})}function oo(t,e,r){const n={mode:un(t.mode,1)},a=n.mode;function i($,te,oe,se){let he=te.valToPct($);return se+oe*(te.dir==-1?1-he:he)}function o($,te,oe,se){let he=te.valToPct($);return se+oe*(te.dir==-1?he:1-he)}function s($,te,oe,se){return te.ori==0?i($,te,oe,se):o($,te,oe,se)}n.valToPosH=i,n.valToPosV=o;let l=!1;n.status=0;const u=n.root=al(Age);if(t.id!=null&&(u.id=t.id),Ts(u,t.class),t.title){let $=al(Ege,u);$.textContent=t.title}const c=ql("canvas"),f=n.ctx=c.getContext("2d"),d=al(Nge,u);Rv("click",d,$=>{$.target===g&&(Kr!=oi||rn!=$i)&&Fr.click(n,$)},!0);const v=n.under=al(Rge,d);d.appendChild(c);const g=n.over=al(Pge,d);t=sm(t);const y=+un(t.pxAlign,1),b=Y3(y);(t.plugins||[]).forEach($=>{$.opts&&(t=$.opts(n,t)||t)});const S=t.ms||.001,w=n.series=a==1?$3(t.series||[],B3,U3,!1):vye(t.series||[null],G3),M=n.axes=$3(t.axes||[],z3,F3,!0),A=n.scales={},D=n.bands=t.bands||[];D.forEach($=>{$.fill=Br($.fill||null),$.dir=un($.dir,-1)});const R=a==2?w[1].facets[0].scale:w[0].scale,N={axes:Dc,series:kf},I=(t.drawOrder||["axes","series"]).map($=>N[$]);function z($){const te=$.distr==3?oe=>lf(oe>0?oe:$.clamp(n,oe,$.min,$.max,$.key)):$.distr==4?oe=>i2(oe,$.asinh):$.distr==100?oe=>$.fwd(oe):oe=>oe;return oe=>{let se=te(oe),{_min:he,_max:Se}=$,Be=Se-he;return(se-he)/Be}}function B($){let te=A[$];if(te==null){let oe=(t.scales||X0)[$]||X0;if(oe.from!=null){B(oe.from);let se=Qa({},A[oe.from],oe,{key:$});se.valToPct=z(se),A[$]=se}else{te=A[$]=Qa({},$==R?YZ:rye,oe),te.key=$;let se=te.time,he=te.range,Se=Th(he);if(($!=R||a==2&&!se)&&(Se&&(he[0]==null||he[1]==null)&&(he={min:he[0]==null?T3:{mode:1,hard:he[0],soft:he[0]},max:he[1]==null?T3:{mode:1,hard:he[1],soft:he[1]}},Se=!1),!Se&&qT(he))){let Be=he;he=(Ge,$e,Ke)=>$e==null?om:JS($e,Ke,Be)}te.range=Br(he||(se?pye:$==R?te.distr==3?mye:te.distr==4?yye:rq:te.distr==3?nq:te.distr==4?aq:gye)),te.auto=Br(Se?!1:te.auto),te.clamp=Br(te.clamp||tye),te._min=te._max=null,te.valToPct=z(te)}}}B("x"),B("y"),a==1&&w.forEach($=>{B($.scale)}),M.forEach($=>{B($.scale)});for(let $ in t.scales)B($);const V=A[R],G=V.distr;let F,q;V.ori==0?(Ts(u,Dge),F=i,q=o):(Ts(u,Lge),F=o,q=i);const Q={};for(let $ in A){let te=A[$];(te.min!=null||te.max!=null)&&(Q[$]={min:te.min,max:te.max},te.min=te.max=null)}const H=t.tzDate||($=>new Date(hi($/S))),X=t.fmtDate||XP,W=S==1?Dme(H):Nme(H),J=I3(H,k3(S==1?Ame:Eme,X)),ee=j3(H,O3(Pme,X)),K=[],ne=n.legend=Qa({},Ome,t.legend),ie=n.cursor=Qa({},Hme,{drag:{y:a==2}},t.cursor),le=ne.show,me=ie.show,we=ne.markers;ne.idxs=K,we.width=Br(we.width),we.dash=Br(we.dash),we.stroke=Br(we.stroke),we.fill=Br(we.fill);let pe,Pe,ke,ze=[],Ie=[],Oe,vt=!1,ct={};if(ne.live){const $=w[1]?w[1].values:null;vt=$!=null,Oe=vt?$(n,1,0):{_:0};for(let te in Oe)ct[te]=UP}if(le)if(pe=ql("table",Bge,u),ke=ql("tbody",null,pe),ne.mount(n,pe),vt){Pe=ql("thead",null,pe,ke);let $=ql("tr",null,Pe);ql("th",null,$);for(var Ft in Oe)ql("th",f3,$).textContent=Ft}else Ts(pe,Fge),ne.live&&Ts(pe,Vge);const jt={show:!0},Lr={show:!1};function Rn($,te){if(te==0&&(vt||!ne.live||a==2))return om;let oe=[],se=ql("tr",Hge,ke,ke.childNodes[te]);Ts(se,$.class),$.show||Ts(se,yv);let he=ql("th",null,se);if(we.show){let Ge=al(Gge,he);if(te>0){let $e=we.width(n,te);$e&&(Ge.style.border=$e+"px "+we.dash(n,te)+" "+we.stroke(n,te)),Ge.style.background=we.fill(n,te)}}let Se=al(f3,he);$.label instanceof HTMLElement?Se.appendChild($.label):Se.textContent=$.label,te>0&&(we.show||(Se.style.color=$.width>0?we.stroke(n,te):we.fill(n,te)),tn("click",he,Ge=>{if(ie._lock)return;Ba(Ge);let $e=w.indexOf($);if((Ge.ctrlKey||Ge.metaKey)!=ne.isolate){let Ke=w.some((lt,it)=>it>0&&it!=$e&&lt.show);w.forEach((lt,it)=>{it>0&&bi(it,Ke?it==$e?jt:Lr:jt,!0,$r.setSeries)})}else bi($e,{show:!$.show},!0,$r.setSeries)},!1),ce&&tn(p3,he,Ge=>{ie._lock||(Ba(Ge),bi(w.indexOf($),Mu,!0,$r.setSeries))},!1));for(var Be in Oe){let Ge=ql("td",Uge,se);Ge.textContent="--",oe.push(Ge)}return[se,oe]}const fn=new Map;function tn($,te,oe,se=!0){const he=fn.get(te)||{},Se=ie.bind[$](n,te,oe,se);Se&&(Rv($,te,he[$]=Se),fn.set(te,he))}function aa($,te,oe){const se=fn.get(te)||{};for(let he in se)($==null||he==$)&&(gE(he,te,se[he]),delete se[he]);$==null&&fn.delete(te)}let za=0,ko=0,Mt=0,nt=0,Or=0,wn=0,ea=Or,Sa=wn,ai=Mt,Io=nt,wa=0,ia=0,gr=0,Zn=0;n.bbox={};let ca=!1,vo=!1,Us=!1,Oo=!1,Ri=!1,oa=!1;function po($,te,oe){(oe||$!=n.width||te!=n.height)&&jo($,te),hs(!1),Us=!0,vo=!0,Ho()}function jo($,te){n.width=za=Mt=$,n.height=ko=nt=te,Or=wn=0,kl(),Ws();let oe=n.bbox;wa=oe.left=uv(Or*vn,.5),ia=oe.top=uv(wn*vn,.5),gr=oe.width=uv(Mt*vn,.5),Zn=oe.height=uv(nt*vn,.5)}const Rl=3;function Pl(){let $=!1,te=0;for(;!$;){te++;let oe=bu(te),se=Of(te);$=te==Rl||oe&&se,$||(jo(n.width,n.height),vo=!0)}}function Pf({width:$,height:te}){po($,te)}n.setSize=Pf;function kl(){let $=!1,te=!1,oe=!1,se=!1;M.forEach((he,Se)=>{if(he.show&&he._show){let{side:Be,_size:Ge}=he,$e=Be%2,Ke=he.label!=null?he.labelSize:0,lt=Ge+Ke;lt>0&&($e?(Mt-=lt,Be==3?(Or+=lt,se=!0):oe=!0):(nt-=lt,Be==0?(wn+=lt,$=!0):te=!0))}}),pt[0]=$,pt[1]=oe,pt[2]=te,pt[3]=se,Mt-=tr[1]+tr[3],Or+=tr[3],nt-=tr[2]+tr[0],wn+=tr[0]}function Ws(){let $=Or+Mt,te=wn+nt,oe=Or,se=wn;function he(Se,Be){switch(Se){case 1:return $+=Be,$-Be;case 2:return te+=Be,te-Be;case 3:return oe-=Be,oe+Be;case 0:return se-=Be,se+Be}}M.forEach((Se,Be)=>{if(Se.show&&Se._show){let Ge=Se.side;Se._pos=he(Ge,Se._size),Se.label!=null&&(Se._lpos=he(Ge,Se.labelSize))}})}if(ie.dataIdx==null){let $=ie.hover,te=$.skip=new Set($.skip??[]);te.add(void 0);let oe=$.prox=Br($.prox),se=$.bias??=0;ie.dataIdx=(he,Se,Be,Ge)=>{if(Se==0)return Be;let $e=Be,Ke=oe(he,Se,Be,Ge)??Gn,lt=Ke>=0&&Ke<Gn,it=V.ori==0?Mt:nt,Qt=ie.left,dr=e[0],Zt=e[Se];if(te.has(Zt[Be])){$e=null;let rr=null,Bt=null,Dt;if(se==0||se==-1)for(Dt=Be;rr==null&&Dt-- >0;)te.has(Zt[Dt])||(rr=Dt);if(se==0||se==1)for(Dt=Be;Bt==null&&Dt++<Zt.length;)te.has(Zt[Dt])||(Bt=Dt);if(rr!=null||Bt!=null)if(lt){let nn=rr==null?-1/0:F(dr[rr],V,it,0),yn=Bt==null?1/0:F(dr[Bt],V,it,0),Cn=Qt-nn,Hr=yn-Qt;Cn<=Hr?Cn<=Ke&&($e=rr):Hr<=Ke&&($e=Bt)}else $e=Bt==null?rr:rr==null?Bt:Be-rr<=Bt-Be?rr:Bt}else lt&&di(Qt-F(dr[Be],V,it,0))>Ke&&($e=null);return $e}}const Ba=$=>{ie.event=$};ie.idxs=K,ie._lock=!1;let fa=ie.points;fa.show=Br(fa.show),fa.size=Br(fa.size),fa.stroke=Br(fa.stroke),fa.width=Br(fa.width),fa.fill=Br(fa.fill);const Pi=n.focus=Qa({},t.focus||{alpha:.3},ie.focus),ce=Pi.prox>=0,ge=ce&&fa.one;let be=[],Te=[],qe=[];function At($,te){let oe=fa.show(n,te);if(oe instanceof HTMLElement)return Ts(oe,zge),Ts(oe,$.class),ju(oe,-10,-10,Mt,nt),g.insertBefore(oe,be[te]),oe}function rt($,te){if(a==1||te>0){let oe=a==1&&A[$.scale].time,se=$.value;$.value=oe?E3(se)?j3(H,O3(se,X)):se||ee:se||Qme,$.label=$.label||(oe?Ume:Gme)}if(ge||te>0){$.width=$.width==null?1:$.width,$.paths=$.paths||hye||rme,$.fillTo=Br($.fillTo||nye),$.pxAlign=+un($.pxAlign,y),$.pxRound=Y3($.pxAlign),$.stroke=Br($.stroke||null),$.fill=Br($.fill||null),$._stroke=$._fill=$._paths=$._focus=null;let oe=Jme(Do(1,$.width),1),se=$.points=Qa({},{size:oe,width:Do(1,oe*.2),stroke:$.stroke,space:oe*2,paths:dye,_stroke:null,_fill:null},$.points);se.show=Br(se.show),se.filter=Br(se.filter),se.fill=Br(se.fill),se.stroke=Br(se.stroke),se.paths=Br(se.paths),se.pxAlign=$.pxAlign}if(le){let oe=Rn($,te);ze.splice(te,0,oe[0]),Ie.splice(te,0,oe[1]),ne.values.push(null)}if(me){K.splice(te,0,null);let oe=null;ge?te==0&&(oe=At($,te)):te>0&&(oe=At($,te)),be.splice(te,0,oe),Te.splice(te,0,0),qe.splice(te,0,0)}ta("addSeries",te)}function Je($,te){te=te??w.length,$=a==1?SE($,te,B3,U3):SE($,te,{},G3),w.splice(te,0,$),rt(w[te],te)}n.addSeries=Je;function at($){if(w.splice($,1),le){ne.values.splice($,1),Ie.splice($,1);let te=ze.splice($,1)[0];aa(null,te.firstChild),te.remove()}me&&(K.splice($,1),be.splice($,1)[0].remove(),Te.splice($,1),qe.splice($,1)),ta("delSeries",$)}n.delSeries=at;const pt=[!1,!1,!1,!1];function Pt($,te){if($._show=$.show,$.show){let oe=$.side%2,se=A[$.scale];se==null&&($.scale=oe?w[1].scale:R,se=A[$.scale]);let he=se.time;$.size=Br($.size),$.space=Br($.space),$.rotate=Br($.rotate),Th($.incrs)&&$.incrs.forEach(Be=>{!Kh.has(Be)&&Kh.set(Be,AZ(Be))}),$.incrs=Br($.incrs||(se.distr==2?Tme:he?S==1?Mme:Lme:cv)),$.splits=Br($.splits||(he&&se.distr==1?W:se.distr==3?yE:se.distr==4?Zme:Yme)),$.stroke=Br($.stroke),$.grid.stroke=Br($.grid.stroke),$.ticks.stroke=Br($.ticks.stroke),$.border.stroke=Br($.border.stroke);let Se=$.values;$.values=Th(Se)&&!Th(Se[0])?Br(Se):he?Th(Se)?I3(H,k3(Se,X)):E3(Se)?Rme(H,Se):Se||J:Se||Wme,$.filter=Br($.filter||(se.distr>=3&&se.log==10?Xme:se.distr==3&&se.log==2?Kme:CZ)),$.font=X3($.font),$.labelFont=X3($.labelFont),$._size=$.size(n,null,te,0),$._space=$._rotate=$._incrs=$._found=$._splits=$._values=null,$._size>0&&(pt[te]=!0,$._el=al(kge,d))}}function Tt($,te,oe,se){let[he,Se,Be,Ge]=oe,$e=te%2,Ke=0;return $e==0&&(Ge||Se)&&(Ke=te==0&&!he||te==2&&!Be?hi(z3.size/3):0),$e==1&&(he||Be)&&(Ke=te==1&&!Se||te==3&&!Ge?hi(F3.size/2):0),Ke}const Tr=n.padding=(t.padding||[Tt,Tt,Tt,Tt]).map($=>Br(un($,Tt))),tr=n._padding=Tr.map(($,te)=>$(n,te,pt,0));let cr,fr=null,lr=null;const mr=a==1?w[0].idxs:null;let Vr=null,ha=!1;function Tn($,te){if(e=$??[],n.data=n._data=e,a==2){cr=0;for(let oe=1;oe<w.length;oe++)cr+=e[oe][0].length}else{e.length==0&&(n.data=n._data=e=[[]]),Vr=e[0],cr=Vr.length;let oe=e;if(G==2){oe=e.slice();let se=oe[0]=Array(cr);for(let he=0;he<cr;he++)se[he]=he}n._data=e=oe}if(hs(!0),ta("setData"),G==2&&(Us=!0),te!==!1){let oe=V;oe.auto(n,ha)?ki():Wa(R,oe.min,oe.max),Oo=Oo||ie.left>=0,oa=!0,Ho()}}n.setData=Tn;function ki(){ha=!0;let $,te;a==1&&(cr>0?(fr=mr[0]=0,lr=mr[1]=cr-1,$=e[0][fr],te=e[0][lr],G==2?($=fr,te=lr):$==te&&(G==3?[$,te]=YT($,$,V.log,!1):G==4?[$,te]=YP($,$,V.log,!1):V.time?te=$+hi(86400/S):[$,te]=JS($,te,ZP,!0))):(fr=mr[0]=$=null,lr=mr[1]=te=null)),Wa(R,$,te)}let Va,Fa,Ha,ii,zo,Bo,ir,Ot,Cr,Er;function or($,te,oe,se,he,Se){$??=d3,oe??=$P,se??="butt",he??=d3,Se??="round",$!=Va&&(f.strokeStyle=Va=$),he!=Fa&&(f.fillStyle=Fa=he),te!=Ha&&(f.lineWidth=Ha=te),Se!=zo&&(f.lineJoin=zo=Se),se!=Bo&&(f.lineCap=Bo=se),oe!=ii&&f.setLineDash(ii=oe)}function Ii($,te,oe,se){te!=Fa&&(f.fillStyle=Fa=te),$!=ir&&(f.font=ir=$),oe!=Ot&&(f.textAlign=Ot=oe),se!=Cr&&(f.textBaseline=Cr=se)}function Ys($,te,oe,se,he=0){if(se.length>0&&$.auto(n,ha)&&(te==null||te.min==null)){let Se=un(fr,0),Be=un(lr,se.length-1),Ge=oe.min==null?Xge(se,Se,Be,he,$.distr==3):[oe.min,oe.max];$.min=tu($.min,oe.min=Ge[0]),$.max=Do($.max,oe.max=Ge[1])}}const Kt={min:null,max:null};function qn(){for(let se in A){let he=A[se];Q[se]==null&&(he.min==null||Q[R]!=null&&he.auto(n,ha))&&(Q[se]=Kt)}for(let se in A){let he=A[se];Q[se]==null&&he.from!=null&&Q[he.from]!=null&&(Q[se]=Kt)}Q[R]!=null&&hs(!0);let $={};for(let se in Q){let he=Q[se];if(he!=null){let Se=$[se]=sm(A[se],ime);if(he.min!=null)Qa(Se,he);else if(se!=R||a==2)if(cr==0&&Se.from==null){let Be=Se.range(n,null,null,se);Se.min=Be[0],Se.max=Be[1]}else Se.min=Gn,Se.max=-Gn}}if(cr>0){w.forEach((se,he)=>{if(a==1){let Se=se.scale,Be=Q[Se];if(Be==null)return;let Ge=$[Se];if(he==0){let $e=Ge.range(n,Ge.min,Ge.max,Se);Ge.min=$e[0],Ge.max=$e[1],fr=eu(Ge.min,e[0]),lr=eu(Ge.max,e[0]),lr-fr>1&&(e[0][fr]<Ge.min&&fr++,e[0][lr]>Ge.max&&lr--),se.min=Vr[fr],se.max=Vr[lr]}else se.show&&se.auto&&Ys(Ge,Be,se,e[he],se.sorted);se.idxs[0]=fr,se.idxs[1]=lr}else if(he>0&&se.show&&se.auto){let[Se,Be]=se.facets,Ge=Se.scale,$e=Be.scale,[Ke,lt]=e[he],it=$[Ge],Qt=$[$e];it!=null&&Ys(it,Q[Ge],Se,Ke,Se.sorted),Qt!=null&&Ys(Qt,Q[$e],Be,lt,Be.sorted),se.min=Be.min,se.max=Be.max}});for(let se in $){let he=$[se],Se=Q[se];if(he.from==null&&(Se==null||Se.min==null)){let Be=he.range(n,he.min==Gn?null:he.min,he.max==-Gn?null:he.max,se);he.min=Be[0],he.max=Be[1]}}}for(let se in $){let he=$[se];if(he.from!=null){let Se=$[he.from];if(Se.min==null)he.min=he.max=null;else{let Be=he.range(n,Se.min,Se.max,se);he.min=Be[0],he.max=Be[1]}}}let te={},oe=!1;for(let se in $){let he=$[se],Se=A[se];if(Se.min!=he.min||Se.max!=he.max){Se.min=he.min,Se.max=he.max;let Be=Se.distr;Se._min=Be==3?lf(Se.min):Be==4?i2(Se.min,Se.asinh):Be==100?Se.fwd(Se.min):Se.min,Se._max=Be==3?lf(Se.max):Be==4?i2(Se.max,Se.asinh):Be==100?Se.fwd(Se.max):Se.max,te[se]=oe=!0}}if(oe){w.forEach((se,he)=>{a==2?he>0&&te.y&&(se._paths=null):te[se.scale]&&(se._paths=null)});for(let se in te)Us=!0,ta("setScale",se);me&&ie.left>=0&&(Oo=oa=!0)}for(let se in Q)Q[se]=null}function _u($){let te=mE(fr-1,0,cr-1),oe=mE(lr+1,0,cr-1);for(;$[te]==null&&te>0;)te--;for(;$[oe]==null&&oe<cr-1;)oe++;return[te,oe]}function kf(){if(cr>0){let $=w.some(te=>te._focus)&&Er!=Pi.alpha;$&&(f.globalAlpha=Er=Pi.alpha),w.forEach((te,oe)=>{if(oe>0&&te.show&&(Pn(oe,!1),Pn(oe,!0),te._paths==null)){let se=Er;Er!=te.alpha&&(f.globalAlpha=Er=te.alpha);let he=a==2?[0,e[oe][0].length-1]:_u(e[oe]);te._paths=te.paths(n,oe,he[0],he[1]),Er!=se&&(f.globalAlpha=Er=se)}}),w.forEach((te,oe)=>{if(oe>0&&te.show){let se=Er;Er!=te.alpha&&(f.globalAlpha=Er=te.alpha),te._paths!=null&&If(oe,!1);{let he=te._paths!=null?te._paths.gaps:null,Se=te.points.show(n,oe,fr,lr,he),Be=te.points.filter(n,oe,Se,he);(Se||Be)&&(te.points._paths=te.points.paths(n,oe,fr,lr,Be),If(oe,!0))}Er!=se&&(f.globalAlpha=Er=se),ta("drawSeries",oe)}}),$&&(f.globalAlpha=Er=1)}}function Pn($,te){let oe=te?w[$].points:w[$];oe._stroke=oe.stroke(n,$),oe._fill=oe.fill(n,$)}function If($,te){let oe=te?w[$].points:w[$],{stroke:se,fill:he,clip:Se,flags:Be,_stroke:Ge=oe._stroke,_fill:$e=oe._fill,_width:Ke=oe.width}=oe._paths;Ke=Un(Ke*vn,3);let lt=null,it=Ke%2/2;te&&$e==null&&($e=Ke>0?"#fff":Ge);let Qt=oe.pxAlign==1&&it>0;if(Qt&&f.translate(it,it),!te){let dr=wa-Ke/2,Zt=ia-Ke/2,rr=gr+Ke,Bt=Zn+Ke;lt=new Path2D,lt.rect(dr,Zt,rr,Bt)}te?hn(Ge,Ke,oe.dash,oe.cap,$e,se,he,Be,Se):Mc($,Ge,Ke,oe.dash,oe.cap,$e,se,he,Be,lt,Se),Qt&&f.translate(-it,-it)}function Mc($,te,oe,se,he,Se,Be,Ge,$e,Ke,lt){let it=!1;$e!=0&&D.forEach((Qt,dr)=>{if(Qt.series[0]==$){let Zt=w[Qt.series[1]],rr=e[Qt.series[1]],Bt=(Zt._paths||X0).band;Th(Bt)&&(Bt=Qt.dir==1?Bt[0]:Bt[1]);let Dt,nn=null;Zt.show&&Bt&&Qge(rr,fr,lr)?(nn=Qt.fill(n,dr)||Se,Dt=Zt._paths.clip):Bt=null,hn(te,oe,se,he,nn,Be,Ge,$e,Ke,lt,Dt,Bt),it=!0}}),it||hn(te,oe,se,he,Se,Be,Ge,$e,Ke,lt)}const Vo=lm|_E;function hn($,te,oe,se,he,Se,Be,Ge,$e,Ke,lt,it){or($,te,oe,se,he),($e||Ke||it)&&(f.save(),$e&&f.clip($e),Ke&&f.clip(Ke)),it?(Ge&Vo)==Vo?(f.clip(it),lt&&f.clip(lt),fs(he,Be),go($,Se,te)):Ge&_E?(fs(he,Be),f.clip(it),go($,Se,te)):Ge&lm&&(f.save(),f.clip(it),lt&&f.clip(lt),fs(he,Be),f.restore(),go($,Se,te)):(fs(he,Be),go($,Se,te)),($e||Ke||it)&&f.restore()}function go($,te,oe){oe>0&&(te instanceof Map?te.forEach((se,he)=>{f.strokeStyle=Va=he,f.stroke(se)}):te!=null&&$&&f.stroke(te))}function fs($,te){te instanceof Map?te.forEach((oe,se)=>{f.fillStyle=Fa=se,f.fill(oe)}):te!=null&&$&&f.fill(te)}function Fo($,te,oe,se){let he=M[$],Se;if(se<=0)Se=[0,0];else{let Be=he._space=he.space(n,$,te,oe,se),Ge=he._incrs=he.incrs(n,$,te,oe,se,Be);Se=xye(te,oe,Ge,se,Be)}return he._found=Se}function Ac($,te,oe,se,he,Se,Be,Ge,$e,Ke){let lt=Be%2/2;y==1&&f.translate(lt,lt),or(Ge,Be,$e,Ke,Ge),f.beginPath();let it,Qt,dr,Zt,rr=he+(se==0||se==3?-Se:Se);oe==0?(Qt=he,Zt=rr):(it=he,dr=rr);for(let Bt=0;Bt<$.length;Bt++)te[Bt]!=null&&(oe==0?it=dr=$[Bt]:Qt=Zt=$[Bt],f.moveTo(it,Qt),f.lineTo(dr,Zt));f.stroke(),y==1&&f.translate(-lt,-lt)}function bu($){let te=!0;return M.forEach((oe,se)=>{if(!oe.show)return;let he=A[oe.scale];if(he.min==null){oe._show&&(te=!1,oe._show=!1,hs(!1));return}else oe._show||(te=!1,oe._show=!0,hs(!1));let Se=oe.side,Be=Se%2,{min:Ge,max:$e}=he,[Ke,lt]=Fo(se,Ge,$e,Be==0?Mt:nt);if(lt==0)return;let it=he.distr==2,Qt=oe._splits=oe.splits(n,se,Ge,$e,Ke,lt,it),dr=he.distr==2?Qt.map(Dt=>Vr[Dt]):Qt,Zt=he.distr==2?Vr[Qt[1]]-Vr[Qt[0]]:Ke,rr=oe._values=oe.values(n,oe.filter(n,dr,se,lt,Zt),se,lt,Zt);oe._rotate=Se==2?oe.rotate(n,rr,se,lt):0;let Bt=oe._size;oe._size=hl(oe.size(n,rr,se,$)),Bt!=null&&oe._size!=Bt&&(te=!1)}),te}function Of($){let te=!0;return Tr.forEach((oe,se)=>{let he=oe(n,se,pt,$);he!=tr[se]&&(te=!1),tr[se]=he}),te}function Dc(){for(let $=0;$<M.length;$++){let te=M[$];if(!te.show||!te._show)continue;let oe=te.side,se=oe%2,he,Se,Be=te.stroke(n,$),Ge=oe==0||oe==3?-1:1,[$e,Ke]=te._found;if(te.label!=null){let la=te.labelGap*Ge,wi=hi((te._lpos+la)*vn);Ii(te.labelFont[0],Be,"center",oe==2?Gy:h3),f.save(),se==1?(he=Se=0,f.translate(wi,hi(ia+Zn/2)),f.rotate((oe==3?-pS:pS)/2)):(he=hi(wa+gr/2),Se=wi);let yo=wZ(te.label)?te.label(n,$,$e,Ke):te.label;f.fillText(yo,he,Se),f.restore()}if(Ke==0)continue;let lt=A[te.scale],it=se==0?gr:Zn,Qt=se==0?wa:ia,dr=te._splits,Zt=lt.distr==2?dr.map(la=>Vr[la]):dr,rr=lt.distr==2?Vr[dr[1]]-Vr[dr[0]]:$e,Bt=te.ticks,Dt=te.border,nn=Bt.show?Bt.size:0,yn=hi(nn*vn),Cn=hi((te.alignTo==2?te._size-nn-te.gap:te.gap)*vn),Hr=te._rotate*-pS/180,Qr=b(te._pos*vn),Ya=(yn+Cn)*Ge,sa=Qr+Ya;Se=se==0?sa:0,he=se==1?sa:0;let Ta=te.font[0],Xi=te.align==1?rg:te.align==2?r2:Hr>0?rg:Hr<0?r2:se==0?"center":oe==3?r2:rg,Ca=Hr||se==1?"middle":oe==2?Gy:h3;Ii(Ta,Be,Xi,Ca);let da=te.font[1]*te.lineGap,si=dr.map(la=>b(s(la,lt,it,Qt))),Ki=te._values;for(let la=0;la<Ki.length;la++){let wi=Ki[la];if(wi!=null){se==0?he=si[la]:Se=si[la],wi=""+wi;let yo=wi.indexOf(`
`)==-1?[wi]:wi.split(/\n/gm);for(let li=0;li<yo.length;li++){let xd=yo[li];Hr?(f.save(),f.translate(he,Se+li*da),f.rotate(Hr),f.fillText(xd,0,0),f.restore()):f.fillText(xd,he,Se+li*da)}}}Bt.show&&Ac(si,Bt.filter(n,Zt,$,Ke,rr),se,oe,Qr,yn,Un(Bt.width*vn,3),Bt.stroke(n,$),Bt.dash,Bt.cap);let Mn=te.grid;Mn.show&&Ac(si,Mn.filter(n,Zt,$,Ke,rr),se,se==0?2:1,se==0?ia:wa,se==0?Zn:gr,Un(Mn.width*vn,3),Mn.stroke(n,$),Mn.dash,Mn.cap),Dt.show&&Ac([Qr],[1],se==0?1:0,se==0?1:2,se==1?ia:wa,se==1?Zn:gr,Un(Dt.width*vn,3),Dt.stroke(n,$),Dt.dash,Dt.cap)}ta("drawAxes")}function hs($){w.forEach((te,oe)=>{oe>0&&(te._paths=null,$&&(a==1?(te.min=null,te.max=null):te.facets.forEach(se=>{se.min=null,se.max=null})))})}let Su=!1,Zs=!1,Ga=[];function jf(){Zs=!1;for(let $=0;$<Ga.length;$++)ta(...Ga[$]);Ga.length=0}function Ho(){Su||(hme(Wt),Su=!0)}function wu($,te=!1){Su=!0,Zs=te,$(n),Wt(),te&&Ga.length>0&&queueMicrotask(jf)}n.batch=wu;function Wt(){if(ca&&(qn(),ca=!1),Us&&(Pl(),Us=!1),vo){if(Jn(v,rg,Or),Jn(v,Gy,wn),Jn(v,L0,Mt),Jn(v,E0,nt),Jn(g,rg,Or),Jn(g,Gy,wn),Jn(g,L0,Mt),Jn(g,E0,nt),Jn(d,L0,za),Jn(d,E0,ko),c.width=hi(za*vn),c.height=hi(ko*vn),M.forEach(({_el:$,_show:te,_size:oe,_pos:se,side:he})=>{if($!=null)if(te){let Se=he===3||he===0?oe:0,Be=he%2==1;Jn($,Be?"left":"top",se-Se),Jn($,Be?"width":"height",oe),Jn($,Be?"top":"left",Be?wn:Or),Jn($,Be?"height":"width",Be?nt:Mt),pE($,yv)}else Ts($,yv)}),Va=Fa=Ha=zo=Bo=ir=Ot=Cr=ii=null,Er=1,jl(!0),Or!=ea||wn!=Sa||Mt!=ai||nt!=Io){hs(!1);let $=Mt/ai,te=nt/Io;if(me&&!Oo&&ie.left>=0){ie.left*=$,ie.top*=te,Zi&&ju(Zi,hi(ie.left),0,Mt,nt),Ua&&ju(Ua,0,hi(ie.top),Mt,nt);for(let oe=0;oe<be.length;oe++){let se=be[oe];se!=null&&(Te[oe]*=$,qe[oe]*=te,ju(se,hl(Te[oe]),hl(qe[oe]),Mt,nt))}}if(qr.show&&!Ri&&qr.left>=0&&qr.width>0){qr.left*=$,qr.width*=$,qr.top*=te,qr.height*=te;for(let oe in Vf)Jn(hr,oe,qr[oe])}ea=Or,Sa=wn,ai=Mt,Io=nt}ta("setSize"),vo=!1}za>0&&ko>0&&(f.clearRect(0,0,c.width,c.height),ta("drawClear"),I.forEach($=>$()),ta("draw")),qr.show&&Ri&&(Cu(qr),Ri=!1),me&&Oo&&(Ol(null,!0,!1),Oo=!1),ne.show&&ne.live&&oa&&(zf(),oa=!1),l||(l=!0,n.status=1,ta("ready")),ha=!1,Su=!1}n.redraw=($,te)=>{Us=te||!1,$!==!1?Wa(R,V.min,V.max):Ho()};function Oi($,te){let oe=A[$];if(oe.from==null){if(cr==0){let se=oe.range(n,te.min,te.max,$);te.min=se[0],te.max=se[1]}if(te.min>te.max){let se=te.min;te.min=te.max,te.max=se}if(cr>1&&te.min!=null&&te.max!=null&&te.max-te.min<1e-16)return;$==R&&oe.distr==2&&cr>0&&(te.min=eu(te.min,e[0]),te.max=eu(te.max,e[0]),te.min==te.max&&te.max++),Q[$]=te,ca=!0,Ho()}}n.setScale=Oi;let Zr,Lc,Zi,Ua,Tu,qi,oi,$i,Xn,ds,Kr,rn,vs=!1;const Fr=ie.drag;let mn=Fr.x,Kn=Fr.y;me&&(ie.x&&(Zr=al(Oge,g)),ie.y&&(Lc=al(jge,g)),V.ori==0?(Zi=Zr,Ua=Lc):(Zi=Lc,Ua=Zr),Kr=ie.left,rn=ie.top);const qr=n.select=Qa({show:!0,over:!0,left:0,width:0,top:0,height:0},t.select),hr=qr.show?al(Ige,qr.over?g:v):null;function Cu($,te){if(qr.show){for(let oe in $)qr[oe]=$[oe],oe in Vf&&Jn(hr,oe,$[oe]);te!==!1&&ta("setSelect")}}n.setSelect=Cu;function ji($){if(w[$].show)le&&pE(ze[$],yv);else if(le&&Ts(ze[$],yv),me){let oe=ge?be[0]:be[$];oe!=null&&ju(oe,-10,-10,Mt,nt)}}function Wa($,te,oe){Oi($,{min:te,max:oe})}function bi($,te,oe,se){te.focus!=null&&Go($),te.show!=null&&w.forEach((he,Se)=>{Se>0&&($==Se||$==null)&&(he.show=te.show,ji(Se),a==2?(Wa(he.facets[0].scale,null,null),Wa(he.facets[1].scale,null,null)):Wa(he.scale,null,null),Ho())}),oe!==!1&&ta("setSeries",$,te),se&&Si("setSeries",n,$,te)}n.setSeries=bi;function bp($,te){Qa(D[$],te)}function vd($,te){$.fill=Br($.fill||null),$.dir=un($.dir,-1),te=te??D.length,D.splice(te,0,$)}function Jm($){$==null?D.length=0:D.splice($,1)}n.addBand=vd,n.setBand=bp,n.delBand=Jm;function Sp($,te){w[$].alpha=te,me&&be[$]!=null&&(be[$].style.opacity=te),le&&ze[$]&&(ze[$].style.opacity=te)}let mo,qs,ps;const Mu={focus:!0};function Go($){if($!=ps){let te=$==null,oe=Pi.alpha!=1;w.forEach((se,he)=>{if(a==1||he>0){let Se=te||he==0||he==$;se._focus=te?null:Se,oe&&Sp(he,Se?1:Pi.alpha)}}),ps=$,oe&&Ho()}}le&&ce&&tn(g3,pe,$=>{ie._lock||(Ba($),ps!=null&&bi(null,Mu,!0,$r.setSeries))});function Uo($,te,oe){let se=A[te];oe&&($=$/vn-(se.ori==1?wn:Or));let he=Mt;se.ori==1&&(he=nt,$=he-$),se.dir==-1&&($=he-$);let Se=se._min,Be=se._max,Ge=$/he,$e=Se+(Be-Se)*Ge,Ke=se.distr;return Ke==3?im(10,$e):Ke==4?eme($e,se.asinh):Ke==100?se.bwd($e):$e}function pd($,te){let oe=Uo($,R,te);return eu(oe,e[0],fr,lr)}n.valToIdx=$=>eu($,e[0]),n.posToIdx=pd,n.posToVal=Uo,n.valToPos=($,te,oe)=>A[te].ori==0?i($,A[te],oe?gr:Mt,oe?wa:0):o($,A[te],oe?Zn:nt,oe?ia:0),n.setCursor=($,te,oe)=>{Kr=$.left,rn=$.top,Ol(null,te,oe)};function gs($,te){Jn(hr,rg,qr.left=$),Jn(hr,L0,qr.width=te)}function gd($,te){Jn(hr,Gy,qr.top=$),Jn(hr,E0,qr.height=te)}let Au=V.ori==0?gs:gd,Il=V.ori==1?gs:gd;function md(){if(le&&ne.live)for(let $=a==2?1:0;$<w.length;$++){if($==0&&vt)continue;let te=ne.values[$],oe=0;for(let se in te)Ie[$][oe++].firstChild.nodeValue=te[se]}}function zf($,te){if($!=null&&($.idxs?$.idxs.forEach((oe,se)=>{K[se]=oe}):ame($.idx)||K.fill($.idx),ne.idx=K[0]),le&&ne.live){for(let oe=0;oe<w.length;oe++)(oe>0||a==1&&!vt)&&wp(oe,K[oe]);md()}oa=!1,te!==!1&&ta("setLegend")}n.setLegend=zf;function wp($,te){let oe=w[$],se=$==0&&G==2?Vr:e[$],he;vt?he=oe.values(n,$,te)??ct:(he=oe.value(n,te==null?null:se[te],$,te),he=he==null?ct:{_:he}),ne.values[$]=he}function Ol($,te,oe){Xn=Kr,ds=rn,[Kr,rn]=ie.move(n,Kr,rn),ie.left=Kr,ie.top=rn,me&&(Zi&&ju(Zi,hi(Kr),0,Mt,nt),Ua&&ju(Ua,0,hi(rn),Mt,nt));let se,he=fr>lr;mo=Gn,qs=null;let Se=V.ori==0?Mt:nt,Be=V.ori==1?Mt:nt;if(Kr<0||cr==0||he){se=ie.idx=null;for(let Ge=0;Ge<w.length;Ge++){let $e=be[Ge];$e!=null&&ju($e,-10,-10,Mt,nt)}ce&&bi(null,Mu,!0,$==null&&$r.setSeries),ne.live&&(K.fill(se),oa=!0)}else{let Ge,$e,Ke;a==1&&(Ge=V.ori==0?Kr:rn,$e=Uo(Ge,R),se=ie.idx=eu($e,e[0],fr,lr),Ke=F(e[0][se],V,Se,0));let lt=-10,it=-10,Qt=0,dr=0,Zt=!0,rr="",Bt="";for(let Dt=a==2?1:0;Dt<w.length;Dt++){let nn=w[Dt],yn=K[Dt],Cn=yn==null?null:a==1?e[Dt][yn]:e[Dt][1][yn],Hr=ie.dataIdx(n,Dt,se,$e),Qr=Hr==null?null:a==1?e[Dt][Hr]:e[Dt][1][Hr];if(oa=oa||Qr!=Cn||Hr!=yn,K[Dt]=Hr,Dt>0&&nn.show){let Ya=Hr==null?-10:Hr==se?Ke:F(a==1?e[0][Hr]:e[Dt][0][Hr],V,Se,0),sa=Qr==null?-10:q(Qr,a==1?A[nn.scale]:A[nn.facets[1].scale],Be,0);if(ce&&Qr!=null){let Ta=V.ori==1?Kr:rn,Xi=di(Pi.dist(n,Dt,Hr,sa,Ta));if(Xi<mo){let Ca=Pi.bias;if(Ca!=0){let da=Uo(Ta,nn.scale),si=Qr>=0?1:-1,Ki=da>=0?1:-1;Ki==si&&(Ki==1?Ca==1?Qr>=da:Qr<=da:Ca==1?Qr<=da:Qr>=da)&&(mo=Xi,qs=Dt)}else mo=Xi,qs=Dt}}if(oa||ge){let Ta,Xi;V.ori==0?(Ta=Ya,Xi=sa):(Ta=sa,Xi=Ya);let Ca,da,si,Ki,Mn,la,wi=!0,yo=fa.bbox;if(yo!=null){wi=!1;let li=yo(n,Dt);si=li.left,Ki=li.top,Ca=li.width,da=li.height}else si=Ta,Ki=Xi,Ca=da=fa.size(n,Dt);if(la=fa.fill(n,Dt),Mn=fa.stroke(n,Dt),ge)Dt==qs&&mo<=Pi.prox&&(lt=si,it=Ki,Qt=Ca,dr=da,Zt=wi,rr=la,Bt=Mn);else{let li=be[Dt];li!=null&&(Te[Dt]=si,qe[Dt]=Ki,w3(li,Ca,da,wi),b3(li,la,Mn),ju(li,hl(si),hl(Ki),Mt,nt))}}}}if(ge){let Dt=Pi.prox,nn=ps==null?mo<=Dt:mo>Dt||qs!=ps;if(oa||nn){let yn=be[0];yn!=null&&(Te[0]=lt,qe[0]=it,w3(yn,Qt,dr,Zt),b3(yn,rr,Bt),ju(yn,hl(lt),hl(it),Mt,nt))}}}if(qr.show&&vs)if($!=null){let[Ge,$e]=$r.scales,[Ke,lt]=$r.match,[it,Qt]=$.cursor.sync.scales,dr=$.cursor.drag;if(mn=dr._x,Kn=dr._y,mn||Kn){let{left:Zt,top:rr,width:Bt,height:Dt}=$.select,nn=$.scales[it].ori,yn=$.posToVal,Cn,Hr,Qr,Ya,sa,Ta=Ge!=null&&Ke(Ge,it),Xi=$e!=null&&lt($e,Qt);Ta&&mn?(nn==0?(Cn=Zt,Hr=Bt):(Cn=rr,Hr=Dt),Qr=A[Ge],Ya=F(yn(Cn,it),Qr,Se,0),sa=F(yn(Cn+Hr,it),Qr,Se,0),Au(tu(Ya,sa),di(sa-Ya))):Au(0,Se),Xi&&Kn?(nn==1?(Cn=Zt,Hr=Bt):(Cn=rr,Hr=Dt),Qr=A[$e],Ya=q(yn(Cn,Qt),Qr,Be,0),sa=q(yn(Cn+Hr,Qt),Qr,Be,0),Il(tu(Ya,sa),di(sa-Ya))):Il(0,Be)}else Du()}else{let Ge=di(Xn-Tu),$e=di(ds-qi);if(V.ori==1){let Qt=Ge;Ge=$e,$e=Qt}mn=Fr.x&&Ge>=Fr.dist,Kn=Fr.y&&$e>=Fr.dist;let Ke=Fr.uni;Ke!=null?mn&&Kn&&(mn=Ge>=Ke,Kn=$e>=Ke,!mn&&!Kn&&($e>Ge?Kn=!0:mn=!0)):Fr.x&&Fr.y&&(mn||Kn)&&(mn=Kn=!0);let lt,it;mn&&(V.ori==0?(lt=oi,it=Kr):(lt=$i,it=rn),Au(tu(lt,it),di(it-lt)),Kn||Il(0,Be)),Kn&&(V.ori==1?(lt=oi,it=Kr):(lt=$i,it=rn),Il(tu(lt,it),di(it-lt)),mn||Au(0,Se)),!mn&&!Kn&&(Au(0,0),Il(0,0))}if(Fr._x=mn,Fr._y=Kn,$==null){if(oe){if(Fl!=null){let[Ge,$e]=$r.scales;$r.values[0]=Ge!=null?Uo(V.ori==0?Kr:rn,Ge):null,$r.values[1]=$e!=null?Uo(V.ori==1?Kr:rn,$e):null}Si(n2,n,Kr,rn,Mt,nt,se)}if(ce){let Ge=oe&&$r.setSeries,$e=Pi.prox;ps==null?mo<=$e&&bi(qs,Mu,!0,Ge):mo>$e?bi(null,Mu,!0,Ge):qs!=ps&&bi(qs,Mu,!0,Ge)}}oa&&(ne.idx=se,zf()),te!==!1&&ta("setCursor")}let ms=null;Object.defineProperty(n,"rect",{get(){return ms==null&&jl(!1),ms}});function jl($=!1){$?ms=null:(ms=g.getBoundingClientRect(),ta("syncRect",ms))}function Tp($,te,oe,se,he,Se,Be){ie._lock||vs&&$!=null&&$.movementX==0&&$.movementY==0||(Bf($,te,oe,se,he,Se,Be,!1,$!=null),$!=null?Ol(null,!0,!0):Ol(te,!0,!1))}function Bf($,te,oe,se,he,Se,Be,Ge,$e){if(ms==null&&jl(!1),Ba($),$!=null)oe=$.clientX-ms.left,se=$.clientY-ms.top;else{if(oe<0||se<0){Kr=-10,rn=-10;return}let[Ke,lt]=$r.scales,it=te.cursor.sync,[Qt,dr]=it.values,[Zt,rr]=it.scales,[Bt,Dt]=$r.match,nn=te.axes[0].side%2==1,yn=V.ori==0?Mt:nt,Cn=V.ori==1?Mt:nt,Hr=nn?Se:he,Qr=nn?he:Se,Ya=nn?se:oe,sa=nn?oe:se;if(Zt!=null?oe=Bt(Ke,Zt)?s(Qt,A[Ke],yn,0):-10:oe=yn*(Ya/Hr),rr!=null?se=Dt(lt,rr)?s(dr,A[lt],Cn,0):-10:se=Cn*(sa/Qr),V.ori==1){let Ta=oe;oe=se,se=Ta}}$e&&(te==null||te.cursor.event.type==n2)&&((oe<=1||oe>=Mt-1)&&(oe=uv(oe,Mt)),(se<=1||se>=nt-1)&&(se=uv(se,nt))),Ge?(Tu=oe,qi=se,[oi,$i]=ie.move(n,oe,se)):(Kr=oe,rn=se)}const Vf={width:0,height:0,left:0,top:0};function Du(){Cu(Vf,!1)}let $s,Cp,Lu,zi;function Ec($,te,oe,se,he,Se,Be){vs=!0,mn=Kn=Fr._x=Fr._y=!1,Bf($,te,oe,se,he,Se,Be,!0,!1),$!=null&&(tn(a2,dE,zl,!1),Si(v3,n,oi,$i,Mt,nt,null));let{left:Ge,top:$e,width:Ke,height:lt}=qr;$s=Ge,Cp=$e,Lu=Ke,zi=lt}function zl($,te,oe,se,he,Se,Be){vs=Fr._x=Fr._y=!1,Bf($,te,oe,se,he,Se,Be,!1,!0);let{left:Ge,top:$e,width:Ke,height:lt}=qr,it=Ke>0||lt>0,Qt=$s!=Ge||Cp!=$e||Lu!=Ke||zi!=lt;if(it&&Qt&&Cu(qr),Fr.setScale&&it&&Qt){let dr=Ge,Zt=Ke,rr=$e,Bt=lt;if(V.ori==1&&(dr=$e,Zt=lt,rr=Ge,Bt=Ke),mn&&Wa(R,Uo(dr,R),Uo(dr+Zt,R)),Kn)for(let Dt in A){let nn=A[Dt];Dt!=R&&nn.from==null&&nn.min!=Gn&&Wa(Dt,Uo(rr+Bt,Dt),Uo(rr,Dt))}Du()}else ie.lock&&(ie._lock=!ie._lock,Ol(te,!0,$!=null));$!=null&&(aa(a2,dE),Si(a2,n,Kr,rn,Mt,nt,null))}function ey($,te,oe,se,he,Se,Be){if(ie._lock)return;Ba($);let Ge=vs;if(vs){let $e=!0,Ke=!0,lt=10,it,Qt;V.ori==0?(it=mn,Qt=Kn):(it=Kn,Qt=mn),it&&Qt&&($e=Kr<=lt||Kr>=Mt-lt,Ke=rn<=lt||rn>=nt-lt),it&&$e&&(Kr=Kr<oi?0:Mt),Qt&&Ke&&(rn=rn<$i?0:nt),Ol(null,!0,!0),vs=!1}Kr=-10,rn=-10,K.fill(null),Ol(null,!0,!0),Ge&&(vs=Ge)}function Nc($,te,oe,se,he,Se,Be){ie._lock||(Ba($),ki(),Du(),$!=null&&Si(m3,n,Kr,rn,Mt,nt,null))}function Rc(){M.forEach(_ye),po(n.width,n.height,!0)}Rv(QS,$g,Rc);const Bl={};Bl.mousedown=Ec,Bl.mousemove=Tp,Bl.mouseup=zl,Bl.dblclick=Nc,Bl.setSeries=($,te,oe,se)=>{let he=$r.match[2];oe=he(n,te,oe),oe!=-1&&bi(oe,se,!0,!1)},me&&(tn(v3,g,Ec),tn(n2,g,Tp),tn(p3,g,$=>{Ba($),jl(!1)}),tn(g3,g,ey),tn(m3,g,Nc),bE.add(n),n.syncRect=jl);const Pc=n.hooks=t.hooks||{};function ta($,te,oe){Zs?Ga.push([$,te,oe]):$ in Pc&&Pc[$].forEach(se=>{se.call(null,n,te,oe)})}(t.plugins||[]).forEach($=>{for(let te in $.hooks)Pc[te]=(Pc[te]||[]).concat($.hooks[te])});const Vl=($,te,oe)=>oe,$r=Qa({key:null,setSeries:!1,filters:{pub:D3,sub:D3},scales:[R,w[1]?w[1].scale:null],match:[L3,L3,Vl],values:[null,null]},ie.sync);$r.match.length==2&&$r.match.push(Vl),ie.sync=$r;const Fl=$r.key,yd=ZZ(Fl);function Si($,te,oe,se,he,Se,Be){$r.filters.pub($,te,oe,se,he,Se,Be)&&yd.pub($,te,oe,se,he,Se,Be)}yd.sub(n);function Mp($,te,oe,se,he,Se,Be){$r.filters.sub($,te,oe,se,he,Se,Be)&&Bl[$](null,te,oe,se,he,Se,Be)}n.pub=Mp;function Wo(){yd.unsub(n),bE.delete(n),fn.clear(),gE(QS,$g,Rc),u.remove(),pe?.remove(),ta("destroy")}n.destroy=Wo;function Hl(){ta("init",t,e),Tn(e||t.data,!1),Q[R]?Oi(R,Q[R]):ki(),Ri=qr.show&&(qr.width>0||qr.height>0),Oo=oa=!0,po(t.width,t.height)}return w.forEach(rt),M.forEach(Pt),r?r instanceof HTMLElement?(r.appendChild(u),Hl()):r(n,Hl):Hl(),n}oo.assign=Qa;oo.fmtNum=qP;oo.rangeNum=JS;oo.rangeLog=YT;oo.rangeAsinh=YP;oo.orient=up;oo.pxRatio=vn;oo.join=fme;oo.fmtDate=XP,oo.tzDate=Sme;oo.sync=ZZ;{oo.addGap=aye,oo.clipGaps=$T;let t=oo.paths={points:JZ};t.linear=tq,t.stepped=sye,t.bars=lye,t.spline=cye}function iq({options:t,data:e,className:r,height:n=200}){const a=O.useRef(null),i=O.useRef(null);return O.useEffect(()=>{if(!a.current)return;const o=a.current,s=o.clientWidth,l=new oo({...t,width:s,height:n},e,o);i.current=l;const u=new ResizeObserver(c=>{const f=c[0];f&&i.current&&i.current.setSize({width:f.contentRect.width,height:n})});return u.observe(o),()=>{u.disconnect(),l.destroy(),i.current=null}},[t,n]),O.useEffect(()=>{i.current&&e&&i.current.setData(e)},[e]),x.jsx("div",{ref:a,className:dt("w-full",r)})}function bye(){const{data:t,isLoading:e}=Xr({queryKey:["alert-trend",24],queryFn:()=>yge(24),refetchInterval:6e4}),r=io(l=>l.resolvedTheme),n=r==="dark"?"#71717a":"#52525b",a=r==="dark"?"#27272a":"#e4e4e7",i=t?.trend||[],o=[i.map(l=>new Date(l.hour).getTime()/1e3),i.map(l=>l.opened),i.map(l=>l.closed)],s=O.useMemo(()=>({scales:{x:{time:!0},y:{}},axes:[{stroke:n,grid:{stroke:a}},{stroke:n,grid:{stroke:a},size:50}],series:[{},{label:"Opened",stroke:"#ef4444",width:2,points:{show:!1}},{label:"Closed",stroke:"#22c55e",width:2,points:{show:!1}}],legend:{show:!0}}),[n,a]);return e?x.jsxs(Gr,{children:[x.jsx(Ur,{children:x.jsxs(pn,{className:"flex items-center gap-2 text-base",children:[x.jsx($L,{className:"h-4 w-4"}),"Alert Trend (24h)"]})}),x.jsx(Wr,{children:x.jsx(wr,{className:"h-[200px]"})})]}):x.jsxs(Gr,{children:[x.jsx(Ur,{children:x.jsxs(pn,{className:"flex items-center gap-2 text-base",children:[x.jsx($L,{className:"h-4 w-4"}),"Alert Trend (24h)"]})}),x.jsx(Wr,{children:i.length===0?x.jsx("div",{className:"h-[200px] flex items-center justify-center text-muted-foreground",children:"No alert data"}):x.jsx(iq,{options:s,data:o,height:200})})]})}const Sye=O.memo(bye);var wE=function(t,e){return wE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},wE(t,e)};function ye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");wE(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var wye=(function(){function t(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return t})(),Tye=(function(){function t(){this.browser=new wye,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return t})(),nr=new Tye;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(nr.wxa=!0,nr.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?nr.worker=!0:!nr.hasGlobalWindow||"Deno"in window||typeof navigator<"u"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Node.js")>-1?(nr.node=!0,nr.svgSupported=!0):Cye(navigator.userAgent,nr);function Cye(t,e){var r=e.browser,n=t.match(/Firefox\/([\d.]+)/),a=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),i=t.match(/Edge?\/([\d.]+)/),o=/micromessenger/i.test(t);n&&(r.firefox=!0,r.version=n[1]),a&&(r.ie=!0,r.version=a[1]),i&&(r.edge=!0,r.version=i[1],r.newEdge=+i[1].split(".")[0]>18),o&&(r.weChat=!0),e.svgSupported=typeof SVGRect<"u",e.touchEventsSupported="ontouchstart"in window&&!r.ie&&!r.edge,e.pointerEventsSupported="onpointerdown"in window&&(r.edge||r.ie&&+r.version>=11);var s=e.domSupported=typeof document<"u";if(s){var l=document.documentElement.style;e.transform3dSupported=(r.ie&&"transition"in l||r.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in l)&&!("OTransition"in l),e.transformSupported=e.transform3dSupported||r.ie&&+r.version>=9}}var nk=12,oq="sans-serif",mf=nk+"px "+oq,Mye=20,Aye=100,Dye="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function Lye(t){var e={};if(typeof JSON>"u")return e;for(var r=0;r<t.length;r++){var n=String.fromCharCode(r+32),a=(t.charCodeAt(r)-Mye)/Aye;e[n]=a}return e}var Eye=Lye(Dye),cu={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:(function(){var t,e;return function(r,n){if(!t){var a=cu.createCanvas();t=a&&a.getContext("2d")}if(t)return e!==n&&(e=t.font=n||mf),t.measureText(r);r=r||"",n=n||mf;var i=/((?:\d+)?\.?\d*)px/.exec(n),o=i&&+i[1]||nk,s=0;if(n.indexOf("mono")>=0)s=o*r.length;else for(var l=0;l<r.length;l++){var u=Eye[r[l]];s+=u==null?o:u*o}return{width:s}}})(),loadImage:function(t,e,r){var n=new Image;return n.onload=e,n.onerror=r,n.src=t,n}},sq=gc(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(t,e){return t["[object "+e+"]"]=!0,t},{}),lq=gc(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(t,e){return t["[object "+e+"Array]"]=!0,t},{}),jm=Object.prototype.toString,JT=Array.prototype,Nye=JT.forEach,Rye=JT.filter,ak=JT.slice,Pye=JT.map,K3=(function(){}).constructor,Yb=K3?K3.prototype:null,ik="__proto__",kye=2311;function uq(){return kye++}function ok(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];typeof console<"u"&&console.error.apply(console,t)}function ut(t){if(t==null||typeof t!="object")return t;var e=t,r=jm.call(t);if(r==="[object Array]"){if(!K0(t)){e=[];for(var n=0,a=t.length;n<a;n++)e[n]=ut(t[n])}}else if(lq[r]){if(!K0(t)){var i=t.constructor;if(i.from)e=i.from(t);else{e=new i(t.length);for(var n=0,a=t.length;n<a;n++)e[n]=t[n]}}}else if(!sq[r]&&!K0(t)&&!um(t)){e={};for(var o in t)t.hasOwnProperty(o)&&o!==ik&&(e[o]=ut(t[o]))}return e}function Gt(t,e,r){if(!mt(e)||!mt(t))return r?ut(e):t;for(var n in e)if(e.hasOwnProperty(n)&&n!==ik){var a=t[n],i=e[n];mt(i)&&mt(a)&&!Ee(i)&&!Ee(a)&&!um(i)&&!um(a)&&!Q3(i)&&!Q3(a)&&!K0(i)&&!K0(a)?Gt(a,i,r):(r||!(n in t))&&(t[n]=ut(e[n]))}return t}function sk(t,e){for(var r=t[0],n=1,a=t.length;n<a;n++)r=Gt(r,t[n],e);return r}function Ae(t,e){if(Object.assign)Object.assign(t,e);else for(var r in e)e.hasOwnProperty(r)&&r!==ik&&(t[r]=e[r]);return t}function gt(t,e,r){for(var n=sr(e),a=0,i=n.length;a<i;a++){var o=n[a];(r?e[o]!=null:t[o]==null)&&(t[o]=e[o])}return t}function Vt(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r}return-1}function Iye(t,e){var r=t.prototype;function n(){}n.prototype=e.prototype,t.prototype=new n;for(var a in r)r.hasOwnProperty(a)&&(t.prototype[a]=r[a]);t.prototype.constructor=t,t.superClass=e}function ja(t,e,r){if(t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,Object.getOwnPropertyNames)for(var n=Object.getOwnPropertyNames(e),a=0;a<n.length;a++){var i=n[a];i!=="constructor"&&(r?e[i]!=null:t[i]==null)&&(t[i]=e[i])}else gt(t,e,r)}function uo(t){return!t||typeof t=="string"?!1:typeof t.length=="number"}function Y(t,e,r){if(t&&e)if(t.forEach&&t.forEach===Nye)t.forEach(e,r);else if(t.length===+t.length)for(var n=0,a=t.length;n<a;n++)e.call(r,t[n],n,t);else for(var i in t)t.hasOwnProperty(i)&&e.call(r,t[i],i,t)}function Re(t,e,r){if(!t)return[];if(!e)return lk(t);if(t.map&&t.map===Pye)return t.map(e,r);for(var n=[],a=0,i=t.length;a<i;a++)n.push(e.call(r,t[a],a,t));return n}function gc(t,e,r,n){if(t&&e){for(var a=0,i=t.length;a<i;a++)r=e.call(n,r,t[a],a,t);return r}}function Ir(t,e,r){if(!t)return[];if(!e)return lk(t);if(t.filter&&t.filter===Rye)return t.filter(e,r);for(var n=[],a=0,i=t.length;a<i;a++)e.call(r,t[a],a,t)&&n.push(t[a]);return n}function cp(t,e,r){if(t&&e){for(var n=0,a=t.length;n<a;n++)if(e.call(r,t[n],n,t))return t[n]}}function sr(t){if(!t)return[];if(Object.keys)return Object.keys(t);var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(r);return e}function Oye(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return function(){return t.apply(e,r.concat(ak.call(arguments)))}}var Ye=Yb&&ot(Yb.bind)?Yb.call.bind(Yb.bind):Oye;function zt(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return function(){return t.apply(this,e.concat(ak.call(arguments)))}}function Ee(t){return Array.isArray?Array.isArray(t):jm.call(t)==="[object Array]"}function ot(t){return typeof t=="function"}function We(t){return typeof t=="string"}function TE(t){return jm.call(t)==="[object String]"}function vr(t){return typeof t=="number"}function mt(t){var e=typeof t;return e==="function"||!!t&&e==="object"}function Q3(t){return!!sq[jm.call(t)]}function is(t){return!!lq[jm.call(t)]}function um(t){return typeof t=="object"&&typeof t.nodeType=="number"&&typeof t.ownerDocument=="object"}function eC(t){return t.colorStops!=null}function jye(t){return t.image!=null}function zye(t){return jm.call(t)==="[object RegExp]"}function so(t){return t!==t}function Wi(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=0,n=t.length;r<n;r++)if(t[r]!=null)return t[r]}function et(t,e){return t??e}function ks(t,e,r){return t??e??r}function lk(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return ak.apply(t,e)}function tC(t){if(typeof t=="number")return[t,t,t,t];var e=t.length;return e===2?[t[0],t[1],t[0],t[1]]:e===3?[t[0],t[1],t[2],t[1]]:t}function co(t,e){if(!t)throw new Error(e)}function ml(t){return t==null?null:typeof t.trim=="function"?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var cq="__ec_primitive__";function tw(t){t[cq]=!0}function K0(t){return t[cq]}var Bye=(function(){function t(){this.data={}}return t.prototype.delete=function(e){var r=this.has(e);return r&&delete this.data[e],r},t.prototype.has=function(e){return this.data.hasOwnProperty(e)},t.prototype.get=function(e){return this.data[e]},t.prototype.set=function(e,r){return this.data[e]=r,this},t.prototype.keys=function(){return sr(this.data)},t.prototype.forEach=function(e){var r=this.data;for(var n in r)r.hasOwnProperty(n)&&e(r[n],n)},t})(),fq=typeof Map=="function";function Vye(){return fq?new Map:new Bye}var Fye=(function(){function t(e){var r=Ee(e);this.data=Vye();var n=this;e instanceof t?e.each(a):e&&Y(e,a);function a(i,o){r?n.set(i,o):n.set(o,i)}}return t.prototype.hasKey=function(e){return this.data.has(e)},t.prototype.get=function(e){return this.data.get(e)},t.prototype.set=function(e,r){return this.data.set(e,r),r},t.prototype.each=function(e,r){this.data.forEach(function(n,a){e.call(r,n,a)})},t.prototype.keys=function(){var e=this.data.keys();return fq?Array.from(e):e},t.prototype.removeKey=function(e){this.data.delete(e)},t})();function Qe(t){return new Fye(t)}function xx(t,e){for(var r=new t.constructor(t.length+e.length),n=0;n<t.length;n++)r[n]=t[n];for(var a=t.length,n=0;n<e.length;n++)r[n+a]=e[n];return r}function rC(t,e){var r;if(Object.create)r=Object.create(t);else{var n=function(){};n.prototype=t,r=new n}return e&&Ae(r,e),r}function hq(t){var e=t.style;e.webkitUserSelect="none",e.userSelect="none",e.webkitTapHighlightColor="rgba(0,0,0,0)",e["-webkit-touch-callout"]="none"}function Xe(t,e){return t.hasOwnProperty(e)}function _a(){}var gS=180/Math.PI;var CE=function(t,e){return CE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},CE(t,e)};function Bn(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");CE(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function fp(t,e){return t==null&&(t=0),e==null&&(e=0),[t,e]}function So(t,e){return t[0]=e[0],t[1]=e[1],t}function cf(t){return[t[0],t[1]]}function uk(t,e,r){return t[0]=e,t[1]=r,t}function J3(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t}function ME(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t}function Cv(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t}function AE(t){return Math.sqrt(Hye(t))}function Hye(t){return t[0]*t[0]+t[1]*t[1]}function mS(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t}function zm(t,e){var r=AE(e);return r===0?(t[0]=0,t[1]=0):(t[0]=e[0]/r,t[1]=e[1]/r),t}function DE(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var Eh=DE;function Gye(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}var Pv=Gye;function yS(t,e,r,n){return t[0]=e[0]+n*(r[0]-e[0]),t[1]=e[1]+n*(r[1]-e[1]),t}function ba(t,e,r){var n=e[0],a=e[1];return t[0]=r[0]*n+r[2]*a+r[4],t[1]=r[1]*n+r[3]*a+r[5],t}function Nh(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t}function Rh(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t}var ng=(function(){function t(e,r){this.target=e,this.topTarget=r&&r.topTarget}return t})(),Uye=(function(){function t(e){this.handler=e,e.on("mousedown",this._dragStart,this),e.on("mousemove",this._drag,this),e.on("mouseup",this._dragEnd,this)}return t.prototype._dragStart=function(e){for(var r=e.target;r&&!r.draggable;)r=r.parent||r.__hostTarget;r&&(this._draggingTarget=r,r.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.handler.dispatchToElement(new ng(r,e),"dragstart",e.event))},t.prototype._drag=function(e){var r=this._draggingTarget;if(r){var n=e.offsetX,a=e.offsetY,i=n-this._x,o=a-this._y;this._x=n,this._y=a,r.drift(i,o,e),this.handler.dispatchToElement(new ng(r,e),"drag",e.event);var s=this.handler.findHover(n,a,r).target,l=this._dropTarget;this._dropTarget=s,r!==s&&(l&&s!==l&&this.handler.dispatchToElement(new ng(l,e),"dragleave",e.event),s&&s!==l&&this.handler.dispatchToElement(new ng(s,e),"dragenter",e.event))}},t.prototype._dragEnd=function(e){var r=this._draggingTarget;r&&(r.dragging=!1),this.handler.dispatchToElement(new ng(r,e),"dragend",e.event),this._dropTarget&&this.handler.dispatchToElement(new ng(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null},t})(),Nl=(function(){function t(e){e&&(this._$eventProcessor=e)}return t.prototype.on=function(e,r,n,a){this._$handlers||(this._$handlers={});var i=this._$handlers;if(typeof r=="function"&&(a=n,n=r,r=null),!n||!e)return this;var o=this._$eventProcessor;r!=null&&o&&o.normalizeQuery&&(r=o.normalizeQuery(r)),i[e]||(i[e]=[]);for(var s=0;s<i[e].length;s++)if(i[e][s].h===n)return this;var l={h:n,query:r,ctx:a||this,callAtLast:n.zrEventfulCallAtLast},u=i[e].length-1,c=i[e][u];return c&&c.callAtLast?i[e].splice(u,0,l):i[e].push(l),this},t.prototype.isSilent=function(e){var r=this._$handlers;return!r||!r[e]||!r[e].length},t.prototype.off=function(e,r){var n=this._$handlers;if(!n)return this;if(!e)return this._$handlers={},this;if(r){if(n[e]){for(var a=[],i=0,o=n[e].length;i<o;i++)n[e][i].h!==r&&a.push(n[e][i]);n[e]=a}n[e]&&n[e].length===0&&delete n[e]}else delete n[e];return this},t.prototype.trigger=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];if(!this._$handlers)return this;var a=this._$handlers[e],i=this._$eventProcessor;if(a)for(var o=r.length,s=a.length,l=0;l<s;l++){var u=a[l];if(!(i&&i.filter&&u.query!=null&&!i.filter(e,u.query)))switch(o){case 0:u.h.call(u.ctx);break;case 1:u.h.call(u.ctx,r[0]);break;case 2:u.h.call(u.ctx,r[0],r[1]);break;default:u.h.apply(u.ctx,r);break}}return i&&i.afterTrigger&&i.afterTrigger(e),this},t.prototype.triggerWithContext=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];if(!this._$handlers)return this;var a=this._$handlers[e],i=this._$eventProcessor;if(a)for(var o=r.length,s=r[o-1],l=a.length,u=0;u<l;u++){var c=a[u];if(!(i&&i.filter&&c.query!=null&&!i.filter(e,c.query)))switch(o){case 0:c.h.call(s);break;case 1:c.h.call(s,r[0]);break;case 2:c.h.call(s,r[0],r[1]);break;default:c.h.apply(s,r.slice(1,o-1));break}}return i&&i.afterTrigger&&i.afterTrigger(e),this},t})(),Wye=Math.log(2);function LE(t,e,r,n,a,i){var o=n+"-"+a,s=t.length;if(i.hasOwnProperty(o))return i[o];if(e===1){var l=Math.round(Math.log((1<<s)-1&~a)/Wye);return t[r][l]}for(var u=n|1<<r,c=r+1;n&1<<c;)c++;for(var f=0,d=0,v=0;d<s;d++){var g=1<<d;g&a||(f+=(v%2?-1:1)*t[r][d]*LE(t,e-1,c,u,a|g,i),v++)}return i[o]=f,f}function e4(t,e){var r=[[t[0],t[1],1,0,0,0,-e[0]*t[0],-e[0]*t[1]],[0,0,0,t[0],t[1],1,-e[1]*t[0],-e[1]*t[1]],[t[2],t[3],1,0,0,0,-e[2]*t[2],-e[2]*t[3]],[0,0,0,t[2],t[3],1,-e[3]*t[2],-e[3]*t[3]],[t[4],t[5],1,0,0,0,-e[4]*t[4],-e[4]*t[5]],[0,0,0,t[4],t[5],1,-e[5]*t[4],-e[5]*t[5]],[t[6],t[7],1,0,0,0,-e[6]*t[6],-e[6]*t[7]],[0,0,0,t[6],t[7],1,-e[7]*t[6],-e[7]*t[7]]],n={},a=LE(r,8,0,0,0,n);if(a!==0){for(var i=[],o=0;o<8;o++)for(var s=0;s<8;s++)i[s]==null&&(i[s]=0),i[s]+=((o+s)%2?-1:1)*LE(r,7,o===0?1:0,1<<o,1<<s,n)/a*e[o];return function(l,u,c){var f=u*i[6]+c*i[7]+1;l[0]=(u*i[0]+c*i[1]+i[2])/f,l[1]=(u*i[3]+c*i[4]+i[5])/f}}}var rw="___zrEVENTSAVED",u2=[];function Yye(t,e,r,n,a){return EE(u2,e,n,a,!0)&&EE(t,r,u2[0],u2[1])}function Zye(t,e){t&&r(t),e&&r(e);function r(n){var a=n[rw];a&&(a.clearMarkers&&a.clearMarkers(),delete n[rw])}}function EE(t,e,r,n,a){if(e.getBoundingClientRect&&nr.domSupported&&!dq(e)){var i=e[rw]||(e[rw]={}),o=qye(e,i),s=$ye(o,i,a);if(s)return s(t,r,n),!0}return!1}function qye(t,e){var r=e.markers;if(r)return r;r=e.markers=[];for(var n=["left","right"],a=["top","bottom"],i=0;i<4;i++){var o=document.createElement("div"),s=o.style,l=i%2,u=(i>>1)%2;s.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",n[l]+":0",a[u]+":0",n[1-l]+":auto",a[1-u]+":auto",""].join("!important;"),t.appendChild(o),r.push(o)}return e.clearMarkers=function(){Y(r,function(c){c.parentNode&&c.parentNode.removeChild(c)})},r}function $ye(t,e,r){for(var n=r?"invTrans":"trans",a=e[n],i=e.srcCoords,o=[],s=[],l=!0,u=0;u<4;u++){var c=t[u].getBoundingClientRect(),f=2*u,d=c.left,v=c.top;o.push(d,v),l=l&&i&&d===i[f]&&v===i[f+1],s.push(t[u].offsetLeft,t[u].offsetTop)}return l&&a?a:(e.srcCoords=o,e[n]=r?e4(s,o):e4(o,s))}function dq(t){return t.nodeName.toUpperCase()==="CANVAS"}var Xye=/([&<>"'])/g,Kye={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Ao(t){return t==null?"":(t+"").replace(Xye,function(e,r){return Kye[r]})}var Qye=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,c2=[],Jye=nr.browser.firefox&&+nr.browser.version.split(".")[0]<39;function NE(t,e,r,n){return r=r||{},n?t4(t,e,r):Jye&&e.layerX!=null&&e.layerX!==e.offsetX?(r.zrX=e.layerX,r.zrY=e.layerY):e.offsetX!=null?(r.zrX=e.offsetX,r.zrY=e.offsetY):t4(t,e,r),r}function t4(t,e,r){if(nr.domSupported&&t.getBoundingClientRect){var n=e.clientX,a=e.clientY;if(dq(t)){var i=t.getBoundingClientRect();r.zrX=n-i.left,r.zrY=a-i.top;return}else if(EE(c2,t,n,a)){r.zrX=c2[0],r.zrY=c2[1];return}}r.zrX=r.zrY=0}function ck(t){return t||window.event}function ol(t,e,r){if(e=ck(e),e.zrX!=null)return e;var n=e.type,a=n&&n.indexOf("touch")>=0;if(a){var o=n!=="touchend"?e.targetTouches[0]:e.changedTouches[0];o&&NE(t,o,e,r)}else{NE(t,e,e,r);var i=e0e(e);e.zrDelta=i?i/120:-(e.detail||0)/3}var s=e.button;return e.which==null&&s!==void 0&&Qye.test(e.type)&&(e.which=s&1?1:s&2?3:s&4?2:0),e}function e0e(t){var e=t.wheelDelta;if(e)return e;var r=t.deltaX,n=t.deltaY;if(r==null||n==null)return e;var a=Math.abs(n!==0?n:r),i=n>0?-1:n<0?1:r>0?-1:1;return 3*a*i}function RE(t,e,r,n){t.addEventListener(e,r,n)}function t0e(t,e,r,n){t.removeEventListener(e,r,n)}var yf=function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0};function r4(t){return t.which===2||t.which===3}var r0e=(function(){function t(){this._track=[]}return t.prototype.recognize=function(e,r,n){return this._doTrack(e,r,n),this._recognize(e)},t.prototype.clear=function(){return this._track.length=0,this},t.prototype._doTrack=function(e,r,n){var a=e.touches;if(a){for(var i={points:[],touches:[],target:r,event:e},o=0,s=a.length;o<s;o++){var l=a[o],u=NE(n,l,{});i.points.push([u.zrX,u.zrY]),i.touches.push(l)}this._track.push(i)}},t.prototype._recognize=function(e){for(var r in f2)if(f2.hasOwnProperty(r)){var n=f2[r](this._track,e);if(n)return n}},t})();function n4(t){var e=t[1][0]-t[0][0],r=t[1][1]-t[0][1];return Math.sqrt(e*e+r*r)}function n0e(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]}var f2={pinch:function(t,e){var r=t.length;if(r){var n=(t[r-1]||{}).points,a=(t[r-2]||{}).points||n;if(a&&a.length>1&&n&&n.length>1){var i=n4(n)/n4(a);!isFinite(i)&&(i=1),e.pinchScale=i;var o=n0e(n);return e.pinchX=o[0],e.pinchY=o[1],{type:"pinch",target:t[0].target,event:e}}}}};function Di(){return[1,0,0,1,0,0]}function nC(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function aC(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function uc(t,e,r){var n=e[0]*r[0]+e[2]*r[1],a=e[1]*r[0]+e[3]*r[1],i=e[0]*r[2]+e[2]*r[3],o=e[1]*r[2]+e[3]*r[3],s=e[0]*r[4]+e[2]*r[5]+e[4],l=e[1]*r[4]+e[3]*r[5]+e[5];return t[0]=n,t[1]=a,t[2]=i,t[3]=o,t[4]=s,t[5]=l,t}function mc(t,e,r){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+r[0],t[5]=e[5]+r[1],t}function ud(t,e,r,n){n===void 0&&(n=[0,0]);var a=e[0],i=e[2],o=e[4],s=e[1],l=e[3],u=e[5],c=Math.sin(r),f=Math.cos(r);return t[0]=a*f+s*c,t[1]=-a*c+s*f,t[2]=i*f+l*c,t[3]=-i*c+f*l,t[4]=f*(o-n[0])+c*(u-n[1])+n[0],t[5]=f*(u-n[1])-c*(o-n[0])+n[1],t}function fk(t,e,r){var n=r[0],a=r[1];return t[0]=e[0]*n,t[1]=e[1]*a,t[2]=e[2]*n,t[3]=e[3]*a,t[4]=e[4]*n,t[5]=e[5]*a,t}function fu(t,e){var r=e[0],n=e[2],a=e[4],i=e[1],o=e[3],s=e[5],l=r*o-i*n;return l?(l=1/l,t[0]=o*l,t[1]=-i*l,t[2]=-n*l,t[3]=r*l,t[4]=(n*s-o*a)*l,t[5]=(i*a-r*s)*l,t):null}function a0e(t){var e=Di();return aC(e,t),e}var ht=(function(){function t(e,r){this.x=e||0,this.y=r||0}return t.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.set=function(e,r){return this.x=e,this.y=r,this},t.prototype.equal=function(e){return e.x===this.x&&e.y===this.y},t.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this},t.prototype.scale=function(e){this.x*=e,this.y*=e},t.prototype.scaleAndAdd=function(e,r){this.x+=e.x*r,this.y+=e.y*r},t.prototype.sub=function(e){return this.x-=e.x,this.y-=e.y,this},t.prototype.dot=function(e){return this.x*e.x+this.y*e.y},t.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},t.prototype.normalize=function(){var e=this.len();return this.x/=e,this.y/=e,this},t.prototype.distance=function(e){var r=this.x-e.x,n=this.y-e.y;return Math.sqrt(r*r+n*n)},t.prototype.distanceSquare=function(e){var r=this.x-e.x,n=this.y-e.y;return r*r+n*n},t.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},t.prototype.transform=function(e){if(e){var r=this.x,n=this.y;return this.x=e[0]*r+e[2]*n+e[4],this.y=e[1]*r+e[3]*n+e[5],this}},t.prototype.toArray=function(e){return e[0]=this.x,e[1]=this.y,e},t.prototype.fromArray=function(e){this.x=e[0],this.y=e[1]},t.set=function(e,r,n){e.x=r,e.y=n},t.copy=function(e,r){e.x=r.x,e.y=r.y},t.len=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},t.lenSquare=function(e){return e.x*e.x+e.y*e.y},t.dot=function(e,r){return e.x*r.x+e.y*r.y},t.add=function(e,r,n){e.x=r.x+n.x,e.y=r.y+n.y},t.sub=function(e,r,n){e.x=r.x-n.x,e.y=r.y-n.y},t.scale=function(e,r,n){e.x=r.x*n,e.y=r.y*n},t.scaleAndAdd=function(e,r,n,a){e.x=r.x+n.x*a,e.y=r.y+n.y*a},t.lerp=function(e,r,n,a){var i=1-a;e.x=i*r.x+a*n.x,e.y=i*r.y+a*n.y},t})(),Mv=Math.min,jg=Math.max,PE=Math.abs,a4=["x","y"],i0e=["width","height"],Od=new ht,jd=new ht,zd=new ht,Bd=new ht,As=vq(),R0=As.minTv,kE=As.maxTv,Q0=[0,0],yt=(function(){function t(e,r,n,a){t.set(this,e,r,n,a)}return t.set=function(e,r,n,a,i){return a<0&&(r=r+a,a=-a),i<0&&(n=n+i,i=-i),e.x=r,e.y=n,e.width=a,e.height=i,e},t.prototype.union=function(e){var r=Mv(e.x,this.x),n=Mv(e.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=jg(e.x+e.width,this.x+this.width)-r:this.width=e.width,isFinite(this.y)&&isFinite(this.height)?this.height=jg(e.y+e.height,this.y+this.height)-n:this.height=e.height,this.x=r,this.y=n},t.prototype.applyTransform=function(e){t.applyTransform(this,this,e)},t.prototype.calculateTransform=function(e){var r=this,n=e.width/r.width,a=e.height/r.height,i=Di();return mc(i,i,[-r.x,-r.y]),fk(i,i,[n,a]),mc(i,i,[e.x,e.y]),i},t.prototype.intersect=function(e,r,n){return t.intersect(this,e,r,n)},t.intersect=function(e,r,n,a){n&&ht.set(n,0,0);var i=a&&a.outIntersectRect||null,o=a&&a.clamp;if(i&&(i.x=i.y=i.width=i.height=NaN),!e||!r)return!1;e instanceof t||(e=t.set(o0e,e.x,e.y,e.width,e.height)),r instanceof t||(r=t.set(s0e,r.x,r.y,r.width,r.height));var s=!!n;As.reset(a,s);var l=As.touchThreshold,u=e.x+l,c=e.x+e.width-l,f=e.y+l,d=e.y+e.height-l,v=r.x+l,g=r.x+r.width-l,y=r.y+l,b=r.y+r.height-l;if(u>c||f>d||v>g||y>b)return!1;var S=!(c<v||g<u||d<y||b<f);return(s||i)&&(Q0[0]=1/0,Q0[1]=0,i4(u,c,v,g,0,s,i,o),i4(f,d,y,b,1,s,i,o),s&&ht.copy(n,S?As.useDir?As.dirMinTv:R0:kE)),S},t.contain=function(e,r,n){return r>=e.x&&r<=e.x+e.width&&n>=e.y&&n<=e.y+e.height},t.prototype.contain=function(e,r){return t.contain(this,e,r)},t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copy=function(e){t.copy(this,e)},t.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},t.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},t.prototype.isZero=function(){return this.width===0||this.height===0},t.create=function(e){return new t(e.x,e.y,e.width,e.height)},t.copy=function(e,r){return e.x=r.x,e.y=r.y,e.width=r.width,e.height=r.height,e},t.applyTransform=function(e,r,n){if(!n){e!==r&&t.copy(e,r);return}if(n[1]<1e-5&&n[1]>-1e-5&&n[2]<1e-5&&n[2]>-1e-5){var a=n[0],i=n[3],o=n[4],s=n[5];e.x=r.x*a+o,e.y=r.y*i+s,e.width=r.width*a,e.height=r.height*i,e.width<0&&(e.x+=e.width,e.width=-e.width),e.height<0&&(e.y+=e.height,e.height=-e.height);return}Od.x=zd.x=r.x,Od.y=Bd.y=r.y,jd.x=Bd.x=r.x+r.width,jd.y=zd.y=r.y+r.height,Od.transform(n),Bd.transform(n),jd.transform(n),zd.transform(n),e.x=Mv(Od.x,jd.x,zd.x,Bd.x),e.y=Mv(Od.y,jd.y,zd.y,Bd.y);var l=jg(Od.x,jd.x,zd.x,Bd.x),u=jg(Od.y,jd.y,zd.y,Bd.y);e.width=l-e.x,e.height=u-e.y},t})(),o0e=new yt(0,0,0,0),s0e=new yt(0,0,0,0);function i4(t,e,r,n,a,i,o,s){var l=PE(e-r),u=PE(n-t),c=Mv(l,u),f=a4[a],d=a4[1-a],v=i0e[a];e<r||n<t?l<u?(i&&(kE[f]=-l),s&&(o[f]=e,o[v]=0)):(i&&(kE[f]=u),s&&(o[f]=t,o[v]=0)):(o&&(o[f]=jg(t,r),o[v]=Mv(e,n)-o[f]),i&&(c<Q0[0]||As.useDir)&&(Q0[0]=Mv(c,Q0[0]),(l<u||!As.bidirectional)&&(R0[f]=l,R0[d]=0,As.useDir&&As.calcDirMTV()),(l>=u||!As.bidirectional)&&(R0[f]=-u,R0[d]=0,As.useDir&&As.calcDirMTV())))}function vq(){var t=0,e=new ht,r=new ht,n={minTv:new ht,maxTv:new ht,useDir:!1,dirMinTv:new ht,touchThreshold:0,bidirectional:!0,negativeSize:!1,reset:function(i,o){n.touchThreshold=0,i&&i.touchThreshold!=null&&(n.touchThreshold=jg(0,i.touchThreshold)),n.negativeSize=!1,o&&(n.minTv.set(1/0,1/0),n.maxTv.set(0,0),n.useDir=!1,i&&i.direction!=null&&(n.useDir=!0,n.dirMinTv.copy(n.minTv),r.copy(n.minTv),t=i.direction,n.bidirectional=i.bidirectional==null||!!i.bidirectional,n.bidirectional||e.set(Math.cos(t),Math.sin(t))))},calcDirMTV:function(){var i=n.minTv,o=n.dirMinTv,s=i.y*i.y+i.x*i.x,l=Math.sin(t),u=Math.cos(t),c=l*i.y+u*i.x;if(a(c)){a(i.x)&&a(i.y)&&o.set(0,0);return}if(r.x=s*u/c,r.y=s*l/c,a(r.x)&&a(r.y)){o.set(0,0);return}(n.bidirectional||e.dot(r)>0)&&r.len()<o.len()&&o.copy(r)}};function a(i){return PE(i)<1e-10}return n}var pq="silent";function l0e(t,e,r){return{type:t,event:r,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:r.zrX,offsetY:r.zrY,gestureEvent:r.gestureEvent,pinchX:r.pinchX,pinchY:r.pinchY,pinchScale:r.pinchScale,wheelDelta:r.zrDelta,zrByTouch:r.zrByTouch,which:r.which,stop:u0e}}function u0e(){yf(this.event)}var c0e=(function(t){Bn(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.handler=null,r}return e.prototype.dispose=function(){},e.prototype.setCursor=function(){},e})(Nl),Wy=(function(){function t(e,r){this.x=e,this.y=r}return t})(),f0e=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],h2=new yt(0,0,0,0),gq=(function(t){Bn(e,t);function e(r,n,a,i,o){var s=t.call(this)||this;return s._hovered=new Wy(0,0),s.storage=r,s.painter=n,s.painterRoot=i,s._pointerSize=o,a=a||new c0e,s.proxy=null,s.setHandlerProxy(a),s._draggingMgr=new Uye(s),s}return e.prototype.setHandlerProxy=function(r){this.proxy&&this.proxy.dispose(),r&&(Y(f0e,function(n){r.on&&r.on(n,this[n],this)},this),r.handler=this),this.proxy=r},e.prototype.mousemove=function(r){var n=r.zrX,a=r.zrY,i=mq(this,n,a),o=this._hovered,s=o.target;s&&!s.__zr&&(o=this.findHover(o.x,o.y),s=o.target);var l=this._hovered=i?new Wy(n,a):this.findHover(n,a),u=l.target,c=this.proxy;c.setCursor&&c.setCursor(u?u.cursor:"default"),s&&u!==s&&this.dispatchToElement(o,"mouseout",r),this.dispatchToElement(l,"mousemove",r),u&&u!==s&&this.dispatchToElement(l,"mouseover",r)},e.prototype.mouseout=function(r){var n=r.zrEventControl;n!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",r),n!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:r})},e.prototype.resize=function(){this._hovered=new Wy(0,0)},e.prototype.dispatch=function(r,n){var a=this[r];a&&a.call(this,n)},e.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},e.prototype.setCursorStyle=function(r){var n=this.proxy;n.setCursor&&n.setCursor(r)},e.prototype.dispatchToElement=function(r,n,a){r=r||{};var i=r.target;if(!(i&&i.silent)){for(var o="on"+n,s=l0e(n,r,a);i&&(i[o]&&(s.cancelBubble=!!i[o].call(i,s)),i.trigger(n,s),i=i.__hostTarget?i.__hostTarget:i.parent,!s.cancelBubble););s.cancelBubble||(this.trigger(n,s),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(l){typeof l[o]=="function"&&l[o].call(l,s),l.trigger&&l.trigger(n,s)}))}},e.prototype.findHover=function(r,n,a){var i=this.storage.getDisplayList(),o=new Wy(r,n);if(o4(i,o,r,n,a),this._pointerSize&&!o.target){for(var s=[],l=this._pointerSize,u=l/2,c=new yt(r-u,n-u,l,l),f=i.length-1;f>=0;f--){var d=i[f];d!==a&&!d.ignore&&!d.ignoreCoarsePointer&&(!d.parent||!d.parent.ignoreCoarsePointer)&&(h2.copy(d.getBoundingRect()),d.transform&&h2.applyTransform(d.transform),h2.intersect(c)&&s.push(d))}if(s.length)for(var v=4,g=Math.PI/12,y=Math.PI*2,b=0;b<u;b+=v)for(var S=0;S<y;S+=g){var w=r+b*Math.cos(S),M=n+b*Math.sin(S);if(o4(s,o,w,M,a),o.target)return o}}return o},e.prototype.processGesture=function(r,n){this._gestureMgr||(this._gestureMgr=new r0e);var a=this._gestureMgr;n==="start"&&a.clear();var i=a.recognize(r,this.findHover(r.zrX,r.zrY,null).target,this.proxy.dom);if(n==="end"&&a.clear(),i){var o=i.type;r.gestureEvent=o;var s=new Wy;s.target=i.target,this.dispatchToElement(s,o,i.event)}},e})(Nl);Y(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){gq.prototype[t]=function(e){var r=e.zrX,n=e.zrY,a=mq(this,r,n),i,o;if((t!=="mouseup"||!a)&&(i=this.findHover(r,n),o=i.target),t==="mousedown")this._downEl=o,this._downPoint=[e.zrX,e.zrY],this._upEl=o;else if(t==="mouseup")this._upEl=o;else if(t==="click"){if(this._downEl!==this._upEl||!this._downPoint||Eh(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(i,t,e)}});function h0e(t,e,r){if(t[t.rectHover?"rectContain":"contain"](e,r)){for(var n=t,a=void 0,i=!1;n;){if(n.ignoreClip&&(i=!0),!i){var o=n.getClipPath();if(o&&!o.contain(e,r))return!1}n.silent&&(a=!0);var s=n.__hostTarget;n=s?n.ignoreHostSilent?null:s:n.parent}return a?pq:!0}return!1}function o4(t,e,r,n,a){for(var i=t.length-1;i>=0;i--){var o=t[i],s=void 0;if(o!==a&&!o.ignore&&(s=h0e(o,r,n))&&(!e.topTarget&&(e.topTarget=o),s!==pq)){e.target=o;break}}}function mq(t,e,r){var n=t.painter;return e<0||e>n.getWidth()||r<0||r>n.getHeight()}var yq=32,Yy=7;function d0e(t){for(var e=0;t>=yq;)e|=t&1,t>>=1;return t+e}function s4(t,e,r,n){var a=e+1;if(a===r)return 1;if(n(t[a++],t[e])<0){for(;a<r&&n(t[a],t[a-1])<0;)a++;v0e(t,e,a)}else for(;a<r&&n(t[a],t[a-1])>=0;)a++;return a-e}function v0e(t,e,r){for(r--;e<r;){var n=t[e];t[e++]=t[r],t[r--]=n}}function l4(t,e,r,n,a){for(n===e&&n++;n<r;n++){for(var i=t[n],o=e,s=n,l;o<s;)l=o+s>>>1,a(i,t[l])<0?s=l:o=l+1;var u=n-o;switch(u){case 3:t[o+3]=t[o+2];case 2:t[o+2]=t[o+1];case 1:t[o+1]=t[o];break;default:for(;u>0;)t[o+u]=t[o+u-1],u--}t[o]=i}}function d2(t,e,r,n,a,i){var o=0,s=0,l=1;if(i(t,e[r+a])>0){for(s=n-a;l<s&&i(t,e[r+a+l])>0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s),o+=a,l+=a}else{for(s=a+1;l<s&&i(t,e[r+a-l])<=0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s);var u=o;o=a-l,l=a-u}for(o++;o<l;){var c=o+(l-o>>>1);i(t,e[r+c])>0?o=c+1:l=c}return l}function v2(t,e,r,n,a,i){var o=0,s=0,l=1;if(i(t,e[r+a])<0){for(s=a+1;l<s&&i(t,e[r+a-l])<0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s);var u=o;o=a-l,l=a-u}else{for(s=n-a;l<s&&i(t,e[r+a+l])>=0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s),o+=a,l+=a}for(o++;o<l;){var c=o+(l-o>>>1);i(t,e[r+c])<0?l=c:o=c+1}return l}function p0e(t,e){var r=Yy,n,a,i=0,o=[];n=[],a=[];function s(v,g){n[i]=v,a[i]=g,i+=1}function l(){for(;i>1;){var v=i-2;if(v>=1&&a[v-1]<=a[v]+a[v+1]||v>=2&&a[v-2]<=a[v]+a[v-1])a[v-1]<a[v+1]&&v--;else if(a[v]>a[v+1])break;c(v)}}function u(){for(;i>1;){var v=i-2;v>0&&a[v-1]<a[v+1]&&v--,c(v)}}function c(v){var g=n[v],y=a[v],b=n[v+1],S=a[v+1];a[v]=y+S,v===i-3&&(n[v+1]=n[v+2],a[v+1]=a[v+2]),i--;var w=v2(t[b],t,g,y,0,e);g+=w,y-=w,y!==0&&(S=d2(t[g+y-1],t,b,S,S-1,e),S!==0&&(y<=S?f(g,y,b,S):d(g,y,b,S)))}function f(v,g,y,b){var S=0;for(S=0;S<g;S++)o[S]=t[v+S];var w=0,M=y,A=v;if(t[A++]=t[M++],--b===0){for(S=0;S<g;S++)t[A+S]=o[w+S];return}if(g===1){for(S=0;S<b;S++)t[A+S]=t[M+S];t[A+b]=o[w];return}for(var D=r,R,N,I;;){R=0,N=0,I=!1;do if(e(t[M],o[w])<0){if(t[A++]=t[M++],N++,R=0,--b===0){I=!0;break}}else if(t[A++]=o[w++],R++,N=0,--g===1){I=!0;break}while((R|N)<D);if(I)break;do{if(R=v2(t[M],o,w,g,0,e),R!==0){for(S=0;S<R;S++)t[A+S]=o[w+S];if(A+=R,w+=R,g-=R,g<=1){I=!0;break}}if(t[A++]=t[M++],--b===0){I=!0;break}if(N=d2(o[w],t,M,b,0,e),N!==0){for(S=0;S<N;S++)t[A+S]=t[M+S];if(A+=N,M+=N,b-=N,b===0){I=!0;break}}if(t[A++]=o[w++],--g===1){I=!0;break}D--}while(R>=Yy||N>=Yy);if(I)break;D<0&&(D=0),D+=2}if(r=D,r<1&&(r=1),g===1){for(S=0;S<b;S++)t[A+S]=t[M+S];t[A+b]=o[w]}else{if(g===0)throw new Error;for(S=0;S<g;S++)t[A+S]=o[w+S]}}function d(v,g,y,b){var S=0;for(S=0;S<b;S++)o[S]=t[y+S];var w=v+g-1,M=b-1,A=y+b-1,D=0,R=0;if(t[A--]=t[w--],--g===0){for(D=A-(b-1),S=0;S<b;S++)t[D+S]=o[S];return}if(b===1){for(A-=g,w-=g,R=A+1,D=w+1,S=g-1;S>=0;S--)t[R+S]=t[D+S];t[A]=o[M];return}for(var N=r;;){var I=0,z=0,B=!1;do if(e(o[M],t[w])<0){if(t[A--]=t[w--],I++,z=0,--g===0){B=!0;break}}else if(t[A--]=o[M--],z++,I=0,--b===1){B=!0;break}while((I|z)<N);if(B)break;do{if(I=g-v2(o[M],t,v,g,g-1,e),I!==0){for(A-=I,w-=I,g-=I,R=A+1,D=w+1,S=I-1;S>=0;S--)t[R+S]=t[D+S];if(g===0){B=!0;break}}if(t[A--]=o[M--],--b===1){B=!0;break}if(z=b-d2(t[w],o,0,b,b-1,e),z!==0){for(A-=z,M-=z,b-=z,R=A+1,D=M+1,S=0;S<z;S++)t[R+S]=o[D+S];if(b<=1){B=!0;break}}if(t[A--]=t[w--],--g===0){B=!0;break}N--}while(I>=Yy||z>=Yy);if(B)break;N<0&&(N=0),N+=2}if(r=N,r<1&&(r=1),b===1){for(A-=g,w-=g,R=A+1,D=w+1,S=g-1;S>=0;S--)t[R+S]=t[D+S];t[A]=o[M]}else{if(b===0)throw new Error;for(D=A-(b-1),S=0;S<b;S++)t[D+S]=o[S]}}return{mergeRuns:l,forceMergeRuns:u,pushRun:s}}function xS(t,e,r,n){r||(r=0),n||(n=t.length);var a=n-r;if(!(a<2)){var i=0;if(a<yq){i=s4(t,r,n,e),l4(t,r,n,r+i,e);return}var o=p0e(t,e),s=d0e(a);do{if(i=s4(t,r,n,e),i<s){var l=a;l>s&&(l=s),l4(t,r,r+l,r+i,e),i=l}o.pushRun(r,i),o.mergeRuns(),a-=i,r+=i}while(a!==0);o.forceMergeRuns()}}var Ls=1,P0=2,Rg=4,u4=!1;function p2(){u4||(u4=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function c4(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}var g0e=(function(){function t(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=c4}return t.prototype.traverse=function(e,r){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(e,r)},t.prototype.getDisplayList=function(e,r){r=r||!1;var n=this._displayList;return(e||!n.length)&&this.updateDisplayList(r),n},t.prototype.updateDisplayList=function(e){this._displayListLen=0;for(var r=this._roots,n=this._displayList,a=0,i=r.length;a<i;a++)this._updateAndAddDisplayable(r[a],null,e);n.length=this._displayListLen,xS(n,c4)},t.prototype._updateAndAddDisplayable=function(e,r,n){if(!(e.ignore&&!n)){e.beforeUpdate(),e.update(),e.afterUpdate();var a=e.getClipPath(),i=r&&r.length,o=0,s=e.__clipPaths;if(!e.ignoreClip&&(i||a)){if(s||(s=e.__clipPaths=[]),i)for(var l=0;l<r.length;l++)s[o++]=r[l];for(var u=a,c=e;u;)u.parent=c,u.updateTransform(),s[o++]=u,c=u,u=u.getClipPath()}if(s&&(s.length=o),e.childrenRef){for(var f=e.childrenRef(),d=0;d<f.length;d++){var v=f[d];e.__dirty&&(v.__dirty|=Ls),this._updateAndAddDisplayable(v,s,n)}e.__dirty=0}else{var g=e;isNaN(g.z)&&(p2(),g.z=0),isNaN(g.z2)&&(p2(),g.z2=0),isNaN(g.zlevel)&&(p2(),g.zlevel=0),this._displayList[this._displayListLen++]=g}var y=e.getDecalElement&&e.getDecalElement();y&&this._updateAndAddDisplayable(y,s,n);var b=e.getTextGuideLine();b&&this._updateAndAddDisplayable(b,s,n);var S=e.getTextContent();S&&this._updateAndAddDisplayable(S,s,n)}},t.prototype.addRoot=function(e){e.__zr&&e.__zr.storage===this||this._roots.push(e)},t.prototype.delRoot=function(e){if(e instanceof Array){for(var r=0,n=e.length;r<n;r++)this.delRoot(e[r]);return}var a=Vt(this._roots,e);a>=0&&this._roots.splice(a,1)},t.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},t.prototype.getRoots=function(){return this._roots},t.prototype.dispose=function(){this._displayList=null,this._roots=null},t})(),nw;nw=nr.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){return setTimeout(t,16)};var J0={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return .5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return t===0?0:Math.pow(1024,t-1)},exponentialOut:function(t){return t===1?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return t===0?0:t===1?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,r=.1,n=.4;return t===0?0:t===1?1:(!r||r<1?(r=1,e=n/4):e=n*Math.asin(1/r)/(2*Math.PI),-(r*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)))},elasticOut:function(t){var e,r=.1,n=.4;return t===0?0:t===1?1:(!r||r<1?(r=1,e=n/4):e=n*Math.asin(1/r)/(2*Math.PI),r*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/n)+1)},elasticInOut:function(t){var e,r=.1,n=.4;return t===0?0:t===1?1:(!r||r<1?(r=1,e=n/4):e=n*Math.asin(1/r)/(2*Math.PI),(t*=2)<1?-.5*(r*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)):r*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-J0.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?J0.bounceIn(t*2)*.5:J0.bounceOut(t*2-1)*.5+.5}},Zb=Math.pow,Vh=Math.sqrt,aw=1e-8,xq=1e-4,f4=Vh(3),qb=1/3,Xu=fp(),dl=fp(),Xg=fp();function Ph(t){return t>-aw&&t<aw}function _q(t){return t>aw||t<-aw}function vi(t,e,r,n,a){var i=1-a;return i*i*(i*t+3*a*e)+a*a*(a*n+3*i*r)}function h4(t,e,r,n,a){var i=1-a;return 3*(((e-t)*i+2*(r-e)*a)*i+(n-r)*a*a)}function iw(t,e,r,n,a,i){var o=n+3*(e-r)-t,s=3*(r-e*2+t),l=3*(e-t),u=t-a,c=s*s-3*o*l,f=s*l-9*o*u,d=l*l-3*s*u,v=0;if(Ph(c)&&Ph(f))if(Ph(s))i[0]=0;else{var g=-l/s;g>=0&&g<=1&&(i[v++]=g)}else{var y=f*f-4*c*d;if(Ph(y)){var b=f/c,g=-s/o+b,S=-b/2;g>=0&&g<=1&&(i[v++]=g),S>=0&&S<=1&&(i[v++]=S)}else if(y>0){var w=Vh(y),M=c*s+1.5*o*(-f+w),A=c*s+1.5*o*(-f-w);M<0?M=-Zb(-M,qb):M=Zb(M,qb),A<0?A=-Zb(-A,qb):A=Zb(A,qb);var g=(-s-(M+A))/(3*o);g>=0&&g<=1&&(i[v++]=g)}else{var D=(2*c*s-3*o*f)/(2*Vh(c*c*c)),R=Math.acos(D)/3,N=Vh(c),I=Math.cos(R),g=(-s-2*N*I)/(3*o),S=(-s+N*(I+f4*Math.sin(R)))/(3*o),z=(-s+N*(I-f4*Math.sin(R)))/(3*o);g>=0&&g<=1&&(i[v++]=g),S>=0&&S<=1&&(i[v++]=S),z>=0&&z<=1&&(i[v++]=z)}}return v}function bq(t,e,r,n,a){var i=6*r-12*e+6*t,o=9*e+3*n-3*t-9*r,s=3*e-3*t,l=0;if(Ph(o)){if(_q(i)){var u=-s/i;u>=0&&u<=1&&(a[l++]=u)}}else{var c=i*i-4*o*s;if(Ph(c))a[0]=-i/(2*o);else if(c>0){var f=Vh(c),u=(-i+f)/(2*o),d=(-i-f)/(2*o);u>=0&&u<=1&&(a[l++]=u),d>=0&&d<=1&&(a[l++]=d)}}return l}function Qh(t,e,r,n,a,i){var o=(e-t)*a+t,s=(r-e)*a+e,l=(n-r)*a+r,u=(s-o)*a+o,c=(l-s)*a+s,f=(c-u)*a+u;i[0]=t,i[1]=o,i[2]=u,i[3]=f,i[4]=f,i[5]=c,i[6]=l,i[7]=n}function Sq(t,e,r,n,a,i,o,s,l,u,c){var f,d=.005,v=1/0,g,y,b,S;Xu[0]=l,Xu[1]=u;for(var w=0;w<1;w+=.05)dl[0]=vi(t,r,a,o,w),dl[1]=vi(e,n,i,s,w),b=Pv(Xu,dl),b<v&&(f=w,v=b);v=1/0;for(var M=0;M<32&&!(d<xq);M++)g=f-d,y=f+d,dl[0]=vi(t,r,a,o,g),dl[1]=vi(e,n,i,s,g),b=Pv(dl,Xu),g>=0&&b<v?(f=g,v=b):(Xg[0]=vi(t,r,a,o,y),Xg[1]=vi(e,n,i,s,y),S=Pv(Xg,Xu),y<=1&&S<v?(f=y,v=S):d*=.5);return c&&(c[0]=vi(t,r,a,o,f),c[1]=vi(e,n,i,s,f)),Vh(v)}function m0e(t,e,r,n,a,i,o,s,l){for(var u=t,c=e,f=0,d=1/l,v=1;v<=l;v++){var g=v*d,y=vi(t,r,a,o,g),b=vi(e,n,i,s,g),S=y-u,w=b-c;f+=Math.sqrt(S*S+w*w),u=y,c=b}return f}function Ai(t,e,r,n){var a=1-n;return a*(a*t+2*n*e)+n*n*r}function IE(t,e,r,n){return 2*((1-n)*(e-t)+n*(r-e))}function y0e(t,e,r,n,a){var i=t-2*e+r,o=2*(e-t),s=t-n,l=0;if(Ph(i)){if(_q(o)){var u=-s/o;u>=0&&u<=1&&(a[l++]=u)}}else{var c=o*o-4*i*s;if(Ph(c)){var u=-o/(2*i);u>=0&&u<=1&&(a[l++]=u)}else if(c>0){var f=Vh(c),u=(-o+f)/(2*i),d=(-o-f)/(2*i);u>=0&&u<=1&&(a[l++]=u),d>=0&&d<=1&&(a[l++]=d)}}return l}function wq(t,e,r){var n=t+r-2*e;return n===0?.5:(t-e)/n}function _x(t,e,r,n,a){var i=(e-t)*n+t,o=(r-e)*n+e,s=(o-i)*n+i;a[0]=t,a[1]=i,a[2]=s,a[3]=s,a[4]=o,a[5]=r}function Tq(t,e,r,n,a,i,o,s,l){var u,c=.005,f=1/0;Xu[0]=o,Xu[1]=s;for(var d=0;d<1;d+=.05){dl[0]=Ai(t,r,a,d),dl[1]=Ai(e,n,i,d);var v=Pv(Xu,dl);v<f&&(u=d,f=v)}f=1/0;for(var g=0;g<32&&!(c<xq);g++){var y=u-c,b=u+c;dl[0]=Ai(t,r,a,y),dl[1]=Ai(e,n,i,y);var v=Pv(dl,Xu);if(y>=0&&v<f)u=y,f=v;else{Xg[0]=Ai(t,r,a,b),Xg[1]=Ai(e,n,i,b);var S=Pv(Xg,Xu);b<=1&&S<f?(u=b,f=S):c*=.5}}return l&&(l[0]=Ai(t,r,a,u),l[1]=Ai(e,n,i,u)),Vh(f)}function x0e(t,e,r,n,a,i,o){for(var s=t,l=e,u=0,c=1/o,f=1;f<=o;f++){var d=f*c,v=Ai(t,r,a,d),g=Ai(e,n,i,d),y=v-s,b=g-l;u+=Math.sqrt(y*y+b*b),s=v,l=g}return u}var _0e=/cubic-bezier\(([0-9,\.e ]+)\)/;function hk(t){var e=t&&_0e.exec(t);if(e){var r=e[1].split(","),n=+ml(r[0]),a=+ml(r[1]),i=+ml(r[2]),o=+ml(r[3]);if(isNaN(n+a+i+o))return;var s=[];return function(l){return l<=0?0:l>=1?1:iw(0,n,i,1,l,s)&&vi(0,a,o,1,s[0])}}}var b0e=(function(){function t(e){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=e.life||1e3,this._delay=e.delay||0,this.loop=e.loop||!1,this.onframe=e.onframe||_a,this.ondestroy=e.ondestroy||_a,this.onrestart=e.onrestart||_a,e.easing&&this.setEasing(e.easing)}return t.prototype.step=function(e,r){if(this._inited||(this._startTime=e+this._delay,this._inited=!0),this._paused){this._pausedTime+=r;return}var n=this._life,a=e-this._startTime-this._pausedTime,i=a/n;i<0&&(i=0),i=Math.min(i,1);var o=this.easingFunc,s=o?o(i):i;if(this.onframe(s),i===1)if(this.loop){var l=a%n;this._startTime=e-l,this._pausedTime=0,this.onrestart()}else return!0;return!1},t.prototype.pause=function(){this._paused=!0},t.prototype.resume=function(){this._paused=!1},t.prototype.setEasing=function(e){this.easing=e,this.easingFunc=ot(e)?e:J0[e]||hk(e)},t})(),Cq=(function(){function t(e){this.value=e}return t})(),S0e=(function(){function t(){this._len=0}return t.prototype.insert=function(e){var r=new Cq(e);return this.insertEntry(r),r},t.prototype.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},t.prototype.remove=function(e){var r=e.prev,n=e.next;r?r.next=n:this.head=n,n?n.prev=r:this.tail=r,e.next=e.prev=null,this._len--},t.prototype.len=function(){return this._len},t.prototype.clear=function(){this.head=this.tail=null,this._len=0},t})(),cm=(function(){function t(e){this._list=new S0e,this._maxSize=10,this._map={},this._maxSize=e}return t.prototype.put=function(e,r){var n=this._list,a=this._map,i=null;if(a[e]==null){var o=n.len(),s=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var l=n.head;n.remove(l),delete a[l.key],i=l.value,this._lastRemovedEntry=l}s?s.value=r:s=new Cq(r),s.key=e,n.insertEntry(s),a[e]=s}return i},t.prototype.get=function(e){var r=this._map[e],n=this._list;if(r!=null)return r!==n.tail&&(n.remove(r),n.insertEntry(r)),r.value},t.prototype.clear=function(){this._list.clear(),this._map={}},t.prototype.len=function(){return this._list.len()},t})(),d4={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function au(t){return t=Math.round(t),t<0?0:t>255?255:t}function w0e(t){return t=Math.round(t),t<0?0:t>360?360:t}function bx(t){return t<0?0:t>1?1:t}function g2(t){var e=t;return e.length&&e.charAt(e.length-1)==="%"?au(parseFloat(e)/100*255):au(parseInt(e,10))}function Fh(t){var e=t;return e.length&&e.charAt(e.length-1)==="%"?bx(parseFloat(e)/100):bx(parseFloat(e))}function m2(t,e,r){return r<0?r+=1:r>1&&(r-=1),r*6<1?t+(e-t)*r*6:r*2<1?e:r*3<2?t+(e-t)*(2/3-r)*6:t}function kh(t,e,r){return t+(e-t)*r}function il(t,e,r,n,a){return t[0]=e,t[1]=r,t[2]=n,t[3]=a,t}function OE(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}var Mq=new cm(20),$b=null;function ag(t,e){$b&&OE($b,e),$b=Mq.put(t,$b||e.slice())}function as(t,e){if(t){e=e||[];var r=Mq.get(t);if(r)return OE(e,r);t=t+"";var n=t.replace(/ /g,"").toLowerCase();if(n in d4)return OE(e,d4[n]),ag(t,e),e;var a=n.length;if(n.charAt(0)==="#"){if(a===4||a===5){var i=parseInt(n.slice(1,4),16);if(!(i>=0&&i<=4095)){il(e,0,0,0,1);return}return il(e,(i&3840)>>4|(i&3840)>>8,i&240|(i&240)>>4,i&15|(i&15)<<4,a===5?parseInt(n.slice(4),16)/15:1),ag(t,e),e}else if(a===7||a===9){var i=parseInt(n.slice(1,7),16);if(!(i>=0&&i<=16777215)){il(e,0,0,0,1);return}return il(e,(i&16711680)>>16,(i&65280)>>8,i&255,a===9?parseInt(n.slice(7),16)/255:1),ag(t,e),e}return}var o=n.indexOf("("),s=n.indexOf(")");if(o!==-1&&s+1===a){var l=n.substr(0,o),u=n.substr(o+1,s-(o+1)).split(","),c=1;switch(l){case"rgba":if(u.length!==4)return u.length===3?il(e,+u[0],+u[1],+u[2],1):il(e,0,0,0,1);c=Fh(u.pop());case"rgb":if(u.length>=3)return il(e,g2(u[0]),g2(u[1]),g2(u[2]),u.length===3?c:Fh(u[3])),ag(t,e),e;il(e,0,0,0,1);return;case"hsla":if(u.length!==4){il(e,0,0,0,1);return}return u[3]=Fh(u[3]),jE(u,e),ag(t,e),e;case"hsl":if(u.length!==3){il(e,0,0,0,1);return}return jE(u,e),ag(t,e),e;default:return}}il(e,0,0,0,1)}}function jE(t,e){var r=(parseFloat(t[0])%360+360)%360/360,n=Fh(t[1]),a=Fh(t[2]),i=a<=.5?a*(n+1):a+n-a*n,o=a*2-i;return e=e||[],il(e,au(m2(o,i,r+1/3)*255),au(m2(o,i,r)*255),au(m2(o,i,r-1/3)*255),1),t.length===4&&(e[3]=t[3]),e}function T0e(t){if(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255,a=Math.min(e,r,n),i=Math.max(e,r,n),o=i-a,s=(i+a)/2,l,u;if(o===0)l=0,u=0;else{s<.5?u=o/(i+a):u=o/(2-i-a);var c=((i-e)/6+o/2)/o,f=((i-r)/6+o/2)/o,d=((i-n)/6+o/2)/o;e===i?l=d-f:r===i?l=1/3+c-d:n===i&&(l=2/3+f-c),l<0&&(l+=1),l>1&&(l-=1)}var v=[l*360,u,s];return t[3]!=null&&v.push(t[3]),v}}function zE(t,e){var r=as(t);if(r){for(var n=0;n<3;n++)e<0?r[n]=r[n]*(1-e)|0:r[n]=(255-r[n])*e+r[n]|0,r[n]>255?r[n]=255:r[n]<0&&(r[n]=0);return cc(r,r.length===4?"rgba":"rgb")}}function y2(t,e,r){if(!(!(e&&e.length)||!(t>=0&&t<=1))){r=r||[];var n=t*(e.length-1),a=Math.floor(n),i=Math.ceil(n),o=e[a],s=e[i],l=n-a;return r[0]=au(kh(o[0],s[0],l)),r[1]=au(kh(o[1],s[1],l)),r[2]=au(kh(o[2],s[2],l)),r[3]=bx(kh(o[3],s[3],l)),r}}function C0e(t,e,r){if(!(!(e&&e.length)||!(t>=0&&t<=1))){var n=t*(e.length-1),a=Math.floor(n),i=Math.ceil(n),o=as(e[a]),s=as(e[i]),l=n-a,u=cc([au(kh(o[0],s[0],l)),au(kh(o[1],s[1],l)),au(kh(o[2],s[2],l)),bx(kh(o[3],s[3],l))],"rgba");return r?{color:u,leftIndex:a,rightIndex:i,value:n}:u}}function Hh(t,e,r,n){var a=as(t);if(t)return a=T0e(a),e!=null&&(a[0]=w0e(ot(e)?e(a[0]):e)),r!=null&&(a[1]=Fh(ot(r)?r(a[1]):r)),n!=null&&(a[2]=Fh(ot(n)?n(a[2]):n)),cc(jE(a),"rgba")}function ow(t,e){var r=as(t);if(r&&e!=null)return r[3]=bx(e),cc(r,"rgba")}function cc(t,e){if(!(!t||!t.length)){var r=t[0]+","+t[1]+","+t[2];return(e==="rgba"||e==="hsva"||e==="hsla")&&(r+=","+t[3]),e+"("+r+")"}}function sw(t,e){var r=as(t);return r?(.299*r[0]+.587*r[1]+.114*r[2])*r[3]/255+(1-r[3])*e:0}var v4=new cm(100);function BE(t){if(We(t)){var e=v4.get(t);return e||(e=zE(t,-.1),v4.put(t,e)),e}else if(eC(t)){var r=Ae({},t);return r.colorStops=Re(t.colorStops,function(n){return{offset:n.offset,color:zE(n.color,-.1)}}),r}return t}var lw=Math.round;function Sx(t){var e;if(!t||t==="transparent")t="none";else if(typeof t=="string"&&t.indexOf("rgba")>-1){var r=as(t);r&&(t="rgb("+r[0]+","+r[1]+","+r[2]+")",e=r[3])}return{color:t,opacity:e??1}}var p4=1e-4;function Ih(t){return t<p4&&t>-p4}function Xb(t){return lw(t*1e3)/1e3}function VE(t){return lw(t*1e4)/1e4}function M0e(t){return"matrix("+Xb(t[0])+","+Xb(t[1])+","+Xb(t[2])+","+Xb(t[3])+","+VE(t[4])+","+VE(t[5])+")"}var A0e={left:"start",right:"end",center:"middle",middle:"middle"};function D0e(t,e,r){return r==="top"?t+=e/2:r==="bottom"&&(t-=e/2),t}function L0e(t){return t&&(t.shadowBlur||t.shadowOffsetX||t.shadowOffsetY)}function E0e(t){var e=t.style,r=t.getGlobalScale();return[e.shadowColor,(e.shadowBlur||0).toFixed(2),(e.shadowOffsetX||0).toFixed(2),(e.shadowOffsetY||0).toFixed(2),r[0],r[1]].join(",")}function Aq(t){return t&&!!t.image}function N0e(t){return t&&!!t.svgElement}function dk(t){return Aq(t)||N0e(t)}function Dq(t){return t.type==="linear"}function Lq(t){return t.type==="radial"}function Eq(t){return t&&(t.type==="linear"||t.type==="radial")}function iC(t){return"url(#"+t+")"}function Nq(t){var e=t.getGlobalScale(),r=Math.max(e[0],e[1]);return Math.max(Math.ceil(Math.log(r)/Math.log(10)),1)}function Rq(t){var e=t.x||0,r=t.y||0,n=(t.rotation||0)*gS,a=et(t.scaleX,1),i=et(t.scaleY,1),o=t.skewX||0,s=t.skewY||0,l=[];return(e||r)&&l.push("translate("+e+"px,"+r+"px)"),n&&l.push("rotate("+n+")"),(a!==1||i!==1)&&l.push("scale("+a+","+i+")"),(o||s)&&l.push("skew("+lw(o*gS)+"deg, "+lw(s*gS)+"deg)"),l.join(" ")}var R0e=(function(){return nr.hasGlobalWindow&&ot(window.btoa)?function(t){return window.btoa(unescape(encodeURIComponent(t)))}:typeof Buffer<"u"?function(t){return Buffer.from(t).toString("base64")}:function(t){return null}})(),FE=Array.prototype.slice;function rf(t,e,r){return(e-t)*r+t}function x2(t,e,r,n){for(var a=e.length,i=0;i<a;i++)t[i]=rf(e[i],r[i],n);return t}function P0e(t,e,r,n){for(var a=e.length,i=a&&e[0].length,o=0;o<a;o++){t[o]||(t[o]=[]);for(var s=0;s<i;s++)t[o][s]=rf(e[o][s],r[o][s],n)}return t}function Kb(t,e,r,n){for(var a=e.length,i=0;i<a;i++)t[i]=e[i]+r[i]*n;return t}function g4(t,e,r,n){for(var a=e.length,i=a&&e[0].length,o=0;o<a;o++){t[o]||(t[o]=[]);for(var s=0;s<i;s++)t[o][s]=e[o][s]+r[o][s]*n}return t}function k0e(t,e){for(var r=t.length,n=e.length,a=r>n?e:t,i=Math.min(r,n),o=a[i-1]||{color:[0,0,0,0],offset:0},s=i;s<Math.max(r,n);s++)a.push({offset:o.offset,color:o.color.slice()})}function I0e(t,e,r){var n=t,a=e;if(!(!n.push||!a.push)){var i=n.length,o=a.length;if(i!==o){var s=i>o;if(s)n.length=o;else for(var l=i;l<o;l++)n.push(r===1?a[l]:FE.call(a[l]))}for(var u=n[0]&&n[0].length,l=0;l<n.length;l++)if(r===1)isNaN(n[l])&&(n[l]=a[l]);else for(var c=0;c<u;c++)isNaN(n[l][c])&&(n[l][c]=a[l][c])}}function ex(t){if(uo(t)){var e=t.length;if(uo(t[0])){for(var r=[],n=0;n<e;n++)r.push(FE.call(t[n]));return r}return FE.call(t)}return t}function _S(t){return t[0]=Math.floor(t[0])||0,t[1]=Math.floor(t[1])||0,t[2]=Math.floor(t[2])||0,t[3]=t[3]==null?1:t[3],"rgba("+t.join(",")+")"}function O0e(t){return uo(t&&t[0])?2:1}var Qb=0,bS=1,Pq=2,k0=3,HE=4,GE=5,m4=6;function y4(t){return t===HE||t===GE}function Jb(t){return t===bS||t===Pq}var Zy=[0,0,0,0],j0e=(function(){function t(e){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=e}return t.prototype.isFinished=function(){return this._finished},t.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},t.prototype.needsAnimate=function(){return this.keyframes.length>=1},t.prototype.getAdditiveTrack=function(){return this._additiveTrack},t.prototype.addKeyframe=function(e,r,n){this._needsSort=!0;var a=this.keyframes,i=a.length,o=!1,s=m4,l=r;if(uo(r)){var u=O0e(r);s=u,(u===1&&!vr(r[0])||u===2&&!vr(r[0][0]))&&(o=!0)}else if(vr(r)&&!so(r))s=Qb;else if(We(r))if(!isNaN(+r))s=Qb;else{var c=as(r);c&&(l=c,s=k0)}else if(eC(r)){var f=Ae({},l);f.colorStops=Re(r.colorStops,function(v){return{offset:v.offset,color:as(v.color)}}),Dq(r)?s=HE:Lq(r)&&(s=GE),l=f}i===0?this.valType=s:(s!==this.valType||s===m4)&&(o=!0),this.discrete=this.discrete||o;var d={time:e,value:l,rawValue:r,percent:0};return n&&(d.easing=n,d.easingFunc=ot(n)?n:J0[n]||hk(n)),a.push(d),d},t.prototype.prepare=function(e,r){var n=this.keyframes;this._needsSort&&n.sort(function(y,b){return y.time-b.time});for(var a=this.valType,i=n.length,o=n[i-1],s=this.discrete,l=Jb(a),u=y4(a),c=0;c<i;c++){var f=n[c],d=f.value,v=o.value;f.percent=f.time/e,s||(l&&c!==i-1?I0e(d,v,a):u&&k0e(d.colorStops,v.colorStops))}if(!s&&a!==GE&&r&&this.needsAnimate()&&r.needsAnimate()&&a===r.valType&&!r._finished){this._additiveTrack=r;for(var g=n[0].value,c=0;c<i;c++)a===Qb?n[c].additiveValue=n[c].value-g:a===k0?n[c].additiveValue=Kb([],n[c].value,g,-1):Jb(a)&&(n[c].additiveValue=a===bS?Kb([],n[c].value,g,-1):g4([],n[c].value,g,-1))}},t.prototype.step=function(e,r){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var n=this._additiveTrack!=null,a=n?"additiveValue":"value",i=this.valType,o=this.keyframes,s=o.length,l=this.propName,u=i===k0,c,f=this._lastFr,d=Math.min,v,g;if(s===1)v=g=o[0];else{if(r<0)c=0;else if(r<this._lastFrP){var y=d(f+1,s-1);for(c=y;c>=0&&!(o[c].percent<=r);c--);c=d(c,s-2)}else{for(c=f;c<s&&!(o[c].percent>r);c++);c=d(c-1,s-2)}g=o[c+1],v=o[c]}if(v&&g){this._lastFr=c,this._lastFrP=r;var b=g.percent-v.percent,S=b===0?1:d((r-v.percent)/b,1);g.easingFunc&&(S=g.easingFunc(S));var w=n?this._additiveValue:u?Zy:e[l];if((Jb(i)||u)&&!w&&(w=this._additiveValue=[]),this.discrete)e[l]=S<1?v.rawValue:g.rawValue;else if(Jb(i))i===bS?x2(w,v[a],g[a],S):P0e(w,v[a],g[a],S);else if(y4(i)){var M=v[a],A=g[a],D=i===HE;e[l]={type:D?"linear":"radial",x:rf(M.x,A.x,S),y:rf(M.y,A.y,S),colorStops:Re(M.colorStops,function(N,I){var z=A.colorStops[I];return{offset:rf(N.offset,z.offset,S),color:_S(x2([],N.color,z.color,S))}}),global:A.global},D?(e[l].x2=rf(M.x2,A.x2,S),e[l].y2=rf(M.y2,A.y2,S)):e[l].r=rf(M.r,A.r,S)}else if(u)x2(w,v[a],g[a],S),n||(e[l]=_S(w));else{var R=rf(v[a],g[a],S);n?this._additiveValue=R:e[l]=R}n&&this._addToTarget(e)}}},t.prototype._addToTarget=function(e){var r=this.valType,n=this.propName,a=this._additiveValue;r===Qb?e[n]=e[n]+a:r===k0?(as(e[n],Zy),Kb(Zy,Zy,a,1),e[n]=_S(Zy)):r===bS?Kb(e[n],e[n],a,1):r===Pq&&g4(e[n],e[n],a,1)},t})(),vk=(function(){function t(e,r,n,a){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=e,this._loop=r,r&&a){ok("Can' use additive animation on looped animation.");return}this._additiveAnimators=a,this._allowDiscrete=n}return t.prototype.getMaxTime=function(){return this._maxTime},t.prototype.getDelay=function(){return this._delay},t.prototype.getLoop=function(){return this._loop},t.prototype.getTarget=function(){return this._target},t.prototype.changeTarget=function(e){this._target=e},t.prototype.when=function(e,r,n){return this.whenWithKeys(e,r,sr(r),n)},t.prototype.whenWithKeys=function(e,r,n,a){for(var i=this._tracks,o=0;o<n.length;o++){var s=n[o],l=i[s];if(!l){l=i[s]=new j0e(s);var u=void 0,c=this._getAdditiveTrack(s);if(c){var f=c.keyframes,d=f[f.length-1];u=d&&d.value,c.valType===k0&&u&&(u=_S(u))}else u=this._target[s];if(u==null)continue;e>0&&l.addKeyframe(0,ex(u),a),this._trackKeys.push(s)}l.addKeyframe(e,ex(r[s]),a)}return this._maxTime=Math.max(this._maxTime,e),this},t.prototype.pause=function(){this._clip.pause(),this._paused=!0},t.prototype.resume=function(){this._clip.resume(),this._paused=!1},t.prototype.isPaused=function(){return!!this._paused},t.prototype.duration=function(e){return this._maxTime=e,this._force=!0,this},t.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var e=this._doneCbs;if(e)for(var r=e.length,n=0;n<r;n++)e[n].call(this)},t.prototype._abortedCallback=function(){this._setTracksFinished();var e=this.animation,r=this._abortedCbs;if(e&&e.removeClip(this._clip),this._clip=null,r)for(var n=0;n<r.length;n++)r[n].call(this)},t.prototype._setTracksFinished=function(){for(var e=this._tracks,r=this._trackKeys,n=0;n<r.length;n++)e[r[n]].setFinished()},t.prototype._getAdditiveTrack=function(e){var r,n=this._additiveAnimators;if(n)for(var a=0;a<n.length;a++){var i=n[a].getTrack(e);i&&(r=i)}return r},t.prototype.start=function(e){if(!(this._started>0)){this._started=1;for(var r=this,n=[],a=this._maxTime||0,i=0;i<this._trackKeys.length;i++){var o=this._trackKeys[i],s=this._tracks[o],l=this._getAdditiveTrack(o),u=s.keyframes,c=u.length;if(s.prepare(a,l),s.needsAnimate())if(!this._allowDiscrete&&s.discrete){var f=u[c-1];f&&(r._target[s.propName]=f.rawValue),s.setFinished()}else n.push(s)}if(n.length||this._force){var d=new b0e({life:a,loop:this._loop,delay:this._delay||0,onframe:function(v){r._started=2;var g=r._additiveAnimators;if(g){for(var y=!1,b=0;b<g.length;b++)if(g[b]._clip){y=!0;break}y||(r._additiveAnimators=null)}for(var b=0;b<n.length;b++)n[b].step(r._target,v);var S=r._onframeCbs;if(S)for(var b=0;b<S.length;b++)S[b](r._target,v)},ondestroy:function(){r._doneCallback()}});this._clip=d,this.animation&&this.animation.addClip(d),e&&d.setEasing(e)}else this._doneCallback();return this}},t.prototype.stop=function(e){if(this._clip){var r=this._clip;e&&r.onframe(1),this._abortedCallback()}},t.prototype.delay=function(e){return this._delay=e,this},t.prototype.during=function(e){return e&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(e)),this},t.prototype.done=function(e){return e&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(e)),this},t.prototype.aborted=function(e){return e&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(e)),this},t.prototype.getClip=function(){return this._clip},t.prototype.getTrack=function(e){return this._tracks[e]},t.prototype.getTracks=function(){var e=this;return Re(this._trackKeys,function(r){return e._tracks[r]})},t.prototype.stopTracks=function(e,r){if(!e.length||!this._clip)return!0;for(var n=this._tracks,a=this._trackKeys,i=0;i<e.length;i++){var o=n[e[i]];o&&!o.isFinished()&&(r?o.step(this._target,1):this._started===1&&o.step(this._target,0),o.setFinished())}for(var s=!0,i=0;i<a.length;i++)if(!n[a[i]].isFinished()){s=!1;break}return s&&this._abortedCallback(),s},t.prototype.saveTo=function(e,r,n){if(e){r=r||this._trackKeys;for(var a=0;a<r.length;a++){var i=r[a],o=this._tracks[i];if(!(!o||o.isFinished())){var s=o.keyframes,l=s[n?0:s.length-1];l&&(e[i]=ex(l.rawValue))}}}},t.prototype.__changeFinalValue=function(e,r){r=r||sr(e);for(var n=0;n<r.length;n++){var a=r[n],i=this._tracks[a];if(i){var o=i.keyframes;if(o.length>1){var s=o.pop();i.addKeyframe(s.time,e[a]),i.prepare(this._maxTime,i.getAdditiveTrack())}}}},t})();function zg(){return new Date().getTime()}var z0e=(function(t){Bn(e,t);function e(r){var n=t.call(this)||this;return n._running=!1,n._time=0,n._pausedTime=0,n._pauseStart=0,n._paused=!1,r=r||{},n.stage=r.stage||{},n}return e.prototype.addClip=function(r){r.animation&&this.removeClip(r),this._head?(this._tail.next=r,r.prev=this._tail,r.next=null,this._tail=r):this._head=this._tail=r,r.animation=this},e.prototype.addAnimator=function(r){r.animation=this;var n=r.getClip();n&&this.addClip(n)},e.prototype.removeClip=function(r){if(r.animation){var n=r.prev,a=r.next;n?n.next=a:this._head=a,a?a.prev=n:this._tail=n,r.next=r.prev=r.animation=null}},e.prototype.removeAnimator=function(r){var n=r.getClip();n&&this.removeClip(n),r.animation=null},e.prototype.update=function(r){for(var n=zg()-this._pausedTime,a=n-this._time,i=this._head;i;){var o=i.next,s=i.step(n,a);s&&(i.ondestroy(),this.removeClip(i)),i=o}this._time=n,r||(this.trigger("frame",a),this.stage.update&&this.stage.update())},e.prototype._startLoop=function(){var r=this;this._running=!0;function n(){r._running&&(nw(n),!r._paused&&r.update())}nw(n)},e.prototype.start=function(){this._running||(this._time=zg(),this._pausedTime=0,this._startLoop())},e.prototype.stop=function(){this._running=!1},e.prototype.pause=function(){this._paused||(this._pauseStart=zg(),this._paused=!0)},e.prototype.resume=function(){this._paused&&(this._pausedTime+=zg()-this._pauseStart,this._paused=!1)},e.prototype.clear=function(){for(var r=this._head;r;){var n=r.next;r.prev=r.next=r.animation=null,r=n}this._head=this._tail=null},e.prototype.isFinished=function(){return this._head==null},e.prototype.animate=function(r,n){n=n||{},this.start();var a=new vk(r,n.loop);return this.addAnimator(a),a},e})(Nl),B0e=300,_2=nr.domSupported,b2=(function(){var t=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],e=["touchstart","touchend","touchmove"],r={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},n=Re(t,function(a){var i=a.replace("mouse","pointer");return r.hasOwnProperty(i)?i:a});return{mouse:t,touch:e,pointer:n}})(),x4={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},_4=!1;function UE(t){var e=t.pointerType;return e==="pen"||e==="touch"}function V0e(t){t.touching=!0,t.touchTimer!=null&&(clearTimeout(t.touchTimer),t.touchTimer=null),t.touchTimer=setTimeout(function(){t.touching=!1,t.touchTimer=null},700)}function S2(t){t&&(t.zrByTouch=!0)}function F0e(t,e){return ol(t.dom,new H0e(t,e),!0)}function kq(t,e){for(var r=e,n=!1;r&&r.nodeType!==9&&!(n=r.domBelongToZr||r!==e&&r===t.painterRoot);)r=r.parentNode;return n}var H0e=(function(){function t(e,r){this.stopPropagation=_a,this.stopImmediatePropagation=_a,this.preventDefault=_a,this.type=r.type,this.target=this.currentTarget=e.dom,this.pointerType=r.pointerType,this.clientX=r.clientX,this.clientY=r.clientY}return t})(),Kl={mousedown:function(t){t=ol(this.dom,t),this.__mayPointerCapture=[t.zrX,t.zrY],this.trigger("mousedown",t)},mousemove:function(t){t=ol(this.dom,t);var e=this.__mayPointerCapture;e&&(t.zrX!==e[0]||t.zrY!==e[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",t)},mouseup:function(t){t=ol(this.dom,t),this.__togglePointerCapture(!1),this.trigger("mouseup",t)},mouseout:function(t){t=ol(this.dom,t);var e=t.toElement||t.relatedTarget;kq(this,e)||(this.__pointerCapturing&&(t.zrEventControl="no_globalout"),this.trigger("mouseout",t))},wheel:function(t){_4=!0,t=ol(this.dom,t),this.trigger("mousewheel",t)},mousewheel:function(t){_4||(t=ol(this.dom,t),this.trigger("mousewheel",t))},touchstart:function(t){t=ol(this.dom,t),S2(t),this.__lastTouchMoment=new Date,this.handler.processGesture(t,"start"),Kl.mousemove.call(this,t),Kl.mousedown.call(this,t)},touchmove:function(t){t=ol(this.dom,t),S2(t),this.handler.processGesture(t,"change"),Kl.mousemove.call(this,t)},touchend:function(t){t=ol(this.dom,t),S2(t),this.handler.processGesture(t,"end"),Kl.mouseup.call(this,t),+new Date-+this.__lastTouchMoment<B0e&&Kl.click.call(this,t)},pointerdown:function(t){Kl.mousedown.call(this,t)},pointermove:function(t){UE(t)||Kl.mousemove.call(this,t)},pointerup:function(t){Kl.mouseup.call(this,t)},pointerout:function(t){UE(t)||Kl.mouseout.call(this,t)}};Y(["click","dblclick","contextmenu"],function(t){Kl[t]=function(e){e=ol(this.dom,e),this.trigger(t,e)}});var WE={pointermove:function(t){UE(t)||WE.mousemove.call(this,t)},pointerup:function(t){WE.mouseup.call(this,t)},mousemove:function(t){this.trigger("mousemove",t)},mouseup:function(t){var e=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",t),e&&(t.zrEventControl="only_globalout",this.trigger("mouseout",t))}};function G0e(t,e){var r=e.domHandlers;nr.pointerEventsSupported?Y(b2.pointer,function(n){SS(e,n,function(a){r[n].call(t,a)})}):(nr.touchEventsSupported&&Y(b2.touch,function(n){SS(e,n,function(a){r[n].call(t,a),V0e(e)})}),Y(b2.mouse,function(n){SS(e,n,function(a){a=ck(a),e.touching||r[n].call(t,a)})}))}function U0e(t,e){nr.pointerEventsSupported?Y(x4.pointer,r):nr.touchEventsSupported||Y(x4.mouse,r);function r(n){function a(i){i=ck(i),kq(t,i.target)||(i=F0e(t,i),e.domHandlers[n].call(t,i))}SS(e,n,a,{capture:!0})}}function SS(t,e,r,n){t.mounted[e]=r,t.listenerOpts[e]=n,RE(t.domTarget,e,r,n)}function w2(t){var e=t.mounted;for(var r in e)e.hasOwnProperty(r)&&t0e(t.domTarget,r,e[r],t.listenerOpts[r]);t.mounted={}}var b4=(function(){function t(e,r){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=e,this.domHandlers=r}return t})(),W0e=(function(t){Bn(e,t);function e(r,n){var a=t.call(this)||this;return a.__pointerCapturing=!1,a.dom=r,a.painterRoot=n,a._localHandlerScope=new b4(r,Kl),_2&&(a._globalHandlerScope=new b4(document,WE)),G0e(a,a._localHandlerScope),a}return e.prototype.dispose=function(){w2(this._localHandlerScope),_2&&w2(this._globalHandlerScope)},e.prototype.setCursor=function(r){this.dom.style&&(this.dom.style.cursor=r||"default")},e.prototype.__togglePointerCapture=function(r){if(this.__mayPointerCapture=null,_2&&+this.__pointerCapturing^+r){this.__pointerCapturing=r;var n=this._globalHandlerScope;r?U0e(this,n):w2(n)}},e})(Nl),Iq=1;nr.hasGlobalWindow&&(Iq=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var uw=Iq,YE=.4,ZE="#333",qE="#ccc",Y0e="#eee",S4=nC,w4=5e-5;function Vd(t){return t>w4||t<-w4}var Fd=[],ig=[],T2=Di(),C2=Math.abs,of=(function(){function t(){}return t.prototype.getLocalTransform=function(e){return t.getLocalTransform(this,e)},t.prototype.setPosition=function(e){this.x=e[0],this.y=e[1]},t.prototype.setScale=function(e){this.scaleX=e[0],this.scaleY=e[1]},t.prototype.setSkew=function(e){this.skewX=e[0],this.skewY=e[1]},t.prototype.setOrigin=function(e){this.originX=e[0],this.originY=e[1]},t.prototype.needLocalTransform=function(){return Vd(this.rotation)||Vd(this.x)||Vd(this.y)||Vd(this.scaleX-1)||Vd(this.scaleY-1)||Vd(this.skewX)||Vd(this.skewY)},t.prototype.updateTransform=function(){var e=this.parent&&this.parent.transform,r=this.needLocalTransform(),n=this.transform;if(!(r||e)){n&&(S4(n),this.invTransform=null);return}n=n||Di(),r?this.getLocalTransform(n):S4(n),e&&(r?uc(n,e,n):aC(n,e)),this.transform=n,this._resolveGlobalScaleRatio(n)},t.prototype._resolveGlobalScaleRatio=function(e){var r=this.globalScaleRatio;if(r!=null&&r!==1){this.getGlobalScale(Fd);var n=Fd[0]<0?-1:1,a=Fd[1]<0?-1:1,i=((Fd[0]-n)*r+n)/Fd[0]||0,o=((Fd[1]-a)*r+a)/Fd[1]||0;e[0]*=i,e[1]*=i,e[2]*=o,e[3]*=o}this.invTransform=this.invTransform||Di(),fu(this.invTransform,e)},t.prototype.getComputedTransform=function(){for(var e=this,r=[];e;)r.push(e),e=e.parent;for(;e=r.pop();)e.updateTransform();return this.transform},t.prototype.setLocalTransform=function(e){if(e){var r=e[0]*e[0]+e[1]*e[1],n=e[2]*e[2]+e[3]*e[3],a=Math.atan2(e[1],e[0]),i=Math.PI/2+a-Math.atan2(e[3],e[2]);n=Math.sqrt(n)*Math.cos(i),r=Math.sqrt(r),this.skewX=i,this.skewY=0,this.rotation=-a,this.x=+e[4],this.y=+e[5],this.scaleX=r,this.scaleY=n,this.originX=0,this.originY=0}},t.prototype.decomposeTransform=function(){if(this.transform){var e=this.parent,r=this.transform;e&&e.transform&&(e.invTransform=e.invTransform||Di(),uc(ig,e.invTransform,r),r=ig);var n=this.originX,a=this.originY;(n||a)&&(T2[4]=n,T2[5]=a,uc(ig,r,T2),ig[4]-=n,ig[5]-=a,r=ig),this.setLocalTransform(r)}},t.prototype.getGlobalScale=function(e){var r=this.transform;return e=e||[],r?(e[0]=Math.sqrt(r[0]*r[0]+r[1]*r[1]),e[1]=Math.sqrt(r[2]*r[2]+r[3]*r[3]),r[0]<0&&(e[0]=-e[0]),r[3]<0&&(e[1]=-e[1]),e):(e[0]=1,e[1]=1,e)},t.prototype.transformCoordToLocal=function(e,r){var n=[e,r],a=this.invTransform;return a&&ba(n,n,a),n},t.prototype.transformCoordToGlobal=function(e,r){var n=[e,r],a=this.transform;return a&&ba(n,n,a),n},t.prototype.getLineScale=function(){var e=this.transform;return e&&C2(e[0]-1)>1e-10&&C2(e[3]-1)>1e-10?Math.sqrt(C2(e[0]*e[3]-e[2]*e[1])):1},t.prototype.copyTransform=function(e){cw(this,e)},t.getLocalTransform=function(e,r){r=r||[];var n=e.originX||0,a=e.originY||0,i=e.scaleX,o=e.scaleY,s=e.anchorX,l=e.anchorY,u=e.rotation||0,c=e.x,f=e.y,d=e.skewX?Math.tan(e.skewX):0,v=e.skewY?Math.tan(-e.skewY):0;if(n||a||s||l){var g=n+s,y=a+l;r[4]=-g*i-d*y*o,r[5]=-y*o-v*g*i}else r[4]=r[5]=0;return r[0]=i,r[3]=o,r[1]=v*i,r[2]=d*o,u&&ud(r,r,u),r[4]+=n+c,r[5]+=a+f,r},t.initDefaultProps=(function(){var e=t.prototype;e.scaleX=e.scaleY=e.globalScaleRatio=1,e.x=e.y=e.originX=e.originY=e.skewX=e.skewY=e.rotation=e.anchorX=e.anchorY=0})(),t})(),yc=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function cw(t,e){for(var r=0;r<yc.length;r++){var n=yc[r];t[n]=e[n]}}function fc(t){e1||(e1=new cm(100)),t=t||mf;var e=e1.get(t);return e||(e={font:t,strWidthCache:new cm(500),asciiWidthMap:null,asciiWidthMapTried:!1,stWideCharWidth:cu.measureText("",t).width,asciiCharWidth:cu.measureText("a",t).width},e1.put(t,e)),e}var e1;function Z0e(t){if(!(M2>=T4)){t=t||mf;for(var e=[],r=+new Date,n=0;n<=127;n++)e[n]=cu.measureText(String.fromCharCode(n),t).width;var a=+new Date-r;return a>16?M2=T4:a>2&&M2++,e}}var M2=0,T4=5;function Oq(t,e){return t.asciiWidthMapTried||(t.asciiWidthMap=Z0e(t.font),t.asciiWidthMapTried=!0),0<=e&&e<=127?t.asciiWidthMap!=null?t.asciiWidthMap[e]:t.asciiCharWidth:t.stWideCharWidth}function hc(t,e){var r=t.strWidthCache,n=r.get(e);return n==null&&(n=cu.measureText(e,t.font).width,r.put(e,n)),n}function C4(t,e,r,n){var a=hc(fc(e),t),i=h_(e),o=fm(0,a,r),s=kv(0,i,n),l=new yt(o,s,a,i);return l}function oC(t,e,r,n){var a=((t||"")+"").split(`
`),i=a.length;if(i===1)return C4(a[0],e,r,n);for(var o=new yt(0,0,0,0),s=0;s<a.length;s++){var l=C4(a[s],e,r,n);s===0?o.copy(l):o.union(l)}return o}function fm(t,e,r,n){return r==="right"?n?t+=e:t-=e:r==="center"&&(n?t+=e/2:t-=e/2),t}function kv(t,e,r,n){return r==="middle"?n?t+=e/2:t-=e/2:r==="bottom"&&(n?t+=e:t-=e),t}function h_(t){return fc(t).stWideCharWidth}function hu(t,e){return typeof t=="string"?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t}function fw(t,e,r){var n=e.position||"inside",a=e.distance!=null?e.distance:5,i=r.height,o=r.width,s=i/2,l=r.x,u=r.y,c="left",f="top";if(n instanceof Array)l+=hu(n[0],r.width),u+=hu(n[1],r.height),c=null,f=null;else switch(n){case"left":l-=a,u+=s,c="right",f="middle";break;case"right":l+=a+o,u+=s,f="middle";break;case"top":l+=o/2,u-=a,c="center",f="bottom";break;case"bottom":l+=o/2,u+=i+a,c="center";break;case"inside":l+=o/2,u+=s,c="center",f="middle";break;case"insideLeft":l+=a,u+=s,f="middle";break;case"insideRight":l+=o-a,u+=s,c="right",f="middle";break;case"insideTop":l+=o/2,u+=a,c="center";break;case"insideBottom":l+=o/2,u+=i-a,c="center",f="bottom";break;case"insideTopLeft":l+=a,u+=a;break;case"insideTopRight":l+=o-a,u+=a,c="right";break;case"insideBottomLeft":l+=a,u+=i-a,f="bottom";break;case"insideBottomRight":l+=o-a,u+=i-a,c="right",f="bottom";break}return t=t||{},t.x=l,t.y=u,t.align=c,t.verticalAlign=f,t}var A2="__zr_normal__",D2=yc.concat(["ignore"]),q0e=gc(yc,function(t,e){return t[e]=!0,t},{ignore:!1}),og={},$0e=new yt(0,0,0,0),t1=[],sC=(function(){function t(e){this.id=uq(),this.animators=[],this.currentStates=[],this.states={},this._init(e)}return t.prototype._init=function(e){this.attr(e)},t.prototype.drift=function(e,r,n){switch(this.draggable){case"horizontal":r=0;break;case"vertical":e=0;break}var a=this.transform;a||(a=this.transform=[1,0,0,1,0,0]),a[4]+=e,a[5]+=r,this.decomposeTransform(),this.markRedraw()},t.prototype.beforeUpdate=function(){},t.prototype.afterUpdate=function(){},t.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},t.prototype.updateInnerText=function(e){var r=this._textContent;if(r&&(!r.ignore||e)){this.textConfig||(this.textConfig={});var n=this.textConfig,a=n.local,i=r.innerTransformable,o=void 0,s=void 0,l=!1;i.parent=a?this:null;var u=!1;i.copyTransform(r);var c=n.position!=null,f=n.autoOverflowArea,d=void 0;if((f||c)&&(d=$0e,n.layoutRect?d.copy(n.layoutRect):d.copy(this.getBoundingRect()),a||d.applyTransform(this.transform)),c){this.calculateTextPosition?this.calculateTextPosition(og,n,d):fw(og,n,d),i.x=og.x,i.y=og.y,o=og.align,s=og.verticalAlign;var v=n.origin;if(v&&n.rotation!=null){var g=void 0,y=void 0;v==="center"?(g=d.width*.5,y=d.height*.5):(g=hu(v[0],d.width),y=hu(v[1],d.height)),u=!0,i.originX=-i.x+g+(a?0:d.x),i.originY=-i.y+y+(a?0:d.y)}}n.rotation!=null&&(i.rotation=n.rotation);var b=n.offset;b&&(i.x+=b[0],i.y+=b[1],u||(i.originX=-b[0],i.originY=-b[1]));var S=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={});if(f){var w=S.overflowRect=S.overflowRect||new yt(0,0,0,0);i.getLocalTransform(t1),fu(t1,t1),yt.copy(w,d),w.applyTransform(t1)}else S.overflowRect=null;var M=n.inside==null?typeof n.position=="string"&&n.position.indexOf("inside")>=0:n.inside,A=void 0,D=void 0,R=void 0;M&&this.canBeInsideText()?(A=n.insideFill,D=n.insideStroke,(A==null||A==="auto")&&(A=this.getInsideTextFill()),(D==null||D==="auto")&&(D=this.getInsideTextStroke(A),R=!0)):(A=n.outsideFill,D=n.outsideStroke,(A==null||A==="auto")&&(A=this.getOutsideFill()),(D==null||D==="auto")&&(D=this.getOutsideStroke(A),R=!0)),A=A||"#000",(A!==S.fill||D!==S.stroke||R!==S.autoStroke||o!==S.align||s!==S.verticalAlign)&&(l=!0,S.fill=A,S.stroke=D,S.autoStroke=R,S.align=o,S.verticalAlign=s,r.setDefaultTextStyle(S)),r.__dirty|=Ls,l&&r.dirtyStyle(!0)}},t.prototype.canBeInsideText=function(){return!0},t.prototype.getInsideTextFill=function(){return"#fff"},t.prototype.getInsideTextStroke=function(e){return"#000"},t.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?qE:ZE},t.prototype.getOutsideStroke=function(e){var r=this.__zr&&this.__zr.getBackgroundColor(),n=typeof r=="string"&&as(r);n||(n=[255,255,255,1]);for(var a=n[3],i=this.__zr.isDarkMode(),o=0;o<3;o++)n[o]=n[o]*a+(i?0:255)*(1-a);return n[3]=1,cc(n,"rgba")},t.prototype.traverse=function(e,r){},t.prototype.attrKV=function(e,r){e==="textConfig"?this.setTextConfig(r):e==="textContent"?this.setTextContent(r):e==="clipPath"?this.setClipPath(r):e==="extra"?(this.extra=this.extra||{},Ae(this.extra,r)):this[e]=r},t.prototype.hide=function(){this.ignore=!0,this.markRedraw()},t.prototype.show=function(){this.ignore=!1,this.markRedraw()},t.prototype.attr=function(e,r){if(typeof e=="string")this.attrKV(e,r);else if(mt(e))for(var n=e,a=sr(n),i=0;i<a.length;i++){var o=a[i];this.attrKV(o,e[o])}return this.markRedraw(),this},t.prototype.saveCurrentToNormalState=function(e){this._innerSaveToNormal(e);for(var r=this._normalState,n=0;n<this.animators.length;n++){var a=this.animators[n],i=a.__fromStateTransition;if(!(a.getLoop()||i&&i!==A2)){var o=a.targetName,s=o?r[o]:r;a.saveTo(s)}}},t.prototype._innerSaveToNormal=function(e){var r=this._normalState;r||(r=this._normalState={}),e.textConfig&&!r.textConfig&&(r.textConfig=this.textConfig),this._savePrimaryToNormal(e,r,D2)},t.prototype._savePrimaryToNormal=function(e,r,n){for(var a=0;a<n.length;a++){var i=n[a];e[i]!=null&&!(i in r)&&(r[i]=this[i])}},t.prototype.hasState=function(){return this.currentStates.length>0},t.prototype.getState=function(e){return this.states[e]},t.prototype.ensureState=function(e){var r=this.states;return r[e]||(r[e]={}),r[e]},t.prototype.clearStates=function(e){this.useState(A2,!1,e)},t.prototype.useState=function(e,r,n,a){var i=e===A2,o=this.hasState();if(!(!o&&i)){var s=this.currentStates,l=this.stateTransition;if(!(Vt(s,e)>=0&&(r||s.length===1))){var u;if(this.stateProxy&&!i&&(u=this.stateProxy(e)),u||(u=this.states&&this.states[e]),!u&&!i){ok("State "+e+" not exists.");return}i||this.saveCurrentToNormalState(u);var c=!!(u&&u.hoverLayer||a);c&&this._toggleHoverLayerFlag(!0),this._applyStateObj(e,u,this._normalState,r,!n&&!this.__inHover&&l&&l.duration>0,l);var f=this._textContent,d=this._textGuide;return f&&f.useState(e,r,n,c),d&&d.useState(e,r,n,c),i?(this.currentStates=[],this._normalState={}):r?this.currentStates.push(e):this.currentStates=[e],this._updateAnimationTargets(),this.markRedraw(),!c&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Ls),u}}},t.prototype.useStates=function(e,r,n){if(!e.length)this.clearStates();else{var a=[],i=this.currentStates,o=e.length,s=o===i.length;if(s){for(var l=0;l<o;l++)if(e[l]!==i[l]){s=!1;break}}if(s)return;for(var l=0;l<o;l++){var u=e[l],c=void 0;this.stateProxy&&(c=this.stateProxy(u,e)),c||(c=this.states[u]),c&&a.push(c)}var f=a[o-1],d=!!(f&&f.hoverLayer||n);d&&this._toggleHoverLayerFlag(!0);var v=this._mergeStates(a),g=this.stateTransition;this.saveCurrentToNormalState(v),this._applyStateObj(e.join(","),v,this._normalState,!1,!r&&!this.__inHover&&g&&g.duration>0,g);var y=this._textContent,b=this._textGuide;y&&y.useStates(e,r,d),b&&b.useStates(e,r,d),this._updateAnimationTargets(),this.currentStates=e.slice(),this.markRedraw(),!d&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Ls)}},t.prototype.isSilent=function(){for(var e=this;e;){if(e.silent)return!0;var r=e.__hostTarget;e=r?e.ignoreHostSilent?null:r:e.parent}return!1},t.prototype._updateAnimationTargets=function(){for(var e=0;e<this.animators.length;e++){var r=this.animators[e];r.targetName&&r.changeTarget(this[r.targetName])}},t.prototype.removeState=function(e){var r=Vt(this.currentStates,e);if(r>=0){var n=this.currentStates.slice();n.splice(r,1),this.useStates(n)}},t.prototype.replaceState=function(e,r,n){var a=this.currentStates.slice(),i=Vt(a,e),o=Vt(a,r)>=0;i>=0?o?a.splice(i,1):a[i]=r:n&&!o&&a.push(r),this.useStates(a)},t.prototype.toggleState=function(e,r){r?this.useState(e,!0):this.removeState(e)},t.prototype._mergeStates=function(e){for(var r={},n,a=0;a<e.length;a++){var i=e[a];Ae(r,i),i.textConfig&&(n=n||{},Ae(n,i.textConfig))}return n&&(r.textConfig=n),r},t.prototype._applyStateObj=function(e,r,n,a,i,o){var s=!(r&&a);r&&r.textConfig?(this.textConfig=Ae({},a?this.textConfig:n.textConfig),Ae(this.textConfig,r.textConfig)):s&&n.textConfig&&(this.textConfig=n.textConfig);for(var l={},u=!1,c=0;c<D2.length;c++){var f=D2[c],d=i&&q0e[f];r&&r[f]!=null?d?(u=!0,l[f]=r[f]):this[f]=r[f]:s&&n[f]!=null&&(d?(u=!0,l[f]=n[f]):this[f]=n[f])}if(!i)for(var c=0;c<this.animators.length;c++){var v=this.animators[c],g=v.targetName;v.getLoop()||v.__changeFinalValue(g?(r||n)[g]:r||n)}u&&this._transitionState(e,l,o)},t.prototype._attachComponent=function(e){if(!(e.__zr&&!e.__hostTarget)&&e!==this){var r=this.__zr;r&&e.addSelfToZr(r),e.__zr=r,e.__hostTarget=this}},t.prototype._detachComponent=function(e){e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__hostTarget=null},t.prototype.getClipPath=function(){return this._clipPath},t.prototype.setClipPath=function(e){this._clipPath&&this._clipPath!==e&&this.removeClipPath(),this._attachComponent(e),this._clipPath=e,this.markRedraw()},t.prototype.removeClipPath=function(){var e=this._clipPath;e&&(this._detachComponent(e),this._clipPath=null,this.markRedraw())},t.prototype.getTextContent=function(){return this._textContent},t.prototype.setTextContent=function(e){var r=this._textContent;r!==e&&(r&&r!==e&&this.removeTextContent(),e.innerTransformable=new of,this._attachComponent(e),this._textContent=e,this.markRedraw())},t.prototype.setTextConfig=function(e){this.textConfig||(this.textConfig={}),Ae(this.textConfig,e),this.markRedraw()},t.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},t.prototype.removeTextContent=function(){var e=this._textContent;e&&(e.innerTransformable=null,this._detachComponent(e),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},t.prototype.getTextGuideLine=function(){return this._textGuide},t.prototype.setTextGuideLine=function(e){this._textGuide&&this._textGuide!==e&&this.removeTextGuideLine(),this._attachComponent(e),this._textGuide=e,this.markRedraw()},t.prototype.removeTextGuideLine=function(){var e=this._textGuide;e&&(this._detachComponent(e),this._textGuide=null,this.markRedraw())},t.prototype.markRedraw=function(){this.__dirty|=Ls;var e=this.__zr;e&&(this.__inHover?e.refreshHover():e.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},t.prototype.dirty=function(){this.markRedraw()},t.prototype._toggleHoverLayerFlag=function(e){this.__inHover=e;var r=this._textContent,n=this._textGuide;r&&(r.__inHover=e),n&&(n.__inHover=e)},t.prototype.addSelfToZr=function(e){if(this.__zr!==e){this.__zr=e;var r=this.animators;if(r)for(var n=0;n<r.length;n++)e.animation.addAnimator(r[n]);this._clipPath&&this._clipPath.addSelfToZr(e),this._textContent&&this._textContent.addSelfToZr(e),this._textGuide&&this._textGuide.addSelfToZr(e)}},t.prototype.removeSelfFromZr=function(e){if(this.__zr){this.__zr=null;var r=this.animators;if(r)for(var n=0;n<r.length;n++)e.animation.removeAnimator(r[n]);this._clipPath&&this._clipPath.removeSelfFromZr(e),this._textContent&&this._textContent.removeSelfFromZr(e),this._textGuide&&this._textGuide.removeSelfFromZr(e)}},t.prototype.animate=function(e,r,n){var a=e?this[e]:this,i=new vk(a,r,n);return e&&(i.targetName=e),this.addAnimator(i,e),i},t.prototype.addAnimator=function(e,r){var n=this.__zr,a=this;e.during(function(){a.updateDuringAnimation(r)}).done(function(){var i=a.animators,o=Vt(i,e);o>=0&&i.splice(o,1)}),this.animators.push(e),n&&n.animation.addAnimator(e),n&&n.wakeUp()},t.prototype.updateDuringAnimation=function(e){this.markRedraw()},t.prototype.stopAnimation=function(e,r){for(var n=this.animators,a=n.length,i=[],o=0;o<a;o++){var s=n[o];!e||e===s.scope?s.stop(r):i.push(s)}return this.animators=i,this},t.prototype.animateTo=function(e,r,n){L2(this,e,r,n)},t.prototype.animateFrom=function(e,r,n){L2(this,e,r,n,!0)},t.prototype._transitionState=function(e,r,n,a){for(var i=L2(this,r,n,a),o=0;o<i.length;o++)i[o].__fromStateTransition=e},t.prototype.getBoundingRect=function(){return null},t.prototype.getPaintRect=function(){return null},t.initDefaultProps=(function(){var e=t.prototype;e.type="element",e.name="",e.ignore=e.silent=e.ignoreHostSilent=e.isGroup=e.draggable=e.dragging=e.ignoreClip=e.__inHover=!1,e.__dirty=Ls;function r(n,a,i,o){Object.defineProperty(e,n,{get:function(){if(!this[a]){var l=this[a]=[];s(this,l)}return this[a]},set:function(l){this[i]=l[0],this[o]=l[1],this[a]=l,s(this,l)}});function s(l,u){Object.defineProperty(u,0,{get:function(){return l[i]},set:function(c){l[i]=c}}),Object.defineProperty(u,1,{get:function(){return l[o]},set:function(c){l[o]=c}})}}Object.defineProperty&&(r("position","_legacyPos","x","y"),r("scale","_legacyScale","scaleX","scaleY"),r("origin","_legacyOrigin","originX","originY"))})(),t})();ja(sC,Nl);ja(sC,of);function L2(t,e,r,n,a){r=r||{};var i=[];jq(t,"",t,e,r,n,i,a);var o=i.length,s=!1,l=r.done,u=r.aborted,c=function(){s=!0,o--,o<=0&&(s?l&&l():u&&u())},f=function(){o--,o<=0&&(s?l&&l():u&&u())};o||l&&l(),i.length>0&&r.during&&i[0].during(function(g,y){r.during(y)});for(var d=0;d<i.length;d++){var v=i[d];c&&v.done(c),f&&v.aborted(f),r.force&&v.duration(r.duration),v.start(r.easing)}return i}function E2(t,e,r){for(var n=0;n<r;n++)t[n]=e[n]}function X0e(t){return uo(t[0])}function K0e(t,e,r){if(uo(e[r]))if(uo(t[r])||(t[r]=[]),is(e[r])){var n=e[r].length;t[r].length!==n&&(t[r]=new e[r].constructor(n),E2(t[r],e[r],n))}else{var a=e[r],i=t[r],o=a.length;if(X0e(a))for(var s=a[0].length,l=0;l<o;l++)i[l]?E2(i[l],a[l],s):i[l]=Array.prototype.slice.call(a[l]);else E2(i,a,o);i.length=a.length}else t[r]=e[r]}function Q0e(t,e){return t===e||uo(t)&&uo(e)&&J0e(t,e)}function J0e(t,e){var r=t.length;if(r!==e.length)return!1;for(var n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function jq(t,e,r,n,a,i,o,s){for(var l=sr(n),u=a.duration,c=a.delay,f=a.additive,d=a.setToFinal,v=!mt(i),g=t.animators,y=[],b=0;b<l.length;b++){var S=l[b],w=n[S];if(w!=null&&r[S]!=null&&(v||i[S]))if(mt(w)&&!uo(w)&&!eC(w)){if(e){s||(r[S]=w,t.updateDuringAnimation(e));continue}jq(t,S,r[S],w,a,i&&i[S],o,s)}else y.push(S);else s||(r[S]=w,t.updateDuringAnimation(e),y.push(S))}var M=y.length;if(!f&&M)for(var A=0;A<g.length;A++){var D=g[A];if(D.targetName===e){var R=D.stopTracks(y);if(R){var N=Vt(g,D);g.splice(N,1)}}}if(a.force||(y=Ir(y,function(V){return!Q0e(n[V],r[V])}),M=y.length),M>0||a.force&&!o.length){var I=void 0,z=void 0,B=void 0;if(s){z={},d&&(I={});for(var A=0;A<M;A++){var S=y[A];z[S]=r[S],d?I[S]=n[S]:r[S]=n[S]}}else if(d){B={};for(var A=0;A<M;A++){var S=y[A];B[S]=ex(r[S]),K0e(r,n,S)}}var D=new vk(r,!1,!1,f?Ir(g,function(G){return G.targetName===e}):null);D.targetName=e,a.scope&&(D.scope=a.scope),d&&I&&D.whenWithKeys(0,I,y),B&&D.whenWithKeys(0,B,y),D.whenWithKeys(u??500,s?z:n,y).delay(c||0),t.addAnimator(D,e),o.push(D)}}var st=(function(t){Bn(e,t);function e(r){var n=t.call(this)||this;return n.isGroup=!0,n._children=[],n.attr(r),n}return e.prototype.childrenRef=function(){return this._children},e.prototype.children=function(){return this._children.slice()},e.prototype.childAt=function(r){return this._children[r]},e.prototype.childOfName=function(r){for(var n=this._children,a=0;a<n.length;a++)if(n[a].name===r)return n[a]},e.prototype.childCount=function(){return this._children.length},e.prototype.add=function(r){return r&&r!==this&&r.parent!==this&&(this._children.push(r),this._doAdd(r)),this},e.prototype.addBefore=function(r,n){if(r&&r!==this&&r.parent!==this&&n&&n.parent===this){var a=this._children,i=a.indexOf(n);i>=0&&(a.splice(i,0,r),this._doAdd(r))}return this},e.prototype.replace=function(r,n){var a=Vt(this._children,r);return a>=0&&this.replaceAt(n,a),this},e.prototype.replaceAt=function(r,n){var a=this._children,i=a[n];if(r&&r!==this&&r.parent!==this&&r!==i){a[n]=r,i.parent=null;var o=this.__zr;o&&i.removeSelfFromZr(o),this._doAdd(r)}return this},e.prototype._doAdd=function(r){r.parent&&r.parent.remove(r),r.parent=this;var n=this.__zr;n&&n!==r.__zr&&r.addSelfToZr(n),n&&n.refresh()},e.prototype.remove=function(r){var n=this.__zr,a=this._children,i=Vt(a,r);return i<0?this:(a.splice(i,1),r.parent=null,n&&r.removeSelfFromZr(n),n&&n.refresh(),this)},e.prototype.removeAll=function(){for(var r=this._children,n=this.__zr,a=0;a<r.length;a++){var i=r[a];n&&i.removeSelfFromZr(n),i.parent=null}return r.length=0,this},e.prototype.eachChild=function(r,n){for(var a=this._children,i=0;i<a.length;i++){var o=a[i];r.call(n,o,i)}return this},e.prototype.traverse=function(r,n){for(var a=0;a<this._children.length;a++){var i=this._children[a],o=r.call(n,i);i.isGroup&&!o&&i.traverse(r,n)}return this},e.prototype.addSelfToZr=function(r){t.prototype.addSelfToZr.call(this,r);for(var n=0;n<this._children.length;n++){var a=this._children[n];a.addSelfToZr(r)}},e.prototype.removeSelfFromZr=function(r){t.prototype.removeSelfFromZr.call(this,r);for(var n=0;n<this._children.length;n++){var a=this._children[n];a.removeSelfFromZr(r)}},e.prototype.getBoundingRect=function(r){for(var n=new yt(0,0,0,0),a=r||this._children,i=[],o=null,s=0;s<a.length;s++){var l=a[s];if(!(l.ignore||l.invisible)){var u=l.getBoundingRect(),c=l.getLocalTransform(i);c?(yt.applyTransform(n,u,c),o=o||n.clone(),o.union(n)):(o=o||u.clone(),o.union(u))}}return o||n},e})(sC);st.prototype.type="group";var wS={},zq={};function exe(t){delete zq[t]}function txe(t){if(!t)return!1;if(typeof t=="string")return sw(t,1)<YE;if(t.colorStops){for(var e=t.colorStops,r=0,n=e.length,a=0;a<n;a++)r+=sw(e[a].color,1);return r/=n,r<YE}return!1}var rxe=(function(){function t(e,r,n){var a=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,n=n||{},this.dom=r,this.id=e;var i=new g0e,o=n.renderer||"canvas";wS[o]||(o=sr(wS)[0]),n.useDirtyRect=n.useDirtyRect==null?!1:n.useDirtyRect;var s=new wS[o](r,i,n,e),l=n.ssr||s.ssrOnly;this.storage=i,this.painter=s;var u=!nr.node&&!nr.worker&&!l?new W0e(s.getViewportRoot(),s.root):null,c=n.useCoarsePointer,f=c==null||c==="auto"?nr.touchEventsSupported:!!c,d=44,v;f&&(v=et(n.pointerSize,d)),this.handler=new gq(i,s,u,s.root,v),this.animation=new z0e({stage:{update:l?null:function(){return a._flush(!0)}}}),l||this.animation.start()}return t.prototype.add=function(e){this._disposed||!e||(this.storage.addRoot(e),e.addSelfToZr(this),this.refresh())},t.prototype.remove=function(e){this._disposed||!e||(this.storage.delRoot(e),e.removeSelfFromZr(this),this.refresh())},t.prototype.configLayer=function(e,r){this._disposed||(this.painter.configLayer&&this.painter.configLayer(e,r),this.refresh())},t.prototype.setBackgroundColor=function(e){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this.refresh(),this._backgroundColor=e,this._darkMode=txe(e))},t.prototype.getBackgroundColor=function(){return this._backgroundColor},t.prototype.setDarkMode=function(e){this._darkMode=e},t.prototype.isDarkMode=function(){return this._darkMode},t.prototype.refreshImmediately=function(e){this._disposed||(e||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},t.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},t.prototype.flush=function(){this._disposed||this._flush(!1)},t.prototype._flush=function(e){var r,n=zg();this._needsRefresh&&(r=!0,this.refreshImmediately(e)),this._needsRefreshHover&&(r=!0,this.refreshHoverImmediately());var a=zg();r?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:a-n})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},t.prototype.setSleepAfterStill=function(e){this._sleepAfterStill=e},t.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},t.prototype.refreshHover=function(){this._needsRefreshHover=!0},t.prototype.refreshHoverImmediately=function(){this._disposed||(this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover())},t.prototype.resize=function(e){this._disposed||(e=e||{},this.painter.resize(e.width,e.height),this.handler.resize())},t.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},t.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},t.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},t.prototype.setCursorStyle=function(e){this._disposed||this.handler.setCursorStyle(e)},t.prototype.findHover=function(e,r){if(!this._disposed)return this.handler.findHover(e,r)},t.prototype.on=function(e,r,n){return this._disposed||this.handler.on(e,r,n),this},t.prototype.off=function(e,r){this._disposed||this.handler.off(e,r)},t.prototype.trigger=function(e,r){this._disposed||this.handler.trigger(e,r)},t.prototype.clear=function(){if(!this._disposed){for(var e=this.storage.getRoots(),r=0;r<e.length;r++)e[r]instanceof st&&e[r].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},t.prototype.dispose=function(){this._disposed||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,exe(this.id))},t})();function M4(t,e){var r=new rxe(uq(),t,e);return zq[r.id]=r,r}function nxe(t,e){wS[t]=e}var $E;function axe(t){if(typeof $E=="function")return $E(t)}function ixe(t){$E=t}var A4=1e-4,Bq=20;function oxe(t){return t.replace(/^\s+|\s+$/g,"")}var Is=Math.min,xa=Math.max,tc=Math.abs;function kr(t,e,r,n){var a=e[0],i=e[1],o=r[0],s=r[1],l=i-a,u=s-o;if(l===0)return u===0?o:(o+s)/2;if(n)if(l>0){if(t<=a)return o;if(t>=i)return s}else{if(t>=a)return o;if(t<=i)return s}else{if(t===a)return o;if(t===i)return s}return(t-a)/l*u+o}var Ue=sxe;function sxe(t,e,r){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%";break}return hw(t,e,r)}function hw(t,e,r){return We(t)?oxe(t).match(/%$/)?parseFloat(t)/100*e+(r||0):parseFloat(t):t==null?NaN:+t}function Ea(t,e,r){return e==null&&(e=10),e=Math.min(Math.max(0,e),Bq),t=(+t).toFixed(e),r?t:+t}function yl(t){return t.sort(function(e,r){return e-r}),t}function rc(t){if(t=+t,isNaN(t))return 0;if(t>1e-14){for(var e=1,r=0;r<15;r++,e*=10)if(Math.round(t*e)/e===t)return r}return lxe(t)}function lxe(t){var e=t.toString().toLowerCase(),r=e.indexOf("e"),n=r>0?+e.slice(r+1):0,a=r>0?r:e.length,i=e.indexOf("."),o=i<0?0:a-1-i;return Math.max(0,o-n)}function Vq(t,e){var r=Math.log,n=Math.LN10,a=Math.floor(r(t[1]-t[0])/n),i=Math.round(r(tc(e[1]-e[0]))/n),o=Math.min(Math.max(-a+i,0),20);return isFinite(o)?o:20}function uxe(t,e){var r=gc(t,function(v,g){return v+(isNaN(g)?0:g)},0);if(r===0)return[];for(var n=Math.pow(10,e),a=Re(t,function(v){return(isNaN(v)?0:v)/r*n*100}),i=n*100,o=Re(a,function(v){return Math.floor(v)}),s=gc(o,function(v,g){return v+g},0),l=Re(a,function(v,g){return v-o[g]});s<i;){for(var u=Number.NEGATIVE_INFINITY,c=null,f=0,d=l.length;f<d;++f)l[f]>u&&(u=l[f],c=f);++o[c],l[c]=0,++s}return Re(o,function(v){return v/n})}function cxe(t,e){var r=Math.max(rc(t),rc(e)),n=t+e;return r>Bq?n:Ea(n,r)}var D4=9007199254740991;function Fq(t){var e=Math.PI*2;return(t%e+e)%e}function Tx(t){return t>-A4&&t<A4}var fxe=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function hp(t){if(t instanceof Date)return t;if(We(t)){var e=fxe.exec(t);if(!e)return new Date(NaN);if(e[8]){var r=+e[4]||0;return e[8].toUpperCase()!=="Z"&&(r-=+e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,r,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0))}else return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0)}else if(t==null)return new Date(NaN);return new Date(Math.round(t))}function hxe(t){return Math.pow(10,pk(t))}function pk(t){if(t===0)return 0;var e=Math.floor(Math.log(t)/Math.LN10);return t/Math.pow(10,e)>=10&&e++,e}function Hq(t,e){var r=pk(t),n=Math.pow(10,r),a=t/n,i;return a<1.5?i=1:a<2.5?i=2:a<4?i=3:a<7?i=5:i=10,t=i*n,r>=-20?+t.toFixed(r<0?-r:0):t}function N2(t,e){var r=(t.length-1)*e+1,n=Math.floor(r),a=+t[n-1],i=r-n;return i?a+i*(t[n]-a):a}function L4(t){t.sort(function(l,u){return s(l,u,0)?-1:1});for(var e=-1/0,r=1,n=0;n<t.length;){for(var a=t[n].interval,i=t[n].close,o=0;o<2;o++)a[o]<=e&&(a[o]=e,i[o]=o?1:1-r),e=a[o],r=i[o];a[0]===a[1]&&i[0]*i[1]!==1?t.splice(n,1):n++}return t;function s(l,u,c){return l.interval[c]<u.interval[c]||l.interval[c]===u.interval[c]&&(l.close[c]-u.close[c]===(c?-1:1)||!c&&s(l,u,1))}}function xf(t){var e=parseFloat(t);return e==t&&(e!==0||!We(t)||t.indexOf("x")<=0)?e:NaN}function Gq(t){return!isNaN(xf(t))}function Uq(){return Math.round(Math.random()*9)}function Wq(t,e){return e===0?t:Wq(e,t%e)}function E4(t,e){return t==null?e:e==null?t:t*e/Wq(t,e)}var dxe="[ECharts] ",vxe=typeof console<"u"&&console.warn&&console.log;function pxe(t,e,r){vxe&&console[t](dxe+e)}function Yq(t,e){pxe("error",t)}function Dr(t){throw new Error(t)}function N4(t,e,r){return(e-t)*r+t}var Zq="series\0",qq="\0_ec_\0";function gn(t){return t instanceof Array?t:t==null?[]:[t]}function Xv(t,e,r){if(t){t[e]=t[e]||{},t.emphasis=t.emphasis||{},t.emphasis[e]=t.emphasis[e]||{};for(var n=0,a=r.length;n<a;n++){var i=r[n];!t.emphasis[e].hasOwnProperty(i)&&t[e].hasOwnProperty(i)&&(t.emphasis[e][i]=t[e][i])}}}var R4=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function Bm(t){return mt(t)&&!Ee(t)&&!(t instanceof Date)?t.value:t}function gxe(t){return mt(t)&&!(t instanceof Array)}function $q(t,e,r){var n=r==="normalMerge",a=r==="replaceMerge",i=r==="replaceAll";t=t||[],e=(e||[]).slice();var o=Qe();Y(e,function(l,u){if(!mt(l)){e[u]=null;return}});var s=mxe(t,o,r);return(n||a)&&yxe(s,t,o,e),n&&xxe(s,e),n||a?_xe(s,e,a):i&&bxe(s,e),Sxe(s),s}function mxe(t,e,r){var n=[];if(r==="replaceAll")return n;for(var a=0;a<t.length;a++){var i=t[a];i&&i.id!=null&&e.set(i.id,a),n.push({existing:r==="replaceMerge"||Cx(i)?null:i,newOption:null,keyInfo:null,brandNew:null})}return n}function yxe(t,e,r,n){Y(n,function(a,i){if(!(!a||a.id==null)){var o=tx(a.id),s=r.get(o);if(s!=null){var l=t[s];co(!l.newOption,'Duplicated option on id "'+o+'".'),l.newOption=a,l.existing=e[s],n[i]=null}}})}function xxe(t,e){Y(e,function(r,n){if(!(!r||r.name==null))for(var a=0;a<t.length;a++){var i=t[a].existing;if(!t[a].newOption&&i&&(i.id==null||r.id==null)&&!Cx(r)&&!Cx(i)&&Xq("name",i,r)){t[a].newOption=r,e[n]=null;return}}})}function _xe(t,e,r){Y(e,function(n){if(n){for(var a,i=0;(a=t[i])&&(a.newOption||Cx(a.existing)||a.existing&&n.id!=null&&!Xq("id",n,a.existing));)i++;a?(a.newOption=n,a.brandNew=r):t.push({newOption:n,brandNew:r,existing:null,keyInfo:null}),i++}})}function bxe(t,e){Y(e,function(r){t.push({newOption:r,brandNew:!0,existing:null,keyInfo:null})})}function Sxe(t){var e=Qe();Y(t,function(r){var n=r.existing;n&&e.set(n.id,r)}),Y(t,function(r){var n=r.newOption;co(!n||n.id==null||!e.get(n.id)||e.get(n.id)===r,"id duplicates: "+(n&&n.id)),n&&n.id!=null&&e.set(n.id,r),!r.keyInfo&&(r.keyInfo={})}),Y(t,function(r,n){var a=r.existing,i=r.newOption,o=r.keyInfo;if(mt(i)){if(o.name=i.name!=null?tx(i.name):a?a.name:Zq+n,a)o.id=tx(a.id);else if(i.id!=null)o.id=tx(i.id);else{var s=0;do o.id="\0"+o.name+"\0"+s++;while(e.get(o.id))}e.set(o.id,r)}})}function Xq(t,e,r){var n=Ja(e[t],null),a=Ja(r[t],null);return n!=null&&a!=null&&n===a}function tx(t){return Ja(t,"")}function Ja(t,e){return t==null?e:We(t)?t:vr(t)||TE(t)?t+"":e}function gk(t){var e=t.name;return!!(e&&e.indexOf(Zq))}function Cx(t){return t&&t.id!=null&&tx(t.id).indexOf(qq)===0}function wxe(t){return qq+t}function Txe(t,e,r){Y(t,function(n){var a=n.newOption;mt(a)&&(n.keyInfo.mainType=e,n.keyInfo.subType=Cxe(e,a,n.existing,r))})}function Cxe(t,e,r,n){var a=e.type?e.type:r?r.subType:n.determineSubType(t,e);return a}function Mxe(t,e){var r={},n={};return a(t||[],r),a(e||[],n,r),[i(r),i(n)];function a(o,s,l){for(var u=0,c=o.length;u<c;u++){var f=Ja(o[u].seriesId,null);if(f==null)return;for(var d=gn(o[u].dataIndex),v=l&&l[f],g=0,y=d.length;g<y;g++){var b=d[g];v&&v[b]?v[b]=null:(s[f]||(s[f]={}))[b]=1}}}function i(o,s){var l=[];for(var u in o)if(o.hasOwnProperty(u)&&o[u]!=null)if(s)l.push(+u);else{var c=i(o[u],!0);c.length&&l.push({seriesId:u,dataIndex:c})}return l}}function Kv(t,e){if(e.dataIndexInside!=null)return e.dataIndexInside;if(e.dataIndex!=null)return Ee(e.dataIndex)?Re(e.dataIndex,function(r){return t.indexOfRawIndex(r)}):t.indexOfRawIndex(e.dataIndex);if(e.name!=null)return Ee(e.name)?Re(e.name,function(r){return t.indexOfName(r)}):t.indexOfName(e.name)}function Xt(){var t="__ec_inner_"+Axe++;return function(e){return e[t]||(e[t]={})}}var Axe=Uq();function Kg(t,e,r){var n=mk(e,r),a=n.mainTypeSpecified,i=n.queryOptionMap,o=n.others,s=o,l=r?r.defaultMainType:null;return!a&&l&&i.set(l,{}),i.each(function(u,c){var f=Vm(t,c,u,{useDefault:l===c,enableAll:r&&r.enableAll!=null?r.enableAll:!0,enableNone:r&&r.enableNone!=null?r.enableNone:!0});s[c+"Models"]=f.models,s[c+"Model"]=f.models[0]}),s}function mk(t,e){var r;if(We(t)){var n={};n[t+"Index"]=0,r=n}else r=t;var a=Qe(),i={},o=!1;return Y(r,function(s,l){if(l==="dataIndex"||l==="dataIndexInside"){i[l]=s;return}var u=l.match(/^(\w+)(Index|Id|Name)$/)||[],c=u[1],f=(u[2]||"").toLowerCase();if(!(!c||!f||e&&e.includeMainTypes&&Vt(e.includeMainTypes,c)<0)){o=o||!!c;var d=a.get(c)||a.set(c,{});d[f]=s}}),{mainTypeSpecified:o,queryOptionMap:a,others:i}}var na={useDefault:!0,enableAll:!1,enableNone:!1},Dxe={useDefault:!1,enableAll:!0,enableNone:!0};function Vm(t,e,r,n){n=n||na;var a=r.index,i=r.id,o=r.name,s={models:null,specified:a!=null||i!=null||o!=null};if(!s.specified){var l=void 0;return s.models=n.useDefault&&(l=t.getComponent(e))?[l]:[],s}if(a==="none"||a===!1){if(n.enableNone)return s.models=[],s;a=-1}return a==="all"&&(n.enableAll?a=i=o=null:a=-1),s.models=t.queryComponents({mainType:e,index:a,id:i,name:o}),s}function Kq(t,e,r){t.setAttribute?t.setAttribute(e,r):t[e]=r}function Lxe(t,e){return t.getAttribute?t.getAttribute(e):t[e]}function Exe(t){return t==="auto"?nr.domSupported?"html":"richText":t||"html"}function XE(t,e){var r=Qe(),n=[];return Y(t,function(a){var i=e(a);(r.get(i)||(n.push(i),r.set(i,[]))).push(a)}),{keys:n,buckets:r}}function Qq(t,e,r,n,a){var i=e==null||e==="auto";if(n==null)return n;if(vr(n)){var o=N4(r||0,n,a);return Ea(o,i?Math.max(rc(r||0),rc(n)):e)}else{if(We(n))return a<1?r:n;for(var s=[],l=r,u=n,c=Math.max(l?l.length:0,u.length),f=0;f<c;++f){var d=t.getDimensionInfo(f);if(d&&d.type==="ordinal")s[f]=(a<1&&l?l:u)[f];else{var v=l&&l[f]?l[f]:0,g=u[f],o=N4(v,g,a);s[f]=Ea(o,i?Math.max(rc(v),rc(g)):e)}}return s}}var Gh=(function(){function t(){}return t.prototype.reset=function(e,r,n,a){return this._list=e,this._step=a=a||1,this._idx=r,this._end=n??(a>0?e.length:0),this.item=null,this.key=NaN,this},t.prototype.next=function(){return(this._step>0?this._idx<this._end:this._idx>=this._end)?(this.item=this._list[this._idx],this.key=this._idx=this._idx+this._step,!0):!1},t})();function R2(t){t.option=t.parentModel=t.ecModel=null}var Nxe=".",Hd="___EC__COMPONENT__CONTAINER___",Jq="___EC__EXTENDED_CLASS___";function nc(t){var e={main:"",sub:""};if(t){var r=t.split(Nxe);e.main=r[0]||"",e.sub=r[1]||""}return e}function Rxe(t){co(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(t),'componentType "'+t+'" illegal')}function Pxe(t){return!!(t&&t[Jq])}function yk(t,e){t.$constructor=t,t.extend=function(r){var n=this,a;return kxe(n)?a=(function(i){ye(o,i);function o(){return i.apply(this,arguments)||this}return o})(n):(a=function(){(r.$constructor||n).apply(this,arguments)},Iye(a,this)),Ae(a.prototype,r),a[Jq]=!0,a.extend=this.extend,a.superCall=jxe,a.superApply=zxe,a.superClass=n,a}}function kxe(t){return ot(t)&&/^class\s/.test(Function.prototype.toString.call(t))}function e$(t,e){t.extend=e.extend}var Ixe=Math.round(Math.random()*10);function Oxe(t){var e=["__\0is_clz",Ixe++].join("_");t.prototype[e]=!0,t.isInstance=function(r){return!!(r&&r[e])}}function jxe(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return this.superClass.prototype[e].apply(t,r)}function zxe(t,e,r){return this.superClass.prototype[e].apply(t,r)}function lC(t){var e={};t.registerClass=function(n){var a=n.type||n.prototype.type;if(a){Rxe(a),n.prototype.type=a;var i=nc(a);if(!i.sub)e[i.main]=n;else if(i.sub!==Hd){var o=r(i);o[i.sub]=n}}return n},t.getClass=function(n,a,i){var o=e[n];if(o&&o[Hd]&&(o=a?o[a]:null),i&&!o)throw new Error(a?"Component "+n+"."+(a||"")+" is used but not imported.":n+".type should be specified.");return o},t.getClassesByMainType=function(n){var a=nc(n),i=[],o=e[a.main];return o&&o[Hd]?Y(o,function(s,l){l!==Hd&&i.push(s)}):i.push(o),i},t.hasClass=function(n){var a=nc(n);return!!e[a.main]},t.getAllClassMainTypes=function(){var n=[];return Y(e,function(a,i){n.push(i)}),n},t.hasSubTypes=function(n){var a=nc(n),i=e[a.main];return i&&i[Hd]};function r(n){var a=e[n.main];return(!a||!a[Hd])&&(a=e[n.main]={},a[Hd]=!0),a}}function Qv(t,e){for(var r=0;r<t.length;r++)t[r][1]||(t[r][1]=t[r][0]);return e=e||!1,function(n,a,i){for(var o={},s=0;s<t.length;s++){var l=t[s][1];if(!(a&&Vt(a,l)>=0||i&&Vt(i,l)<0)){var u=n.getShallow(l,e);u!=null&&(o[t[s][0]]=u)}}return o}}var Bxe=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],Vxe=Qv(Bxe),Fxe=(function(){function t(){}return t.prototype.getAreaStyle=function(e,r){return Vxe(this,e,r)},t})(),KE=new cm(50);function Hxe(t){if(typeof t=="string"){var e=KE.get(t);return e&&e.image}else return t}function xk(t,e,r,n,a){if(t)if(typeof t=="string"){if(e&&e.__zrImageSrc===t||!r)return e;var i=KE.get(t),o={hostEl:r,cb:n,cbPayload:a};return i?(e=i.image,!uC(e)&&i.pending.push(o)):(e=cu.loadImage(t,P4,P4),e.__zrImageSrc=t,KE.put(t,e.__cachedImgObj={image:e,pending:[o]})),e}else return t;else return e}function P4(){var t=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var r=t.pending[e],n=r.cb;n&&n(this,r.cbPayload),r.hostEl.dirty()}t.pending.length=0}function uC(t){return t&&t.width&&t.height}var P2=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function Gxe(t,e,r,n,a,i){if(!r){t.text="",t.isTruncated=!1;return}var o=(e+"").split(`
`);i=t$(r,n,a,i);for(var s=!1,l={},u=0,c=o.length;u<c;u++)r$(l,o[u],i),o[u]=l.textLine,s=s||l.isTruncated;t.text=o.join(`
`),t.isTruncated=s}function t$(t,e,r,n){n=n||{};var a=Ae({},n);r=et(r,"..."),a.maxIterations=et(n.maxIterations,2);var i=a.minChar=et(n.minChar,0),o=a.fontMeasureInfo=fc(e),s=o.asciiCharWidth;a.placeholder=et(n.placeholder,"");for(var l=t=Math.max(0,t-1),u=0;u<i&&l>=s;u++)l-=s;var c=hc(o,r);return c>l&&(r="",c=0),l=t-c,a.ellipsis=r,a.ellipsisWidth=c,a.contentWidth=l,a.containerWidth=t,a}function r$(t,e,r){var n=r.containerWidth,a=r.contentWidth,i=r.fontMeasureInfo;if(!n){t.textLine="",t.isTruncated=!1;return}var o=hc(i,e);if(o<=n){t.textLine=e,t.isTruncated=!1;return}for(var s=0;;s++){if(o<=a||s>=r.maxIterations){e+=r.ellipsis;break}var l=s===0?Uxe(e,a,i):o>0?Math.floor(e.length*a/o):0;e=e.substr(0,l),o=hc(i,e)}e===""&&(e=r.placeholder),t.textLine=e,t.isTruncated=!0}function Uxe(t,e,r){for(var n=0,a=0,i=t.length;a<i&&n<e;a++)n+=Oq(r,t.charCodeAt(a));return a}function Wxe(t,e,r,n){var a=_k(t),i=e.overflow,o=e.padding,s=o?o[1]+o[3]:0,l=o?o[0]+o[2]:0,u=e.font,c=i==="truncate",f=h_(u),d=et(e.lineHeight,f),v=e.lineOverflow==="truncate",g=!1,y=e.width;y==null&&r!=null&&(y=r-s);var b=e.height;b==null&&n!=null&&(b=n-l);var S;y!=null&&(i==="break"||i==="breakAll")?S=a?n$(a,e.font,y,i==="breakAll",0).lines:[]:S=a?a.split(`
`):[];var w=S.length*d;if(b==null&&(b=w),w>b&&v){var M=Math.floor(b/d);g=g||S.length>M,S=S.slice(0,M),w=S.length*d}if(a&&c&&y!=null)for(var A=t$(y,u,e.ellipsis,{minChar:e.truncateMinChar,placeholder:e.placeholder}),D={},R=0;R<S.length;R++)r$(D,S[R],A),S[R]=D.textLine,g=g||D.isTruncated;for(var N=b,I=0,z=fc(u),R=0;R<S.length;R++)I=Math.max(hc(z,S[R]),I);y==null&&(y=I);var B=y;return N+=l,B+=s,{lines:S,height:b,outerWidth:B,outerHeight:N,lineHeight:d,calculatedLineHeight:f,contentWidth:I,contentHeight:w,width:y,isTruncated:g}}var Yxe=(function(){function t(){}return t})(),k4=(function(){function t(e){this.tokens=[],e&&(this.tokens=e)}return t})(),Zxe=(function(){function t(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[],this.isTruncated=!1}return t})();function qxe(t,e,r,n,a){var i=new Zxe,o=_k(t);if(!o)return i;var s=e.padding,l=s?s[1]+s[3]:0,u=s?s[0]+s[2]:0,c=e.width;c==null&&r!=null&&(c=r-l);var f=e.height;f==null&&n!=null&&(f=n-u);for(var d=e.overflow,v=(d==="break"||d==="breakAll")&&c!=null?{width:c,accumWidth:0,breakAll:d==="breakAll"}:null,g=P2.lastIndex=0,y;(y=P2.exec(o))!=null;){var b=y.index;b>g&&k2(i,o.substring(g,b),e,v),k2(i,y[2],e,v,y[1]),g=P2.lastIndex}g<o.length&&k2(i,o.substring(g,o.length),e,v);var S=[],w=0,M=0,A=d==="truncate",D=e.lineOverflow==="truncate",R={};function N(we,pe,Pe){we.width=pe,we.lineHeight=Pe,w+=Pe,M=Math.max(M,pe)}e:for(var I=0;I<i.lines.length;I++){for(var z=i.lines[I],B=0,V=0,G=0;G<z.tokens.length;G++){var F=z.tokens[G],q=F.styleName&&e.rich[F.styleName]||{},Q=F.textPadding=q.padding,H=Q?Q[1]+Q[3]:0,X=F.font=q.font||e.font;F.contentHeight=h_(X);var W=et(q.height,F.contentHeight);if(F.innerHeight=W,Q&&(W+=Q[0]+Q[2]),F.height=W,F.lineHeight=ks(q.lineHeight,e.lineHeight,W),F.align=q&&q.align||a,F.verticalAlign=q&&q.verticalAlign||"middle",D&&f!=null&&w+F.lineHeight>f){var J=i.lines.length;G>0?(z.tokens=z.tokens.slice(0,G),N(z,V,B),i.lines=i.lines.slice(0,I+1)):i.lines=i.lines.slice(0,I),i.isTruncated=i.isTruncated||i.lines.length<J;break e}var ee=q.width,K=ee==null||ee==="auto";if(typeof ee=="string"&&ee.charAt(ee.length-1)==="%")F.percentWidth=ee,S.push(F),F.contentWidth=hc(fc(X),F.text);else{if(K){var ne=q.backgroundColor,ie=ne&&ne.image;ie&&(ie=Hxe(ie),uC(ie)&&(F.width=Math.max(F.width,ie.width*W/ie.height)))}var le=A&&c!=null?c-V:null;le!=null&&le<F.width?!K||le<H?(F.text="",F.width=F.contentWidth=0):(Gxe(R,F.text,le-H,X,e.ellipsis,{minChar:e.truncateMinChar}),F.text=R.text,i.isTruncated=i.isTruncated||R.isTruncated,F.width=F.contentWidth=hc(fc(X),F.text)):F.contentWidth=hc(fc(X),F.text)}F.width+=H,V+=F.width,q&&(B=Math.max(B,F.lineHeight))}N(z,V,B)}i.outerWidth=i.width=et(c,M),i.outerHeight=i.height=et(f,w),i.contentHeight=w,i.contentWidth=M,i.outerWidth+=l,i.outerHeight+=u;for(var I=0;I<S.length;I++){var F=S[I],me=F.percentWidth;F.width=parseInt(me,10)/100*i.width}return i}function k2(t,e,r,n,a){var i=e==="",o=a&&r.rich[a]||{},s=t.lines,l=o.font||r.font,u=!1,c,f;if(n){var d=o.padding,v=d?d[1]+d[3]:0;if(o.width!=null&&o.width!=="auto"){var g=hu(o.width,n.width)+v;s.length>0&&g+n.accumWidth>n.width&&(c=e.split(`
`),u=!0),n.accumWidth=g}else{var y=n$(e,l,n.width,n.breakAll,n.accumWidth);n.accumWidth=y.accumWidth+v,f=y.linesWidths,c=y.lines}}c||(c=e.split(`
`));for(var b=fc(l),S=0;S<c.length;S++){var w=c[S],M=new Yxe;if(M.styleName=a,M.text=w,M.isLineHolder=!w&&!i,typeof o.width=="number"?M.width=o.width:M.width=f?f[S]:hc(b,w),!S&&!u){var A=(s[s.length-1]||(s[0]=new k4)).tokens,D=A.length;D===1&&A[0].isLineHolder?A[0]=M:(w||!D||i)&&A.push(M)}else s.push(new k4([M]))}}function $xe(t){var e=t.charCodeAt(0);return e>=32&&e<=591||e>=880&&e<=4351||e>=4608&&e<=5119||e>=7680&&e<=8303}var Xxe=gc(",&?/;] ".split(""),function(t,e){return t[e]=!0,t},{});function Kxe(t){return $xe(t)?!!Xxe[t]:!0}function n$(t,e,r,n,a){for(var i=[],o=[],s="",l="",u=0,c=0,f=fc(e),d=0;d<t.length;d++){var v=t.charAt(d);if(v===`
`){l&&(s+=l,c+=u),i.push(s),o.push(c),s="",l="",u=0,c=0;continue}var g=Oq(f,v.charCodeAt(0)),y=n?!1:!Kxe(v);if(i.length?c+g>r:a+c+g>r){c?(s||l)&&(y?(s||(s=l,l="",u=0,c=u),i.push(s),o.push(c-u),l+=v,u+=g,s="",c=u):(l&&(s+=l,l="",u=0),i.push(s),o.push(c),s=v,c=g)):y?(i.push(l),o.push(u),l=v,u=g):(i.push(v),o.push(g));continue}c+=g,y?(l+=v,u+=g):(l&&(s+=l,l="",u=0),s+=v)}return l&&(s+=l),s&&(i.push(s),o.push(c)),i.length===1&&(c+=a),{accumWidth:c,lines:i,linesWidths:o}}function I4(t,e,r,n,a,i){if(t.baseX=r,t.baseY=n,t.outerWidth=t.outerHeight=null,!!e){var o=e.width*2,s=e.height*2;yt.set(O4,fm(r,o,a),kv(n,s,i),o,s),yt.intersect(e,O4,null,j4);var l=j4.outIntersectRect;t.outerWidth=l.width,t.outerHeight=l.height,t.baseX=fm(l.x,l.width,a,!0),t.baseY=kv(l.y,l.height,i,!0)}}var O4=new yt(0,0,0,0),j4={outIntersectRect:{},clamp:!0};function _k(t){return t!=null?t+="":t=""}function Qxe(t){var e=_k(t.text),r=t.font,n=hc(fc(r),e),a=h_(r);return QE(t,n,a,null)}function QE(t,e,r,n){var a=new yt(fm(t.x||0,e,t.textAlign),kv(t.y||0,r,t.textBaseline),e,r),i=n??(a$(t)?t.lineWidth:0);return i>0&&(a.x-=i/2,a.y-=i/2,a.width+=i,a.height+=i),a}function a$(t){var e=t.stroke;return e!=null&&e!=="none"&&t.lineWidth>0}var JE="__zr_style_"+Math.round(Math.random()*10),Iv={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},cC={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};Iv[JE]=!0;var z4=["z","z2","invisible"],Jxe=["invisible"],Al=(function(t){Bn(e,t);function e(r){return t.call(this,r)||this}return e.prototype._init=function(r){for(var n=sr(r),a=0;a<n.length;a++){var i=n[a];i==="style"?this.useStyle(r[i]):t.prototype.attrKV.call(this,i,r[i])}this.style||this.useStyle({})},e.prototype.beforeBrush=function(){},e.prototype.afterBrush=function(){},e.prototype.innerBeforeBrush=function(){},e.prototype.innerAfterBrush=function(){},e.prototype.shouldBePainted=function(r,n,a,i){var o=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&e_e(this,r,n)||o&&!o[0]&&!o[3])return!1;if(a&&this.__clipPaths&&this.__clipPaths.length){for(var s=0;s<this.__clipPaths.length;++s)if(this.__clipPaths[s].isZeroArea())return!1}if(i&&this.parent)for(var l=this.parent;l;){if(l.ignore)return!1;l=l.parent}return!0},e.prototype.contain=function(r,n){return this.rectContain(r,n)},e.prototype.traverse=function(r,n){r.call(n,this)},e.prototype.rectContain=function(r,n){var a=this.transformCoordToLocal(r,n),i=this.getBoundingRect();return i.contain(a[0],a[1])},e.prototype.getPaintRect=function(){var r=this._paintRect;if(!this._paintRect||this.__dirty){var n=this.transform,a=this.getBoundingRect(),i=this.style,o=i.shadowBlur||0,s=i.shadowOffsetX||0,l=i.shadowOffsetY||0;r=this._paintRect||(this._paintRect=new yt(0,0,0,0)),n?yt.applyTransform(r,a,n):r.copy(a),(o||s||l)&&(r.width+=o*2+Math.abs(s),r.height+=o*2+Math.abs(l),r.x=Math.min(r.x,r.x+s-o),r.y=Math.min(r.y,r.y+l-o));var u=this.dirtyRectTolerance;r.isZero()||(r.x=Math.floor(r.x-u),r.y=Math.floor(r.y-u),r.width=Math.ceil(r.width+1+u*2),r.height=Math.ceil(r.height+1+u*2))}return r},e.prototype.setPrevPaintRect=function(r){r?(this._prevPaintRect=this._prevPaintRect||new yt(0,0,0,0),this._prevPaintRect.copy(r)):this._prevPaintRect=null},e.prototype.getPrevPaintRect=function(){return this._prevPaintRect},e.prototype.animateStyle=function(r){return this.animate("style",r)},e.prototype.updateDuringAnimation=function(r){r==="style"?this.dirtyStyle():this.markRedraw()},e.prototype.attrKV=function(r,n){r!=="style"?t.prototype.attrKV.call(this,r,n):this.style?this.setStyle(n):this.useStyle(n)},e.prototype.setStyle=function(r,n){return typeof r=="string"?this.style[r]=n:Ae(this.style,r),this.dirtyStyle(),this},e.prototype.dirtyStyle=function(r){r||this.markRedraw(),this.__dirty|=P0,this._rect&&(this._rect=null)},e.prototype.dirty=function(){this.dirtyStyle()},e.prototype.styleChanged=function(){return!!(this.__dirty&P0)},e.prototype.styleUpdated=function(){this.__dirty&=~P0},e.prototype.createStyle=function(r){return rC(Iv,r)},e.prototype.useStyle=function(r){r[JE]||(r=this.createStyle(r)),this.__inHover?this.__hoverStyle=r:this.style=r,this.dirtyStyle()},e.prototype.isStyleObject=function(r){return r[JE]},e.prototype._innerSaveToNormal=function(r){t.prototype._innerSaveToNormal.call(this,r);var n=this._normalState;r.style&&!n.style&&(n.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(r,n,z4)},e.prototype._applyStateObj=function(r,n,a,i,o,s){t.prototype._applyStateObj.call(this,r,n,a,i,o,s);var l=!(n&&i),u;if(n&&n.style?o?i?u=n.style:(u=this._mergeStyle(this.createStyle(),a.style),this._mergeStyle(u,n.style)):(u=this._mergeStyle(this.createStyle(),i?this.style:a.style),this._mergeStyle(u,n.style)):l&&(u=a.style),u)if(o){var c=this.style;if(this.style=this.createStyle(l?{}:c),l)for(var f=sr(c),d=0;d<f.length;d++){var v=f[d];v in u&&(u[v]=u[v],this.style[v]=c[v])}for(var g=sr(u),d=0;d<g.length;d++){var v=g[d];this.style[v]=this.style[v]}this._transitionState(r,{style:u},s,this.getAnimationStyleProps())}else this.useStyle(u);for(var y=this.__inHover?Jxe:z4,d=0;d<y.length;d++){var v=y[d];n&&n[v]!=null?this[v]=n[v]:l&&a[v]!=null&&(this[v]=a[v])}},e.prototype._mergeStates=function(r){for(var n=t.prototype._mergeStates.call(this,r),a,i=0;i<r.length;i++){var o=r[i];o.style&&(a=a||{},this._mergeStyle(a,o.style))}return a&&(n.style=a),n},e.prototype._mergeStyle=function(r,n){return Ae(r,n),r},e.prototype.getAnimationStyleProps=function(){return cC},e.initDefaultProps=(function(){var r=e.prototype;r.type="displayable",r.invisible=!1,r.z=0,r.z2=0,r.zlevel=0,r.culling=!1,r.cursor="pointer",r.rectHover=!1,r.incremental=!1,r._rect=null,r.dirtyRectTolerance=0,r.__dirty=Ls|P0})(),e})(sC),I2=new yt(0,0,0,0),O2=new yt(0,0,0,0);function e_e(t,e,r){return I2.copy(t.getBoundingRect()),t.transform&&I2.applyTransform(t.transform),O2.width=e,O2.height=r,!I2.intersect(O2)}var ts=Math.min,rs=Math.max,j2=Math.sin,z2=Math.cos,Gd=Math.PI*2,r1=fp(),n1=fp(),a1=fp();function fC(t,e,r){if(t.length!==0){for(var n=t[0],a=n[0],i=n[0],o=n[1],s=n[1],l=1;l<t.length;l++)n=t[l],a=ts(a,n[0]),i=rs(i,n[0]),o=ts(o,n[1]),s=rs(s,n[1]);e[0]=a,e[1]=o,r[0]=i,r[1]=s}}function B4(t,e,r,n,a,i){a[0]=ts(t,r),a[1]=ts(e,n),i[0]=rs(t,r),i[1]=rs(e,n)}var V4=[],F4=[];function t_e(t,e,r,n,a,i,o,s,l,u){var c=bq,f=vi,d=c(t,r,a,o,V4);l[0]=1/0,l[1]=1/0,u[0]=-1/0,u[1]=-1/0;for(var v=0;v<d;v++){var g=f(t,r,a,o,V4[v]);l[0]=ts(g,l[0]),u[0]=rs(g,u[0])}d=c(e,n,i,s,F4);for(var v=0;v<d;v++){var y=f(e,n,i,s,F4[v]);l[1]=ts(y,l[1]),u[1]=rs(y,u[1])}l[0]=ts(t,l[0]),u[0]=rs(t,u[0]),l[0]=ts(o,l[0]),u[0]=rs(o,u[0]),l[1]=ts(e,l[1]),u[1]=rs(e,u[1]),l[1]=ts(s,l[1]),u[1]=rs(s,u[1])}function r_e(t,e,r,n,a,i,o,s){var l=wq,u=Ai,c=rs(ts(l(t,r,a),1),0),f=rs(ts(l(e,n,i),1),0),d=u(t,r,a,c),v=u(e,n,i,f);o[0]=ts(t,a,d),o[1]=ts(e,i,v),s[0]=rs(t,a,d),s[1]=rs(e,i,v)}function n_e(t,e,r,n,a,i,o,s,l){var u=Nh,c=Rh,f=Math.abs(a-i);if(f%Gd<1e-4&&f>1e-4){s[0]=t-r,s[1]=e-n,l[0]=t+r,l[1]=e+n;return}if(r1[0]=z2(a)*r+t,r1[1]=j2(a)*n+e,n1[0]=z2(i)*r+t,n1[1]=j2(i)*n+e,u(s,r1,n1),c(l,r1,n1),a=a%Gd,a<0&&(a=a+Gd),i=i%Gd,i<0&&(i=i+Gd),a>i&&!o?i+=Gd:a<i&&o&&(a+=Gd),o){var d=i;i=a,a=d}for(var v=0;v<i;v+=Math.PI/2)v>a&&(a1[0]=z2(v)*r+t,a1[1]=j2(v)*n+e,u(s,a1,s),c(l,a1,l))}var _n={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Ud=[],Wd=[],zu=[],uh=[],Bu=[],Vu=[],B2=Math.min,V2=Math.max,Yd=Math.cos,Zd=Math.sin,Xc=Math.abs,eN=Math.PI,Sh=eN*2,F2=typeof Float32Array<"u",qy=[];function H2(t){var e=Math.round(t/eN*1e8)/1e8;return e%2*eN}function hC(t,e){var r=H2(t[0]);r<0&&(r+=Sh);var n=r-t[0],a=t[1];a+=n,!e&&a-r>=Sh?a=r+Sh:e&&r-a>=Sh?a=r-Sh:!e&&r>a?a=r+(Sh-H2(r-a)):e&&r<a&&(a=r-(Sh-H2(a-r))),t[0]=r,t[1]=a}var xc=(function(){function t(e){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,e&&(this._saveData=!1),this._saveData&&(this.data=[])}return t.prototype.increaseVersion=function(){this._version++},t.prototype.getVersion=function(){return this._version},t.prototype.setScale=function(e,r,n){n=n||0,n>0&&(this._ux=Xc(n/uw/e)||0,this._uy=Xc(n/uw/r)||0)},t.prototype.setDPR=function(e){this.dpr=e},t.prototype.setContext=function(e){this._ctx=e},t.prototype.getContext=function(){return this._ctx},t.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},t.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},t.prototype.moveTo=function(e,r){return this._drawPendingPt(),this.addData(_n.M,e,r),this._ctx&&this._ctx.moveTo(e,r),this._x0=e,this._y0=r,this._xi=e,this._yi=r,this},t.prototype.lineTo=function(e,r){var n=Xc(e-this._xi),a=Xc(r-this._yi),i=n>this._ux||a>this._uy;if(this.addData(_n.L,e,r),this._ctx&&i&&this._ctx.lineTo(e,r),i)this._xi=e,this._yi=r,this._pendingPtDist=0;else{var o=n*n+a*a;o>this._pendingPtDist&&(this._pendingPtX=e,this._pendingPtY=r,this._pendingPtDist=o)}return this},t.prototype.bezierCurveTo=function(e,r,n,a,i,o){return this._drawPendingPt(),this.addData(_n.C,e,r,n,a,i,o),this._ctx&&this._ctx.bezierCurveTo(e,r,n,a,i,o),this._xi=i,this._yi=o,this},t.prototype.quadraticCurveTo=function(e,r,n,a){return this._drawPendingPt(),this.addData(_n.Q,e,r,n,a),this._ctx&&this._ctx.quadraticCurveTo(e,r,n,a),this._xi=n,this._yi=a,this},t.prototype.arc=function(e,r,n,a,i,o){this._drawPendingPt(),qy[0]=a,qy[1]=i,hC(qy,o),a=qy[0],i=qy[1];var s=i-a;return this.addData(_n.A,e,r,n,n,a,s,0,o?0:1),this._ctx&&this._ctx.arc(e,r,n,a,i,o),this._xi=Yd(i)*n+e,this._yi=Zd(i)*n+r,this},t.prototype.arcTo=function(e,r,n,a,i){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(e,r,n,a,i),this},t.prototype.rect=function(e,r,n,a){return this._drawPendingPt(),this._ctx&&this._ctx.rect(e,r,n,a),this.addData(_n.R,e,r,n,a),this},t.prototype.closePath=function(){this._drawPendingPt(),this.addData(_n.Z);var e=this._ctx,r=this._x0,n=this._y0;return e&&e.closePath(),this._xi=r,this._yi=n,this},t.prototype.fill=function(e){e&&e.fill(),this.toStatic()},t.prototype.stroke=function(e){e&&e.stroke(),this.toStatic()},t.prototype.len=function(){return this._len},t.prototype.setData=function(e){if(this._saveData){var r=e.length;!(this.data&&this.data.length===r)&&F2&&(this.data=new Float32Array(r));for(var n=0;n<r;n++)this.data[n]=e[n];this._len=r}},t.prototype.appendPath=function(e){if(this._saveData){e instanceof Array||(e=[e]);for(var r=e.length,n=0,a=this._len,i=0;i<r;i++)n+=e[i].len();var o=this.data;if(F2&&(o instanceof Float32Array||!o)&&(this.data=new Float32Array(a+n),a>0&&o))for(var s=0;s<a;s++)this.data[s]=o[s];for(var i=0;i<r;i++)for(var l=e[i].data,s=0;s<l.length;s++)this.data[a++]=l[s];this._len=a}},t.prototype.addData=function(e,r,n,a,i,o,s,l,u){if(this._saveData){var c=this.data;this._len+arguments.length>c.length&&(this._expandData(),c=this.data);for(var f=0;f<arguments.length;f++)c[this._len++]=arguments[f]}},t.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},t.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var e=[],r=0;r<this._len;r++)e[r]=this.data[r];this.data=e}},t.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var e=this.data;e instanceof Array&&(e.length=this._len,F2&&this._len>11&&(this.data=new Float32Array(e)))}},t.prototype.getBoundingRect=function(){zu[0]=zu[1]=Bu[0]=Bu[1]=Number.MAX_VALUE,uh[0]=uh[1]=Vu[0]=Vu[1]=-Number.MAX_VALUE;var e=this.data,r=0,n=0,a=0,i=0,o;for(o=0;o<this._len;){var s=e[o++],l=o===1;switch(l&&(r=e[o],n=e[o+1],a=r,i=n),s){case _n.M:r=a=e[o++],n=i=e[o++],Bu[0]=a,Bu[1]=i,Vu[0]=a,Vu[1]=i;break;case _n.L:B4(r,n,e[o],e[o+1],Bu,Vu),r=e[o++],n=e[o++];break;case _n.C:t_e(r,n,e[o++],e[o++],e[o++],e[o++],e[o],e[o+1],Bu,Vu),r=e[o++],n=e[o++];break;case _n.Q:r_e(r,n,e[o++],e[o++],e[o],e[o+1],Bu,Vu),r=e[o++],n=e[o++];break;case _n.A:var u=e[o++],c=e[o++],f=e[o++],d=e[o++],v=e[o++],g=e[o++]+v;o+=1;var y=!e[o++];l&&(a=Yd(v)*f+u,i=Zd(v)*d+c),n_e(u,c,f,d,v,g,y,Bu,Vu),r=Yd(g)*f+u,n=Zd(g)*d+c;break;case _n.R:a=r=e[o++],i=n=e[o++];var b=e[o++],S=e[o++];B4(a,i,a+b,i+S,Bu,Vu);break;case _n.Z:r=a,n=i;break}Nh(zu,zu,Bu),Rh(uh,uh,Vu)}return o===0&&(zu[0]=zu[1]=uh[0]=uh[1]=0),new yt(zu[0],zu[1],uh[0]-zu[0],uh[1]-zu[1])},t.prototype._calculateLength=function(){var e=this.data,r=this._len,n=this._ux,a=this._uy,i=0,o=0,s=0,l=0;this._pathSegLen||(this._pathSegLen=[]);for(var u=this._pathSegLen,c=0,f=0,d=0;d<r;){var v=e[d++],g=d===1;g&&(i=e[d],o=e[d+1],s=i,l=o);var y=-1;switch(v){case _n.M:i=s=e[d++],o=l=e[d++];break;case _n.L:{var b=e[d++],S=e[d++],w=b-i,M=S-o;(Xc(w)>n||Xc(M)>a||d===r-1)&&(y=Math.sqrt(w*w+M*M),i=b,o=S);break}case _n.C:{var A=e[d++],D=e[d++],b=e[d++],S=e[d++],R=e[d++],N=e[d++];y=m0e(i,o,A,D,b,S,R,N,10),i=R,o=N;break}case _n.Q:{var A=e[d++],D=e[d++],b=e[d++],S=e[d++];y=x0e(i,o,A,D,b,S,10),i=b,o=S;break}case _n.A:var I=e[d++],z=e[d++],B=e[d++],V=e[d++],G=e[d++],F=e[d++],q=F+G;d+=1,g&&(s=Yd(G)*B+I,l=Zd(G)*V+z),y=V2(B,V)*B2(Sh,Math.abs(F)),i=Yd(q)*B+I,o=Zd(q)*V+z;break;case _n.R:{s=i=e[d++],l=o=e[d++];var Q=e[d++],H=e[d++];y=Q*2+H*2;break}case _n.Z:{var w=s-i,M=l-o;y=Math.sqrt(w*w+M*M),i=s,o=l;break}}y>=0&&(u[f++]=y,c+=y)}return this._pathLen=c,c},t.prototype.rebuildPath=function(e,r){var n=this.data,a=this._ux,i=this._uy,o=this._len,s,l,u,c,f,d,v=r<1,g,y,b=0,S=0,w,M=0,A,D;if(!(v&&(this._pathSegLen||this._calculateLength(),g=this._pathSegLen,y=this._pathLen,w=r*y,!w)))e:for(var R=0;R<o;){var N=n[R++],I=R===1;switch(I&&(u=n[R],c=n[R+1],s=u,l=c),N!==_n.L&&M>0&&(e.lineTo(A,D),M=0),N){case _n.M:s=u=n[R++],l=c=n[R++],e.moveTo(u,c);break;case _n.L:{f=n[R++],d=n[R++];var z=Xc(f-u),B=Xc(d-c);if(z>a||B>i){if(v){var V=g[S++];if(b+V>w){var G=(w-b)/V;e.lineTo(u*(1-G)+f*G,c*(1-G)+d*G);break e}b+=V}e.lineTo(f,d),u=f,c=d,M=0}else{var F=z*z+B*B;F>M&&(A=f,D=d,M=F)}break}case _n.C:{var q=n[R++],Q=n[R++],H=n[R++],X=n[R++],W=n[R++],J=n[R++];if(v){var V=g[S++];if(b+V>w){var G=(w-b)/V;Qh(u,q,H,W,G,Ud),Qh(c,Q,X,J,G,Wd),e.bezierCurveTo(Ud[1],Wd[1],Ud[2],Wd[2],Ud[3],Wd[3]);break e}b+=V}e.bezierCurveTo(q,Q,H,X,W,J),u=W,c=J;break}case _n.Q:{var q=n[R++],Q=n[R++],H=n[R++],X=n[R++];if(v){var V=g[S++];if(b+V>w){var G=(w-b)/V;_x(u,q,H,G,Ud),_x(c,Q,X,G,Wd),e.quadraticCurveTo(Ud[1],Wd[1],Ud[2],Wd[2]);break e}b+=V}e.quadraticCurveTo(q,Q,H,X),u=H,c=X;break}case _n.A:var ee=n[R++],K=n[R++],ne=n[R++],ie=n[R++],le=n[R++],me=n[R++],we=n[R++],pe=!n[R++],Pe=ne>ie?ne:ie,ke=Xc(ne-ie)>.001,ze=le+me,Ie=!1;if(v){var V=g[S++];b+V>w&&(ze=le+me*(w-b)/V,Ie=!0),b+=V}if(ke&&e.ellipse?e.ellipse(ee,K,ne,ie,we,le,ze,pe):e.arc(ee,K,Pe,le,ze,pe),Ie)break e;I&&(s=Yd(le)*ne+ee,l=Zd(le)*ie+K),u=Yd(ze)*ne+ee,c=Zd(ze)*ie+K;break;case _n.R:s=u=n[R],l=c=n[R+1],f=n[R++],d=n[R++];var Oe=n[R++],vt=n[R++];if(v){var V=g[S++];if(b+V>w){var ct=w-b;e.moveTo(f,d),e.lineTo(f+B2(ct,Oe),d),ct-=Oe,ct>0&&e.lineTo(f+Oe,d+B2(ct,vt)),ct-=vt,ct>0&&e.lineTo(f+V2(Oe-ct,0),d+vt),ct-=Oe,ct>0&&e.lineTo(f,d+V2(vt-ct,0));break e}b+=V}e.rect(f,d,Oe,vt);break;case _n.Z:if(v){var V=g[S++];if(b+V>w){var G=(w-b)/V;e.lineTo(u*(1-G)+s*G,c*(1-G)+l*G);break e}b+=V}e.closePath(),u=s,c=l}}},t.prototype.clone=function(){var e=new t,r=this.data;return e.data=r.slice?r.slice():Array.prototype.slice.call(r),e._len=this._len,e},t.prototype.canSave=function(){return!!this._saveData},t.CMD=_n,t.initDefaultProps=(function(){var e=t.prototype;e._saveData=!0,e._ux=0,e._uy=0,e._pendingPtDist=0,e._version=0})(),t})();function Ch(t,e,r,n,a,i,o){if(a===0)return!1;var s=a,l=0,u=t;if(o>e+s&&o>n+s||o<e-s&&o<n-s||i>t+s&&i>r+s||i<t-s&&i<r-s)return!1;if(t!==r)l=(e-n)/(t-r),u=(t*n-r*e)/(t-r);else return Math.abs(i-t)<=s/2;var c=l*i-o+u,f=c*c/(l*l+1);return f<=s/2*s/2}function a_e(t,e,r,n,a,i,o,s,l,u,c){if(l===0)return!1;var f=l;if(c>e+f&&c>n+f&&c>i+f&&c>s+f||c<e-f&&c<n-f&&c<i-f&&c<s-f||u>t+f&&u>r+f&&u>a+f&&u>o+f||u<t-f&&u<r-f&&u<a-f&&u<o-f)return!1;var d=Sq(t,e,r,n,a,i,o,s,u,c,null);return d<=f/2}function i$(t,e,r,n,a,i,o,s,l){if(o===0)return!1;var u=o;if(l>e+u&&l>n+u&&l>i+u||l<e-u&&l<n-u&&l<i-u||s>t+u&&s>r+u&&s>a+u||s<t-u&&s<r-u&&s<a-u)return!1;var c=Tq(t,e,r,n,a,i,s,l,null);return c<=u/2}var H4=Math.PI*2;function Es(t){return t%=H4,t<0&&(t+=H4),t}var $y=Math.PI*2;function i_e(t,e,r,n,a,i,o,s,l){if(o===0)return!1;var u=o;s-=t,l-=e;var c=Math.sqrt(s*s+l*l);if(c-u>r||c+u<r)return!1;if(Math.abs(n-a)%$y<1e-4)return!0;if(i){var f=n;n=Es(a),a=Es(f)}else n=Es(n),a=Es(a);n>a&&(a+=$y);var d=Math.atan2(l,s);return d<0&&(d+=$y),d>=n&&d<=a||d+$y>=n&&d+$y<=a}function nf(t,e,r,n,a,i){if(i>e&&i>n||i<e&&i<n||n===e)return 0;var o=(i-e)/(n-e),s=n<e?1:-1;(o===1||o===0)&&(s=n<e?.5:-.5);var l=o*(r-t)+t;return l===a?1/0:l>a?s:0}var ch=xc.CMD,qd=Math.PI*2,o_e=1e-4;function s_e(t,e){return Math.abs(t-e)<o_e}var To=[-1,-1,-1],ul=[-1,-1];function l_e(){var t=ul[0];ul[0]=ul[1],ul[1]=t}function u_e(t,e,r,n,a,i,o,s,l,u){if(u>e&&u>n&&u>i&&u>s||u<e&&u<n&&u<i&&u<s)return 0;var c=iw(e,n,i,s,u,To);if(c===0)return 0;for(var f=0,d=-1,v=void 0,g=void 0,y=0;y<c;y++){var b=To[y],S=b===0||b===1?.5:1,w=vi(t,r,a,o,b);w<l||(d<0&&(d=bq(e,n,i,s,ul),ul[1]<ul[0]&&d>1&&l_e(),v=vi(e,n,i,s,ul[0]),d>1&&(g=vi(e,n,i,s,ul[1]))),d===2?b<ul[0]?f+=v<e?S:-S:b<ul[1]?f+=g<v?S:-S:f+=s<g?S:-S:b<ul[0]?f+=v<e?S:-S:f+=s<v?S:-S)}return f}function c_e(t,e,r,n,a,i,o,s){if(s>e&&s>n&&s>i||s<e&&s<n&&s<i)return 0;var l=y0e(e,n,i,s,To);if(l===0)return 0;var u=wq(e,n,i);if(u>=0&&u<=1){for(var c=0,f=Ai(e,n,i,u),d=0;d<l;d++){var v=To[d]===0||To[d]===1?.5:1,g=Ai(t,r,a,To[d]);g<o||(To[d]<u?c+=f<e?v:-v:c+=i<f?v:-v)}return c}else{var v=To[0]===0||To[0]===1?.5:1,g=Ai(t,r,a,To[0]);return g<o?0:i<e?v:-v}}function f_e(t,e,r,n,a,i,o,s){if(s-=e,s>r||s<-r)return 0;var l=Math.sqrt(r*r-s*s);To[0]=-l,To[1]=l;var u=Math.abs(n-a);if(u<1e-4)return 0;if(u>=qd-1e-4){n=0,a=qd;var c=i?1:-1;return o>=To[0]+t&&o<=To[1]+t?c:0}if(n>a){var f=n;n=a,a=f}n<0&&(n+=qd,a+=qd);for(var d=0,v=0;v<2;v++){var g=To[v];if(g+t>o){var y=Math.atan2(s,g),c=i?1:-1;y<0&&(y=qd+y),(y>=n&&y<=a||y+qd>=n&&y+qd<=a)&&(y>Math.PI/2&&y<Math.PI*1.5&&(c=-c),d+=c)}}return d}function o$(t,e,r,n,a){for(var i=t.data,o=t.len(),s=0,l=0,u=0,c=0,f=0,d,v,g=0;g<o;){var y=i[g++],b=g===1;switch(y===ch.M&&g>1&&(r||(s+=nf(l,u,c,f,n,a))),b&&(l=i[g],u=i[g+1],c=l,f=u),y){case ch.M:c=i[g++],f=i[g++],l=c,u=f;break;case ch.L:if(r){if(Ch(l,u,i[g],i[g+1],e,n,a))return!0}else s+=nf(l,u,i[g],i[g+1],n,a)||0;l=i[g++],u=i[g++];break;case ch.C:if(r){if(a_e(l,u,i[g++],i[g++],i[g++],i[g++],i[g],i[g+1],e,n,a))return!0}else s+=u_e(l,u,i[g++],i[g++],i[g++],i[g++],i[g],i[g+1],n,a)||0;l=i[g++],u=i[g++];break;case ch.Q:if(r){if(i$(l,u,i[g++],i[g++],i[g],i[g+1],e,n,a))return!0}else s+=c_e(l,u,i[g++],i[g++],i[g],i[g+1],n,a)||0;l=i[g++],u=i[g++];break;case ch.A:var S=i[g++],w=i[g++],M=i[g++],A=i[g++],D=i[g++],R=i[g++];g+=1;var N=!!(1-i[g++]);d=Math.cos(D)*M+S,v=Math.sin(D)*A+w,b?(c=d,f=v):s+=nf(l,u,d,v,n,a);var I=(n-S)*A/M+S;if(r){if(i_e(S,w,A,D,D+R,N,e,I,a))return!0}else s+=f_e(S,w,A,D,D+R,N,I,a);l=Math.cos(D+R)*M+S,u=Math.sin(D+R)*A+w;break;case ch.R:c=l=i[g++],f=u=i[g++];var z=i[g++],B=i[g++];if(d=c+z,v=f+B,r){if(Ch(c,f,d,f,e,n,a)||Ch(d,f,d,v,e,n,a)||Ch(d,v,c,v,e,n,a)||Ch(c,v,c,f,e,n,a))return!0}else s+=nf(d,f,d,v,n,a),s+=nf(c,v,c,f,n,a);break;case ch.Z:if(r){if(Ch(l,u,c,f,e,n,a))return!0}else s+=nf(l,u,c,f,n,a);l=c,u=f;break}}return!r&&!s_e(u,f)&&(s+=nf(l,u,c,f,n,a)||0),s!==0}function h_e(t,e,r){return o$(t,0,!1,e,r)}function d_e(t,e,r,n){return o$(t,e,!0,r,n)}var dw=gt({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},Iv),v_e={style:gt({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},cC.style)},G2=yc.concat(["invisible","culling","z","z2","zlevel","parent"]),Jt=(function(t){Bn(e,t);function e(r){return t.call(this,r)||this}return e.prototype.update=function(){var r=this;t.prototype.update.call(this);var n=this.style;if(n.decal){var a=this._decalEl=this._decalEl||new e;a.buildPath===e.prototype.buildPath&&(a.buildPath=function(l){r.buildPath(l,r.shape)}),a.silent=!0;var i=a.style;for(var o in n)i[o]!==n[o]&&(i[o]=n[o]);i.fill=n.fill?n.decal:null,i.decal=null,i.shadowColor=null,n.strokeFirst&&(i.stroke=null);for(var s=0;s<G2.length;++s)a[G2[s]]=this[G2[s]];a.__dirty|=Ls}else this._decalEl&&(this._decalEl=null)},e.prototype.getDecalElement=function(){return this._decalEl},e.prototype._init=function(r){var n=sr(r);this.shape=this.getDefaultShape();var a=this.getDefaultStyle();a&&this.useStyle(a);for(var i=0;i<n.length;i++){var o=n[i],s=r[o];o==="style"?this.style?Ae(this.style,s):this.useStyle(s):o==="shape"?Ae(this.shape,s):t.prototype.attrKV.call(this,o,s)}this.style||this.useStyle({})},e.prototype.getDefaultStyle=function(){return null},e.prototype.getDefaultShape=function(){return{}},e.prototype.canBeInsideText=function(){return this.hasFill()},e.prototype.getInsideTextFill=function(){var r=this.style.fill;if(r!=="none"){if(We(r)){var n=sw(r,0);return n>.5?ZE:n>.2?Y0e:qE}else if(r)return qE}return ZE},e.prototype.getInsideTextStroke=function(r){var n=this.style.fill;if(We(n)){var a=this.__zr,i=!!(a&&a.isDarkMode()),o=sw(r,0)<YE;if(i===o)return n}},e.prototype.buildPath=function(r,n,a){},e.prototype.pathUpdated=function(){this.__dirty&=~Rg},e.prototype.getUpdatedPathProxy=function(r){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,r),this.path},e.prototype.createPathProxy=function(){this.path=new xc(!1)},e.prototype.hasStroke=function(){var r=this.style,n=r.stroke;return!(n==null||n==="none"||!(r.lineWidth>0))},e.prototype.hasFill=function(){var r=this.style,n=r.fill;return n!=null&&n!=="none"},e.prototype.getBoundingRect=function(){var r=this._rect,n=this.style,a=!r;if(a){var i=!1;this.path||(i=!0,this.createPathProxy());var o=this.path;(i||this.__dirty&Rg)&&(o.beginPath(),this.buildPath(o,this.shape,!1),this.pathUpdated()),r=o.getBoundingRect()}if(this._rect=r,this.hasStroke()&&this.path&&this.path.len()>0){var s=this._rectStroke||(this._rectStroke=r.clone());if(this.__dirty||a){s.copy(r);var l=n.strokeNoScale?this.getLineScale():1,u=n.lineWidth;if(!this.hasFill()){var c=this.strokeContainThreshold;u=Math.max(u,c??4)}l>1e-10&&(s.width+=u/l,s.height+=u/l,s.x-=u/l/2,s.y-=u/l/2)}return s}return r},e.prototype.contain=function(r,n){var a=this.transformCoordToLocal(r,n),i=this.getBoundingRect(),o=this.style;if(r=a[0],n=a[1],i.contain(r,n)){var s=this.path;if(this.hasStroke()){var l=o.lineWidth,u=o.strokeNoScale?this.getLineScale():1;if(u>1e-10&&(this.hasFill()||(l=Math.max(l,this.strokeContainThreshold)),d_e(s,l/u,r,n)))return!0}if(this.hasFill())return h_e(s,r,n)}return!1},e.prototype.dirtyShape=function(){this.__dirty|=Rg,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},e.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},e.prototype.animateShape=function(r){return this.animate("shape",r)},e.prototype.updateDuringAnimation=function(r){r==="style"?this.dirtyStyle():r==="shape"?this.dirtyShape():this.markRedraw()},e.prototype.attrKV=function(r,n){r==="shape"?this.setShape(n):t.prototype.attrKV.call(this,r,n)},e.prototype.setShape=function(r,n){var a=this.shape;return a||(a=this.shape={}),typeof r=="string"?a[r]=n:Ae(a,r),this.dirtyShape(),this},e.prototype.shapeChanged=function(){return!!(this.__dirty&Rg)},e.prototype.createStyle=function(r){return rC(dw,r)},e.prototype._innerSaveToNormal=function(r){t.prototype._innerSaveToNormal.call(this,r);var n=this._normalState;r.shape&&!n.shape&&(n.shape=Ae({},this.shape))},e.prototype._applyStateObj=function(r,n,a,i,o,s){t.prototype._applyStateObj.call(this,r,n,a,i,o,s);var l=!(n&&i),u;if(n&&n.shape?o?i?u=n.shape:(u=Ae({},a.shape),Ae(u,n.shape)):(u=Ae({},i?this.shape:a.shape),Ae(u,n.shape)):l&&(u=a.shape),u)if(o){this.shape=Ae({},this.shape);for(var c={},f=sr(u),d=0;d<f.length;d++){var v=f[d];typeof u[v]=="object"?this.shape[v]=u[v]:c[v]=u[v]}this._transitionState(r,{shape:c},s)}else this.shape=u,this.dirtyShape()},e.prototype._mergeStates=function(r){for(var n=t.prototype._mergeStates.call(this,r),a,i=0;i<r.length;i++){var o=r[i];o.shape&&(a=a||{},this._mergeStyle(a,o.shape))}return a&&(n.shape=a),n},e.prototype.getAnimationStyleProps=function(){return v_e},e.prototype.isZeroArea=function(){return!1},e.extend=function(r){var n=(function(i){Bn(o,i);function o(s){var l=i.call(this,s)||this;return r.init&&r.init.call(l,s),l}return o.prototype.getDefaultStyle=function(){return ut(r.style)},o.prototype.getDefaultShape=function(){return ut(r.shape)},o})(e);for(var a in r)typeof r[a]=="function"&&(n.prototype[a]=r[a]);return n},e.initDefaultProps=(function(){var r=e.prototype;r.type="path",r.strokeContainThreshold=5,r.segmentIgnoreThreshold=0,r.subPixelOptimize=!1,r.autoBatch=!1,r.__dirty=Ls|P0|Rg})(),e})(Al),p_e=gt({strokeFirst:!0,font:mf,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},dw),hm=(function(t){Bn(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.hasStroke=function(){return a$(this.style)},e.prototype.hasFill=function(){var r=this.style,n=r.fill;return n!=null&&n!=="none"},e.prototype.createStyle=function(r){return rC(p_e,r)},e.prototype.setBoundingRect=function(r){this._rect=r},e.prototype.getBoundingRect=function(){return this._rect||(this._rect=Qxe(this.style)),this._rect},e.initDefaultProps=(function(){var r=e.prototype;r.dirtyRectTolerance=10})(),e})(Al);hm.prototype.type="tspan";var g_e=gt({x:0,y:0},Iv),m_e={style:gt({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},cC.style)};function y_e(t){return!!(t&&typeof t!="string"&&t.width&&t.height)}var Ni=(function(t){Bn(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createStyle=function(r){return rC(g_e,r)},e.prototype._getSize=function(r){var n=this.style,a=n[r];if(a!=null)return a;var i=y_e(n.image)?n.image:this.__image;if(!i)return 0;var o=r==="width"?"height":"width",s=n[o];return s==null?i[r]:i[r]/i[o]*s},e.prototype.getWidth=function(){return this._getSize("width")},e.prototype.getHeight=function(){return this._getSize("height")},e.prototype.getAnimationStyleProps=function(){return m_e},e.prototype.getBoundingRect=function(){var r=this.style;return this._rect||(this._rect=new yt(r.x||0,r.y||0,this.getWidth(),this.getHeight())),this._rect},e})(Al);Ni.prototype.type="image";function x_e(t,e){var r=e.x,n=e.y,a=e.width,i=e.height,o=e.r,s,l,u,c;a<0&&(r=r+a,a=-a),i<0&&(n=n+i,i=-i),typeof o=="number"?s=l=u=c=o:o instanceof Array?o.length===1?s=l=u=c=o[0]:o.length===2?(s=u=o[0],l=c=o[1]):o.length===3?(s=o[0],l=c=o[1],u=o[2]):(s=o[0],l=o[1],u=o[2],c=o[3]):s=l=u=c=0;var f;s+l>a&&(f=s+l,s*=a/f,l*=a/f),u+c>a&&(f=u+c,u*=a/f,c*=a/f),l+u>i&&(f=l+u,l*=i/f,u*=i/f),s+c>i&&(f=s+c,s*=i/f,c*=i/f),t.moveTo(r+s,n),t.lineTo(r+a-l,n),l!==0&&t.arc(r+a-l,n+l,l,-Math.PI/2,0),t.lineTo(r+a,n+i-u),u!==0&&t.arc(r+a-u,n+i-u,u,0,Math.PI/2),t.lineTo(r+c,n+i),c!==0&&t.arc(r+c,n+i-c,c,Math.PI/2,Math.PI),t.lineTo(r,n+s),s!==0&&t.arc(r+s,n+s,s,Math.PI,Math.PI*1.5)}var Bg=Math.round;function dC(t,e,r){if(e){var n=e.x1,a=e.x2,i=e.y1,o=e.y2;t.x1=n,t.x2=a,t.y1=i,t.y2=o;var s=r&&r.lineWidth;return s&&(Bg(n*2)===Bg(a*2)&&(t.x1=t.x2=Ns(n,s,!0)),Bg(i*2)===Bg(o*2)&&(t.y1=t.y2=Ns(i,s,!0))),t}}function s$(t,e,r){if(e){var n=e.x,a=e.y,i=e.width,o=e.height;t.x=n,t.y=a,t.width=i,t.height=o;var s=r&&r.lineWidth;return s&&(t.x=Ns(n,s,!0),t.y=Ns(a,s,!0),t.width=Math.max(Ns(n+i,s,!1)-t.x,i===0?0:1),t.height=Math.max(Ns(a+o,s,!1)-t.y,o===0?0:1)),t}}function Ns(t,e,r){if(!e)return t;var n=Bg(t*2);return(n+Bg(e))%2===0?n/2:(n+(r?1:-1))/2}var __e=(function(){function t(){this.x=0,this.y=0,this.width=0,this.height=0}return t})(),b_e={},$t=(function(t){Bn(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultShape=function(){return new __e},e.prototype.buildPath=function(r,n){var a,i,o,s;if(this.subPixelOptimize){var l=s$(b_e,n,this.style);a=l.x,i=l.y,o=l.width,s=l.height,l.r=n.r,n=l}else a=n.x,i=n.y,o=n.width,s=n.height;n.r?x_e(r,n):r.rect(a,i,o,s)},e.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},e})(Jt);$t.prototype.type="rect";var G4={fill:"#000"},U4=2,Fu={},S_e={style:gt({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},cC.style)},xr=(function(t){Bn(e,t);function e(r){var n=t.call(this)||this;return n.type="text",n._children=[],n._defaultStyle=G4,n.attr(r),n}return e.prototype.childrenRef=function(){return this._children},e.prototype.update=function(){t.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var r=0;r<this._children.length;r++){var n=this._children[r];n.zlevel=this.zlevel,n.z=this.z,n.z2=this.z2,n.culling=this.culling,n.cursor=this.cursor,n.invisible=this.invisible}},e.prototype.updateTransform=function(){var r=this.innerTransformable;r?(r.updateTransform(),r.transform&&(this.transform=r.transform)):t.prototype.updateTransform.call(this)},e.prototype.getLocalTransform=function(r){var n=this.innerTransformable;return n?n.getLocalTransform(r):t.prototype.getLocalTransform.call(this,r)},e.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),t.prototype.getComputedTransform.call(this)},e.prototype._updateSubTexts=function(){this._childCursor=0,C_e(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},e.prototype.addSelfToZr=function(r){t.prototype.addSelfToZr.call(this,r);for(var n=0;n<this._children.length;n++)this._children[n].__zr=r},e.prototype.removeSelfFromZr=function(r){t.prototype.removeSelfFromZr.call(this,r);for(var n=0;n<this._children.length;n++)this._children[n].__zr=null},e.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var r=new yt(0,0,0,0),n=this._children,a=[],i=null,o=0;o<n.length;o++){var s=n[o],l=s.getBoundingRect(),u=s.getLocalTransform(a);u?(r.copy(l),r.applyTransform(u),i=i||r.clone(),i.union(r)):(i=i||l.clone(),i.union(l))}this._rect=i||r}return this._rect},e.prototype.setDefaultTextStyle=function(r){this._defaultStyle=r||G4},e.prototype.setTextContent=function(r){},e.prototype._mergeStyle=function(r,n){if(!n)return r;var a=n.rich,i=r.rich||a&&{};return Ae(r,n),a&&i?(this._mergeRich(i,a),r.rich=i):i&&(r.rich=i),r},e.prototype._mergeRich=function(r,n){for(var a=sr(n),i=0;i<a.length;i++){var o=a[i];r[o]=r[o]||{},Ae(r[o],n[o])}},e.prototype.getAnimationStyleProps=function(){return S_e},e.prototype._getOrCreateChild=function(r){var n=this._children[this._childCursor];return(!n||!(n instanceof r))&&(n=new r),this._children[this._childCursor++]=n,n.__zr=this.__zr,n.parent=this,n},e.prototype._updatePlainTexts=function(){var r=this.style,n=r.font||mf,a=r.padding,i=this._defaultStyle,o=r.x||0,s=r.y||0,l=r.align||i.align||"left",u=r.verticalAlign||i.verticalAlign||"top";I4(Fu,i.overflowRect,o,s,l,u),o=Fu.baseX,s=Fu.baseY;var c=K4(r),f=Wxe(c,r,Fu.outerWidth,Fu.outerHeight),d=U2(r),v=!!r.backgroundColor,g=f.outerHeight,y=f.outerWidth,b=f.lines,S=f.lineHeight;this.isTruncated=!!f.isTruncated;var w=o,M=kv(s,f.contentHeight,u);if(d||a){var A=fm(o,y,l),D=kv(s,g,u);d&&this._renderBackground(r,r,A,D,y,g)}M+=S/2,a&&(w=X4(o,l,a),u==="top"?M+=a[0]:u==="bottom"&&(M-=a[2]));for(var R=0,N=!1,I=!1,z=$4("fill"in r?r.fill:(I=!0,i.fill)),B=q4("stroke"in r?r.stroke:!v&&(!i.autoStroke||I)?(R=U4,N=!0,i.stroke):null),V=r.textShadowBlur>0,G=0;G<b.length;G++){var F=this._getOrCreateChild(hm),q=F.createStyle();F.useStyle(q),q.text=b[G],q.x=w,q.y=M,q.textAlign=l,q.textBaseline="middle",q.opacity=r.opacity,q.strokeFirst=!0,V&&(q.shadowBlur=r.textShadowBlur||0,q.shadowColor=r.textShadowColor||"transparent",q.shadowOffsetX=r.textShadowOffsetX||0,q.shadowOffsetY=r.textShadowOffsetY||0),q.stroke=B,q.fill=z,B&&(q.lineWidth=r.lineWidth||R,q.lineDash=r.lineDash,q.lineDashOffset=r.lineDashOffset||0),q.font=n,Y4(q,r),M+=S,F.setBoundingRect(QE(q,f.contentWidth,f.calculatedLineHeight,N?0:null))}},e.prototype._updateRichTexts=function(){var r=this.style,n=this._defaultStyle,a=r.align||n.align,i=r.verticalAlign||n.verticalAlign,o=r.x||0,s=r.y||0;I4(Fu,n.overflowRect,o,s,a,i),o=Fu.baseX,s=Fu.baseY;var l=K4(r),u=qxe(l,r,Fu.outerWidth,Fu.outerHeight,a),c=u.width,f=u.outerWidth,d=u.outerHeight,v=r.padding;this.isTruncated=!!u.isTruncated;var g=fm(o,f,a),y=kv(s,d,i),b=g,S=y;v&&(b+=v[3],S+=v[0]);var w=b+c;U2(r)&&this._renderBackground(r,r,g,y,f,d);for(var M=!!r.backgroundColor,A=0;A<u.lines.length;A++){for(var D=u.lines[A],R=D.tokens,N=R.length,I=D.lineHeight,z=D.width,B=0,V=b,G=w,F=N-1,q=void 0;B<N&&(q=R[B],!q.align||q.align==="left");)this._placeToken(q,r,I,S,V,"left",M),z-=q.width,V+=q.width,B++;for(;F>=0&&(q=R[F],q.align==="right");)this._placeToken(q,r,I,S,G,"right",M),z-=q.width,G-=q.width,F--;for(V+=(c-(V-b)-(w-G)-z)/2;B<=F;)q=R[B],this._placeToken(q,r,I,S,V+q.width/2,"center",M),V+=q.width,B++;S+=I}},e.prototype._placeToken=function(r,n,a,i,o,s,l){var u=n.rich[r.styleName]||{};u.text=r.text;var c=r.verticalAlign,f=i+a/2;c==="top"?f=i+r.height/2:c==="bottom"&&(f=i+a-r.height/2);var d=!r.isLineHolder&&U2(u);d&&this._renderBackground(u,n,s==="right"?o-r.width:s==="center"?o-r.width/2:o,f-r.height/2,r.width,r.height);var v=!!u.backgroundColor,g=r.textPadding;g&&(o=X4(o,s,g),f-=r.height/2-g[0]-r.innerHeight/2);var y=this._getOrCreateChild(hm),b=y.createStyle();y.useStyle(b);var S=this._defaultStyle,w=!1,M=0,A=!1,D=$4("fill"in u?u.fill:"fill"in n?n.fill:(w=!0,S.fill)),R=q4("stroke"in u?u.stroke:"stroke"in n?n.stroke:!v&&!l&&(!S.autoStroke||w)?(M=U4,A=!0,S.stroke):null),N=u.textShadowBlur>0||n.textShadowBlur>0;b.text=r.text,b.x=o,b.y=f,N&&(b.shadowBlur=u.textShadowBlur||n.textShadowBlur||0,b.shadowColor=u.textShadowColor||n.textShadowColor||"transparent",b.shadowOffsetX=u.textShadowOffsetX||n.textShadowOffsetX||0,b.shadowOffsetY=u.textShadowOffsetY||n.textShadowOffsetY||0),b.textAlign=s,b.textBaseline="middle",b.font=r.font||mf,b.opacity=ks(u.opacity,n.opacity,1),Y4(b,u),R&&(b.lineWidth=ks(u.lineWidth,n.lineWidth,M),b.lineDash=et(u.lineDash,n.lineDash),b.lineDashOffset=n.lineDashOffset||0,b.stroke=R),D&&(b.fill=D),y.setBoundingRect(QE(b,r.contentWidth,r.contentHeight,A?0:null))},e.prototype._renderBackground=function(r,n,a,i,o,s){var l=r.backgroundColor,u=r.borderWidth,c=r.borderColor,f=l&&l.image,d=l&&!f,v=r.borderRadius,g=this,y,b;if(d||r.lineHeight||u&&c){y=this._getOrCreateChild($t),y.useStyle(y.createStyle()),y.style.fill=null;var S=y.shape;S.x=a,S.y=i,S.width=o,S.height=s,S.r=v,y.dirtyShape()}if(d){var w=y.style;w.fill=l||null,w.fillOpacity=et(r.fillOpacity,1)}else if(f){b=this._getOrCreateChild(Ni),b.onload=function(){g.dirtyStyle()};var M=b.style;M.image=l.image,M.x=a,M.y=i,M.width=o,M.height=s}if(u&&c){var w=y.style;w.lineWidth=u,w.stroke=c,w.strokeOpacity=et(r.strokeOpacity,1),w.lineDash=r.borderDash,w.lineDashOffset=r.borderDashOffset||0,y.strokeContainThreshold=0,y.hasFill()&&y.hasStroke()&&(w.strokeFirst=!0,w.lineWidth*=2)}var A=(y||b).style;A.shadowBlur=r.shadowBlur||0,A.shadowColor=r.shadowColor||"transparent",A.shadowOffsetX=r.shadowOffsetX||0,A.shadowOffsetY=r.shadowOffsetY||0,A.opacity=ks(r.opacity,n.opacity,1)},e.makeFont=function(r){var n="";return u$(r)&&(n=[r.fontStyle,r.fontWeight,l$(r.fontSize),r.fontFamily||"sans-serif"].join(" ")),n&&ml(n)||r.textFont||r.font},e})(Al),w_e={left:!0,right:1,center:1},T_e={top:1,bottom:1,middle:1},W4=["fontStyle","fontWeight","fontSize","fontFamily"];function l$(t){return typeof t=="string"&&(t.indexOf("px")!==-1||t.indexOf("rem")!==-1||t.indexOf("em")!==-1)?t:isNaN(+t)?nk+"px":t+"px"}function Y4(t,e){for(var r=0;r<W4.length;r++){var n=W4[r],a=e[n];a!=null&&(t[n]=a)}}function u$(t){return t.fontSize!=null||t.fontFamily||t.fontWeight}function C_e(t){return Z4(t),Y(t.rich,Z4),t}function Z4(t){if(t){t.font=xr.makeFont(t);var e=t.align;e==="middle"&&(e="center"),t.align=e==null||w_e[e]?e:"left";var r=t.verticalAlign;r==="center"&&(r="middle"),t.verticalAlign=r==null||T_e[r]?r:"top";var n=t.padding;n&&(t.padding=tC(t.padding))}}function q4(t,e){return t==null||e<=0||t==="transparent"||t==="none"?null:t.image||t.colorStops?"#000":t}function $4(t){return t==null||t==="none"?null:t.image||t.colorStops?"#000":t}function X4(t,e,r){return e==="right"?t-r[1]:e==="center"?t+r[3]/2-r[1]/2:t+r[3]}function K4(t){var e=t.text;return e!=null&&(e+=""),e}function U2(t){return!!(t.backgroundColor||t.lineHeight||t.borderWidth&&t.borderColor)}var wt=Xt(),tN=function(t,e,r,n){if(n){var a=wt(n);a.dataIndex=r,a.dataType=e,a.seriesIndex=t,a.ssrType="chart",n.type==="group"&&n.traverse(function(i){var o=wt(i);o.seriesIndex=t,o.dataIndex=r,o.dataType=e,o.ssrType="chart"})}},Q4=1,J4={},c$=Xt(),bk=Xt(),Sk=0,d_=1,vC=2,No=["emphasis","blur","select"],Mx=["normal","emphasis","blur","select"],Fm=10,M_e=9,Ov="highlight",TS="downplay",vw="select",rN="unselect",pw="toggleSelect",wk="selectchanged";function sg(t){return t!=null&&t!=="none"}function pC(t,e,r){t.onHoverStateChange&&(t.hoverState||0)!==r&&t.onHoverStateChange(e),t.hoverState=r}function f$(t){pC(t,"emphasis",vC)}function h$(t){t.hoverState===vC&&pC(t,"normal",Sk)}function Tk(t){pC(t,"blur",d_)}function d$(t){t.hoverState===d_&&pC(t,"normal",Sk)}function A_e(t){t.selected=!0}function D_e(t){t.selected=!1}function eV(t,e,r){e(t,r)}function Lf(t,e,r){eV(t,e,r),t.isGroup&&t.traverse(function(n){eV(n,e,r)})}function gw(t,e){switch(e){case"emphasis":t.hoverState=vC;break;case"normal":t.hoverState=Sk;break;case"blur":t.hoverState=d_;break;case"select":t.selected=!0}}function L_e(t,e,r,n){for(var a=t.style,i={},o=0;o<e.length;o++){var s=e[o],l=a[s];i[s]=l??(n&&n[s])}for(var o=0;o<t.animators.length;o++){var u=t.animators[o];u.__fromStateTransition&&u.__fromStateTransition.indexOf(r)<0&&u.targetName==="style"&&u.saveTo(i,e)}return i}function E_e(t,e,r,n){var a=r&&Vt(r,"select")>=0,i=!1;if(t instanceof Jt){var o=c$(t),s=a&&o.selectFill||o.normalFill,l=a&&o.selectStroke||o.normalStroke;if(sg(s)||sg(l)){n=n||{};var u=n.style||{};u.fill==="inherit"?(i=!0,n=Ae({},n),u=Ae({},u),u.fill=s):!sg(u.fill)&&sg(s)?(i=!0,n=Ae({},n),u=Ae({},u),u.fill=BE(s)):!sg(u.stroke)&&sg(l)&&(i||(n=Ae({},n),u=Ae({},u)),u.stroke=BE(l)),n.style=u}}if(n&&n.z2==null){i||(n=Ae({},n));var c=t.z2EmphasisLift;n.z2=t.z2+(c??Fm)}return n}function N_e(t,e,r){if(r&&r.z2==null){r=Ae({},r);var n=t.z2SelectLift;r.z2=t.z2+(n??M_e)}return r}function R_e(t,e,r){var n=Vt(t.currentStates,e)>=0,a=t.style.opacity,i=n?null:L_e(t,["opacity"],e,{opacity:1});r=r||{};var o=r.style||{};return o.opacity==null&&(r=Ae({},r),o=Ae({opacity:n?a:i.opacity*.1},o),r.style=o),r}function W2(t,e){var r=this.states[t];if(this.style){if(t==="emphasis")return E_e(this,t,e,r);if(t==="blur")return R_e(this,t,r);if(t==="select")return N_e(this,t,r)}return r}function Jv(t){t.stateProxy=W2;var e=t.getTextContent(),r=t.getTextGuideLine();e&&(e.stateProxy=W2),r&&(r.stateProxy=W2)}function tV(t,e){!m$(t,e)&&!t.__highByOuter&&Lf(t,f$)}function rV(t,e){!m$(t,e)&&!t.__highByOuter&&Lf(t,h$)}function _f(t,e){t.__highByOuter|=1<<(e||0),Lf(t,f$)}function bf(t,e){!(t.__highByOuter&=~(1<<(e||0)))&&Lf(t,h$)}function v$(t){Lf(t,Tk)}function Ck(t){Lf(t,d$)}function p$(t){Lf(t,A_e)}function g$(t){Lf(t,D_e)}function m$(t,e){return t.__highDownSilentOnTouch&&e.zrByTouch}function y$(t){var e=t.getModel(),r=[],n=[];e.eachComponent(function(a,i){var o=bk(i),s=a==="series",l=s?t.getViewOfSeriesModel(i):t.getViewOfComponentModel(i);!s&&n.push(l),o.isBlured&&(l.group.traverse(function(u){d$(u)}),s&&r.push(i)),o.isBlured=!1}),Y(n,function(a){a&&a.toggleBlurSeries&&a.toggleBlurSeries(r,!1,e)})}function nN(t,e,r,n){var a=n.getModel();r=r||"coordinateSystem";function i(u,c){for(var f=0;f<c.length;f++){var d=u.getItemGraphicEl(c[f]);d&&Ck(d)}}if(t!=null&&!(!e||e==="none")){var o=a.getSeriesByIndex(t),s=o.coordinateSystem;s&&s.master&&(s=s.master);var l=[];a.eachSeries(function(u){var c=o===u,f=u.coordinateSystem;f&&f.master&&(f=f.master);var d=f&&s?f===s:c;if(!(r==="series"&&!c||r==="coordinateSystem"&&!d||e==="series"&&c)){var v=n.getViewOfSeriesModel(u);if(v.group.traverse(function(b){b.__highByOuter&&c&&e==="self"||Tk(b)}),uo(e))i(u.getData(),e);else if(mt(e))for(var g=sr(e),y=0;y<g.length;y++)i(u.getData(g[y]),e[g[y]]);l.push(u),bk(u).isBlured=!0}}),a.eachComponent(function(u,c){if(u!=="series"){var f=n.getViewOfComponentModel(c);f&&f.toggleBlurSeries&&f.toggleBlurSeries(l,!0,a)}})}}function aN(t,e,r){if(!(t==null||e==null)){var n=r.getModel().getComponent(t,e);if(n){bk(n).isBlured=!0;var a=r.getViewOfComponentModel(n);!a||!a.focusBlurEnabled||a.group.traverse(function(i){Tk(i)})}}}function P_e(t,e,r){var n=t.seriesIndex,a=t.getData(e.dataType);if(a){var i=Kv(a,e);i=(Ee(i)?i[0]:i)||0;var o=a.getItemGraphicEl(i);if(!o)for(var s=a.count(),l=0;!o&&l<s;)o=a.getItemGraphicEl(l++);if(o){var u=wt(o);nN(n,u.focus,u.blurScope,r)}else{var c=t.get(["emphasis","focus"]),f=t.get(["emphasis","blurScope"]);c!=null&&nN(n,c,f,r)}}}function Mk(t,e,r,n){var a={focusSelf:!1,dispatchers:null};if(t==null||t==="series"||e==null||r==null)return a;var i=n.getModel().getComponent(t,e);if(!i)return a;var o=n.getViewOfComponentModel(i);if(!o||!o.findHighDownDispatchers)return a;for(var s=o.findHighDownDispatchers(r),l,u=0;u<s.length;u++)if(wt(s[u]).focus==="self"){l=!0;break}return{focusSelf:l,dispatchers:s}}function k_e(t,e,r){var n=wt(t),a=Mk(n.componentMainType,n.componentIndex,n.componentHighDownName,r),i=a.dispatchers,o=a.focusSelf;i?(o&&aN(n.componentMainType,n.componentIndex,r),Y(i,function(s){return tV(s,e)})):(nN(n.seriesIndex,n.focus,n.blurScope,r),n.focus==="self"&&aN(n.componentMainType,n.componentIndex,r),tV(t,e))}function I_e(t,e,r){y$(r);var n=wt(t),a=Mk(n.componentMainType,n.componentIndex,n.componentHighDownName,r).dispatchers;a?Y(a,function(i){return rV(i,e)}):rV(t,e)}function O_e(t,e,r){if(oN(e)){var n=e.dataType,a=t.getData(n),i=Kv(a,e);Ee(i)||(i=[i]),t[e.type===pw?"toggleSelect":e.type===vw?"select":"unselect"](i,n)}}function nV(t){var e=t.getAllData();Y(e,function(r){var n=r.data,a=r.type;n.eachItemGraphicEl(function(i,o){t.isSelected(o,a)?p$(i):g$(i)})})}function j_e(t){var e=[];return t.eachSeries(function(r){var n=r.getAllData();Y(n,function(a){a.data;var i=a.type,o=r.getSelectedDataIndices();if(o.length>0){var s={dataIndex:o,seriesIndex:r.seriesIndex};i!=null&&(s.dataType=i),e.push(s)}})}),e}function jv(t,e,r){Av(t,!0),Lf(t,Jv),iN(t,e,r)}function z_e(t){Av(t,!1)}function Wn(t,e,r,n){n?z_e(t):jv(t,e,r)}function iN(t,e,r){var n=wt(t);e!=null?(n.focus=e,n.blurScope=r):n.focus&&(n.focus=null)}var aV=["emphasis","blur","select"],B_e={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function ti(t,e,r,n){r=r||"itemStyle";for(var a=0;a<aV.length;a++){var i=aV[a],o=e.getModel([i,r]),s=t.ensureState(i);s.style=n?n(o):o[B_e[r]]()}}function Av(t,e){var r=e===!1,n=t;t.highDownSilentOnTouch&&(n.__highDownSilentOnTouch=t.highDownSilentOnTouch),(!r||n.__highDownDispatcher)&&(n.__highByOuter=n.__highByOuter||0,n.__highDownDispatcher=!r)}function Ax(t){return!!(t&&t.__highDownDispatcher)}function V_e(t,e,r){var n=wt(t);n.componentMainType=e.mainType,n.componentIndex=e.componentIndex,n.componentHighDownName=r}function F_e(t){var e=J4[t];return e==null&&Q4<=32&&(e=J4[t]=Q4++),e}function oN(t){var e=t.type;return e===vw||e===rN||e===pw}function iV(t){var e=t.type;return e===Ov||e===TS}function H_e(t){var e=c$(t);e.normalFill=t.style.fill,e.normalStroke=t.style.stroke;var r=t.states.select||{};e.selectFill=r.style&&r.style.fill||null,e.selectStroke=r.style&&r.style.stroke||null}var lg=xc.CMD,G_e=[[],[],[]],oV=Math.sqrt,U_e=Math.atan2;function x$(t,e){if(e){var r=t.data,n=t.len(),a,i,o,s,l,u,c=lg.M,f=lg.C,d=lg.L,v=lg.R,g=lg.A,y=lg.Q;for(o=0,s=0;o<n;){switch(a=r[o++],s=o,i=0,a){case c:i=1;break;case d:i=1;break;case f:i=3;break;case y:i=2;break;case g:var b=e[4],S=e[5],w=oV(e[0]*e[0]+e[1]*e[1]),M=oV(e[2]*e[2]+e[3]*e[3]),A=U_e(-e[1]/M,e[0]/w);r[o]*=w,r[o++]+=b,r[o]*=M,r[o++]+=S,r[o++]*=w,r[o++]*=M,r[o++]+=A,r[o++]+=A,o+=2,s=o;break;case v:u[0]=r[o++],u[1]=r[o++],ba(u,u,e),r[s++]=u[0],r[s++]=u[1],u[0]+=r[o++],u[1]+=r[o++],ba(u,u,e),r[s++]=u[0],r[s++]=u[1]}for(l=0;l<i;l++){var D=G_e[l];D[0]=r[o++],D[1]=r[o++],ba(D,D,e),r[s++]=D[0],r[s++]=D[1]}}t.increaseVersion()}}var Y2=Math.sqrt,i1=Math.sin,o1=Math.cos,Xy=Math.PI;function sV(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function sN(t,e){return(t[0]*e[0]+t[1]*e[1])/(sV(t)*sV(e))}function lV(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(sN(t,e))}function uV(t,e,r,n,a,i,o,s,l,u,c){var f=l*(Xy/180),d=o1(f)*(t-r)/2+i1(f)*(e-n)/2,v=-1*i1(f)*(t-r)/2+o1(f)*(e-n)/2,g=d*d/(o*o)+v*v/(s*s);g>1&&(o*=Y2(g),s*=Y2(g));var y=(a===i?-1:1)*Y2((o*o*(s*s)-o*o*(v*v)-s*s*(d*d))/(o*o*(v*v)+s*s*(d*d)))||0,b=y*o*v/s,S=y*-s*d/o,w=(t+r)/2+o1(f)*b-i1(f)*S,M=(e+n)/2+i1(f)*b+o1(f)*S,A=lV([1,0],[(d-b)/o,(v-S)/s]),D=[(d-b)/o,(v-S)/s],R=[(-1*d-b)/o,(-1*v-S)/s],N=lV(D,R);if(sN(D,R)<=-1&&(N=Xy),sN(D,R)>=1&&(N=0),N<0){var I=Math.round(N/Xy*1e6)/1e6;N=Xy*2+I%2*Xy}c.addData(u,w,M,o,s,A,N,f,i)}var W_e=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,Y_e=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function Z_e(t){var e=new xc;if(!t)return e;var r=0,n=0,a=r,i=n,o,s=xc.CMD,l=t.match(W_e);if(!l)return e;for(var u=0;u<l.length;u++){for(var c=l[u],f=c.charAt(0),d=void 0,v=c.match(Y_e)||[],g=v.length,y=0;y<g;y++)v[y]=parseFloat(v[y]);for(var b=0;b<g;){var S=void 0,w=void 0,M=void 0,A=void 0,D=void 0,R=void 0,N=void 0,I=r,z=n,B=void 0,V=void 0;switch(f){case"l":r+=v[b++],n+=v[b++],d=s.L,e.addData(d,r,n);break;case"L":r=v[b++],n=v[b++],d=s.L,e.addData(d,r,n);break;case"m":r+=v[b++],n+=v[b++],d=s.M,e.addData(d,r,n),a=r,i=n,f="l";break;case"M":r=v[b++],n=v[b++],d=s.M,e.addData(d,r,n),a=r,i=n,f="L";break;case"h":r+=v[b++],d=s.L,e.addData(d,r,n);break;case"H":r=v[b++],d=s.L,e.addData(d,r,n);break;case"v":n+=v[b++],d=s.L,e.addData(d,r,n);break;case"V":n=v[b++],d=s.L,e.addData(d,r,n);break;case"C":d=s.C,e.addData(d,v[b++],v[b++],v[b++],v[b++],v[b++],v[b++]),r=v[b-2],n=v[b-1];break;case"c":d=s.C,e.addData(d,v[b++]+r,v[b++]+n,v[b++]+r,v[b++]+n,v[b++]+r,v[b++]+n),r+=v[b-2],n+=v[b-1];break;case"S":S=r,w=n,B=e.len(),V=e.data,o===s.C&&(S+=r-V[B-4],w+=n-V[B-3]),d=s.C,I=v[b++],z=v[b++],r=v[b++],n=v[b++],e.addData(d,S,w,I,z,r,n);break;case"s":S=r,w=n,B=e.len(),V=e.data,o===s.C&&(S+=r-V[B-4],w+=n-V[B-3]),d=s.C,I=r+v[b++],z=n+v[b++],r+=v[b++],n+=v[b++],e.addData(d,S,w,I,z,r,n);break;case"Q":I=v[b++],z=v[b++],r=v[b++],n=v[b++],d=s.Q,e.addData(d,I,z,r,n);break;case"q":I=v[b++]+r,z=v[b++]+n,r+=v[b++],n+=v[b++],d=s.Q,e.addData(d,I,z,r,n);break;case"T":S=r,w=n,B=e.len(),V=e.data,o===s.Q&&(S+=r-V[B-4],w+=n-V[B-3]),r=v[b++],n=v[b++],d=s.Q,e.addData(d,S,w,r,n);break;case"t":S=r,w=n,B=e.len(),V=e.data,o===s.Q&&(S+=r-V[B-4],w+=n-V[B-3]),r+=v[b++],n+=v[b++],d=s.Q,e.addData(d,S,w,r,n);break;case"A":M=v[b++],A=v[b++],D=v[b++],R=v[b++],N=v[b++],I=r,z=n,r=v[b++],n=v[b++],d=s.A,uV(I,z,r,n,R,N,M,A,D,d,e);break;case"a":M=v[b++],A=v[b++],D=v[b++],R=v[b++],N=v[b++],I=r,z=n,r+=v[b++],n+=v[b++],d=s.A,uV(I,z,r,n,R,N,M,A,D,d,e);break}}(f==="z"||f==="Z")&&(d=s.Z,e.addData(d),r=a,n=i),o=d}return e.toStatic(),e}var _$=(function(t){Bn(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.applyTransform=function(r){},e})(Jt);function b$(t){return t.setData!=null}function S$(t,e){var r=Z_e(t),n=Ae({},e);return n.buildPath=function(a){var i=b$(a);if(i&&a.canSave()){a.appendPath(r);var o=a.getContext();o&&a.rebuildPath(o,1)}else{var o=i?a.getContext():a;o&&r.rebuildPath(o,1)}},n.applyTransform=function(a){x$(r,a),this.dirtyShape()},n}function w$(t,e){return new _$(S$(t,e))}function q_e(t,e){var r=S$(t,e),n=(function(a){Bn(i,a);function i(o){var s=a.call(this,o)||this;return s.applyTransform=r.applyTransform,s.buildPath=r.buildPath,s}return i})(_$);return n}function $_e(t,e){for(var r=[],n=t.length,a=0;a<n;a++){var i=t[a];r.push(i.getUpdatedPathProxy(!0))}var o=new Jt(e);return o.createPathProxy(),o.buildPath=function(s){if(b$(s)){s.appendPath(r);var l=s.getContext();l&&s.rebuildPath(l,1)}},o}function Ak(t,e){e=e||{};var r=new Jt;return t.shape&&r.setShape(t.shape),r.setStyle(t.style),e.bakeTransform?x$(r.path,t.getComputedTransform()):e.toLocal?r.setLocalTransform(t.getComputedTransform()):r.copyTransform(t),r.buildPath=t.buildPath,r.applyTransform=r.applyTransform,r.z=t.z,r.z2=t.z2,r.zlevel=t.zlevel,r}var X_e=(function(){function t(){this.cx=0,this.cy=0,this.r=0}return t})(),Ef=(function(t){Bn(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultShape=function(){return new X_e},e.prototype.buildPath=function(r,n){r.moveTo(n.cx+n.r,n.cy),r.arc(n.cx,n.cy,n.r,0,Math.PI*2)},e})(Jt);Ef.prototype.type="circle";var K_e=(function(){function t(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return t})(),gC=(function(t){Bn(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultShape=function(){return new K_e},e.prototype.buildPath=function(r,n){var a=.5522848,i=n.cx,o=n.cy,s=n.rx,l=n.ry,u=s*a,c=l*a;r.moveTo(i-s,o),r.bezierCurveTo(i-s,o-c,i-u,o-l,i,o-l),r.bezierCurveTo(i+u,o-l,i+s,o-c,i+s,o),r.bezierCurveTo(i+s,o+c,i+u,o+l,i,o+l),r.bezierCurveTo(i-u,o+l,i-s,o+c,i-s,o),r.closePath()},e})(Jt);gC.prototype.type="ellipse";var T$=Math.PI,Z2=T$*2,$d=Math.sin,ug=Math.cos,Q_e=Math.acos,to=Math.atan2,cV=Math.abs,rx=Math.sqrt,I0=Math.max,Hu=Math.min,$l=1e-4;function J_e(t,e,r,n,a,i,o,s){var l=r-t,u=n-e,c=o-a,f=s-i,d=f*l-c*u;if(!(d*d<$l))return d=(c*(e-i)-f*(t-a))/d,[t+d*l,e+d*u]}function s1(t,e,r,n,a,i,o){var s=t-r,l=e-n,u=(o?i:-i)/rx(s*s+l*l),c=u*l,f=-u*s,d=t+c,v=e+f,g=r+c,y=n+f,b=(d+g)/2,S=(v+y)/2,w=g-d,M=y-v,A=w*w+M*M,D=a-i,R=d*y-g*v,N=(M<0?-1:1)*rx(I0(0,D*D*A-R*R)),I=(R*M-w*N)/A,z=(-R*w-M*N)/A,B=(R*M+w*N)/A,V=(-R*w+M*N)/A,G=I-b,F=z-S,q=B-b,Q=V-S;return G*G+F*F>q*q+Q*Q&&(I=B,z=V),{cx:I,cy:z,x0:-c,y0:-f,x1:I*(a/D-1),y1:z*(a/D-1)}}function ebe(t){var e;if(Ee(t)){var r=t.length;if(!r)return t;r===1?e=[t[0],t[0],0,0]:r===2?e=[t[0],t[0],t[1],t[1]]:r===3?e=t.concat(t[2]):e=t}else e=[t,t,t,t];return e}function tbe(t,e){var r,n=I0(e.r,0),a=I0(e.r0||0,0),i=n>0,o=a>0;if(!(!i&&!o)){if(i||(n=a,a=0),a>n){var s=n;n=a,a=s}var l=e.startAngle,u=e.endAngle;if(!(isNaN(l)||isNaN(u))){var c=e.cx,f=e.cy,d=!!e.clockwise,v=cV(u-l),g=v>Z2&&v%Z2;if(g>$l&&(v=g),!(n>$l))t.moveTo(c,f);else if(v>Z2-$l)t.moveTo(c+n*ug(l),f+n*$d(l)),t.arc(c,f,n,l,u,!d),a>$l&&(t.moveTo(c+a*ug(u),f+a*$d(u)),t.arc(c,f,a,u,l,d));else{var y=void 0,b=void 0,S=void 0,w=void 0,M=void 0,A=void 0,D=void 0,R=void 0,N=void 0,I=void 0,z=void 0,B=void 0,V=void 0,G=void 0,F=void 0,q=void 0,Q=n*ug(l),H=n*$d(l),X=a*ug(u),W=a*$d(u),J=v>$l;if(J){var ee=e.cornerRadius;ee&&(r=ebe(ee),y=r[0],b=r[1],S=r[2],w=r[3]);var K=cV(n-a)/2;if(M=Hu(K,S),A=Hu(K,w),D=Hu(K,y),R=Hu(K,b),z=N=I0(M,A),B=I=I0(D,R),(N>$l||I>$l)&&(V=n*ug(u),G=n*$d(u),F=a*ug(l),q=a*$d(l),v<T$)){var ne=J_e(Q,H,F,q,V,G,X,W);if(ne){var ie=Q-ne[0],le=H-ne[1],me=V-ne[0],we=G-ne[1],pe=1/$d(Q_e((ie*me+le*we)/(rx(ie*ie+le*le)*rx(me*me+we*we)))/2),Pe=rx(ne[0]*ne[0]+ne[1]*ne[1]);z=Hu(N,(n-Pe)/(pe+1)),B=Hu(I,(a-Pe)/(pe-1))}}}if(!J)t.moveTo(c+Q,f+H);else if(z>$l){var ke=Hu(S,z),ze=Hu(w,z),Ie=s1(F,q,Q,H,n,ke,d),Oe=s1(V,G,X,W,n,ze,d);t.moveTo(c+Ie.cx+Ie.x0,f+Ie.cy+Ie.y0),z<N&&ke===ze?t.arc(c+Ie.cx,f+Ie.cy,z,to(Ie.y0,Ie.x0),to(Oe.y0,Oe.x0),!d):(ke>0&&t.arc(c+Ie.cx,f+Ie.cy,ke,to(Ie.y0,Ie.x0),to(Ie.y1,Ie.x1),!d),t.arc(c,f,n,to(Ie.cy+Ie.y1,Ie.cx+Ie.x1),to(Oe.cy+Oe.y1,Oe.cx+Oe.x1),!d),ze>0&&t.arc(c+Oe.cx,f+Oe.cy,ze,to(Oe.y1,Oe.x1),to(Oe.y0,Oe.x0),!d))}else t.moveTo(c+Q,f+H),t.arc(c,f,n,l,u,!d);if(!(a>$l)||!J)t.lineTo(c+X,f+W);else if(B>$l){var ke=Hu(y,B),ze=Hu(b,B),Ie=s1(X,W,V,G,a,-ze,d),Oe=s1(Q,H,F,q,a,-ke,d);t.lineTo(c+Ie.cx+Ie.x0,f+Ie.cy+Ie.y0),B<I&&ke===ze?t.arc(c+Ie.cx,f+Ie.cy,B,to(Ie.y0,Ie.x0),to(Oe.y0,Oe.x0),!d):(ze>0&&t.arc(c+Ie.cx,f+Ie.cy,ze,to(Ie.y0,Ie.x0),to(Ie.y1,Ie.x1),!d),t.arc(c,f,a,to(Ie.cy+Ie.y1,Ie.cx+Ie.x1),to(Oe.cy+Oe.y1,Oe.cx+Oe.x1),d),ke>0&&t.arc(c+Oe.cx,f+Oe.cy,ke,to(Oe.y1,Oe.x1),to(Oe.y0,Oe.x0),!d))}else t.lineTo(c+X,f+W),t.arc(c,f,a,u,l,d)}t.closePath()}}}var rbe=(function(){function t(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return t})(),fo=(function(t){Bn(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultShape=function(){return new rbe},e.prototype.buildPath=function(r,n){tbe(r,n)},e.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},e})(Jt);fo.prototype.type="sector";var nbe=(function(){function t(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return t})(),v_=(function(t){Bn(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultShape=function(){return new nbe},e.prototype.buildPath=function(r,n){var a=n.cx,i=n.cy,o=Math.PI*2;r.moveTo(a+n.r,i),r.arc(a,i,n.r,0,o,!1),r.moveTo(a+n.r0,i),r.arc(a,i,n.r0,0,o,!0)},e})(Jt);v_.prototype.type="ring";function abe(t,e,r,n){var a=[],i=[],o=[],s=[],l,u,c,f;if(n){c=[1/0,1/0],f=[-1/0,-1/0];for(var d=0,v=t.length;d<v;d++)Nh(c,c,t[d]),Rh(f,f,t[d]);Nh(c,c,n[0]),Rh(f,f,n[1])}for(var d=0,v=t.length;d<v;d++){var g=t[d];if(r)l=t[d?d-1:v-1],u=t[(d+1)%v];else if(d===0||d===v-1){a.push(cf(t[d]));continue}else l=t[d-1],u=t[d+1];Cv(i,u,l),mS(i,i,e);var y=DE(g,l),b=DE(g,u),S=y+b;S!==0&&(y/=S,b/=S),mS(o,i,-y),mS(s,i,b);var w=J3([],g,o),M=J3([],g,s);n&&(Rh(w,w,c),Nh(w,w,f),Rh(M,M,c),Nh(M,M,f)),a.push(w),a.push(M)}return r&&a.push(a.shift()),a}function C$(t,e,r){var n=e.smooth,a=e.points;if(a&&a.length>=2){if(n){var i=abe(a,n,r,e.smoothConstraint);t.moveTo(a[0][0],a[0][1]);for(var o=a.length,s=0;s<(r?o:o-1);s++){var l=i[s*2],u=i[s*2+1],c=a[(s+1)%o];t.bezierCurveTo(l[0],l[1],u[0],u[1],c[0],c[1])}}else{t.moveTo(a[0][0],a[0][1]);for(var s=1,f=a.length;s<f;s++)t.lineTo(a[s][0],a[s][1])}r&&t.closePath()}}var ibe=(function(){function t(){this.points=null,this.smooth=0,this.smoothConstraint=null}return t})(),ho=(function(t){Bn(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultShape=function(){return new ibe},e.prototype.buildPath=function(r,n){C$(r,n,!0)},e})(Jt);ho.prototype.type="polygon";var obe=(function(){function t(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return t})(),Yi=(function(t){Bn(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new obe},e.prototype.buildPath=function(r,n){C$(r,n,!1)},e})(Jt);Yi.prototype.type="polyline";var sbe={},lbe=(function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return t})(),Na=(function(t){Bn(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new lbe},e.prototype.buildPath=function(r,n){var a,i,o,s;if(this.subPixelOptimize){var l=dC(sbe,n,this.style);a=l.x1,i=l.y1,o=l.x2,s=l.y2}else a=n.x1,i=n.y1,o=n.x2,s=n.y2;var u=n.percent;u!==0&&(r.moveTo(a,i),u<1&&(o=a*(1-u)+o*u,s=i*(1-u)+s*u),r.lineTo(o,s))},e.prototype.pointAt=function(r){var n=this.shape;return[n.x1*(1-r)+n.x2*r,n.y1*(1-r)+n.y2*r]},e})(Jt);Na.prototype.type="line";var es=[],ube=(function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return t})();function fV(t,e,r){var n=t.cpx2,a=t.cpy2;return n!=null||a!=null?[(r?h4:vi)(t.x1,t.cpx1,t.cpx2,t.x2,e),(r?h4:vi)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(r?IE:Ai)(t.x1,t.cpx1,t.x2,e),(r?IE:Ai)(t.y1,t.cpy1,t.y2,e)]}var p_=(function(t){Bn(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new ube},e.prototype.buildPath=function(r,n){var a=n.x1,i=n.y1,o=n.x2,s=n.y2,l=n.cpx1,u=n.cpy1,c=n.cpx2,f=n.cpy2,d=n.percent;d!==0&&(r.moveTo(a,i),c==null||f==null?(d<1&&(_x(a,l,o,d,es),l=es[1],o=es[2],_x(i,u,s,d,es),u=es[1],s=es[2]),r.quadraticCurveTo(l,u,o,s)):(d<1&&(Qh(a,l,c,o,d,es),l=es[1],c=es[2],o=es[3],Qh(i,u,f,s,d,es),u=es[1],f=es[2],s=es[3]),r.bezierCurveTo(l,u,c,f,o,s)))},e.prototype.pointAt=function(r){return fV(this.shape,r,!1)},e.prototype.tangentAt=function(r){var n=fV(this.shape,r,!0);return zm(n,n)},e})(Jt);p_.prototype.type="bezier-curve";var cbe=(function(){function t(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return t})(),mC=(function(t){Bn(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new cbe},e.prototype.buildPath=function(r,n){var a=n.cx,i=n.cy,o=Math.max(n.r,0),s=n.startAngle,l=n.endAngle,u=n.clockwise,c=Math.cos(s),f=Math.sin(s);r.moveTo(c*o+a,f*o+i),r.arc(a,i,o,s,l,!u)},e})(Jt);mC.prototype.type="arc";var yC=(function(t){Bn(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="compound",r}return e.prototype._updatePathDirty=function(){for(var r=this.shape.paths,n=this.shapeChanged(),a=0;a<r.length;a++)n=n||r[a].shapeChanged();n&&this.dirtyShape()},e.prototype.beforeBrush=function(){this._updatePathDirty();for(var r=this.shape.paths||[],n=this.getGlobalScale(),a=0;a<r.length;a++)r[a].path||r[a].createPathProxy(),r[a].path.setScale(n[0],n[1],r[a].segmentIgnoreThreshold)},e.prototype.buildPath=function(r,n){for(var a=n.paths||[],i=0;i<a.length;i++)a[i].buildPath(r,a[i].shape,!0)},e.prototype.afterBrush=function(){for(var r=this.shape.paths||[],n=0;n<r.length;n++)r[n].pathUpdated()},e.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Jt.prototype.getBoundingRect.call(this)},e})(Jt),M$=(function(){function t(e){this.colorStops=e||[]}return t.prototype.addColorStop=function(e,r){this.colorStops.push({offset:e,color:r})},t})(),Hm=(function(t){Bn(e,t);function e(r,n,a,i,o,s){var l=t.call(this,o)||this;return l.x=r??0,l.y=n??0,l.x2=a??1,l.y2=i??0,l.type="linear",l.global=s||!1,l}return e})(M$),A$=(function(t){Bn(e,t);function e(r,n,a,i,o){var s=t.call(this,i)||this;return s.x=r??.5,s.y=n??.5,s.r=a??.5,s.type="radial",s.global=o||!1,s}return e})(M$),q2=Math.min,fbe=Math.max,l1=Math.abs,Xd=[0,0],Kd=[0,0],Mi=vq(),u1=Mi.minTv,c1=Mi.maxTv,D$=(function(){function t(e,r){this._corners=[],this._axes=[],this._origin=[0,0];for(var n=0;n<4;n++)this._corners[n]=new ht;for(var n=0;n<2;n++)this._axes[n]=new ht;e&&this.fromBoundingRect(e,r)}return t.prototype.fromBoundingRect=function(e,r){var n=this._corners,a=this._axes,i=e.x,o=e.y,s=i+e.width,l=o+e.height;if(n[0].set(i,o),n[1].set(s,o),n[2].set(s,l),n[3].set(i,l),r)for(var u=0;u<4;u++)n[u].transform(r);ht.sub(a[0],n[1],n[0]),ht.sub(a[1],n[3],n[0]),a[0].normalize(),a[1].normalize();for(var u=0;u<2;u++)this._origin[u]=a[u].dot(n[0])},t.prototype.intersect=function(e,r,n){var a=!0,i=!r;return r&&ht.set(r,0,0),Mi.reset(n,!i),!this._intersectCheckOneSide(this,e,i,1)&&(a=!1,i)||!this._intersectCheckOneSide(e,this,i,-1)&&(a=!1,i)||!i&&!Mi.negativeSize&&ht.copy(r,a?Mi.useDir?Mi.dirMinTv:u1:c1),a},t.prototype._intersectCheckOneSide=function(e,r,n,a){for(var i=!0,o=0;o<2;o++){var s=e._axes[o];if(e._getProjMinMaxOnAxis(o,e._corners,Xd),e._getProjMinMaxOnAxis(o,r._corners,Kd),Mi.negativeSize||Xd[1]<Kd[0]||Xd[0]>Kd[1]){if(i=!1,Mi.negativeSize||n)return i;var l=l1(Kd[0]-Xd[1]),u=l1(Xd[0]-Kd[1]);q2(l,u)>c1.len()&&(l<u?ht.scale(c1,s,-l*a):ht.scale(c1,s,u*a))}else if(!n){var l=l1(Kd[0]-Xd[1]),u=l1(Xd[0]-Kd[1]);(Mi.useDir||q2(l,u)<u1.len())&&((l<u||!Mi.bidirectional)&&(ht.scale(u1,s,l*a),Mi.useDir&&Mi.calcDirMTV()),(l>=u||!Mi.bidirectional)&&(ht.scale(u1,s,-u*a),Mi.useDir&&Mi.calcDirMTV()))}}return i},t.prototype._getProjMinMaxOnAxis=function(e,r,n){for(var a=this._axes[e],i=this._origin,o=r[0].dot(a)+i[e],s=o,l=o,u=1;u<r.length;u++){var c=r[u].dot(a)+i[e];s=q2(c,s),l=fbe(c,l)}n[0]=s+Mi.touchThreshold,n[1]=l-Mi.touchThreshold,Mi.negativeSize=n[1]<n[0]},t})(),hbe=[],dbe=(function(t){Bn(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.notClear=!0,r.incremental=!0,r._displayables=[],r._temporaryDisplayables=[],r._cursor=0,r}return e.prototype.traverse=function(r,n){r.call(n,this)},e.prototype.useStyle=function(){this.style={}},e.prototype.getCursor=function(){return this._cursor},e.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},e.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},e.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},e.prototype.addDisplayable=function(r,n){n?this._temporaryDisplayables.push(r):this._displayables.push(r),this.markRedraw()},e.prototype.addDisplayables=function(r,n){n=n||!1;for(var a=0;a<r.length;a++)this.addDisplayable(r[a],n)},e.prototype.getDisplayables=function(){return this._displayables},e.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},e.prototype.eachPendingDisplayable=function(r){for(var n=this._cursor;n<this._displayables.length;n++)r&&r(this._displayables[n]);for(var n=0;n<this._temporaryDisplayables.length;n++)r&&r(this._temporaryDisplayables[n])},e.prototype.update=function(){this.updateTransform();for(var r=this._cursor;r<this._displayables.length;r++){var n=this._displayables[r];n.parent=this,n.update(),n.parent=null}for(var r=0;r<this._temporaryDisplayables.length;r++){var n=this._temporaryDisplayables[r];n.parent=this,n.update(),n.parent=null}},e.prototype.getBoundingRect=function(){if(!this._rect){for(var r=new yt(1/0,1/0,-1/0,-1/0),n=0;n<this._displayables.length;n++){var a=this._displayables[n],i=a.getBoundingRect().clone();a.needLocalTransform()&&i.applyTransform(a.getLocalTransform(hbe)),r.union(i)}this._rect=r}return this._rect},e.prototype.contain=function(r,n){var a=this.transformCoordToLocal(r,n),i=this.getBoundingRect();if(i.contain(a[0],a[1]))for(var o=0;o<this._displayables.length;o++){var s=this._displayables[o];if(s.contain(r,n))return!0}return!1},e})(Al),L$=Xt();function Gm(t,e,r,n,a){var i;if(e&&e.ecModel){var o=e.ecModel.getUpdatePayload();i=o&&o.animation}var s=e&&e.isAnimationEnabled(),l=t==="update";if(s){var u=void 0,c=void 0,f=void 0;n?(u=et(n.duration,200),c=et(n.easing,"cubicOut"),f=0):(u=e.getShallow(l?"animationDurationUpdate":"animationDuration"),c=e.getShallow(l?"animationEasingUpdate":"animationEasing"),f=e.getShallow(l?"animationDelayUpdate":"animationDelay")),i&&(i.duration!=null&&(u=i.duration),i.easing!=null&&(c=i.easing),i.delay!=null&&(f=i.delay)),ot(f)&&(f=f(r,a)),ot(u)&&(u=u(r));var d={duration:u||0,delay:f,easing:c};return d}else return null}function Dk(t,e,r,n,a,i,o){var s=!1,l;ot(a)?(o=i,i=a,a=null):mt(a)&&(i=a.cb,o=a.during,s=a.isFrom,l=a.removeOpt,a=a.dataIndex);var u=t==="leave";u||e.stopAnimation("leave");var c=Gm(t,n,a,u?l||{}:null,n&&n.getAnimationDelayParams?n.getAnimationDelayParams(e,a):null);if(c&&c.duration>0){var f=c.duration,d=c.delay,v=c.easing,g={duration:f,delay:d||0,easing:v,done:i,force:!!i||!!o,setToFinal:!u,scope:t,during:o};s?e.animateFrom(r,g):e.animateTo(r,g)}else e.stopAnimation(),!s&&e.attr(r),o&&o(1),i&&i()}function Sr(t,e,r,n,a,i){Dk("update",t,e,r,n,a,i)}function zn(t,e,r,n,a,i){Dk("enter",t,e,r,n,a,i)}function Qg(t){if(!t.__zr)return!0;for(var e=0;e<t.animators.length;e++){var r=t.animators[e];if(r.scope==="leave")return!0}return!1}function Jh(t,e,r,n,a,i){Qg(t)||Dk("leave",t,e,r,n,a,i)}function hV(t,e,r,n){t.removeTextContent(),t.removeTextGuideLine(),Jh(t,{style:{opacity:0}},e,r,n)}function ff(t,e,r){function n(){t.parent&&t.parent.remove(t)}t.isGroup?t.traverse(function(a){a.isGroup||hV(a,e,r,n)}):hV(t,e,r,n)}function Dl(t){L$(t).oldStyle=t.style}function vbe(t){return L$(t).oldStyle}var lN={},Rt=["x","y"],ka=["width","height"];function pbe(t){return Jt.extend(t)}var gbe=q_e;function mbe(t,e){return gbe(t,e)}function mu(t,e){lN[t]=e}function mw(t){if(lN.hasOwnProperty(t))return lN[t]}function Dx(t,e,r,n){var a=w$(t,e);return r&&(n==="center"&&(r=N$(r,a.getBoundingRect())),R$(a,r)),a}function E$(t,e,r){var n=new Ni({style:{image:t,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(a){if(r==="center"){var i={width:a.width,height:a.height};n.setStyle(N$(e,i))}}});return n}function N$(t,e){var r=e.width/e.height,n=t.height*r,a;n<=t.width?a=t.height:(n=t.width,a=n/r);var i=t.x+t.width/2,o=t.y+t.height/2;return{x:i-n/2,y:o-a/2,width:n,height:a}}var pl=$_e;function R$(t,e){if(t.applyTransform){var r=t.getBoundingRect(),n=r.calculateTransform(e);t.applyTransform(n)}}function dm(t,e){return dC(t,t,{lineWidth:e}),t}function ybe(t,e){return s$(t,t,e),t}var CS=Ns;function zv(t,e){for(var r=nC([]);t&&t!==e;)uc(r,t.getLocalTransform(),r),t=t.parent;return r}function iu(t,e,r){return e&&!uo(e)&&(e=of.getLocalTransform(e)),r&&(e=fu([],e)),ba([],t,e)}function xC(t,e,r){var n=e[4]===0||e[5]===0||e[0]===0?1:tc(2*e[4]/e[0]),a=e[4]===0||e[5]===0||e[2]===0?1:tc(2*e[4]/e[2]),i=[t==="left"?-n:t==="right"?n:0,t==="top"?-a:t==="bottom"?a:0];return i=iu(i,e,r),tc(i[0])>tc(i[1])?i[0]>0?"right":"left":i[1]>0?"bottom":"top"}function dV(t){return!t.isGroup}function xbe(t){return t.shape!=null}function g_(t,e,r){if(!t||!e)return;function n(o){var s={};return o.traverse(function(l){dV(l)&&l.anid&&(s[l.anid]=l)}),s}function a(o){var s={x:o.x,y:o.y,rotation:o.rotation};return xbe(o)&&(s.shape=ut(o.shape)),s}var i=n(t);e.traverse(function(o){if(dV(o)&&o.anid){var s=i[o.anid];if(s){var l=a(o);o.attr(a(s)),Sr(o,l,r,wt(o).dataIndex)}}})}function P$(t,e){return Re(t,function(r){var n=r[0];n=xa(n,e.x),n=Is(n,e.x+e.width);var a=r[1];return a=xa(a,e.y),a=Is(a,e.y+e.height),[n,a]})}function _be(t,e){var r=xa(t.x,e.x),n=Is(t.x+t.width,e.x+e.width),a=xa(t.y,e.y),i=Is(t.y+t.height,e.y+e.height);if(n>=r&&i>=a)return{x:r,y:a,width:n-r,height:i-a}}function m_(t,e,r){var n=Ae({rectHover:!0},e),a=n.style={strokeNoScale:!0};if(r=r||{x:-1,y:-1,width:2,height:2},t)return t.indexOf("image://")===0?(a.image=t.slice(8),gt(a,r),new Ni(n)):Dx(t.replace("path://",""),n,r,"center")}function O0(t,e,r,n,a){for(var i=0,o=a[a.length-1];i<a.length;i++){var s=a[i];if(k$(t,e,r,n,s[0],s[1],o[0],o[1]))return!0;o=s}}function k$(t,e,r,n,a,i,o,s){var l=r-t,u=n-e,c=o-a,f=s-i,d=$2(c,f,l,u);if(bbe(d))return!1;var v=t-a,g=e-i,y=$2(v,g,l,u)/d;if(y<0||y>1)return!1;var b=$2(v,g,c,f)/d;return!(b<0||b>1)}function $2(t,e,r,n){return t*n-r*e}function bbe(t){return t<=1e-6&&t>=-1e-6}function ep(t,e,r,n,a){return e==null||(vr(e)?$n[0]=$n[1]=$n[2]=$n[3]=e:($n[0]=e[0],$n[1]=e[1],$n[2]=e[2],$n[3]=e[3]),n&&($n[0]=xa(0,$n[0]),$n[1]=xa(0,$n[1]),$n[2]=xa(0,$n[2]),$n[3]=xa(0,$n[3])),r&&($n[0]=-$n[0],$n[1]=-$n[1],$n[2]=-$n[2],$n[3]=-$n[3]),vV(t,$n,"x","width",3,1,a&&a[0]||0),vV(t,$n,"y","height",0,2,a&&a[1]||0)),t}var $n=[0,0,0,0];function vV(t,e,r,n,a,i,o){var s=e[i]+e[a],l=t[n];t[n]+=s,o=xa(0,Is(o,l)),t[n]<o?(t[n]=o,t[r]+=e[a]>=0?-e[a]:e[i]>=0?l+e[i]:tc(s)>1e-8?(l-o)*e[a]/s:0):t[r]-=e[a]}function Nf(t){var e=t.itemTooltipOption,r=t.componentModel,n=t.itemName,a=We(e)?{formatter:e}:e,i=r.mainType,o=r.componentIndex,s={componentType:i,name:n,$vars:["name"]};s[i+"Index"]=o;var l=t.formatterParamsExtra;l&&Y(sr(l),function(c){Xe(s,c)||(s[c]=l[c],s.$vars.push(c))});var u=wt(t.el);u.componentMainType=i,u.componentIndex=o,u.tooltipConfig={name:n,option:gt({content:n,encodeHTMLContent:!0,formatterParams:s},a)}}function uN(t,e){var r;t.isGroup&&(r=e(t)),r||t.traverse(e)}function cd(t,e){if(t)if(Ee(t))for(var r=0;r<t.length;r++)uN(t[r],e);else uN(t,e)}function Lk(t){return!t||tc(t[1])<f1&&tc(t[2])<f1||tc(t[0])<f1&&tc(t[3])<f1}var f1=1e-5;function Lx(t,e){return t?yt.copy(t,e):e.clone()}function Ek(t,e){return e?aC(t||Di(),e):void 0}function tp(t){return{z:t.get("z")||0,zlevel:t.get("zlevel")||0}}function I$(t){var e=-1/0,r=1/0;uN(t,function(i){n(i),n(i.getTextContent()),n(i.getTextGuideLine())});function n(i){if(!(!i||i.isGroup)){var o=i.currentStates;if(o.length)for(var s=0;s<o.length;s++)a(i.states[o[s]]);a(i)}}function a(i){if(i){var o=i.z2;o>e&&(e=o),o<r&&(r=o)}}return r>e&&(r=e=0),{min:r,max:e}}function _C(t,e,r){O$(t,e,r,-1/0)}function O$(t,e,r,n){if(t.ignoreModelZ)return n;var a=t.getTextContent(),i=t.getTextGuideLine(),o=t.isGroup;if(o)for(var s=t.childrenRef(),l=0;l<s.length;l++)n=xa(O$(s[l],e,r,n),n);else t.z=e,t.zlevel=r,n=xa(t.z2||0,n);if(a&&(a.z=e,a.zlevel=r,isFinite(n)&&(a.z2=n+2)),i){var u=t.textGuideLineConfig;i.z=e,i.zlevel=r,isFinite(n)&&(i.z2=n+(u&&u.showAbove?1:-1))}return n}mu("circle",Ef);mu("ellipse",gC);mu("sector",fo);mu("ring",v_);mu("polygon",ho);mu("polyline",Yi);mu("rect",$t);mu("line",Na);mu("bezierCurve",p_);mu("arc",mC);const dp=Object.freeze(Object.defineProperty({__proto__:null,Arc:mC,BezierCurve:p_,BoundingRect:yt,Circle:Ef,CompoundPath:yC,Ellipse:gC,Group:st,Image:Ni,IncrementalDisplayable:dbe,Line:Na,LinearGradient:Hm,OrientedBoundingRect:D$,Path:Jt,Point:ht,Polygon:ho,Polyline:Yi,RadialGradient:A$,Rect:$t,Ring:v_,Sector:fo,Text:xr,WH:ka,XY:Rt,applyTransform:iu,calcZ2Range:I$,clipPointsByRect:P$,clipRectByRect:_be,createIcon:m_,ensureCopyRect:Lx,ensureCopyTransform:Ek,expandOrShrinkRect:ep,extendPath:mbe,extendShape:pbe,getShapeClass:mw,getTransform:zv,groupTransition:g_,initProps:zn,isBoundingRectAxisAligned:Lk,isElementRemoved:Qg,lineLineIntersect:k$,linePolygonIntersect:O0,makeImage:E$,makePath:Dx,mergePath:pl,registerShape:mu,removeElement:Jh,removeElementWithFadeOut:ff,resizePath:R$,retrieveZInfo:tp,setTooltipConfig:Nf,subPixelOptimize:CS,subPixelOptimizeLine:dm,subPixelOptimizeRect:ybe,transformDirection:xC,traverseElements:cd,traverseUpdateZ:_C,updateProps:Sr},Symbol.toStringTag,{value:"Module"}));var bC={};function j$(t,e){for(var r=0;r<No.length;r++){var n=No[r],a=e[n],i=t.ensureState(n);i.style=i.style||{},i.style.text=a}var o=t.currentStates.slice();t.clearStates(!0),t.setStyle({text:e.normal}),t.useStates(o,!0)}function cN(t,e,r){var n=t.labelFetcher,a=t.labelDataIndex,i=t.labelDimIndex,o=e.normal,s;n&&(s=n.getFormattedLabel(a,"normal",null,i,o&&o.get("formatter"),r!=null?{interpolatedValue:r}:null)),s==null&&(s=ot(t.defaultText)?t.defaultText(a,t,r):t.defaultText);for(var l={normal:s},u=0;u<No.length;u++){var c=No[u],f=e[c];l[c]=et(n?n.getFormattedLabel(a,c,null,i,f&&f.get("formatter")):null,s)}return l}function xi(t,e,r,n){r=r||bC;for(var a=t instanceof xr,i=!1,o=0;o<Mx.length;o++){var s=e[Mx[o]];if(s&&s.getShallow("show")){i=!0;break}}var l=a?t:t.getTextContent();if(i){a||(l||(l=new xr,t.setTextContent(l)),t.stateProxy&&(l.stateProxy=t.stateProxy));var u=cN(r,e),c=e.normal,f=!!c.getShallow("show"),d=bn(c,n&&n.normal,r,!1,!a);d.text=u.normal,a||t.setTextConfig(yw(c,r,!1));for(var o=0;o<No.length;o++){var v=No[o],s=e[v];if(s){var g=l.ensureState(v),y=!!et(s.getShallow("show"),f);if(y!==f&&(g.ignore=!y),g.style=bn(s,n&&n[v],r,!0,!a),g.style.text=u[v],!a){var b=t.ensureState(v);b.textConfig=yw(s,r,!0)}}}l.silent=!!c.getShallow("silent"),l.style.x!=null&&(d.x=l.style.x),l.style.y!=null&&(d.y=l.style.y),l.ignore=!f,l.useStyle(d),l.dirty(),r.enableTextSetter&&(Um(l).setLabelText=function(S){var w=cN(r,e,S);j$(l,w)})}else l&&(l.ignore=!0);t.dirty()}function ri(t,e){e=e||"label";for(var r={normal:t.getModel(e)},n=0;n<No.length;n++){var a=No[n];r[a]=t.getModel([a,e])}return r}function bn(t,e,r,n,a){var i={};return Sbe(i,t,r,n,a),e&&Ae(i,e),i}function yw(t,e,r){e=e||{};var n={},a,i=t.getShallow("rotate"),o=et(t.getShallow("distance"),r?null:5),s=t.getShallow("offset");return a=t.getShallow("position")||(r?null:"inside"),a==="outside"&&(a=e.defaultOutsidePosition||"top"),a!=null&&(n.position=a),s!=null&&(n.offset=s),i!=null&&(i*=Math.PI/180,n.rotation=i),o!=null&&(n.distance=o),n.outsideFill=t.get("color")==="inherit"?e.inheritColor||null:"auto",e.autoOverflowArea!=null&&(n.autoOverflowArea=e.autoOverflowArea),e.layoutRect!=null&&(n.layoutRect=e.layoutRect),n}function Sbe(t,e,r,n,a){r=r||bC;var i=e.ecModel,o=i&&i.option.textStyle,s=wbe(e),l;if(s){l={};var u="richInheritPlainLabel",c=et(e.get(u),i?i.get(u):void 0);for(var f in s)if(s.hasOwnProperty(f)){var d=e.getModel(["rich",f]);yV(l[f]={},d,o,e,c,r,n,a,!1,!0)}}l&&(t.rich=l);var v=e.get("overflow");v&&(t.overflow=v);var g=e.get("lineOverflow");g&&(t.lineOverflow=g);var y=t,b=e.get("minMargin");if(b!=null)b=vr(b)?b/2:0,y.margin=[b,b,b,b],y.__marginType=Vg.minMargin;else{var S=e.get("textMargin");S!=null&&(y.margin=tC(S),y.__marginType=Vg.textMargin)}yV(t,e,o,null,null,r,n,a,!0,!1)}function wbe(t){for(var e;t&&t!==t.ecModel;){var r=(t.option||bC).rich;if(r){e=e||{};for(var n=sr(r),a=0;a<n.length;a++){var i=n[a];e[i]=1}}t=t.parentModel}return e}var pV=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],gV=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],mV=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function yV(t,e,r,n,a,i,o,s,l,u){r=!o&&r||bC;var c=i&&i.inheritColor,f=e.getShallow("color"),d=e.getShallow("textBorderColor"),v=et(e.getShallow("opacity"),r.opacity);(f==="inherit"||f==="auto")&&(c?f=c:f=null),(d==="inherit"||d==="auto")&&(c?d=c:d=null),s||(f=f||r.color,d=d||r.textBorderColor),f!=null&&(t.fill=f),d!=null&&(t.stroke=d);var g=et(e.getShallow("textBorderWidth"),r.textBorderWidth);g!=null&&(t.lineWidth=g);var y=et(e.getShallow("textBorderType"),r.textBorderType);y!=null&&(t.lineDash=y);var b=et(e.getShallow("textBorderDashOffset"),r.textBorderDashOffset);b!=null&&(t.lineDashOffset=b),!o&&v==null&&!u&&(v=i&&i.defaultOpacity),v!=null&&(t.opacity=v),!o&&!s&&t.fill==null&&i.inheritColor&&(t.fill=i.inheritColor);for(var S=0;S<pV.length;S++){var w=pV[S],M=a!==!1&&n?ks(e.getShallow(w),n.getShallow(w),r[w]):et(e.getShallow(w),r[w]);M!=null&&(t[w]=M)}for(var S=0;S<gV.length;S++){var w=gV[S],M=e.getShallow(w);M!=null&&(t[w]=M)}if(t.verticalAlign==null){var A=e.getShallow("baseline");A!=null&&(t.verticalAlign=A)}if(!l||!i.disableBox){for(var S=0;S<mV.length;S++){var w=mV[S],M=e.getShallow(w);M!=null&&(t[w]=M)}var D=e.getShallow("borderType");D!=null&&(t.borderDash=D),(t.backgroundColor==="auto"||t.backgroundColor==="inherit")&&c&&(t.backgroundColor=c),(t.borderColor==="auto"||t.borderColor==="inherit")&&c&&(t.borderColor=c)}}function Nk(t,e){var r=e&&e.getModel("textStyle");return ml([t.fontStyle||r&&r.getShallow("fontStyle")||"",t.fontWeight||r&&r.getShallow("fontWeight")||"",(t.fontSize||r&&r.getShallow("fontSize")||12)+"px",t.fontFamily||r&&r.getShallow("fontFamily")||"sans-serif"].join(" "))}var Um=Xt();function z$(t,e,r,n){if(t){var a=Um(t);a.prevValue=a.value,a.value=r;var i=e.normal;a.valueAnimation=i.get("valueAnimation"),a.valueAnimation&&(a.precision=i.get("precision"),a.defaultInterpolatedText=n,a.statesModels=e)}}function B$(t,e,r,n,a){var i=Um(t);if(!i.valueAnimation||i.prevValue===i.value)return;var o=i.defaultInterpolatedText,s=et(i.interpolatedValue,i.prevValue),l=i.value;function u(c){var f=Qq(r,i.precision,s,l,c);i.interpolatedValue=c===1?null:f;var d=cN({labelDataIndex:e,labelFetcher:a,defaultText:o?o(f):f+""},i.statesModels,f);j$(t,d)}t.percent=0,(i.prevValue==null?zn:Sr)(t,{percent:1},n,e,null,u)}var Vg={minMargin:1,textMargin:2},Tbe=["textStyle","color"],X2=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],K2=new xr,Cbe=(function(){function t(){}return t.prototype.getTextColor=function(e){var r=this.ecModel;return this.getShallow("color")||(!e&&r?r.get(Tbe):null)},t.prototype.getFont=function(){return Nk({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},t.prototype.getTextRect=function(e){for(var r={text:e,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},n=0;n<X2.length;n++)r[X2[n]]=this.getShallow(X2[n]);return K2.useStyle(r),K2.update(),K2.getBoundingRect()},t})(),V$=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],Mbe=Qv(V$),Abe=(function(){function t(){}return t.prototype.getLineStyle=function(e){return Mbe(this,e)},t})(),F$=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],Dbe=Qv(F$),Lbe=(function(){function t(){}return t.prototype.getItemStyle=function(e,r){return Dbe(this,e,r)},t})(),ar=(function(){function t(e,r,n){this.parentModel=r,this.ecModel=n,this.option=e}return t.prototype.init=function(e,r,n){},t.prototype.mergeOption=function(e,r){Gt(this.option,e,!0)},t.prototype.get=function(e,r){return e==null?this.option:this._doGet(this.parsePath(e),!r&&this.parentModel)},t.prototype.getShallow=function(e,r){var n=this.option,a=n==null?n:n[e];if(a==null&&!r){var i=this.parentModel;i&&(a=i.getShallow(e))}return a},t.prototype.getModel=function(e,r){var n=e!=null,a=n?this.parsePath(e):null,i=n?this._doGet(a):this.option;return r=r||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(a)),new t(i,r,this.ecModel)},t.prototype.isEmpty=function(){return this.option==null},t.prototype.restoreData=function(){},t.prototype.clone=function(){var e=this.constructor;return new e(ut(this.option))},t.prototype.parsePath=function(e){return typeof e=="string"?e.split("."):e},t.prototype.resolveParentPath=function(e){return e},t.prototype.isAnimationEnabled=function(){if(!nr.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},t.prototype._doGet=function(e,r){var n=this.option;if(!e)return n;for(var a=0;a<e.length&&!(e[a]&&(n=n&&typeof n=="object"?n[e[a]]:null,n==null));a++);return n==null&&r&&(n=r._doGet(this.resolveParentPath(e),r.parentModel)),n},t})();yk(ar);Oxe(ar);ja(ar,Abe);ja(ar,Lbe);ja(ar,Fxe);ja(ar,Cbe);var Ebe=Math.round(Math.random()*10);function Wm(t){return[t||"",Ebe++].join("_")}function Nbe(t){var e={};t.registerSubTypeDefaulter=function(r,n){var a=nc(r);e[a.main]=n},t.determineSubType=function(r,n){var a=n.type;if(!a){var i=nc(r).main;t.hasSubTypes(r)&&e[i]&&(a=e[i](n))}return a}}function Rbe(t,e){t.topologicalTravel=function(i,o,s,l){if(!i.length)return;var u=r(o),c=u.graph,f=u.noEntryList,d={};for(Y(i,function(w){d[w]=!0});f.length;){var v=f.pop(),g=c[v],y=!!d[v];y&&(s.call(l,v,g.originalDeps.slice()),delete d[v]),Y(g.successor,y?S:b)}Y(d,function(){var w="";throw new Error(w)});function b(w){c[w].entryCount--,c[w].entryCount===0&&f.push(w)}function S(w){d[w]=!0,b(w)}};function r(i){var o={},s=[];return Y(i,function(l){var u=n(o,l),c=u.originalDeps=e(l),f=a(c,i);u.entryCount=f.length,u.entryCount===0&&s.push(l),Y(f,function(d){Vt(u.predecessor,d)<0&&u.predecessor.push(d);var v=n(o,d);Vt(v.successor,d)<0&&v.successor.push(l)})}),{graph:o,noEntryList:s}}function n(i,o){return i[o]||(i[o]={predecessor:[],successor:[]}),i[o]}function a(i,o){var s=[];return Y(i,function(l){Vt(o,l)>=0&&s.push(l)}),s}}function fd(t,e){return Gt(Gt({},t,!0),e,!0)}const Pbe={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},kbe={time:{month:["","","","","","","","","","","",""],monthAbbr:["1","2","3","4","5","6","7","8","9","10","11","12"],dayOfWeek:["","","","","","",""],dayOfWeekAbbr:["","","","","","",""]},legend:{selector:{all:"",inverse:""}},toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}},series:{typeNames:{pie:"",bar:"",line:"",scatter:"",effectScatter:"",radar:"",tree:"",treemap:"",boxplot:"",candlestick:"K",k:"K",heatmap:"",map:"",parallel:"",lines:"",graph:"",sankey:"",funnel:"",gauge:"",pictorialBar:"",themeRiver:"",sunburst:"",custom:"",chart:""}},aria:{general:{withTitle:"{title}",withoutTitle:""},series:{single:{prefix:"",withName:"{seriesType}{seriesName}",withoutName:"{seriesType}"},multiple:{prefix:"{seriesCount}",withName:"{seriesId}{seriesName}{seriesType}",withoutName:"{seriesId}{seriesType}",separator:{middle:"",end:""}}},data:{allData:"",partialData:"{displayCnt}",withName:"{name}{value}",withoutName:"{value}",separator:{middle:"",end:""}}}};var xw="ZH",Rk="EN",Jg=Rk,MS={},Pk={},H$=nr.domSupported?(function(){var t=(document.documentElement.lang||navigator.language||navigator.browserLanguage||Jg).toUpperCase();return t.indexOf(xw)>-1?xw:Jg})():Jg;function G$(t,e){t=t.toUpperCase(),Pk[t]=new ar(e),MS[t]=e}function Ibe(t){if(We(t)){var e=MS[t.toUpperCase()]||{};return t===xw||t===Rk?ut(e):Gt(ut(e),ut(MS[Jg]),!1)}else return Gt(ut(t),ut(MS[Jg]),!1)}function fN(t){return Pk[t]}function Obe(){return Pk[Jg]}G$(Rk,Pbe);G$(xw,kbe);var hN=null;function jbe(t){hN||(hN=t)}function Ra(){return hN}var kk=1e3,Ik=kk*60,nx=Ik*60,gl=nx*24,xV=gl*365,zbe={year:/({yyyy}|{yy})/,month:/({MMMM}|{MMM}|{MM}|{M})/,day:/({dd}|{d})/,hour:/({HH}|{H}|{hh}|{h})/,minute:/({mm}|{m})/,second:/({ss}|{s})/,millisecond:/({SSS}|{S})/},AS={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}"},Bbe="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}",h1="{yyyy}-{MM}-{dd}",_V={year:"{yyyy}",month:"{yyyy}-{MM}",day:h1,hour:h1+" "+AS.hour,minute:h1+" "+AS.minute,second:h1+" "+AS.second,millisecond:Bbe},Cs=["year","month","day","hour","minute","second","millisecond"],Vbe=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function Fbe(t){return!We(t)&&!ot(t)?Hbe(t):t}function Hbe(t){t=t||{};var e={},r=!0;return Y(Cs,function(n){r&&(r=t[n]==null)}),Y(Cs,function(n,a){var i=t[n];e[n]={};for(var o=null,s=a;s>=0;s--){var l=Cs[s],u=mt(i)&&!Ee(i)?i[l]:i,c=void 0;Ee(u)?(c=u.slice(),o=c[0]||""):We(u)?(o=u,c=[o]):(o==null?o=AS[n]:zbe[l].test(o)||(o=e[l][l][0]+" "+o),c=[o],r&&(c[1]="{primary|"+o+"}")),e[n][l]=c}}),e}function fh(t,e){return t+="","0000".substr(0,e-t.length)+t}function ax(t){switch(t){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return t}}function Gbe(t){return t===ax(t)}function Ube(t){switch(t){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function SC(t,e,r,n){var a=hp(t),i=a[U$(r)](),o=a[Ok(r)]()+1,s=Math.floor((o-1)/3)+1,l=a[jk(r)](),u=a["get"+(r?"UTC":"")+"Day"](),c=a[zk(r)](),f=(c-1)%12+1,d=a[Bk(r)](),v=a[Vk(r)](),g=a[Fk(r)](),y=c>=12?"pm":"am",b=y.toUpperCase(),S=n instanceof ar?n:fN(n||H$)||Obe(),w=S.getModel("time"),M=w.get("month"),A=w.get("monthAbbr"),D=w.get("dayOfWeek"),R=w.get("dayOfWeekAbbr");return(e||"").replace(/{a}/g,y+"").replace(/{A}/g,b+"").replace(/{yyyy}/g,i+"").replace(/{yy}/g,fh(i%100+"",2)).replace(/{Q}/g,s+"").replace(/{MMMM}/g,M[o-1]).replace(/{MMM}/g,A[o-1]).replace(/{MM}/g,fh(o,2)).replace(/{M}/g,o+"").replace(/{dd}/g,fh(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,D[u]).replace(/{ee}/g,R[u]).replace(/{e}/g,u+"").replace(/{HH}/g,fh(c,2)).replace(/{H}/g,c+"").replace(/{hh}/g,fh(f+"",2)).replace(/{h}/g,f+"").replace(/{mm}/g,fh(d,2)).replace(/{m}/g,d+"").replace(/{ss}/g,fh(v,2)).replace(/{s}/g,v+"").replace(/{SSS}/g,fh(g,3)).replace(/{S}/g,g+"")}function Wbe(t,e,r,n,a){var i=null;if(We(r))i=r;else if(ot(r)){var o={time:t.time,level:t.time.level},s=Ra();s&&s.makeAxisLabelFormatterParamBreak(o,t.break),i=r(t.value,e,o)}else{var l=t.time;if(l){var u=r[l.lowerTimeUnit][l.upperTimeUnit];i=u[Math.min(l.level,u.length-1)]||""}else{var c=Fg(t.value,a);i=r[c][c][0]}}return SC(new Date(t.value),i,a,n)}function Fg(t,e){var r=hp(t),n=r[Ok(e)]()+1,a=r[jk(e)](),i=r[zk(e)](),o=r[Bk(e)](),s=r[Vk(e)](),l=r[Fk(e)](),u=l===0,c=u&&s===0,f=c&&o===0,d=f&&i===0,v=d&&a===1,g=v&&n===1;return g?"year":v?"month":d?"day":f?"hour":c?"minute":u?"second":"millisecond"}function dN(t,e,r){switch(e){case"year":t[W$(r)](0);case"month":t[Y$(r)](1);case"day":t[Z$(r)](0);case"hour":t[q$(r)](0);case"minute":t[$$(r)](0);case"second":t[X$(r)](0)}return t}function U$(t){return t?"getUTCFullYear":"getFullYear"}function Ok(t){return t?"getUTCMonth":"getMonth"}function jk(t){return t?"getUTCDate":"getDate"}function zk(t){return t?"getUTCHours":"getHours"}function Bk(t){return t?"getUTCMinutes":"getMinutes"}function Vk(t){return t?"getUTCSeconds":"getSeconds"}function Fk(t){return t?"getUTCMilliseconds":"getMilliseconds"}function Ybe(t){return t?"setUTCFullYear":"setFullYear"}function W$(t){return t?"setUTCMonth":"setMonth"}function Y$(t){return t?"setUTCDate":"setDate"}function Z$(t){return t?"setUTCHours":"setHours"}function q$(t){return t?"setUTCMinutes":"setMinutes"}function $$(t){return t?"setUTCSeconds":"setSeconds"}function X$(t){return t?"setUTCMilliseconds":"setMilliseconds"}function K$(t){if(!Gq(t))return We(t)?t:"-";var e=(t+"").split(".");return e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:"")}function Q$(t,e){return t=(t||"").toLowerCase().replace(/-(.)/g,function(r,n){return n.toUpperCase()}),e&&t&&(t=t.charAt(0).toUpperCase()+t.slice(1)),t}var y_=tC;function vN(t,e,r){var n="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function a(c){return c&&ml(c)?c:"-"}function i(c){return!!(c!=null&&!isNaN(c)&&isFinite(c))}var o=e==="time",s=t instanceof Date;if(o||s){var l=o?hp(t):t;if(isNaN(+l)){if(s)return"-"}else return SC(l,n,r)}if(e==="ordinal")return TE(t)?a(t):vr(t)&&i(t)?t+"":"-";var u=xf(t);return i(u)?K$(u):TE(t)?a(t):typeof t=="boolean"?t+"":"-"}var bV=["a","b","c","d","e","f","g"],Q2=function(t,e){return"{"+t+(e??"")+"}"};function J$(t,e,r){Ee(e)||(e=[e]);var n=e.length;if(!n)return"";for(var a=e[0].$vars||[],i=0;i<a.length;i++){var o=bV[i];t=t.replace(Q2(o),Q2(o,0))}for(var s=0;s<n;s++)for(var l=0;l<a.length;l++){var u=e[s][a[l]];t=t.replace(Q2(bV[l],s),r?Ao(u):u)}return t}function Zbe(t,e,r){return Y(e,function(n,a){t=t.replace("{"+a+"}",n)}),t}function qbe(t,e){var r=We(t)?{color:t,extraCssText:e}:t||{},n=r.color,a=r.type;e=r.extraCssText;var i=r.renderMode||"html";if(!n)return"";if(i==="html")return a==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+Ao(n)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+Ao(n)+";"+(e||"")+'"></span>';var o=r.markerId||"markerX";return{renderMode:i,content:"{"+o+"|}  ",style:a==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:n}:{width:10,height:10,borderRadius:5,backgroundColor:n}}}function rp(t,e){return e=e||"transparent",We(t)?t:mt(t)&&t.colorStops&&(t.colorStops[0]||{}).color||e}function _w(t,e){if(e==="_blank"||e==="blank"){var r=window.open();r.opener=null,r.location.href=t}else window.open(t,e)}var DS={},J2={},x_=(function(){function t(){this._normalMasterList=[],this._nonSeriesBoxMasterList=[]}return t.prototype.create=function(e,r){this._nonSeriesBoxMasterList=n(DS),this._normalMasterList=n(J2);function n(a,i){var o=[];return Y(a,function(s,l){var u=s.create(e,r);o=o.concat(u||[])}),o}},t.prototype.update=function(e,r){Y(this._normalMasterList,function(n){n.update&&n.update(e,r)})},t.prototype.getCoordinateSystems=function(){return this._normalMasterList.concat(this._nonSeriesBoxMasterList)},t.register=function(e,r){if(e==="matrix"||e==="calendar"){DS[e]=r;return}J2[e]=r},t.get=function(e){return J2[e]||DS[e]},t})();function $be(t){return!!DS[t]}var pN={coord:1,coord2:2};function Xbe(t){eX.set(t.fullType,{getCoord2:void 0}).getCoord2=t.getCoord2}var eX=Qe();function Kbe(t){var e=t.getShallow("coord",!0),r=pN.coord;if(e==null){var n=eX.get(t.type);n&&n.getCoord2&&(r=pN.coord2,e=n.getCoord2(t))}return{coord:e,from:r}}var Ku={none:0,dataCoordSys:1,boxCoordSys:2};function tX(t,e){var r=t.getShallow("coordinateSystem"),n=t.getShallow("coordinateSystemUsage",!0),a=Ku.none;if(r){var i=t.mainType==="series";n==null&&(n=i?"data":"box"),n==="data"?(a=Ku.dataCoordSys,i||(a=Ku.none)):n==="box"&&(a=Ku.boxCoordSys,!i&&!$be(r)&&(a=Ku.none))}return{coordSysType:r,kind:a}}function __(t){var e=t.targetModel,r=t.coordSysType,n=t.coordSysProvider,a=t.isDefaultDataCoordSys;t.allowNotFound;var i=tX(e),o=i.kind,s=i.coordSysType;if(a&&o!==Ku.dataCoordSys&&(o=Ku.dataCoordSys,s=r),o===Ku.none||s!==r)return!1;var l=n(r,e);return l?(o===Ku.dataCoordSys?e.coordinateSystem=l:e.boxCoordinateSystem=l,!0):!1}var rX=function(t,e){var r=e.getReferringComponents(t,na).models[0];return r&&r.coordinateSystem},LS=Y,nX=["left","right","top","bottom","width","height"],Dv=[["width","left","right"],["height","top","bottom"]];function Hk(t,e,r,n,a){var i=0,o=0;n==null&&(n=1/0),a==null&&(a=1/0);var s=0;e.eachChild(function(l,u){var c=l.getBoundingRect(),f=e.childAt(u+1),d=f&&f.getBoundingRect(),v,g;if(t==="horizontal"){var y=c.width+(d?-d.x+c.x:0);v=i+y,v>n||l.newline?(i=0,v=y,o+=s+r,s=c.height):s=Math.max(s,c.height)}else{var b=c.height+(d?-d.y+c.y:0);g=o+b,g>a||l.newline?(i+=s+r,o=0,g=b,s=c.width):s=Math.max(s,c.width)}l.newline||(l.x=i,l.y=o,l.markRedraw(),t==="horizontal"?i=v+r:o=g+r)})}var Bv=Hk;zt(Hk,"vertical");zt(Hk,"horizontal");function aX(t,e){return{left:t.getShallow("left",e),top:t.getShallow("top",e),right:t.getShallow("right",e),bottom:t.getShallow("bottom",e),width:t.getShallow("width",e),height:t.getShallow("height",e)}}function Qbe(t,e){var r=ni(t,e,{enableLayoutOnlyByCenter:!0}),n=t.getBoxLayoutParams(),a,i;if(r.type===j0.point)i=r.refPoint,a=Yn(n,{width:e.getWidth(),height:e.getHeight()});else{var o=t.get("center"),s=Ee(o)?o:[o,o];a=Yn(n,r.refContainer),i=r.boxCoordFrom===pN.coord2?r.refPoint:[Ue(s[0],a.width)+a.x,Ue(s[1],a.height)+a.y]}return{viewRect:a,center:i}}function iX(t,e){var r=Qbe(t,e),n=r.viewRect,a=r.center,i=t.get("radius");Ee(i)||(i=[0,i]);var o=Ue(n.width,e.getWidth()),s=Ue(n.height,e.getHeight()),l=Math.min(o,s),u=Ue(i[0],l/2),c=Ue(i[1],l/2);return{cx:a[0],cy:a[1],r0:u,r:c,viewRect:n}}function Yn(t,e,r){r=y_(r||0);var n=e.width,a=e.height,i=Ue(t.left,n),o=Ue(t.top,a),s=Ue(t.right,n),l=Ue(t.bottom,a),u=Ue(t.width,n),c=Ue(t.height,a),f=r[2]+r[0],d=r[1]+r[3],v=t.aspect;switch(isNaN(u)&&(u=n-s-d-i),isNaN(c)&&(c=a-l-f-o),v!=null&&(isNaN(u)&&isNaN(c)&&(v>n/a?u=n*.8:c=a*.8),isNaN(u)&&(u=v*c),isNaN(c)&&(c=u/v)),isNaN(i)&&(i=n-s-u-d),isNaN(o)&&(o=a-l-c-f),t.left||t.right){case"center":i=n/2-u/2-r[3];break;case"right":i=n-u-d;break}switch(t.top||t.bottom){case"middle":case"center":o=a/2-c/2-r[0];break;case"bottom":o=a-c-f;break}i=i||0,o=o||0,isNaN(u)&&(u=n-d-i-(s||0)),isNaN(c)&&(c=a-f-o-(l||0));var g=new yt((e.x||0)+i+r[3],(e.y||0)+o+r[0],u,c);return g.margin=r,g}function oX(t,e,r){var n=t.getShallow("preserveAspect",!0);if(!n)return e;var a=e.width/e.height;if(Math.abs(Math.atan(r)-Math.atan(a))<1e-9)return e;var i=t.getShallow("preserveAspectAlign",!0),o=t.getShallow("preserveAspectVerticalAlign",!0),s={width:e.width,height:e.height},l=n==="cover";return a>r&&!l||a<r&&l?(s.width=e.height*r,i==="left"?s.left=0:i==="right"?s.right=0:s.left="center"):(s.height=e.width/r,o==="top"?s.top=0:o==="bottom"?s.bottom=0:s.top="middle"),Yn(s,e)}var j0={rect:1,point:2};function ni(t,e,r){var n,a,i,o=t.boxCoordinateSystem,s;if(o){var l=Kbe(t),u=l.coord,c=l.from;if(o.dataToLayout){i=j0.rect,s=c;var f=o.dataToLayout(u);n=f.contentRect||f.rect}else r&&r.enableLayoutOnlyByCenter&&o.dataToPoint&&(i=j0.point,s=c,a=o.dataToPoint(u))}return i==null&&(i=j0.rect),i===j0.rect&&(n||(n={x:0,y:0,width:e.getWidth(),height:e.getHeight()}),a=[n.x+n.width/2,n.y+n.height/2]),{type:i,refContainer:n,refPoint:a,boxCoordFrom:s}}function wC(t,e,r,n,a,i){var o=!a||!a.hv||a.hv[0],s=!a||!a.hv||a.hv[1],l=a&&a.boundingMode||"all";if(i=i||t,i.x=t.x,i.y=t.y,!o&&!s)return!1;var u;if(l==="raw")u=t.type==="group"?new yt(0,0,+e.width||0,+e.height||0):t.getBoundingRect();else if(u=t.getBoundingRect(),t.needLocalTransform()){var c=t.getLocalTransform();u=u.clone(),u.applyTransform(c)}var f=Yn(gt({width:u.width,height:u.height},e),r,n),d=o?f.x-u.x:0,v=s?f.y-u.y:0;return l==="raw"?(i.x=d,i.y=v):(i.x+=d,i.y+=v),i===t&&t.markRedraw(),!0}function Jbe(t,e){return t[Dv[e][0]]!=null||t[Dv[e][1]]!=null&&t[Dv[e][2]]!=null}function Ex(t){var e=t.layoutMode||t.constructor.layoutMode;return mt(e)?e:e?{type:e}:null}function _c(t,e,r){var n=r&&r.ignoreSize;!Ee(n)&&(n=[n,n]);var a=o(Dv[0],0),i=o(Dv[1],1);l(Dv[0],t,a),l(Dv[1],t,i);function o(u,c){var f={},d=0,v={},g=0,y=2;if(LS(u,function(w){v[w]=t[w]}),LS(u,function(w){Xe(e,w)&&(f[w]=v[w]=e[w]),s(f,w)&&d++,s(v,w)&&g++}),n[c])return s(e,u[1])?v[u[2]]=null:s(e,u[2])&&(v[u[1]]=null),v;if(g===y||!d)return v;if(d>=y)return f;for(var b=0;b<u.length;b++){var S=u[b];if(!Xe(f,S)&&Xe(t,S)){f[S]=t[S];break}}return f}function s(u,c){return u[c]!=null&&u[c]!=="auto"}function l(u,c,f){LS(u,function(d){c[d]=f[d]})}}function vp(t){return sX({},t)}function sX(t,e){return e&&t&&LS(nX,function(r){Xe(e,r)&&(t[r]=e[r])}),t}var e1e=Xt(),er=(function(t){ye(e,t);function e(r,n,a){var i=t.call(this,r,n,a)||this;return i.uid=Wm("ec_cpt_model"),i}return e.prototype.init=function(r,n,a){this.mergeDefaultAndTheme(r,a)},e.prototype.mergeDefaultAndTheme=function(r,n){var a=Ex(this),i=a?vp(r):{},o=n.getTheme();Gt(r,o.get(this.mainType)),Gt(r,this.getDefaultOption()),a&&_c(r,i,a)},e.prototype.mergeOption=function(r,n){Gt(this.option,r,!0);var a=Ex(this);a&&_c(this.option,r,a)},e.prototype.optionUpdated=function(r,n){},e.prototype.getDefaultOption=function(){var r=this.constructor;if(!Pxe(r))return r.defaultOption;var n=e1e(this);if(!n.defaultOption){for(var a=[],i=r;i;){var o=i.prototype.defaultOption;o&&a.push(o),i=i.superClass}for(var s={},l=a.length-1;l>=0;l--)s=Gt(s,a[l],!0);n.defaultOption=s}return n.defaultOption},e.prototype.getReferringComponents=function(r,n){var a=r+"Index",i=r+"Id";return Vm(this.ecModel,r,{index:this.get(a,!0),id:this.get(i,!0)},n)},e.prototype.getBoxLayoutParams=function(){return aX(this,!1)},e.prototype.getZLevelKey=function(){return""},e.prototype.setZLevel=function(r){this.option.zlevel=r},e.protoInitialize=(function(){var r=e.prototype;r.type="component",r.id="",r.name="",r.mainType="",r.subType="",r.componentIndex=0})(),e})(ar);e$(er,ar);lC(er);Nbe(er);Rbe(er,t1e);function t1e(t){var e=[];return Y(er.getClassesByMainType(t),function(r){e=e.concat(r.dependencies||r.prototype.dependencies||[])}),e=Re(e,function(r){return nc(r).main}),t!=="dataset"&&Vt(e,"dataset")<=0&&e.unshift("dataset"),e}var ve={color:{},darkColor:{},size:{}},ma=ve.color={theme:["#5070dd","#b6d634","#505372","#ff994d","#0ca8df","#ffd10a","#fb628b","#785db0","#3fbe95"],neutral00:"#fff",neutral05:"#f4f7fd",neutral10:"#e8ebf0",neutral15:"#dbdee4",neutral20:"#cfd2d7",neutral25:"#c3c5cb",neutral30:"#b7b9be",neutral35:"#aaacb2",neutral40:"#9ea0a5",neutral45:"#929399",neutral50:"#86878c",neutral55:"#797b7f",neutral60:"#6d6e73",neutral65:"#616266",neutral70:"#54555a",neutral75:"#48494d",neutral80:"#3c3c41",neutral85:"#303034",neutral90:"#232328",neutral95:"#17171b",neutral99:"#000",accent05:"#eff1f9",accent10:"#e0e4f2",accent15:"#d0d6ec",accent20:"#c0c9e6",accent25:"#b1bbdf",accent30:"#a1aed9",accent35:"#91a0d3",accent40:"#8292cc",accent45:"#7285c6",accent50:"#6578ba",accent55:"#5c6da9",accent60:"#536298",accent65:"#4a5787",accent70:"#404c76",accent75:"#374165",accent80:"#2e3654",accent85:"#252b43",accent90:"#1b2032",accent95:"#121521",transparent:"rgba(0,0,0,0)",highlight:"rgba(255,231,130,0.8)"};Ae(ma,{primary:ma.neutral80,secondary:ma.neutral70,tertiary:ma.neutral60,quaternary:ma.neutral50,disabled:ma.neutral20,border:ma.neutral30,borderTint:ma.neutral20,borderShade:ma.neutral40,background:ma.neutral05,backgroundTint:"rgba(234,237,245,0.5)",backgroundTransparent:"rgba(255,255,255,0)",backgroundShade:ma.neutral10,shadow:"rgba(0,0,0,0.2)",shadowTint:"rgba(129,130,136,0.2)",axisLine:ma.neutral70,axisLineTint:ma.neutral40,axisTick:ma.neutral70,axisTickMinor:ma.neutral60,axisLabel:ma.neutral70,axisSplitLine:ma.neutral15,axisMinorSplitLine:ma.neutral05});for(var Qd in ma)if(ma.hasOwnProperty(Qd)){var SV=ma[Qd];Qd==="theme"?ve.darkColor.theme=ma.theme.slice():Qd==="highlight"?ve.darkColor.highlight="rgba(255,231,130,0.4)":Qd.indexOf("accent")===0?ve.darkColor[Qd]=Hh(SV,null,function(t){return t*.5},function(t){return Math.min(1,1.3-t)}):ve.darkColor[Qd]=Hh(SV,null,function(t){return t*.9},function(t){return 1-Math.pow(t,1.5)})}ve.size={xxs:2,xs:5,s:10,m:15,l:20,xl:30,xxl:40,xxxl:50};var lX="";typeof navigator<"u"&&(lX=navigator.platform||"");var cg="rgba(0, 0, 0, 0.2)",uX=ve.color.theme[0],r1e=Hh(uX,null,null,.9);const n1e={darkMode:"auto",colorBy:"series",color:ve.color.theme,gradientColor:[r1e,uX],aria:{decal:{decals:[{color:cg,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:cg,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:cg,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:cg,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:cg,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:cg,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:lX.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var cX=Qe(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),Hs="original",Li="arrayRows",Gs="objectRows",yu="keyedColumns",Uh="typedArray",fX="unknown",ou="column",pp="row",Hi={Must:1,Might:2,Not:3},hX=Xt();function a1e(t){hX(t).datasetMap=Qe()}function dX(t,e,r){var n={},a=Uk(e);if(!a||!t)return n;var i=[],o=[],s=e.ecModel,l=hX(s).datasetMap,u=a.uid+"_"+r.seriesLayoutBy,c,f;t=t.slice(),Y(t,function(y,b){var S=mt(y)?y:t[b]={name:y};S.type==="ordinal"&&c==null&&(c=b,f=g(S)),n[S.name]=[]});var d=l.get(u)||l.set(u,{categoryWayDim:f,valueWayDim:0});Y(t,function(y,b){var S=y.name,w=g(y);if(c==null){var M=d.valueWayDim;v(n[S],M,w),v(o,M,w),d.valueWayDim+=w}else if(c===b)v(n[S],0,w),v(i,0,w);else{var M=d.categoryWayDim;v(n[S],M,w),v(o,M,w),d.categoryWayDim+=w}});function v(y,b,S){for(var w=0;w<S;w++)y.push(b+w)}function g(y){var b=y.dimsDef;return b?b.length:1}return i.length&&(n.itemName=i),o.length&&(n.seriesName=o),n}function Gk(t,e,r){var n={},a=Uk(t);if(!a)return n;var i=e.sourceFormat,o=e.dimensionsDefine,s;(i===Gs||i===yu)&&Y(o,function(c,f){(mt(c)?c.name:c)==="name"&&(s=f)});var l=(function(){for(var c={},f={},d=[],v=0,g=Math.min(5,r);v<g;v++){var y=pX(e.data,i,e.seriesLayoutBy,o,e.startIndex,v);d.push(y);var b=y===Hi.Not;if(b&&c.v==null&&v!==s&&(c.v=v),(c.n==null||c.n===c.v||!b&&d[c.n]===Hi.Not)&&(c.n=v),S(c)&&d[c.n]!==Hi.Not)return c;b||(y===Hi.Might&&f.v==null&&v!==s&&(f.v=v),(f.n==null||f.n===f.v)&&(f.n=v))}function S(w){return w.v!=null&&w.n!=null}return S(c)?c:S(f)?f:null})();if(l){n.value=[l.v];var u=s??l.n;n.itemName=[u],n.seriesName=[u]}return n}function Uk(t){var e=t.get("data",!0);if(!e)return Vm(t.ecModel,"dataset",{index:t.get("datasetIndex",!0),id:t.get("datasetId",!0)},na).models[0]}function i1e(t){return!t.get("transform",!0)&&!t.get("fromTransformResult",!0)?[]:Vm(t.ecModel,"dataset",{index:t.get("fromDatasetIndex",!0),id:t.get("fromDatasetId",!0)},na).models}function vX(t,e){return pX(t.data,t.sourceFormat,t.seriesLayoutBy,t.dimensionsDefine,t.startIndex,e)}function pX(t,e,r,n,a,i){var o,s=5;if(is(t))return Hi.Not;var l,u;if(n){var c=n[i];mt(c)?(l=c.name,u=c.type):We(c)&&(l=c)}if(u!=null)return u==="ordinal"?Hi.Must:Hi.Not;if(e===Li){var f=t;if(r===pp){for(var d=f[i],v=0;v<(d||[]).length&&v<s;v++)if((o=A(d[a+v]))!=null)return o}else for(var v=0;v<f.length&&v<s;v++){var g=f[a+v];if(g&&(o=A(g[i]))!=null)return o}}else if(e===Gs){var y=t;if(!l)return Hi.Not;for(var v=0;v<y.length&&v<s;v++){var b=y[v];if(b&&(o=A(b[l]))!=null)return o}}else if(e===yu){var S=t;if(!l)return Hi.Not;var d=S[l];if(!d||is(d))return Hi.Not;for(var v=0;v<d.length&&v<s;v++)if((o=A(d[v]))!=null)return o}else if(e===Hs)for(var w=t,v=0;v<w.length&&v<s;v++){var b=w[v],M=Bm(b);if(!Ee(M))return Hi.Not;if((o=A(M[i]))!=null)return o}function A(D){var R=We(D);if(D!=null&&Number.isFinite(Number(D))&&D!=="")return R?Hi.Might:Hi.Not;if(R&&D!=="-")return Hi.Must}return Hi.Not}var gN=Qe();function o1e(t,e){co(gN.get(t)==null&&e),gN.set(t,e)}function s1e(t,e,r){var n=gN.get(e);if(!n)return r;var a=n(t);return a?r.concat(a):r}var wV=Xt(),l1e=Xt(),Wk=(function(){function t(){}return t.prototype.getColorFromPalette=function(e,r,n){var a=gn(this.get("color",!0)),i=this.get("colorLayer",!0);return gX(this,wV,a,i,e,r,n)},t.prototype.clearColorPalette=function(){c1e(this,wV)},t})();function mN(t,e,r,n){var a=gn(t.get(["aria","decal","decals"]));return gX(t,l1e,a,null,e,r,n)}function u1e(t,e){for(var r=t.length,n=0;n<r;n++)if(t[n].length>e)return t[n];return t[r-1]}function gX(t,e,r,n,a,i,o){i=i||t;var s=e(i),l=s.paletteIdx||0,u=s.paletteNameMap=s.paletteNameMap||{};if(u.hasOwnProperty(a))return u[a];var c=o==null||!n?r:u1e(n,o);if(c=c||r,!(!c||!c.length)){var f=c[l];return a&&(u[a]=f),s.paletteIdx=(l+1)%c.length,f}}function c1e(t,e){e(t).paletteIdx=0,e(t).paletteNameMap={}}var d1,Ky,TV,CV="\0_ec_inner",f1e=1,Yk=(function(t){ye(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.init=function(r,n,a,i,o,s){i=i||{},this.option=null,this._theme=new ar(i),this._locale=new ar(o),this._optionManager=s},e.prototype.setOption=function(r,n,a){var i=DV(n);this._optionManager.setOption(r,a,i),this._resetOption(null,i)},e.prototype.resetOption=function(r,n){return this._resetOption(r,DV(n))},e.prototype._resetOption=function(r,n){var a=!1,i=this._optionManager;if(!r||r==="recreate"){var o=i.mountOption(r==="recreate");!this.option||r==="recreate"?TV(this,o):(this.restoreData(),this._mergeOption(o,n)),a=!0}if((r==="timeline"||r==="media")&&this.restoreData(),!r||r==="recreate"||r==="timeline"){var s=i.getTimelineOption(this);s&&(a=!0,this._mergeOption(s,n))}if(!r||r==="recreate"||r==="media"){var l=i.getMediaOption(this);l.length&&Y(l,function(u){a=!0,this._mergeOption(u,n)},this)}return a},e.prototype.mergeOption=function(r){this._mergeOption(r,null)},e.prototype._mergeOption=function(r,n){var a=this.option,i=this._componentsMap,o=this._componentsCount,s=[],l=Qe(),u=n&&n.replaceMergeMainTypeMap;a1e(this),Y(r,function(f,d){f!=null&&(er.hasClass(d)?d&&(s.push(d),l.set(d,!0)):a[d]=a[d]==null?ut(f):Gt(a[d],f,!0))}),u&&u.each(function(f,d){er.hasClass(d)&&!l.get(d)&&(s.push(d),l.set(d,!0))}),er.topologicalTravel(s,er.getAllClassMainTypes(),c,this);function c(f){var d=s1e(this,f,gn(r[f])),v=i.get(f),g=v?u&&u.get(f)?"replaceMerge":"normalMerge":"replaceAll",y=$q(v,d,g);Txe(y,f,er),a[f]=null,i.set(f,null),o.set(f,0);var b=[],S=[],w=0,M;Y(y,function(A,D){var R=A.existing,N=A.newOption;if(!N)R&&(R.mergeOption({},this),R.optionUpdated({},!1));else{var I=f==="series",z=er.getClass(f,A.keyInfo.subType,!I);if(!z)return;if(f==="tooltip"){if(M)return;M=!0}if(R&&R.constructor===z)R.name=A.keyInfo.name,R.mergeOption(N,this),R.optionUpdated(N,!1);else{var B=Ae({componentIndex:D},A.keyInfo);R=new z(N,this,this,B),Ae(R,B),A.brandNew&&(R.__requireNewView=!0),R.init(N,this,this),R.optionUpdated(null,!0)}}R?(b.push(R.option),S.push(R),w++):(b.push(void 0),S.push(void 0))},this),a[f]=b,i.set(f,S),o.set(f,w),f==="series"&&d1(this)}this._seriesIndices||d1(this)},e.prototype.getOption=function(){var r=ut(this.option);return Y(r,function(n,a){if(er.hasClass(a)){for(var i=gn(n),o=i.length,s=!1,l=o-1;l>=0;l--)i[l]&&!Cx(i[l])?s=!0:(i[l]=null,!s&&o--);i.length=o,r[a]=i}}),delete r[CV],r},e.prototype.setTheme=function(r){this._theme=new ar(r),this._resetOption("recreate",null)},e.prototype.getTheme=function(){return this._theme},e.prototype.getLocaleModel=function(){return this._locale},e.prototype.setUpdatePayload=function(r){this._payload=r},e.prototype.getUpdatePayload=function(){return this._payload},e.prototype.getComponent=function(r,n){var a=this._componentsMap.get(r);if(a){var i=a[n||0];if(i)return i;if(n==null){for(var o=0;o<a.length;o++)if(a[o])return a[o]}}},e.prototype.queryComponents=function(r){var n=r.mainType;if(!n)return[];var a=r.index,i=r.id,o=r.name,s=this._componentsMap.get(n);if(!s||!s.length)return[];var l;return a!=null?(l=[],Y(gn(a),function(u){s[u]&&l.push(s[u])})):i!=null?l=MV("id",i,s):o!=null?l=MV("name",o,s):l=Ir(s,function(u){return!!u}),AV(l,r)},e.prototype.findComponents=function(r){var n=r.query,a=r.mainType,i=s(n),o=i?this.queryComponents(i):Ir(this._componentsMap.get(a),function(u){return!!u});return l(AV(o,r));function s(u){var c=a+"Index",f=a+"Id",d=a+"Name";return u&&(u[c]!=null||u[f]!=null||u[d]!=null)?{mainType:a,index:u[c],id:u[f],name:u[d]}:null}function l(u){return r.filter?Ir(u,r.filter):u}},e.prototype.eachComponent=function(r,n,a){var i=this._componentsMap;if(ot(r)){var o=n,s=r;i.each(function(f,d){for(var v=0;f&&v<f.length;v++){var g=f[v];g&&s.call(o,d,g,g.componentIndex)}})}else for(var l=We(r)?i.get(r):mt(r)?this.findComponents(r):null,u=0;l&&u<l.length;u++){var c=l[u];c&&n.call(a,c,c.componentIndex)}},e.prototype.getSeriesByName=function(r){var n=Ja(r,null);return Ir(this._componentsMap.get("series"),function(a){return!!a&&n!=null&&a.name===n})},e.prototype.getSeriesByIndex=function(r){return this._componentsMap.get("series")[r]},e.prototype.getSeriesByType=function(r){return Ir(this._componentsMap.get("series"),function(n){return!!n&&n.subType===r})},e.prototype.getSeries=function(){return Ir(this._componentsMap.get("series"),function(r){return!!r})},e.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},e.prototype.eachSeries=function(r,n){Ky(this),Y(this._seriesIndices,function(a){var i=this._componentsMap.get("series")[a];r.call(n,i,a)},this)},e.prototype.eachRawSeries=function(r,n){Y(this._componentsMap.get("series"),function(a){a&&r.call(n,a,a.componentIndex)})},e.prototype.eachSeriesByType=function(r,n,a){Ky(this),Y(this._seriesIndices,function(i){var o=this._componentsMap.get("series")[i];o.subType===r&&n.call(a,o,i)},this)},e.prototype.eachRawSeriesByType=function(r,n,a){return Y(this.getSeriesByType(r),n,a)},e.prototype.isSeriesFiltered=function(r){return Ky(this),this._seriesIndicesMap.get(r.componentIndex)==null},e.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},e.prototype.filterSeries=function(r,n){Ky(this);var a=[];Y(this._seriesIndices,function(i){var o=this._componentsMap.get("series")[i];r.call(n,o,i)&&a.push(i)},this),this._seriesIndices=a,this._seriesIndicesMap=Qe(a)},e.prototype.restoreData=function(r){d1(this);var n=this._componentsMap,a=[];n.each(function(i,o){er.hasClass(o)&&a.push(o)}),er.topologicalTravel(a,er.getAllClassMainTypes(),function(i){Y(n.get(i),function(o){o&&(i!=="series"||!h1e(o,r))&&o.restoreData()})})},e.internalField=(function(){d1=function(r){var n=r._seriesIndices=[];Y(r._componentsMap.get("series"),function(a){a&&n.push(a.componentIndex)}),r._seriesIndicesMap=Qe(n)},Ky=function(r){},TV=function(r,n){r.option={},r.option[CV]=f1e,r._componentsMap=Qe({series:[]}),r._componentsCount=Qe();var a=n.aria;mt(a)&&a.enabled==null&&(a.enabled=!0),d1e(n,r._theme.option),Gt(n,n1e,!1),r._mergeOption(n,null)}})(),e})(ar);function h1e(t,e){if(e){var r=e.seriesIndex,n=e.seriesId,a=e.seriesName;return r!=null&&t.componentIndex!==r||n!=null&&t.id!==n||a!=null&&t.name!==a}}function d1e(t,e){var r=t.color&&!t.colorLayer;Y(e,function(n,a){a==="colorLayer"&&r||a==="color"&&t.color||er.hasClass(a)||(typeof n=="object"?t[a]=t[a]?Gt(t[a],n,!1):ut(n):t[a]==null&&(t[a]=n))})}function MV(t,e,r){if(Ee(e)){var n=Qe();return Y(e,function(i){if(i!=null){var o=Ja(i,null);o!=null&&n.set(i,!0)}}),Ir(r,function(i){return i&&n.get(i[t])})}else{var a=Ja(e,null);return Ir(r,function(i){return i&&a!=null&&i[t]===a})}}function AV(t,e){return e.hasOwnProperty("subType")?Ir(t,function(r){return r&&r.subType===e.subType}):t}function DV(t){var e=Qe();return t&&Y(gn(t.replaceMerge),function(r){e.set(r,!0)}),{replaceMergeMainTypeMap:e}}ja(Yk,Wk);var v1e=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],mX=(function(){function t(e){Y(v1e,function(r){this[r]=Ye(e[r],e)},this)}return t})(),p1e=/^(min|max)?(.+)$/,g1e=(function(){function t(e){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=e}return t.prototype.setOption=function(e,r,n){e&&(Y(gn(e.series),function(o){o&&o.data&&is(o.data)&&tw(o.data)}),Y(gn(e.dataset),function(o){o&&o.source&&is(o.source)&&tw(o.source)})),e=ut(e);var a=this._optionBackup,i=m1e(e,r,!a);this._newBaseOption=i.baseOption,a?(i.timelineOptions.length&&(a.timelineOptions=i.timelineOptions),i.mediaList.length&&(a.mediaList=i.mediaList),i.mediaDefault&&(a.mediaDefault=i.mediaDefault)):this._optionBackup=i},t.prototype.mountOption=function(e){var r=this._optionBackup;return this._timelineOptions=r.timelineOptions,this._mediaList=r.mediaList,this._mediaDefault=r.mediaDefault,this._currentMediaIndices=[],ut(e?r.baseOption:this._newBaseOption)},t.prototype.getTimelineOption=function(e){var r,n=this._timelineOptions;if(n.length){var a=e.getComponent("timeline");a&&(r=ut(n[a.getCurrentIndex()]))}return r},t.prototype.getMediaOption=function(e){var r=this._api.getWidth(),n=this._api.getHeight(),a=this._mediaList,i=this._mediaDefault,o=[],s=[];if(!a.length&&!i)return s;for(var l=0,u=a.length;l<u;l++)y1e(a[l].query,r,n)&&o.push(l);return!o.length&&i&&(o=[-1]),o.length&&!_1e(o,this._currentMediaIndices)&&(s=Re(o,function(c){return ut(c===-1?i.option:a[c].option)})),this._currentMediaIndices=o,s},t})();function m1e(t,e,r){var n=[],a,i,o=t.baseOption,s=t.timeline,l=t.options,u=t.media,c=!!t.media,f=!!(l||s||o&&o.timeline);o?(i=o,i.timeline||(i.timeline=s)):((f||c)&&(t.options=t.media=null),i=t),c&&Ee(u)&&Y(u,function(v){v&&v.option&&(v.query?n.push(v):a||(a=v))}),d(i),Y(l,function(v){return d(v)}),Y(n,function(v){return d(v.option)});function d(v){Y(e,function(g){g(v,r)})}return{baseOption:i,timelineOptions:l||[],mediaDefault:a,mediaList:n}}function y1e(t,e,r){var n={width:e,height:r,aspectratio:e/r},a=!0;return Y(t,function(i,o){var s=o.match(p1e);if(!(!s||!s[1]||!s[2])){var l=s[1],u=s[2].toLowerCase();x1e(n[u],i,l)||(a=!1)}}),a}function x1e(t,e,r){return r==="min"?t>=e:r==="max"?t<=e:t===e}function _1e(t,e){return t.join(",")===e.join(",")}var Zl=Y,Nx=mt,LV=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function eD(t){var e=t&&t.itemStyle;if(e)for(var r=0,n=LV.length;r<n;r++){var a=LV[r],i=e.normal,o=e.emphasis;i&&i[a]&&(t[a]=t[a]||{},t[a].normal?Gt(t[a].normal,i[a]):t[a].normal=i[a],i[a]=null),o&&o[a]&&(t[a]=t[a]||{},t[a].emphasis?Gt(t[a].emphasis,o[a]):t[a].emphasis=o[a],o[a]=null)}}function ao(t,e,r){if(t&&t[e]&&(t[e].normal||t[e].emphasis)){var n=t[e].normal,a=t[e].emphasis;n&&(r?(t[e].normal=t[e].emphasis=null,gt(t[e],n)):t[e]=n),a&&(t.emphasis=t.emphasis||{},t.emphasis[e]=a,a.focus&&(t.emphasis.focus=a.focus),a.blurScope&&(t.emphasis.blurScope=a.blurScope))}}function z0(t){ao(t,"itemStyle"),ao(t,"lineStyle"),ao(t,"areaStyle"),ao(t,"label"),ao(t,"labelLine"),ao(t,"upperLabel"),ao(t,"edgeLabel")}function Da(t,e){var r=Nx(t)&&t[e],n=Nx(r)&&r.textStyle;if(n)for(var a=0,i=R4.length;a<i;a++){var o=R4[a];n.hasOwnProperty(o)&&(r[o]=n[o])}}function sl(t){t&&(z0(t),Da(t,"label"),t.emphasis&&Da(t.emphasis,"label"))}function b1e(t){if(Nx(t)){eD(t),z0(t),Da(t,"label"),Da(t,"upperLabel"),Da(t,"edgeLabel"),t.emphasis&&(Da(t.emphasis,"label"),Da(t.emphasis,"upperLabel"),Da(t.emphasis,"edgeLabel"));var e=t.markPoint;e&&(eD(e),sl(e));var r=t.markLine;r&&(eD(r),sl(r));var n=t.markArea;n&&sl(n);var a=t.data;if(t.type==="graph"){a=a||t.nodes;var i=t.links||t.edges;if(i&&!is(i))for(var o=0;o<i.length;o++)sl(i[o]);Y(t.categories,function(u){z0(u)})}if(a&&!is(a))for(var o=0;o<a.length;o++)sl(a[o]);if(e=t.markPoint,e&&e.data)for(var s=e.data,o=0;o<s.length;o++)sl(s[o]);if(r=t.markLine,r&&r.data)for(var l=r.data,o=0;o<l.length;o++)Ee(l[o])?(sl(l[o][0]),sl(l[o][1])):sl(l[o]);t.type==="gauge"?(Da(t,"axisLabel"),Da(t,"title"),Da(t,"detail")):t.type==="treemap"?(ao(t.breadcrumb,"itemStyle"),Y(t.levels,function(u){z0(u)})):t.type==="tree"&&z0(t.leaves)}}function Kc(t){return Ee(t)?t:t?[t]:[]}function EV(t){return(Ee(t)?t[0]:t)||{}}function S1e(t,e){Zl(Kc(t.series),function(n){Nx(n)&&b1e(n)});var r=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&r.push("valueAxis","categoryAxis","logAxis","timeAxis"),Zl(r,function(n){Zl(Kc(t[n]),function(a){a&&(Da(a,"axisLabel"),Da(a.axisPointer,"label"))})}),Zl(Kc(t.parallel),function(n){var a=n&&n.parallelAxisDefault;Da(a,"axisLabel"),Da(a&&a.axisPointer,"label")}),Zl(Kc(t.calendar),function(n){ao(n,"itemStyle"),Da(n,"dayLabel"),Da(n,"monthLabel"),Da(n,"yearLabel")}),Zl(Kc(t.radar),function(n){Da(n,"name"),n.name&&n.axisName==null&&(n.axisName=n.name,delete n.name),n.nameGap!=null&&n.axisNameGap==null&&(n.axisNameGap=n.nameGap,delete n.nameGap)}),Zl(Kc(t.geo),function(n){Nx(n)&&(sl(n),Zl(Kc(n.regions),function(a){sl(a)}))}),Zl(Kc(t.timeline),function(n){sl(n),ao(n,"label"),ao(n,"itemStyle"),ao(n,"controlStyle",!0);var a=n.data;Ee(a)&&Y(a,function(i){mt(i)&&(ao(i,"label"),ao(i,"itemStyle"))})}),Zl(Kc(t.toolbox),function(n){ao(n,"iconStyle"),Zl(n.feature,function(a){ao(a,"iconStyle")})}),Da(EV(t.axisPointer),"label"),Da(EV(t.tooltip).axisPointer,"label")}function w1e(t,e){for(var r=e.split(","),n=t,a=0;a<r.length&&(n=n&&n[r[a]],n!=null);a++);return n}function T1e(t,e,r,n){for(var a=e.split(","),i=t,o,s=0;s<a.length-1;s++)o=a[s],i[o]==null&&(i[o]={}),i=i[o];i[a[s]]==null&&(i[a[s]]=r)}function NV(t){t&&Y(C1e,function(e){e[0]in t&&!(e[1]in t)&&(t[e[1]]=t[e[0]])})}var C1e=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],M1e=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],tD=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function Qy(t){var e=t&&t.itemStyle;if(e)for(var r=0;r<tD.length;r++){var n=tD[r][1],a=tD[r][0];e[n]!=null&&(e[a]=e[n])}}function RV(t){t&&t.alignTo==="edge"&&t.margin!=null&&t.edgeDistance==null&&(t.edgeDistance=t.margin)}function PV(t){t&&t.downplay&&!t.blur&&(t.blur=t.downplay)}function A1e(t){t&&t.focusNodeAdjacency!=null&&(t.emphasis=t.emphasis||{},t.emphasis.focus==null&&(t.emphasis.focus="adjacency"))}function yX(t,e){if(t)for(var r=0;r<t.length;r++)e(t[r]),t[r]&&yX(t[r].children,e)}function xX(t,e){S1e(t,e),t.series=gn(t.series),Y(t.series,function(r){if(mt(r)){var n=r.type;if(n==="line")r.clipOverflow!=null&&(r.clip=r.clipOverflow);else if(n==="pie"||n==="gauge"){r.clockWise!=null&&(r.clockwise=r.clockWise),RV(r.label);var a=r.data;if(a&&!is(a))for(var i=0;i<a.length;i++)RV(a[i]);r.hoverOffset!=null&&(r.emphasis=r.emphasis||{},(r.emphasis.scaleSize=null)&&(r.emphasis.scaleSize=r.hoverOffset))}else if(n==="gauge"){var o=w1e(r,"pointer.color");o!=null&&T1e(r,"itemStyle.color",o)}else if(n==="bar"){Qy(r),Qy(r.backgroundStyle),Qy(r.emphasis);var a=r.data;if(a&&!is(a))for(var i=0;i<a.length;i++)typeof a[i]=="object"&&(Qy(a[i]),Qy(a[i]&&a[i].emphasis))}else if(n==="sunburst"){var s=r.highlightPolicy;s&&(r.emphasis=r.emphasis||{},r.emphasis.focus||(r.emphasis.focus=s)),PV(r),yX(r.data,PV)}else n==="graph"||n==="sankey"?A1e(r):n==="map"&&(r.mapType&&!r.map&&(r.map=r.mapType),r.mapLocation&&gt(r,r.mapLocation));r.hoverAnimation!=null&&(r.emphasis=r.emphasis||{},r.emphasis&&r.emphasis.scale==null&&(r.emphasis.scale=r.hoverAnimation)),NV(r)}}),t.dataRange&&(t.visualMap=t.dataRange),Y(M1e,function(r){var n=t[r];n&&(Ee(n)||(n=[n]),Y(n,function(a){NV(a)}))})}function D1e(t){var e=Qe();t.eachSeries(function(r){var n=r.get("stack");if(n){var a=e.get(n)||e.set(n,[]),i=r.getData(),o={stackResultDimension:i.getCalculationInfo("stackResultDimension"),stackedOverDimension:i.getCalculationInfo("stackedOverDimension"),stackedDimension:i.getCalculationInfo("stackedDimension"),stackedByDimension:i.getCalculationInfo("stackedByDimension"),isStackedByIndex:i.getCalculationInfo("isStackedByIndex"),data:i,seriesModel:r};if(!o.stackedDimension||!(o.isStackedByIndex||o.stackedByDimension))return;a.push(o)}}),e.each(function(r){if(r.length!==0){var n=r[0].seriesModel,a=n.get("stackOrder")||"seriesAsc";a==="seriesDesc"&&r.reverse(),Y(r,function(i,o){i.data.setCalculationInfo("stackedOnSeries",o>0?r[o-1].seriesModel:null)}),L1e(r)}})}function L1e(t){Y(t,function(e,r){var n=[],a=[NaN,NaN],i=[e.stackResultDimension,e.stackedOverDimension],o=e.data,s=e.isStackedByIndex,l=e.seriesModel.get("stackStrategy")||"samesign";o.modify(i,function(u,c,f){var d=o.get(e.stackedDimension,f);if(isNaN(d))return a;var v,g;s?g=o.getRawIndex(f):v=o.get(e.stackedByDimension,f);for(var y=NaN,b=r-1;b>=0;b--){var S=t[b];if(s||(g=S.data.rawIndexOf(S.stackedByDimension,v)),g>=0){var w=S.data.getByRawIndex(S.stackResultDimension,g);if(l==="all"||l==="positive"&&w>0||l==="negative"&&w<0||l==="samesign"&&d>=0&&w>0||l==="samesign"&&d<=0&&w<0){d=cxe(d,w),y=w;break}}}return n[0]=d,n[1]=y,n})})}var TC=(function(){function t(e){this.data=e.data||(e.sourceFormat===yu?{}:[]),this.sourceFormat=e.sourceFormat||fX,this.seriesLayoutBy=e.seriesLayoutBy||ou,this.startIndex=e.startIndex||0,this.dimensionsDetectedCount=e.dimensionsDetectedCount,this.metaRawOption=e.metaRawOption;var r=this.dimensionsDefine=e.dimensionsDefine;if(r)for(var n=0;n<r.length;n++){var a=r[n];a.type==null&&vX(this,n)===Hi.Must&&(a.type="ordinal")}}return t})();function Zk(t){return t instanceof TC}function yN(t,e,r){r=r||_X(t);var n=e.seriesLayoutBy,a=N1e(t,r,n,e.sourceHeader,e.dimensions),i=new TC({data:t,sourceFormat:r,seriesLayoutBy:n,dimensionsDefine:a.dimensionsDefine,startIndex:a.startIndex,dimensionsDetectedCount:a.dimensionsDetectedCount,metaRawOption:ut(e)});return i}function qk(t){return new TC({data:t,sourceFormat:is(t)?Uh:Hs})}function E1e(t){return new TC({data:t.data,sourceFormat:t.sourceFormat,seriesLayoutBy:t.seriesLayoutBy,dimensionsDefine:ut(t.dimensionsDefine),startIndex:t.startIndex,dimensionsDetectedCount:t.dimensionsDetectedCount})}function _X(t){var e=fX;if(is(t))e=Uh;else if(Ee(t)){t.length===0&&(e=Li);for(var r=0,n=t.length;r<n;r++){var a=t[r];if(a!=null){if(Ee(a)||is(a)){e=Li;break}else if(mt(a)){e=Gs;break}}}}else if(mt(t)){for(var i in t)if(Xe(t,i)&&uo(t[i])){e=yu;break}}return e}function N1e(t,e,r,n,a){var i,o;if(!t)return{dimensionsDefine:kV(a),startIndex:o,dimensionsDetectedCount:i};if(e===Li){var s=t;n==="auto"||n==null?IV(function(u){u!=null&&u!=="-"&&(We(u)?o==null&&(o=1):o=0)},r,s,10):o=vr(n)?n:n?1:0,!a&&o===1&&(a=[],IV(function(u,c){a[c]=u!=null?u+"":""},r,s,1/0)),i=a?a.length:r===pp?s.length:s[0]?s[0].length:null}else if(e===Gs)a||(a=R1e(t));else if(e===yu)a||(a=[],Y(t,function(u,c){a.push(c)}));else if(e===Hs){var l=Bm(t[0]);i=Ee(l)&&l.length||1}return{startIndex:o,dimensionsDefine:kV(a),dimensionsDetectedCount:i}}function R1e(t){for(var e=0,r;e<t.length&&!(r=t[e++]););if(r)return sr(r)}function kV(t){if(t){var e=Qe();return Re(t,function(r,n){r=mt(r)?r:{name:r};var a={name:r.name,displayName:r.displayName,type:r.type};if(a.name==null)return a;a.name+="",a.displayName==null&&(a.displayName=a.name);var i=e.get(a.name);return i?a.name+="-"+i.count++:e.set(a.name,{count:1}),a})}}function IV(t,e,r,n){if(e===pp)for(var a=0;a<r.length&&a<n;a++)t(r[a]?r[a][0]:null,a);else for(var i=r[0]||[],a=0;a<i.length&&a<n;a++)t(i[a],a)}function bX(t){var e=t.sourceFormat;return e===Gs||e===yu}var Jd,ev,tv,rv,OV,jV,SX=(function(){function t(e,r){var n=Zk(e)?e:qk(e);this._source=n;var a=this._data=n.data,i=n.sourceFormat;n.seriesLayoutBy,i===Uh&&(this._offset=0,this._dimSize=r,this._data=a),jV(this,a,n)}return t.prototype.getSource=function(){return this._source},t.prototype.count=function(){return 0},t.prototype.getItem=function(e,r){},t.prototype.appendData=function(e){},t.prototype.clean=function(){},t.protoInitialize=(function(){var e=t.prototype;e.pure=!1,e.persistent=!0})(),t.internalField=(function(){var e;jV=function(o,s,l){var u=l.sourceFormat,c=l.seriesLayoutBy,f=l.startIndex,d=l.dimensionsDefine,v=OV[$k(u,c)];if(Ae(o,v),u===Uh)o.getItem=r,o.count=a,o.fillStorage=n;else{var g=wX(u,c);o.getItem=Ye(g,null,s,f,d);var y=TX(u,c);o.count=Ye(y,null,s,f,d)}};var r=function(o,s){o=o-this._offset,s=s||[];for(var l=this._data,u=this._dimSize,c=u*o,f=0;f<u;f++)s[f]=l[c+f];return s},n=function(o,s,l,u){for(var c=this._data,f=this._dimSize,d=0;d<f;d++){for(var v=u[d],g=v[0]==null?1/0:v[0],y=v[1]==null?-1/0:v[1],b=s-o,S=l[d],w=0;w<b;w++){var M=c[w*f+d];S[o+w]=M,M<g&&(g=M),M>y&&(y=M)}v[0]=g,v[1]=y}},a=function(){return this._data?this._data.length/this._dimSize:0};OV=(e={},e[Li+"_"+ou]={pure:!0,appendData:i},e[Li+"_"+pp]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},e[Gs]={pure:!0,appendData:i},e[yu]={pure:!0,appendData:function(o){var s=this._data;Y(o,function(l,u){for(var c=s[u]||(s[u]=[]),f=0;f<(l||[]).length;f++)c.push(l[f])})}},e[Hs]={appendData:i},e[Uh]={persistent:!1,pure:!0,appendData:function(o){this._data=o},clean:function(){this._offset+=this.count(),this._data=null}},e);function i(o){for(var s=0;s<o.length;s++)this._data.push(o[s])}})(),t})(),v1=function(t){Ee(t)||Yq("series.data or dataset.source must be an array.")};Jd={},Jd[Li+"_"+ou]=v1,Jd[Li+"_"+pp]=v1,Jd[Gs]=v1,Jd[yu]=function(t,e){for(var r=0;r<e.length;r++){var n=e[r].name;n==null&&Yq("dimension name must not be null/undefined.")}},Jd[Hs]=v1;var zV=function(t,e,r,n){return t[n]},P1e=(ev={},ev[Li+"_"+ou]=function(t,e,r,n){return t[n+e]},ev[Li+"_"+pp]=function(t,e,r,n,a){n+=e;for(var i=a||[],o=t,s=0;s<o.length;s++){var l=o[s];i[s]=l?l[n]:null}return i},ev[Gs]=zV,ev[yu]=function(t,e,r,n,a){for(var i=a||[],o=0;o<r.length;o++){var s=r[o].name,l=s!=null?t[s]:null;i[o]=l?l[n]:null}return i},ev[Hs]=zV,ev);function wX(t,e){var r=P1e[$k(t,e)];return r}var BV=function(t,e,r){return t.length},k1e=(tv={},tv[Li+"_"+ou]=function(t,e,r){return Math.max(0,t.length-e)},tv[Li+"_"+pp]=function(t,e,r){var n=t[0];return n?Math.max(0,n.length-e):0},tv[Gs]=BV,tv[yu]=function(t,e,r){var n=r[0].name,a=n!=null?t[n]:null;return a?a.length:0},tv[Hs]=BV,tv);function TX(t,e){var r=k1e[$k(t,e)];return r}var rD=function(t,e,r){return t[e]},I1e=(rv={},rv[Li]=rD,rv[Gs]=function(t,e,r){return t[r]},rv[yu]=rD,rv[Hs]=function(t,e,r){var n=Bm(t);return n instanceof Array?n[e]:n},rv[Uh]=rD,rv);function CX(t){var e=I1e[t];return e}function $k(t,e){return t===Li?t+"_"+e:t}function vm(t,e,r){if(t){var n=t.getRawDataItem(e);if(n!=null){var a=t.getStore(),i=a.getSource().sourceFormat;if(r!=null){var o=t.getDimensionIndex(r),s=a.getDimensionProperty(o);return CX(i)(n,o,s)}else{var l=n;return i===Hs&&(l=Bm(n)),l}}}}var O1e=/\{@(.+?)\}/g,CC=(function(){function t(){}return t.prototype.getDataParams=function(e,r){var n=this.getData(r),a=this.getRawValue(e,r),i=n.getRawIndex(e),o=n.getName(e),s=n.getRawDataItem(e),l=n.getItemVisual(e,"style"),u=l&&l[n.getItemVisual(e,"drawType")||"fill"],c=l&&l.stroke,f=this.mainType,d=f==="series",v=n.userOutput&&n.userOutput.get();return{componentType:f,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:d?this.subType:null,seriesIndex:this.seriesIndex,seriesId:d?this.id:null,seriesName:d?this.name:null,name:o,dataIndex:i,data:s,dataType:r,value:a,color:u,borderColor:c,dimensionNames:v?v.fullDimensions:null,encode:v?v.encode:null,$vars:["seriesName","name","value"]}},t.prototype.getFormattedLabel=function(e,r,n,a,i,o){r=r||"normal";var s=this.getData(n),l=this.getDataParams(e,n);if(o&&(l.value=o.interpolatedValue),a!=null&&Ee(l.value)&&(l.value=l.value[a]),!i){var u=s.getItemModel(e);i=u.get(r==="normal"?["label","formatter"]:[r,"label","formatter"])}if(ot(i))return l.status=r,l.dimensionIndex=a,i(l);if(We(i)){var c=J$(i,l);return c.replace(O1e,function(f,d){var v=d.length,g=d;g.charAt(0)==="["&&g.charAt(v-1)==="]"&&(g=+g.slice(1,v-1));var y=vm(s,e,g);if(o&&Ee(o.interpolatedValue)){var b=s.getDimensionIndex(g);b>=0&&(y=o.interpolatedValue[b])}return y!=null?y+"":""})}},t.prototype.getRawValue=function(e,r){return vm(this.getData(r),e)},t.prototype.formatTooltip=function(e,r,n){},t})();function VV(t){var e,r;return mt(t)?t.type&&(r=t):e=t,{text:e,frag:r}}function ix(t){return new j1e(t)}var j1e=(function(){function t(e){e=e||{},this._reset=e.reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0}return t.prototype.perform=function(e){var r=this._upstream,n=e&&e.skip;if(this._dirty&&r){var a=this.context;a.data=a.outputData=r.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var i;this._plan&&!n&&(i=this._plan(this.context));var o=c(this._modBy),s=this._modDataCount||0,l=c(e&&e.modBy),u=e&&e.modDataCount||0;(o!==l||s!==u)&&(i="reset");function c(w){return!(w>=1)&&(w=1),w}var f;(this._dirty||i==="reset")&&(this._dirty=!1,f=this._doReset(n)),this._modBy=l,this._modDataCount=u;var d=e&&e.step;if(r?this._dueEnd=r._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var v=this._dueIndex,g=Math.min(d!=null?this._dueIndex+d:1/0,this._dueEnd);if(!n&&(f||v<g)){var y=this._progress;if(Ee(y))for(var b=0;b<y.length;b++)this._doProgress(y[b],v,g,l,u);else this._doProgress(y,v,g,l,u)}this._dueIndex=g;var S=this._settedOutputEnd!=null?this._settedOutputEnd:g;this._outputDueEnd=S}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},t.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},t.prototype._doProgress=function(e,r,n,a,i){FV.reset(r,n,a,i),this._callingProgress=e,this._callingProgress({start:r,end:n,count:n-r,next:FV.next},this.context)},t.prototype._doReset=function(e){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var r,n;!e&&this._reset&&(r=this._reset(this.context),r&&r.progress&&(n=r.forceFirstProgress,r=r.progress),Ee(r)&&!r.length&&(r=null)),this._progress=r,this._modBy=this._modDataCount=null;var a=this._downstream;return a&&a.dirty(),n},t.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},t.prototype.pipe=function(e){(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())},t.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},t.prototype.getUpstream=function(){return this._upstream},t.prototype.getDownstream=function(){return this._downstream},t.prototype.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e},t})(),FV=(function(){var t,e,r,n,a,i={reset:function(l,u,c,f){e=l,t=u,r=c,n=f,a=Math.ceil(n/r),i.next=r>1&&n>0?s:o}};return i;function o(){return e<t?e++:null}function s(){var l=e%a*r+Math.ceil(e/a),u=e>=t?null:l<n?l:e;return e++,u}})();function Wh(t,e){var r=e&&e.type;return r==="ordinal"?t:(r==="time"&&!vr(t)&&t!=null&&t!=="-"&&(t=+hp(t)),t==null||t===""?NaN:Number(t))}var z1e=Qe({number:function(t){return parseFloat(t)},time:function(t){return+hp(t)},trim:function(t){return We(t)?ml(t):t}});function MX(t){return z1e.get(t)}var AX={lt:function(t,e){return t<e},lte:function(t,e){return t<=e},gt:function(t,e){return t>e},gte:function(t,e){return t>=e}},B1e=(function(){function t(e,r){if(!vr(r)){var n="";Dr(n)}this._opFn=AX[e],this._rvalFloat=xf(r)}return t.prototype.evaluate=function(e){return vr(e)?this._opFn(e,this._rvalFloat):this._opFn(xf(e),this._rvalFloat)},t})(),DX=(function(){function t(e,r){var n=e==="desc";this._resultLT=n?1:-1,r==null&&(r=n?"min":"max"),this._incomparable=r==="min"?-1/0:1/0}return t.prototype.evaluate=function(e,r){var n=vr(e)?e:xf(e),a=vr(r)?r:xf(r),i=isNaN(n),o=isNaN(a);if(i&&(n=this._incomparable),o&&(a=this._incomparable),i&&o){var s=We(e),l=We(r);s&&(n=l?e:0),l&&(a=s?r:0)}return n<a?this._resultLT:n>a?-this._resultLT:0},t})(),V1e=(function(){function t(e,r){this._rval=r,this._isEQ=e,this._rvalTypeof=typeof r,this._rvalFloat=xf(r)}return t.prototype.evaluate=function(e){var r=e===this._rval;if(!r){var n=typeof e;n!==this._rvalTypeof&&(n==="number"||this._rvalTypeof==="number")&&(r=xf(e)===this._rvalFloat)}return this._isEQ?r:!r},t})();function F1e(t,e){return t==="eq"||t==="ne"?new V1e(t==="eq",e):Xe(AX,t)?new B1e(t,e):null}var H1e=(function(){function t(){}return t.prototype.getRawData=function(){throw new Error("not supported")},t.prototype.getRawDataItem=function(e){throw new Error("not supported")},t.prototype.cloneRawData=function(){},t.prototype.getDimensionInfo=function(e){},t.prototype.cloneAllDimensionInfo=function(){},t.prototype.count=function(){},t.prototype.retrieveValue=function(e,r){},t.prototype.retrieveValueFromItem=function(e,r){},t.prototype.convertValue=function(e,r){return Wh(e,r)},t})();function G1e(t,e){var r=new H1e,n=t.data,a=r.sourceFormat=t.sourceFormat,i=t.startIndex,o="";t.seriesLayoutBy!==ou&&Dr(o);var s=[],l={},u=t.dimensionsDefine;if(u)Y(u,function(y,b){var S=y.name,w={index:b,name:S,displayName:y.displayName};if(s.push(w),S!=null){var M="";Xe(l,S)&&Dr(M),l[S]=w}});else for(var c=0;c<t.dimensionsDetectedCount;c++)s.push({index:c});var f=wX(a,ou);e.__isBuiltIn&&(r.getRawDataItem=function(y){return f(n,i,s,y)},r.getRawData=Ye(U1e,null,t)),r.cloneRawData=Ye(W1e,null,t);var d=TX(a,ou);r.count=Ye(d,null,n,i,s);var v=CX(a);r.retrieveValue=function(y,b){var S=f(n,i,s,y);return g(S,b)};var g=r.retrieveValueFromItem=function(y,b){if(y!=null){var S=s[b];if(S)return v(y,b,S.name)}};return r.getDimensionInfo=Ye(Y1e,null,s,l),r.cloneAllDimensionInfo=Ye(Z1e,null,s),r}function U1e(t){var e=t.sourceFormat;if(!Xk(e)){var r="";Dr(r)}return t.data}function W1e(t){var e=t.sourceFormat,r=t.data;if(!Xk(e)){var n="";Dr(n)}if(e===Li){for(var a=[],i=0,o=r.length;i<o;i++)a.push(r[i].slice());return a}else if(e===Gs){for(var a=[],i=0,o=r.length;i<o;i++)a.push(Ae({},r[i]));return a}}function Y1e(t,e,r){if(r!=null){if(vr(r)||!isNaN(r)&&!Xe(e,r))return t[r];if(Xe(e,r))return e[r]}}function Z1e(t){return ut(t)}var LX=Qe();function q1e(t){t=ut(t);var e=t.type,r="";e||Dr(r);var n=e.split(":");n.length!==2&&Dr(r);var a=!1;n[0]==="echarts"&&(e=n[1],a=!0),t.__isBuiltIn=a,LX.set(e,t)}function $1e(t,e,r){var n=gn(t),a=n.length,i="";a||Dr(i);for(var o=0,s=a;o<s;o++){var l=n[o];e=X1e(l,e),o!==s-1&&(e.length=Math.max(e.length,1))}return e}function X1e(t,e,r,n){var a="";e.length||Dr(a),mt(t)||Dr(a);var i=t.type,o=LX.get(i);o||Dr(a);var s=Re(e,function(u){return G1e(u,o)}),l=gn(o.transform({upstream:s[0],upstreamList:s,config:ut(t.config)}));return Re(l,function(u,c){var f="";mt(u)||Dr(f),u.data||Dr(f);var d=_X(u.data);Xk(d)||Dr(f);var v,g=e[0];if(g&&c===0&&!u.dimensions){var y=g.startIndex;y&&(u.data=g.data.slice(0,y).concat(u.data)),v={seriesLayoutBy:ou,sourceHeader:y,dimensions:g.metaRawOption.dimensions}}else v={seriesLayoutBy:ou,sourceHeader:0,dimensions:u.dimensions};return yN(u.data,v,null)})}function Xk(t){return t===Li||t===Gs}var MC="undefined",K1e=typeof Uint32Array===MC?Array:Uint32Array,Q1e=typeof Uint16Array===MC?Array:Uint16Array,EX=typeof Int32Array===MC?Array:Int32Array,HV=typeof Float64Array===MC?Array:Float64Array,NX={float:HV,int:EX,ordinal:Array,number:Array,time:HV},nD;function fg(t){return t>65535?K1e:Q1e}function hg(){return[1/0,-1/0]}function J1e(t){var e=t.constructor;return e===Array?t.slice():new e(t)}function GV(t,e,r,n,a){var i=NX[r||"float"];if(a){var o=t[e],s=o&&o.length;if(s!==n){for(var l=new i(n),u=0;u<s;u++)l[u]=o[u];t[e]=l}}else t[e]=new i(n)}var xN=(function(){function t(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=Qe()}return t.prototype.initData=function(e,r,n){this._provider=e,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var a=e.getSource(),i=this.defaultDimValueGetter=nD[a.sourceFormat];this._dimValueGetter=n||i,this._rawExtent=[],bX(a),this._dimensions=Re(r,function(o){return{type:o.type,property:o.property}}),this._initDataFromProvider(0,e.count())},t.prototype.getProvider=function(){return this._provider},t.prototype.getSource=function(){return this._provider.getSource()},t.prototype.ensureCalculationDimension=function(e,r){var n=this._calcDimNameToIdx,a=this._dimensions,i=n.get(e);if(i!=null){if(a[i].type===r)return i}else i=a.length;return a[i]={type:r},n.set(e,i),this._chunks[i]=new NX[r||"float"](this._rawCount),this._rawExtent[i]=hg(),i},t.prototype.collectOrdinalMeta=function(e,r){var n=this._chunks[e],a=this._dimensions[e],i=this._rawExtent,o=a.ordinalOffset||0,s=n.length;o===0&&(i[e]=hg());for(var l=i[e],u=o;u<s;u++){var c=n[u]=r.parseAndCollect(n[u]);isNaN(c)||(l[0]=Math.min(c,l[0]),l[1]=Math.max(c,l[1]))}a.ordinalMeta=r,a.ordinalOffset=s,a.type="ordinal"},t.prototype.getOrdinalMeta=function(e){var r=this._dimensions[e],n=r.ordinalMeta;return n},t.prototype.getDimensionProperty=function(e){var r=this._dimensions[e];return r&&r.property},t.prototype.appendData=function(e){var r=this._provider,n=this.count();r.appendData(e);var a=r.count();return r.persistent||(a+=n),n<a&&this._initDataFromProvider(n,a,!0),[n,a]},t.prototype.appendValues=function(e,r){for(var n=this._chunks,a=this._dimensions,i=a.length,o=this._rawExtent,s=this.count(),l=s+Math.max(e.length,r||0),u=0;u<i;u++){var c=a[u];GV(n,u,c.type,l,!0)}for(var f=[],d=s;d<l;d++)for(var v=d-s,g=0;g<i;g++){var c=a[g],y=nD.arrayRows.call(this,e[v]||f,c.property,v,g);n[g][d]=y;var b=o[g];y<b[0]&&(b[0]=y),y>b[1]&&(b[1]=y)}return this._rawCount=this._count=l,{start:s,end:l}},t.prototype._initDataFromProvider=function(e,r,n){for(var a=this._provider,i=this._chunks,o=this._dimensions,s=o.length,l=this._rawExtent,u=Re(o,function(w){return w.property}),c=0;c<s;c++){var f=o[c];l[c]||(l[c]=hg()),GV(i,c,f.type,r,n)}if(a.fillStorage)a.fillStorage(e,r,i,l);else for(var d=[],v=e;v<r;v++){d=a.getItem(v,d);for(var g=0;g<s;g++){var y=i[g],b=this._dimValueGetter(d,u[g],v,g);y[v]=b;var S=l[g];b<S[0]&&(S[0]=b),b>S[1]&&(S[1]=b)}}!a.persistent&&a.clean&&a.clean(),this._rawCount=this._count=r,this._extent=[]},t.prototype.count=function(){return this._count},t.prototype.get=function(e,r){if(!(r>=0&&r<this._count))return NaN;var n=this._chunks[e];return n?n[this.getRawIndex(r)]:NaN},t.prototype.getValues=function(e,r){var n=[],a=[];if(r==null){r=e,e=[];for(var i=0;i<this._dimensions.length;i++)a.push(i)}else a=e;for(var i=0,o=a.length;i<o;i++)n.push(this.get(a[i],r));return n},t.prototype.getByRawIndex=function(e,r){if(!(r>=0&&r<this._rawCount))return NaN;var n=this._chunks[e];return n?n[r]:NaN},t.prototype.getSum=function(e){var r=this._chunks[e],n=0;if(r)for(var a=0,i=this.count();a<i;a++){var o=this.get(e,a);isNaN(o)||(n+=o)}return n},t.prototype.getMedian=function(e){var r=[];this.each([e],function(i){isNaN(i)||r.push(i)});var n=r.sort(function(i,o){return i-o}),a=this.count();return a===0?0:a%2===1?n[(a-1)/2]:(n[a/2]+n[a/2-1])/2},t.prototype.indexOfRawIndex=function(e){if(e>=this._rawCount||e<0)return-1;if(!this._indices)return e;var r=this._indices,n=r[e];if(n!=null&&n<this._count&&n===e)return e;for(var a=0,i=this._count-1;a<=i;){var o=(a+i)/2|0;if(r[o]<e)a=o+1;else if(r[o]>e)i=o-1;else return o}return-1},t.prototype.getIndices=function(){var e,r=this._indices;if(r){var n=r.constructor,a=this._count;if(n===Array){e=new n(a);for(var i=0;i<a;i++)e[i]=r[i]}else e=new n(r.buffer,0,a)}else{var n=fg(this._rawCount);e=new n(this.count());for(var i=0;i<e.length;i++)e[i]=i}return e},t.prototype.filter=function(e,r){if(!this._count)return this;for(var n=this.clone(),a=n.count(),i=fg(n._rawCount),o=new i(a),s=[],l=e.length,u=0,c=e[0],f=n._chunks,d=0;d<a;d++){var v=void 0,g=n.getRawIndex(d);if(l===0)v=r(d);else if(l===1){var y=f[c][g];v=r(y,d)}else{for(var b=0;b<l;b++)s[b]=f[e[b]][g];s[b]=d,v=r.apply(null,s)}v&&(o[u++]=g)}return u<a&&(n._indices=o),n._count=u,n._extent=[],n._updateGetRawIdx(),n},t.prototype.selectRange=function(e){var r=this.clone(),n=r._count;if(!n)return this;var a=sr(e),i=a.length;if(!i)return this;var o=r.count(),s=fg(r._rawCount),l=new s(o),u=0,c=a[0],f=e[c][0],d=e[c][1],v=r._chunks,g=!1;if(!r._indices){var y=0;if(i===1){for(var b=v[a[0]],S=0;S<n;S++){var w=b[S];(w>=f&&w<=d||isNaN(w))&&(l[u++]=y),y++}g=!0}else if(i===2){for(var b=v[a[0]],M=v[a[1]],A=e[a[1]][0],D=e[a[1]][1],S=0;S<n;S++){var w=b[S],R=M[S];(w>=f&&w<=d||isNaN(w))&&(R>=A&&R<=D||isNaN(R))&&(l[u++]=y),y++}g=!0}}if(!g)if(i===1)for(var S=0;S<o;S++){var N=r.getRawIndex(S),w=v[a[0]][N];(w>=f&&w<=d||isNaN(w))&&(l[u++]=N)}else for(var S=0;S<o;S++){for(var I=!0,N=r.getRawIndex(S),z=0;z<i;z++){var B=a[z],w=v[B][N];(w<e[B][0]||w>e[B][1])&&(I=!1)}I&&(l[u++]=r.getRawIndex(S))}return u<o&&(r._indices=l),r._count=u,r._extent=[],r._updateGetRawIdx(),r},t.prototype.map=function(e,r){var n=this.clone(e);return this._updateDims(n,e,r),n},t.prototype.modify=function(e,r){this._updateDims(this,e,r)},t.prototype._updateDims=function(e,r,n){for(var a=e._chunks,i=[],o=r.length,s=e.count(),l=[],u=e._rawExtent,c=0;c<r.length;c++)u[r[c]]=hg();for(var f=0;f<s;f++){for(var d=e.getRawIndex(f),v=0;v<o;v++)l[v]=a[r[v]][d];l[o]=f;var g=n&&n.apply(null,l);if(g!=null){typeof g!="object"&&(i[0]=g,g=i);for(var c=0;c<g.length;c++){var y=r[c],b=g[c],S=u[y],w=a[y];w&&(w[d]=b),b<S[0]&&(S[0]=b),b>S[1]&&(S[1]=b)}}}},t.prototype.lttbDownSample=function(e,r){var n=this.clone([e],!0),a=n._chunks,i=a[e],o=this.count(),s=0,l=Math.floor(1/r),u=this.getRawIndex(0),c,f,d,v=new(fg(this._rawCount))(Math.min((Math.ceil(o/l)+2)*2,o));v[s++]=u;for(var g=1;g<o-1;g+=l){for(var y=Math.min(g+l,o-1),b=Math.min(g+l*2,o),S=(b+y)/2,w=0,M=y;M<b;M++){var A=this.getRawIndex(M),D=i[A];isNaN(D)||(w+=D)}w/=b-y;var R=g,N=Math.min(g+l,o),I=g-1,z=i[u];c=-1,d=R;for(var B=-1,V=0,M=R;M<N;M++){var A=this.getRawIndex(M),D=i[A];if(isNaN(D)){V++,B<0&&(B=A);continue}f=Math.abs((I-S)*(D-z)-(I-M)*(w-z)),f>c&&(c=f,d=A)}V>0&&V<N-R&&(v[s++]=Math.min(B,d),d=Math.max(B,d)),v[s++]=d,u=d}return v[s++]=this.getRawIndex(o-1),n._count=s,n._indices=v,n.getRawIndex=this._getRawIdx,n},t.prototype.minmaxDownSample=function(e,r){for(var n=this.clone([e],!0),a=n._chunks,i=Math.floor(1/r),o=a[e],s=this.count(),l=new(fg(this._rawCount))(Math.ceil(s/i)*2),u=0,c=0;c<s;c+=i){var f=c,d=o[this.getRawIndex(f)],v=c,g=o[this.getRawIndex(v)],y=i;c+i>s&&(y=s-c);for(var b=0;b<y;b++){var S=this.getRawIndex(c+b),w=o[S];w<d&&(d=w,f=c+b),w>g&&(g=w,v=c+b)}var M=this.getRawIndex(f),A=this.getRawIndex(v);f<v?(l[u++]=M,l[u++]=A):(l[u++]=A,l[u++]=M)}return n._count=u,n._indices=l,n._updateGetRawIdx(),n},t.prototype.downSample=function(e,r,n,a){for(var i=this.clone([e],!0),o=i._chunks,s=[],l=Math.floor(1/r),u=o[e],c=this.count(),f=i._rawExtent[e]=hg(),d=new(fg(this._rawCount))(Math.ceil(c/l)),v=0,g=0;g<c;g+=l){l>c-g&&(l=c-g,s.length=l);for(var y=0;y<l;y++){var b=this.getRawIndex(g+y);s[y]=u[b]}var S=n(s),w=this.getRawIndex(Math.min(g+a(s,S)||0,c-1));u[w]=S,S<f[0]&&(f[0]=S),S>f[1]&&(f[1]=S),d[v++]=w}return i._count=v,i._indices=d,i._updateGetRawIdx(),i},t.prototype.each=function(e,r){if(this._count)for(var n=e.length,a=this._chunks,i=0,o=this.count();i<o;i++){var s=this.getRawIndex(i);switch(n){case 0:r(i);break;case 1:r(a[e[0]][s],i);break;case 2:r(a[e[0]][s],a[e[1]][s],i);break;default:for(var l=0,u=[];l<n;l++)u[l]=a[e[l]][s];u[l]=i,r.apply(null,u)}}},t.prototype.getDataExtent=function(e){var r=this._chunks[e],n=hg();if(!r)return n;var a=this.count(),i=!this._indices,o;if(i)return this._rawExtent[e].slice();if(o=this._extent[e],o)return o.slice();o=n;for(var s=o[0],l=o[1],u=0;u<a;u++){var c=this.getRawIndex(u),f=r[c];f<s&&(s=f),f>l&&(l=f)}return o=[s,l],this._extent[e]=o,o},t.prototype.getRawDataItem=function(e){var r=this.getRawIndex(e);if(this._provider.persistent)return this._provider.getItem(r);for(var n=[],a=this._chunks,i=0;i<a.length;i++)n.push(a[i][r]);return n},t.prototype.clone=function(e,r){var n=new t,a=this._chunks,i=e&&gc(e,function(s,l){return s[l]=!0,s},{});if(i)for(var o=0;o<a.length;o++)n._chunks[o]=i[o]?J1e(a[o]):a[o];else n._chunks=a;return this._copyCommonProps(n),r||(n._indices=this._cloneIndices()),n._updateGetRawIdx(),n},t.prototype._copyCommonProps=function(e){e._count=this._count,e._rawCount=this._rawCount,e._provider=this._provider,e._dimensions=this._dimensions,e._extent=ut(this._extent),e._rawExtent=ut(this._rawExtent)},t.prototype._cloneIndices=function(){if(this._indices){var e=this._indices.constructor,r=void 0;if(e===Array){var n=this._indices.length;r=new e(n);for(var a=0;a<n;a++)r[a]=this._indices[a]}else r=new e(this._indices);return r}return null},t.prototype._getRawIdxIdentity=function(e){return e},t.prototype._getRawIdx=function(e){return e<this._count&&e>=0?this._indices[e]:-1},t.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},t.internalField=(function(){function e(r,n,a,i){return Wh(r[i],this._dimensions[i])}nD={arrayRows:e,objectRows:function(r,n,a,i){return Wh(r[n],this._dimensions[i])},keyedColumns:e,original:function(r,n,a,i){var o=r&&(r.value==null?r:r.value);return Wh(o instanceof Array?o[i]:o,this._dimensions[i])},typedArray:function(r,n,a,i){return r[i]}}})(),t})(),RX=(function(){function t(e){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=e}return t.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},t.prototype._setLocalSource=function(e,r){this._sourceList=e,this._upstreamSignList=r,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},t.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},t.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},t.prototype._createSource=function(){this._setLocalSource([],[]);var e=this._sourceHost,r=this._getUpstreamSourceManagers(),n=!!r.length,a,i;if(p1(e)){var o=e,s=void 0,l=void 0,u=void 0;if(n){var c=r[0];c.prepareSource(),u=c.getSource(),s=u.data,l=u.sourceFormat,i=[c._getVersionSign()]}else s=o.get("data",!0),l=is(s)?Uh:Hs,i=[];var f=this._getSourceMetaRawOption()||{},d=u&&u.metaRawOption||{},v=et(f.seriesLayoutBy,d.seriesLayoutBy)||null,g=et(f.sourceHeader,d.sourceHeader),y=et(f.dimensions,d.dimensions),b=v!==d.seriesLayoutBy||!!g!=!!d.sourceHeader||y;a=b?[yN(s,{seriesLayoutBy:v,sourceHeader:g,dimensions:y},l)]:[]}else{var S=e;if(n){var w=this._applyTransform(r);a=w.sourceList,i=w.upstreamSignList}else{var M=S.get("source",!0);a=[yN(M,this._getSourceMetaRawOption(),null)],i=[]}}this._setLocalSource(a,i)},t.prototype._applyTransform=function(e){var r=this._sourceHost,n=r.get("transform",!0),a=r.get("fromTransformResult",!0);if(a!=null){var i="";e.length!==1&&WV(i)}var o,s=[],l=[];return Y(e,function(u){u.prepareSource();var c=u.getSource(a||0),f="";a!=null&&!c&&WV(f),s.push(c),l.push(u._getVersionSign())}),n?o=$1e(n,s,{datasetIndex:r.componentIndex}):a!=null&&(o=[E1e(s[0])]),{sourceList:o,upstreamSignList:l}},t.prototype._isDirty=function(){if(this._dirty)return!0;for(var e=this._getUpstreamSourceManagers(),r=0;r<e.length;r++){var n=e[r];if(n._isDirty()||this._upstreamSignList[r]!==n._getVersionSign())return!0}},t.prototype.getSource=function(e){e=e||0;var r=this._sourceList[e];if(!r){var n=this._getUpstreamSourceManagers();return n[0]&&n[0].getSource(e)}return r},t.prototype.getSharedDataStore=function(e){var r=e.makeStoreSchema();return this._innerGetDataStore(r.dimensions,e.source,r.hash)},t.prototype._innerGetDataStore=function(e,r,n){var a=0,i=this._storeList,o=i[a];o||(o=i[a]={});var s=o[n];if(!s){var l=this._getUpstreamSourceManagers()[0];p1(this._sourceHost)&&l?s=l._innerGetDataStore(e,r,n):(s=new xN,s.initData(new SX(r,e.length),e)),o[n]=s}return s},t.prototype._getUpstreamSourceManagers=function(){var e=this._sourceHost;if(p1(e)){var r=Uk(e);return r?[r.getSourceManager()]:[]}else return Re(i1e(e),function(n){return n.getSourceManager()})},t.prototype._getSourceMetaRawOption=function(){var e=this._sourceHost,r,n,a;if(p1(e))r=e.get("seriesLayoutBy",!0),n=e.get("sourceHeader",!0),a=e.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var i=e;r=i.get("seriesLayoutBy",!0),n=i.get("sourceHeader",!0),a=i.get("dimensions",!0)}return{seriesLayoutBy:r,sourceHeader:n,dimensions:a}},t})();function UV(t){var e=t.option.transform;e&&tw(t.option.transform)}function p1(t){return t.mainType==="series"}function WV(t){throw new Error(t)}var eSe="line-height:1";function PX(t){var e=t.lineHeight;return e==null?eSe:"line-height:"+Ao(e+"")+"px"}function kX(t,e){var r=t.color||ve.color.tertiary,n=t.fontSize||12,a=t.fontWeight||"400",i=t.color||ve.color.secondary,o=t.fontSize||14,s=t.fontWeight||"900";return e==="html"?{nameStyle:"font-size:"+Ao(n+"")+"px;color:"+Ao(r)+";font-weight:"+Ao(a+""),valueStyle:"font-size:"+Ao(o+"")+"px;color:"+Ao(i)+";font-weight:"+Ao(s+"")}:{nameStyle:{fontSize:n,fill:r,fontWeight:a},valueStyle:{fontSize:o,fill:i,fontWeight:s}}}var tSe=[0,10,20,30],rSe=["",`
`,`

`,`


`];function Ia(t,e){return e.type=t,e}function _N(t){return t.type==="section"}function IX(t){return _N(t)?nSe:aSe}function OX(t){if(_N(t)){var e=0,r=t.blocks.length,n=r>1||r>0&&!t.noHeader;return Y(t.blocks,function(a){var i=OX(a);i>=e&&(e=i+ +(n&&(!i||_N(a)&&!a.noHeader)))}),e}return 0}function nSe(t,e,r,n){var a=e.noHeader,i=iSe(OX(e)),o=[],s=e.blocks||[];co(!s||Ee(s)),s=s||[];var l=t.orderMode;if(e.sortBlocks&&l){s=s.slice();var u={valueAsc:"asc",valueDesc:"desc"};if(Xe(u,l)){var c=new DX(u[l],null);s.sort(function(y,b){return c.evaluate(y.sortParam,b.sortParam)})}else l==="seriesDesc"&&s.reverse()}Y(s,function(y,b){var S=e.valueFormatter,w=IX(y)(S?Ae(Ae({},t),{valueFormatter:S}):t,y,b>0?i.html:0,n);w!=null&&o.push(w)});var f=t.renderMode==="richText"?o.join(i.richText):bN(n,o.join(""),a?r:i.html);if(a)return f;var d=vN(e.header,"ordinal",t.useUTC),v=kX(n,t.renderMode).nameStyle,g=PX(n);return t.renderMode==="richText"?jX(t,d,v)+i.richText+f:bN(n,'<div style="'+v+";"+g+';">'+Ao(d)+"</div>"+f,r)}function aSe(t,e,r,n){var a=t.renderMode,i=e.noName,o=e.noValue,s=!e.markerType,l=e.name,u=t.useUTC,c=e.valueFormatter||t.valueFormatter||function(A){return A=Ee(A)?A:[A],Re(A,function(D,R){return vN(D,Ee(v)?v[R]:v,u)})};if(!(i&&o)){var f=s?"":t.markupStyleCreator.makeTooltipMarker(e.markerType,e.markerColor||ve.color.secondary,a),d=i?"":vN(l,"ordinal",u),v=e.valueType,g=o?[]:c(e.value,e.dataIndex),y=!s||!i,b=!s&&i,S=kX(n,a),w=S.nameStyle,M=S.valueStyle;return a==="richText"?(s?"":f)+(i?"":jX(t,d,w))+(o?"":lSe(t,g,y,b,M)):bN(n,(s?"":f)+(i?"":oSe(d,!s,w))+(o?"":sSe(g,y,b,M)),r)}}function YV(t,e,r,n,a,i){if(t){var o=IX(t),s={useUTC:a,renderMode:r,orderMode:n,markupStyleCreator:e,valueFormatter:t.valueFormatter};return o(s,t,0,i)}}function iSe(t){return{html:tSe[t],richText:rSe[t]}}function bN(t,e,r){var n='<div style="clear:both"></div>',a="margin: "+r+"px 0 0",i=PX(t);return'<div style="'+a+";"+i+';">'+e+n+"</div>"}function oSe(t,e,r){var n=e?"margin-left:2px":"";return'<span style="'+r+";"+n+'">'+Ao(t)+"</span>"}function sSe(t,e,r,n){var a=r?"10px":"20px",i=e?"float:right;margin-left:"+a:"";return t=Ee(t)?t:[t],'<span style="'+i+";"+n+'">'+Re(t,function(o){return Ao(o)}).join("&nbsp;&nbsp;")+"</span>"}function jX(t,e,r){return t.markupStyleCreator.wrapRichTextStyle(e,r)}function lSe(t,e,r,n,a){var i=[a],o=n?10:20;return r&&i.push({padding:[0,0,0,o],align:"right"}),t.markupStyleCreator.wrapRichTextStyle(Ee(e)?e.join("  "):e,i)}function zX(t,e){var r=t.getData().getItemVisual(e,"style"),n=r[t.visualDrawType];return rp(n)}function BX(t,e){var r=t.get("padding");return r??(e==="richText"?[8,10]:10)}var aD=(function(){function t(){this.richTextStyles={},this._nextStyleNameId=Uq()}return t.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},t.prototype.makeTooltipMarker=function(e,r,n){var a=n==="richText"?this._generateStyleName():null,i=qbe({color:r,type:e,renderMode:n,markerId:a});return We(i)?i:(this.richTextStyles[a]=i.style,i.content)},t.prototype.wrapRichTextStyle=function(e,r){var n={};Ee(r)?Y(r,function(i){return Ae(n,i)}):Ae(n,r);var a=this._generateStyleName();return this.richTextStyles[a]=n,"{"+a+"|"+e+"}"},t})();function VX(t){var e=t.series,r=t.dataIndex,n=t.multipleSeries,a=e.getData(),i=a.mapDimensionsAll("defaultedTooltip"),o=i.length,s=e.getRawValue(r),l=Ee(s),u=zX(e,r),c,f,d,v;if(o>1||l&&!o){var g=uSe(s,e,r,i,u);c=g.inlineValues,f=g.inlineValueTypes,d=g.blocks,v=g.inlineValues[0]}else if(o){var y=a.getDimensionInfo(i[0]);v=c=vm(a,r,i[0]),f=y.type}else v=c=l?s[0]:s;var b=gk(e),S=b&&e.name||"",w=a.getName(r),M=n?S:w;return Ia("section",{header:S,noHeader:n||!b,sortParam:v,blocks:[Ia("nameValue",{markerType:"item",markerColor:u,name:M,noName:!ml(M),value:c,valueType:f,dataIndex:r})].concat(d||[])})}function uSe(t,e,r,n,a){var i=e.getData(),o=gc(t,function(f,d,v){var g=i.getDimensionInfo(v);return f=f||g&&g.tooltip!==!1&&g.displayName!=null},!1),s=[],l=[],u=[];n.length?Y(n,function(f){c(vm(i,r,f),f)}):Y(t,c);function c(f,d){var v=i.getDimensionInfo(d);!v||v.otherDims.tooltip===!1||(o?u.push(Ia("nameValue",{markerType:"subItem",markerColor:a,name:v.displayName,value:f,valueType:v.type})):(s.push(f),l.push(v.type)))}return{inlineValues:s,inlineValueTypes:l,blocks:u}}var hh=Xt();function g1(t,e){return t.getName(e)||t.getId(e)}var ES="__universalTransitionEnabled",Sn=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r._selectedDataIndicesMap={},r}return e.prototype.init=function(r,n,a){this.seriesIndex=this.componentIndex,this.dataTask=ix({count:fSe,reset:hSe}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(r,a);var i=hh(this).sourceManager=new RX(this);i.prepareSource();var o=this.getInitialData(r,a);qV(o,this),this.dataTask.context.data=o,hh(this).dataBeforeProcessed=o,ZV(this),this._initSelectedMapFromData(o)},e.prototype.mergeDefaultAndTheme=function(r,n){var a=Ex(this),i=a?vp(r):{},o=this.subType;er.hasClass(o)&&(o+="Series"),Gt(r,n.getTheme().get(this.subType)),Gt(r,this.getDefaultOption()),Xv(r,"label",["show"]),this.fillDataTextStyle(r.data),a&&_c(r,i,a)},e.prototype.mergeOption=function(r,n){r=Gt(this.option,r,!0),this.fillDataTextStyle(r.data);var a=Ex(this);a&&_c(this.option,r,a);var i=hh(this).sourceManager;i.dirty(),i.prepareSource();var o=this.getInitialData(r,n);qV(o,this),this.dataTask.dirty(),this.dataTask.context.data=o,hh(this).dataBeforeProcessed=o,ZV(this),this._initSelectedMapFromData(o)},e.prototype.fillDataTextStyle=function(r){if(r&&!is(r))for(var n=["show"],a=0;a<r.length;a++)r[a]&&r[a].label&&Xv(r[a],"label",n)},e.prototype.getInitialData=function(r,n){},e.prototype.appendData=function(r){var n=this.getRawData();n.appendData(r.data)},e.prototype.getData=function(r){var n=SN(this);if(n){var a=n.context.data;return r==null||!a.getLinkedData?a:a.getLinkedData(r)}else return hh(this).data},e.prototype.getAllData=function(){var r=this.getData();return r&&r.getLinkedDataAll?r.getLinkedDataAll():[{data:r}]},e.prototype.setData=function(r){var n=SN(this);if(n){var a=n.context;a.outputData=r,n!==this.dataTask&&(a.data=r)}hh(this).data=r},e.prototype.getEncode=function(){var r=this.get("encode",!0);if(r)return Qe(r)},e.prototype.getSourceManager=function(){return hh(this).sourceManager},e.prototype.getSource=function(){return this.getSourceManager().getSource()},e.prototype.getRawData=function(){return hh(this).dataBeforeProcessed},e.prototype.getColorBy=function(){var r=this.get("colorBy");return r||"series"},e.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},e.prototype.getBaseAxis=function(){var r=this.coordinateSystem;return r&&r.getBaseAxis&&r.getBaseAxis()},e.prototype.indicesOfNearest=function(r,n,a,i){var o=this.getData(),s=this.coordinateSystem,l=s&&s.getAxis(r);if(!s||!l)return[];var u=l.dataToCoord(a);i==null&&(i=1/0);var c=[],f=1/0,d=-1,v=0;return o.each(n,function(g,y){var b=l.dataToCoord(g),S=u-b,w=Math.abs(S);w<=i&&((w<f||w===f&&S>=0&&d<0)&&(f=w,d=S,v=0),S===d&&(c[v++]=y))}),c.length=v,c},e.prototype.formatTooltip=function(r,n,a){return VX({series:this,dataIndex:r,multipleSeries:n})},e.prototype.isAnimationEnabled=function(){var r=this.ecModel;if(nr.node&&!(r&&r.ssr))return!1;var n=this.getShallow("animation");return n&&this.getData().count()>this.getShallow("animationThreshold")&&(n=!1),!!n},e.prototype.restoreData=function(){this.dataTask.dirty()},e.prototype.getColorFromPalette=function(r,n,a){var i=this.ecModel,o=Wk.prototype.getColorFromPalette.call(this,r,n,a);return o||(o=i.getColorFromPalette(r,n,a)),o},e.prototype.coordDimToDataDim=function(r){return this.getRawData().mapDimensionsAll(r)},e.prototype.getProgressive=function(){return this.get("progressive")},e.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},e.prototype.select=function(r,n){this._innerSelect(this.getData(n),r)},e.prototype.unselect=function(r,n){var a=this.option.selectedMap;if(a){var i=this.option.selectedMode,o=this.getData(n);if(i==="series"||a==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var s=0;s<r.length;s++){var l=r[s],u=g1(o,l);a[u]=!1,this._selectedDataIndicesMap[u]=-1}}},e.prototype.toggleSelect=function(r,n){for(var a=[],i=0;i<r.length;i++)a[0]=r[i],this.isSelected(r[i],n)?this.unselect(a,n):this.select(a,n)},e.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var r=this._selectedDataIndicesMap,n=sr(r),a=[],i=0;i<n.length;i++){var o=r[n[i]];o>=0&&a.push(o)}return a},e.prototype.isSelected=function(r,n){var a=this.option.selectedMap;if(!a)return!1;var i=this.getData(n);return(a==="all"||a[g1(i,r)])&&!i.getItemModel(r).get(["select","disabled"])},e.prototype.isUniversalTransitionEnabled=function(){if(this[ES])return!0;var r=this.option.universalTransition;return r?r===!0?!0:r&&r.enabled:!1},e.prototype._innerSelect=function(r,n){var a,i,o=this.option,s=o.selectedMode,l=n.length;if(!(!s||!l)){if(s==="series")o.selectedMap="all";else if(s==="multiple"){mt(o.selectedMap)||(o.selectedMap={});for(var u=o.selectedMap,c=0;c<l;c++){var f=n[c],d=g1(r,f);u[d]=!0,this._selectedDataIndicesMap[d]=r.getRawIndex(f)}}else if(s==="single"||s===!0){var v=n[l-1],d=g1(r,v);o.selectedMap=(a={},a[d]=!0,a),this._selectedDataIndicesMap=(i={},i[d]=r.getRawIndex(v),i)}}},e.prototype._initSelectedMapFromData=function(r){if(!this.option.selectedMap){var n=[];r.hasItemOption&&r.each(function(a){var i=r.getRawDataItem(a);i&&i.selected&&n.push(a)}),n.length>0&&this._innerSelect(r,n)}},e.registerClass=function(r){return er.registerClass(r)},e.protoInitialize=(function(){var r=e.prototype;r.type="series.__base__",r.seriesIndex=0,r.ignoreStyleOnData=!1,r.hasSymbolVisual=!1,r.defaultSymbol="circle",r.visualStyleAccessPath="itemStyle",r.visualDrawType="fill"})(),e})(er);ja(Sn,CC);ja(Sn,Wk);e$(Sn,er);function ZV(t){var e=t.name;gk(t)||(t.name=cSe(t)||e)}function cSe(t){var e=t.getRawData(),r=e.mapDimensionsAll("seriesName"),n=[];return Y(r,function(a){var i=e.getDimensionInfo(a);i.displayName&&n.push(i.displayName)}),n.join(" ")}function fSe(t){return t.model.getRawData().count()}function hSe(t){var e=t.model;return e.setData(e.getRawData().cloneShallow()),dSe}function dSe(t,e){e.outputData&&t.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function qV(t,e){Y(xx(t.CHANGABLE_METHODS,t.DOWNSAMPLE_METHODS),function(r){t.wrapMethod(r,zt(vSe,e))})}function vSe(t,e){var r=SN(t);return r&&r.setOutputEnd((e||this).count()),e}function SN(t){var e=(t.ecModel||{}).scheduler,r=e&&e.getPipeline(t.uid);if(r){var n=r.currentTask;if(n){var a=n.agentStubMap;a&&(n=a.get(t.uid))}return n}}var Vn=(function(){function t(){this.group=new st,this.uid=Wm("viewComponent")}return t.prototype.init=function(e,r){},t.prototype.render=function(e,r,n,a){},t.prototype.dispose=function(e,r){},t.prototype.updateView=function(e,r,n,a){},t.prototype.updateLayout=function(e,r,n,a){},t.prototype.updateVisual=function(e,r,n,a){},t.prototype.toggleBlurSeries=function(e,r,n){},t.prototype.eachRendered=function(e){var r=this.group;r&&r.traverse(e)},t})();yk(Vn);lC(Vn);function Ym(){var t=Xt();return function(e){var r=t(e),n=e.pipelineContext,a=!!r.large,i=!!r.progressiveRender,o=r.large=!!(n&&n.large),s=r.progressiveRender=!!(n&&n.progressiveRender);return(a!==o||i!==s)&&"reset"}}var FX=Xt(),pSe=Ym(),cn=(function(){function t(){this.group=new st,this.uid=Wm("viewChart"),this.renderTask=ix({plan:gSe,reset:mSe}),this.renderTask.context={view:this}}return t.prototype.init=function(e,r){},t.prototype.render=function(e,r,n,a){},t.prototype.highlight=function(e,r,n,a){var i=e.getData(a&&a.dataType);i&&XV(i,a,"emphasis")},t.prototype.downplay=function(e,r,n,a){var i=e.getData(a&&a.dataType);i&&XV(i,a,"normal")},t.prototype.remove=function(e,r){this.group.removeAll()},t.prototype.dispose=function(e,r){},t.prototype.updateView=function(e,r,n,a){this.render(e,r,n,a)},t.prototype.updateLayout=function(e,r,n,a){this.render(e,r,n,a)},t.prototype.updateVisual=function(e,r,n,a){this.render(e,r,n,a)},t.prototype.eachRendered=function(e){cd(this.group,e)},t.markUpdateMethod=function(e,r){FX(e).updateMethod=r},t.protoInitialize=(function(){var e=t.prototype;e.type="chart"})(),t})();function $V(t,e,r){t&&Ax(t)&&(e==="emphasis"?_f:bf)(t,r)}function XV(t,e,r){var n=Kv(t,e),a=e&&e.highlightKey!=null?F_e(e.highlightKey):null;n!=null?Y(gn(n),function(i){$V(t.getItemGraphicEl(i),r,a)}):t.eachItemGraphicEl(function(i){$V(i,r,a)})}yk(cn);lC(cn);function gSe(t){return pSe(t.model)}function mSe(t){var e=t.model,r=t.ecModel,n=t.api,a=t.payload,i=e.pipelineContext.progressiveRender,o=t.view,s=a&&FX(a).updateMethod,l=i?"incrementalPrepareRender":s&&o[s]?s:"render";return l!=="render"&&o[l](e,r,n,a),ySe[l]}var ySe={incrementalPrepareRender:{progress:function(t,e){e.view.incrementalRender(t,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(t,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}},bw="\0__throttleOriginMethod",KV="\0__throttleRate",QV="\0__throttleType";function Kk(t,e,r){var n,a=0,i=0,o=null,s,l,u,c;e=e||0;function f(){i=new Date().getTime(),o=null,t.apply(l,u||[])}var d=function(){for(var v=[],g=0;g<arguments.length;g++)v[g]=arguments[g];n=new Date().getTime(),l=this,u=v;var y=c||e,b=c||r;c=null,s=n-(b?a:i)-y,clearTimeout(o),b?o=setTimeout(f,y):s>=0?f():o=setTimeout(f,-s),a=n};return d.clear=function(){o&&(clearTimeout(o),o=null)},d.debounceNextCall=function(v){c=v},d}function Zm(t,e,r,n){var a=t[e];if(a){var i=a[bw]||a,o=a[QV],s=a[KV];if(s!==r||o!==n){if(r==null||!n)return t[e]=i;a=t[e]=Kk(i,r,n==="debounce"),a[bw]=i,a[QV]=n,a[KV]=r}return a}}function Rx(t,e){var r=t[e];r&&r[bw]&&(r.clear&&r.clear(),t[e]=r[bw])}var JV=Xt(),eF={itemStyle:Qv(F$,!0),lineStyle:Qv(V$,!0)},xSe={lineStyle:"stroke",itemStyle:"fill"};function HX(t,e){var r=t.visualStyleMapper||eF[e];return r||(console.warn("Unknown style type '"+e+"'."),eF.itemStyle)}function GX(t,e){var r=t.visualDrawType||xSe[e];return r||(console.warn("Unknown style type '"+e+"'."),"fill")}var _Se={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var r=t.getData(),n=t.visualStyleAccessPath||"itemStyle",a=t.getModel(n),i=HX(t,n),o=i(a),s=a.getShallow("decal");s&&(r.setVisual("decal",s),s.dirty=!0);var l=GX(t,n),u=o[l],c=ot(u)?u:null,f=o.fill==="auto"||o.stroke==="auto";if(!o[l]||c||f){var d=t.getColorFromPalette(t.name,null,e.getSeriesCount());o[l]||(o[l]=d,r.setVisual("colorFromPalette",!0)),o.fill=o.fill==="auto"||ot(o.fill)?d:o.fill,o.stroke=o.stroke==="auto"||ot(o.stroke)?d:o.stroke}if(r.setVisual("style",o),r.setVisual("drawType",l),!e.isSeriesFiltered(t)&&c)return r.setVisual("colorFromPalette",!1),{dataEach:function(v,g){var y=t.getDataParams(g),b=Ae({},o);b[l]=c(y),v.setItemVisual(g,"style",b)}}}},Jy=new ar,bSe={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){if(!(t.ignoreStyleOnData||e.isSeriesFiltered(t))){var r=t.getData(),n=t.visualStyleAccessPath||"itemStyle",a=HX(t,n),i=r.getVisual("drawType");return{dataEach:r.hasItemOption?function(o,s){var l=o.getRawDataItem(s);if(l&&l[n]){Jy.option=l[n];var u=a(Jy),c=o.ensureUniqueItemVisual(s,"style");Ae(c,u),Jy.option.decal&&(o.setItemVisual(s,"decal",Jy.option.decal),Jy.option.decal.dirty=!0),i in u&&o.setItemVisual(s,"colorFromPalette",!1)}}:null}}}},SSe={performRawSeries:!0,overallReset:function(t){var e=Qe();t.eachSeries(function(r){var n=r.getColorBy();if(!r.isColorBySeries()){var a=r.type+"-"+n,i=e.get(a);i||(i={},e.set(a,i)),JV(r).scope=i}}),t.eachSeries(function(r){if(!(r.isColorBySeries()||t.isSeriesFiltered(r))){var n=r.getRawData(),a={},i=r.getData(),o=JV(r).scope,s=r.visualStyleAccessPath||"itemStyle",l=GX(r,s);i.each(function(u){var c=i.getRawIndex(u);a[c]=u}),n.each(function(u){var c=a[u],f=i.getItemVisual(c,"colorFromPalette");if(f){var d=i.ensureUniqueItemVisual(c,"style"),v=n.getName(u)||u+"",g=n.count();d[l]=r.getColorFromPalette(v,o,g)}})}})}},m1=Math.PI;function wSe(t,e){e=e||{},gt(e,{text:"loading",textColor:ve.color.primary,fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255,255,255,0.8)",showSpinner:!0,color:ve.color.theme[0],spinnerRadius:10,lineWidth:5,zlevel:0});var r=new st,n=new $t({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4});r.add(n);var a=new xr({style:{text:e.text,fill:e.textColor,fontSize:e.fontSize,fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontFamily:e.fontFamily},zlevel:e.zlevel,z:10001}),i=new $t({style:{fill:"none"},textContent:a,textConfig:{position:"right",distance:10},zlevel:e.zlevel,z:10001});r.add(i);var o;return e.showSpinner&&(o=new mC({shape:{startAngle:-m1/2,endAngle:-m1/2+.1,r:e.spinnerRadius},style:{stroke:e.color,lineCap:"round",lineWidth:e.lineWidth},zlevel:e.zlevel,z:10001}),o.animateShape(!0).when(1e3,{endAngle:m1*3/2}).start("circularInOut"),o.animateShape(!0).when(1e3,{startAngle:m1*3/2}).delay(300).start("circularInOut"),r.add(o)),r.resize=function(){var s=a.getBoundingRect().width,l=e.showSpinner?e.spinnerRadius:0,u=(t.getWidth()-l*2-(e.showSpinner&&s?10:0)-s)/2-(e.showSpinner&&s?0:5+s/2)+(e.showSpinner?0:s/2)+(s?0:l),c=t.getHeight()/2;e.showSpinner&&o.setShape({cx:u,cy:c}),i.setShape({x:u-l,y:c-l,width:l*2,height:l*2}),n.setShape({x:0,y:0,width:t.getWidth(),height:t.getHeight()})},r.resize(),r}var UX=(function(){function t(e,r,n,a){this._stageTaskMap=Qe(),this.ecInstance=e,this.api=r,n=this._dataProcessorHandlers=n.slice(),a=this._visualHandlers=a.slice(),this._allHandlers=n.concat(a)}return t.prototype.restoreData=function(e,r){e.restoreData(r),this._stageTaskMap.each(function(n){var a=n.overallTask;a&&a.dirty()})},t.prototype.getPerformArgs=function(e,r){if(e.__pipeline){var n=this._pipelineMap.get(e.__pipeline.id),a=n.context,i=!r&&n.progressiveEnabled&&(!a||a.progressiveRender)&&e.__idxInPipeline>n.blockIndex,o=i?n.step:null,s=a&&a.modDataCount,l=s!=null?Math.ceil(s/o):null;return{step:o,modBy:l,modDataCount:s}}},t.prototype.getPipeline=function(e){return this._pipelineMap.get(e)},t.prototype.updateStreamModes=function(e,r){var n=this._pipelineMap.get(e.uid),a=e.getData(),i=a.count(),o=n.progressiveEnabled&&r.incrementalPrepareRender&&i>=n.threshold,s=e.get("large")&&i>=e.get("largeThreshold"),l=e.get("progressiveChunkMode")==="mod"?i:null;e.pipelineContext=n.context={progressiveRender:o,modDataCount:l,large:s}},t.prototype.restorePipelines=function(e){var r=this,n=r._pipelineMap=Qe();e.eachSeries(function(a){var i=a.getProgressive(),o=a.uid;n.set(o,{id:o,head:null,tail:null,threshold:a.getProgressiveThreshold(),progressiveEnabled:i&&!(a.preventIncremental&&a.preventIncremental()),blockIndex:-1,step:Math.round(i||700),count:0}),r._pipe(a,a.dataTask)})},t.prototype.prepareStageTasks=function(){var e=this._stageTaskMap,r=this.api.getModel(),n=this.api;Y(this._allHandlers,function(a){var i=e.get(a.uid)||e.set(a.uid,{}),o="";co(!(a.reset&&a.overallReset),o),a.reset&&this._createSeriesStageTask(a,i,r,n),a.overallReset&&this._createOverallStageTask(a,i,r,n)},this)},t.prototype.prepareView=function(e,r,n,a){var i=e.renderTask,o=i.context;o.model=r,o.ecModel=n,o.api=a,i.__block=!e.incrementalPrepareRender,this._pipe(r,i)},t.prototype.performDataProcessorTasks=function(e,r){this._performStageTasks(this._dataProcessorHandlers,e,r,{block:!0})},t.prototype.performVisualTasks=function(e,r,n){this._performStageTasks(this._visualHandlers,e,r,n)},t.prototype._performStageTasks=function(e,r,n,a){a=a||{};var i=!1,o=this;Y(e,function(l,u){if(!(a.visualType&&a.visualType!==l.visualType)){var c=o._stageTaskMap.get(l.uid),f=c.seriesTaskMap,d=c.overallTask;if(d){var v,g=d.agentStubMap;g.each(function(b){s(a,b)&&(b.dirty(),v=!0)}),v&&d.dirty(),o.updatePayload(d,n);var y=o.getPerformArgs(d,a.block);g.each(function(b){b.perform(y)}),d.perform(y)&&(i=!0)}else f&&f.each(function(b,S){s(a,b)&&b.dirty();var w=o.getPerformArgs(b,a.block);w.skip=!l.performRawSeries&&r.isSeriesFiltered(b.context.model),o.updatePayload(b,n),b.perform(w)&&(i=!0)})}});function s(l,u){return l.setDirty&&(!l.dirtyMap||l.dirtyMap.get(u.__pipeline.id))}this.unfinished=i||this.unfinished},t.prototype.performSeriesTasks=function(e){var r;e.eachSeries(function(n){r=n.dataTask.perform()||r}),this.unfinished=r||this.unfinished},t.prototype.plan=function(){this._pipelineMap.each(function(e){var r=e.tail;do{if(r.__block){e.blockIndex=r.__idxInPipeline;break}r=r.getUpstream()}while(r)})},t.prototype.updatePayload=function(e,r){r!=="remain"&&(e.context.payload=r)},t.prototype._createSeriesStageTask=function(e,r,n,a){var i=this,o=r.seriesTaskMap,s=r.seriesTaskMap=Qe(),l=e.seriesType,u=e.getTargetSeries;e.createOnAllSeries?n.eachRawSeries(c):l?n.eachRawSeriesByType(l,c):u&&u(n,a).each(c);function c(f){var d=f.uid,v=s.set(d,o&&o.get(d)||ix({plan:DSe,reset:LSe,count:NSe}));v.context={model:f,ecModel:n,api:a,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:i},i._pipe(f,v)}},t.prototype._createOverallStageTask=function(e,r,n,a){var i=this,o=r.overallTask=r.overallTask||ix({reset:TSe});o.context={ecModel:n,api:a,overallReset:e.overallReset,scheduler:i};var s=o.agentStubMap,l=o.agentStubMap=Qe(),u=e.seriesType,c=e.getTargetSeries,f=!0,d=!1,v="";co(!e.createOnAllSeries,v),u?n.eachRawSeriesByType(u,g):c?c(n,a).each(g):(f=!1,Y(n.getSeries(),g));function g(y){var b=y.uid,S=l.set(b,s&&s.get(b)||(d=!0,ix({reset:CSe,onDirty:ASe})));S.context={model:y,overallProgress:f},S.agent=o,S.__block=f,i._pipe(y,S)}d&&o.dirty()},t.prototype._pipe=function(e,r){var n=e.uid,a=this._pipelineMap.get(n);!a.head&&(a.head=r),a.tail&&a.tail.pipe(r),a.tail=r,r.__idxInPipeline=a.count++,r.__pipeline=a},t.wrapStageHandler=function(e,r){return ot(e)&&(e={overallReset:e,seriesType:RSe(e)}),e.uid=Wm("stageHandler"),r&&(e.visualType=r),e},t})();function TSe(t){t.overallReset(t.ecModel,t.api,t.payload)}function CSe(t){return t.overallProgress&&MSe}function MSe(){this.agent.dirty(),this.getDownstream().dirty()}function ASe(){this.agent&&this.agent.dirty()}function DSe(t){return t.plan?t.plan(t.model,t.ecModel,t.api,t.payload):null}function LSe(t){t.useClearVisual&&t.data.clearAllVisual();var e=t.resetDefines=gn(t.reset(t.model,t.ecModel,t.api,t.payload));return e.length>1?Re(e,function(r,n){return WX(n)}):ESe}var ESe=WX(0);function WX(t){return function(e,r){var n=r.data,a=r.resetDefines[t];if(a&&a.dataEach)for(var i=e.start;i<e.end;i++)a.dataEach(n,i);else a&&a.progress&&a.progress(e,n)}}function NSe(t){return t.data.count()}function RSe(t){Sw=null;try{t(Px,YX)}catch{}return Sw}var Px={},YX={},Sw;ZX(Px,Yk);ZX(YX,mX);Px.eachSeriesByType=Px.eachRawSeriesByType=function(t){Sw=t};Px.eachComponent=function(t){t.mainType==="series"&&t.subType&&(Sw=t.subType)};function ZX(t,e){for(var r in e.prototype)t[r]=_a}var ft=ve.darkColor,PSe=ft.background,e0=function(){return{axisLine:{lineStyle:{color:ft.axisLine}},splitLine:{lineStyle:{color:ft.axisSplitLine}},splitArea:{areaStyle:{color:[ft.backgroundTint,ft.backgroundTransparent]}},minorSplitLine:{lineStyle:{color:ft.axisMinorSplitLine}},axisLabel:{color:ft.axisLabel},axisName:{}}},tF={label:{color:ft.secondary},itemStyle:{borderColor:ft.borderTint},dividerLineStyle:{color:ft.border}},qX={darkMode:!0,color:ft.theme,backgroundColor:PSe,axisPointer:{lineStyle:{color:ft.border},crossStyle:{color:ft.borderShade},label:{color:ft.tertiary}},legend:{textStyle:{color:ft.secondary},pageTextStyle:{color:ft.tertiary}},textStyle:{color:ft.secondary},title:{textStyle:{color:ft.primary},subtextStyle:{color:ft.quaternary}},toolbox:{iconStyle:{borderColor:ft.accent50}},tooltip:{backgroundColor:ft.neutral20,defaultBorderColor:ft.border,textStyle:{color:ft.tertiary}},dataZoom:{borderColor:ft.accent10,textStyle:{color:ft.tertiary},brushStyle:{color:ft.backgroundTint},handleStyle:{color:ft.neutral00,borderColor:ft.accent20},moveHandleStyle:{color:ft.accent40},emphasis:{handleStyle:{borderColor:ft.accent50}},dataBackground:{lineStyle:{color:ft.accent30},areaStyle:{color:ft.accent20}},selectedDataBackground:{lineStyle:{color:ft.accent50},areaStyle:{color:ft.accent30}}},visualMap:{textStyle:{color:ft.secondary},handleStyle:{borderColor:ft.neutral30}},timeline:{lineStyle:{color:ft.accent10},label:{color:ft.tertiary},controlStyle:{color:ft.accent30,borderColor:ft.accent30}},calendar:{itemStyle:{color:ft.neutral00,borderColor:ft.neutral20},dayLabel:{color:ft.tertiary},monthLabel:{color:ft.secondary},yearLabel:{color:ft.secondary}},matrix:{x:tF,y:tF,backgroundColor:{borderColor:ft.axisLine},body:{itemStyle:{borderColor:ft.borderTint}}},timeAxis:e0(),logAxis:e0(),valueAxis:e0(),categoryAxis:e0(),line:{symbol:"circle"},graph:{color:ft.theme},gauge:{title:{color:ft.secondary},axisLine:{lineStyle:{color:[[1,ft.neutral05]]}},axisLabel:{color:ft.axisLabel},detail:{color:ft.primary}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}},funnel:{itemStyle:{borderColor:ft.background}},radar:(function(){var t=e0();return t.axisName={color:ft.axisLabel},t.axisLine.lineStyle.color=ft.neutral20,t})(),treemap:{breadcrumb:{itemStyle:{color:ft.neutral20,textStyle:{color:ft.secondary}},emphasis:{itemStyle:{color:ft.neutral30}}}},sunburst:{itemStyle:{borderColor:ft.background}},map:{itemStyle:{borderColor:ft.border,areaColor:ft.neutral10},label:{color:ft.tertiary},emphasis:{label:{color:ft.primary},itemStyle:{areaColor:ft.highlight}},select:{label:{color:ft.primary},itemStyle:{areaColor:ft.highlight}}},geo:{itemStyle:{borderColor:ft.border,areaColor:ft.neutral10},emphasis:{label:{color:ft.primary},itemStyle:{areaColor:ft.highlight}},select:{label:{color:ft.primary},itemStyle:{color:ft.highlight}}}};qX.categoryAxis.splitLine.show=!1;var kSe=(function(){function t(){}return t.prototype.normalizeQuery=function(e){var r={},n={},a={};if(We(e)){var i=nc(e);r.mainType=i.main||null,r.subType=i.sub||null}else{var o=["Index","Name","Id"],s={name:1,dataIndex:1,dataType:1};Y(e,function(l,u){for(var c=!1,f=0;f<o.length;f++){var d=o[f],v=u.lastIndexOf(d);if(v>0&&v===u.length-d.length){var g=u.slice(0,v);g!=="data"&&(r.mainType=g,r[d.toLowerCase()]=l,c=!0)}}s.hasOwnProperty(u)&&(n[u]=l,c=!0),c||(a[u]=l)})}return{cptQuery:r,dataQuery:n,otherQuery:a}},t.prototype.filter=function(e,r){var n=this.eventInfo;if(!n)return!0;var a=n.targetEl,i=n.packedEvent,o=n.model,s=n.view;if(!o||!s)return!0;var l=r.cptQuery,u=r.dataQuery;return c(l,o,"mainType")&&c(l,o,"subType")&&c(l,o,"index","componentIndex")&&c(l,o,"name")&&c(l,o,"id")&&c(u,i,"name")&&c(u,i,"dataIndex")&&c(u,i,"dataType")&&(!s.filterForExposedEvent||s.filterForExposedEvent(e,r.otherQuery,a,i));function c(f,d,v,g){return f[v]==null||d[g||v]===f[v]}},t.prototype.afterTrigger=function(){this.eventInfo=null},t})(),wN=["symbol","symbolSize","symbolRotate","symbolOffset"],rF=wN.concat(["symbolKeepAspect"]),ISe={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var r=t.getData();if(t.legendIcon&&r.setVisual("legendIcon",t.legendIcon),!t.hasSymbolVisual)return;for(var n={},a={},i=!1,o=0;o<wN.length;o++){var s=wN[o],l=t.get(s);ot(l)?(i=!0,a[s]=l):n[s]=l}if(n.symbol=n.symbol||t.defaultSymbol,r.setVisual(Ae({legendIcon:t.legendIcon||n.symbol,symbolKeepAspect:t.get("symbolKeepAspect")},n)),e.isSeriesFiltered(t))return;var u=sr(a);function c(f,d){for(var v=t.getRawValue(d),g=t.getDataParams(d),y=0;y<u.length;y++){var b=u[y];f.setItemVisual(d,b,a[b](v,g))}}return{dataEach:i?c:null}}},OSe={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){if(!t.hasSymbolVisual||e.isSeriesFiltered(t))return;var r=t.getData();function n(a,i){for(var o=a.getItemModel(i),s=0;s<rF.length;s++){var l=rF[s],u=o.getShallow(l,!0);u!=null&&a.setItemVisual(i,l,u)}}return{dataEach:r.hasItemOption?n:null}}};function Qk(t,e,r){switch(r){case"color":var n=t.getItemVisual(e,"style");return n[t.getVisual("drawType")];case"opacity":return t.getItemVisual(e,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getItemVisual(e,r)}}function b_(t,e){switch(e){case"color":var r=t.getVisual("style");return r[t.getVisual("drawType")];case"opacity":return t.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getVisual(e)}}function $X(t,e,r,n){switch(r){case"color":var a=t.ensureUniqueItemVisual(e,"style");a[t.getVisual("drawType")]=n,t.setItemVisual(e,"colorFromPalette",!1);break;case"opacity":t.ensureUniqueItemVisual(e,"style").opacity=n;break;case"symbol":case"symbolSize":case"liftZ":t.setItemVisual(e,r,n);break}}function XX(t,e){function r(n,a){var i=[];return n.eachComponent({mainType:"series",subType:t,query:a},function(o){i.push(o.seriesIndex)}),i}Y([[t+"ToggleSelect","toggleSelect"],[t+"Select","select"],[t+"UnSelect","unselect"]],function(n){e(n[0],function(a,i,o){a=Ae({},a),o.dispatchAction(Ae(a,{type:n[1],seriesIndex:r(i,a)}))})})}function dg(t,e,r,n,a){var i=t+e;r.isSilent(i)||n.eachComponent({mainType:"series",subType:"pie"},function(o){for(var s=o.seriesIndex,l=o.option.selectedMap,u=a.selected,c=0;c<u.length;c++)if(u[c].seriesIndex===s){var f=o.getData(),d=Kv(f,a.fromActionPayload);r.trigger(i,{type:i,seriesId:o.id,name:Ee(d)?f.getName(d[0]):f.getName(d),selected:We(l)?l:Ae({},l)})}})}function jSe(t,e,r){t.on("selectchanged",function(n){var a=r.getModel();n.isFromClick?(dg("map","selectchanged",e,a,n),dg("pie","selectchanged",e,a,n)):n.fromAction==="select"?(dg("map","selected",e,a,n),dg("pie","selected",e,a,n)):n.fromAction==="unselect"&&(dg("map","unselected",e,a,n),dg("pie","unselected",e,a,n))})}function Lv(t,e,r){for(var n;t&&!(e(t)&&(n=t,r));)t=t.__hostTarget||t.parent;return n}var zSe=Math.round(Math.random()*9),BSe=typeof Object.defineProperty=="function",VSe=(function(){function t(){this._id="__ec_inner_"+zSe++}return t.prototype.get=function(e){return this._guard(e)[this._id]},t.prototype.set=function(e,r){var n=this._guard(e);return BSe?Object.defineProperty(n,this._id,{value:r,enumerable:!1,configurable:!0}):n[this._id]=r,this},t.prototype.delete=function(e){return this.has(e)?(delete this._guard(e)[this._id],!0):!1},t.prototype.has=function(e){return!!this._guard(e)[this._id]},t.prototype._guard=function(e){if(e!==Object(e))throw TypeError("Value of WeakMap is not a non-null object.");return e},t})(),FSe=Jt.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var r=e.cx,n=e.cy,a=e.width/2,i=e.height/2;t.moveTo(r,n-i),t.lineTo(r+a,n+i),t.lineTo(r-a,n+i),t.closePath()}}),HSe=Jt.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var r=e.cx,n=e.cy,a=e.width/2,i=e.height/2;t.moveTo(r,n-i),t.lineTo(r+a,n),t.lineTo(r,n+i),t.lineTo(r-a,n),t.closePath()}}),GSe=Jt.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var r=e.x,n=e.y,a=e.width/5*3,i=Math.max(a,e.height),o=a/2,s=o*o/(i-o),l=n-i+o+s,u=Math.asin(s/o),c=Math.cos(u)*o,f=Math.sin(u),d=Math.cos(u),v=o*.6,g=o*.7;t.moveTo(r-c,l+s),t.arc(r,l,o,Math.PI-u,Math.PI*2+u),t.bezierCurveTo(r+c-f*v,l+s+d*v,r,n-g,r,n),t.bezierCurveTo(r,n-g,r-c+f*v,l+s+d*v,r-c,l+s),t.closePath()}}),USe=Jt.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var r=e.height,n=e.width,a=e.x,i=e.y,o=n/3*2;t.moveTo(a,i),t.lineTo(a+o,i+r),t.lineTo(a,i+r/4*3),t.lineTo(a-o,i+r),t.lineTo(a,i),t.closePath()}}),WSe={line:Na,rect:$t,roundRect:$t,square:$t,circle:Ef,diamond:HSe,pin:GSe,arrow:USe,triangle:FSe},YSe={line:function(t,e,r,n,a){a.x1=t,a.y1=e+n/2,a.x2=t+r,a.y2=e+n/2},rect:function(t,e,r,n,a){a.x=t,a.y=e,a.width=r,a.height=n},roundRect:function(t,e,r,n,a){a.x=t,a.y=e,a.width=r,a.height=n,a.r=Math.min(r,n)/4},square:function(t,e,r,n,a){var i=Math.min(r,n);a.x=t,a.y=e,a.width=i,a.height=i},circle:function(t,e,r,n,a){a.cx=t+r/2,a.cy=e+n/2,a.r=Math.min(r,n)/2},diamond:function(t,e,r,n,a){a.cx=t+r/2,a.cy=e+n/2,a.width=r,a.height=n},pin:function(t,e,r,n,a){a.x=t+r/2,a.y=e+n/2,a.width=r,a.height=n},arrow:function(t,e,r,n,a){a.x=t+r/2,a.y=e+n/2,a.width=r,a.height=n},triangle:function(t,e,r,n,a){a.cx=t+r/2,a.cy=e+n/2,a.width=r,a.height=n}},ww={};Y(WSe,function(t,e){ww[e]=new t});var ZSe=Jt.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(t,e,r){var n=fw(t,e,r),a=this.shape;return a&&a.symbolType==="pin"&&e.position==="inside"&&(n.y=r.y+r.height*.4),n},buildPath:function(t,e,r){var n=e.symbolType;if(n!=="none"){var a=ww[n];a||(n="rect",a=ww[n]),YSe[n](e.x,e.y,e.width,e.height,a.shape),a.buildPath(t,a.shape,r)}}});function qSe(t,e){if(this.type!=="image"){var r=this.style;this.__isEmptyBrush?(r.stroke=t,r.fill=e||ve.color.neutral00,r.lineWidth=2):this.shape.symbolType==="line"?r.stroke=t:r.fill=t,this.markRedraw()}}function Oa(t,e,r,n,a,i,o){var s=t.indexOf("empty")===0;s&&(t=t.substr(5,1).toLowerCase()+t.substr(6));var l;return t.indexOf("image://")===0?l=E$(t.slice(8),new yt(e,r,n,a),o?"center":"cover"):t.indexOf("path://")===0?l=Dx(t.slice(7),{},new yt(e,r,n,a),o?"center":"cover"):l=new ZSe({shape:{symbolType:t,x:e,y:r,width:n,height:a}}),l.__isEmptyBrush=s,l.setColor=qSe,i&&l.setColor(i),l}function qm(t){return Ee(t)||(t=[+t,+t]),[t[0]||0,t[1]||0]}function gp(t,e){if(t!=null)return Ee(t)||(t=[t,t]),[Ue(t[0],e[0])||0,Ue(et(t[1],t[0]),e[1])||0]}function Ev(t){return isFinite(t)}function $Se(t,e,r){var n=e.x==null?0:e.x,a=e.x2==null?1:e.x2,i=e.y==null?0:e.y,o=e.y2==null?0:e.y2;e.global||(n=n*r.width+r.x,a=a*r.width+r.x,i=i*r.height+r.y,o=o*r.height+r.y),n=Ev(n)?n:0,a=Ev(a)?a:1,i=Ev(i)?i:0,o=Ev(o)?o:0;var s=t.createLinearGradient(n,i,a,o);return s}function XSe(t,e,r){var n=r.width,a=r.height,i=Math.min(n,a),o=e.x==null?.5:e.x,s=e.y==null?.5:e.y,l=e.r==null?.5:e.r;e.global||(o=o*n+r.x,s=s*a+r.y,l=l*i),o=Ev(o)?o:.5,s=Ev(s)?s:.5,l=l>=0&&Ev(l)?l:.5;var u=t.createRadialGradient(o,s,0,o,s,l);return u}function TN(t,e,r){for(var n=e.type==="radial"?XSe(t,e,r):$Se(t,e,r),a=e.colorStops,i=0;i<a.length;i++)n.addColorStop(a[i].offset,a[i].color);return n}function KSe(t,e){if(t===e||!t&&!e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!0;return!1}function y1(t){return parseInt(t,10)}function Hg(t,e,r){var n=["width","height"][e],a=["clientWidth","clientHeight"][e],i=["paddingLeft","paddingTop"][e],o=["paddingRight","paddingBottom"][e];if(r[n]!=null&&r[n]!=="auto")return parseFloat(r[n]);var s=document.defaultView.getComputedStyle(t);return(t[a]||y1(s[n])||y1(t.style[n]))-(y1(s[i])||0)-(y1(s[o])||0)|0}function QSe(t,e){return!t||t==="solid"||!(e>0)?null:t==="dashed"?[4*e,2*e]:t==="dotted"?[e]:vr(t)?[t]:Ee(t)?t:null}function Jk(t){var e=t.style,r=e.lineDash&&e.lineWidth>0&&QSe(e.lineDash,e.lineWidth),n=e.lineDashOffset;if(r){var a=e.strokeNoScale&&t.getLineScale?t.getLineScale():1;a&&a!==1&&(r=Re(r,function(i){return i/a}),n/=a)}return[r,n]}var JSe=new xc(!0);function Tw(t){var e=t.stroke;return!(e==null||e==="none"||!(t.lineWidth>0))}function nF(t){return typeof t=="string"&&t!=="none"}function Cw(t){var e=t.fill;return e!=null&&e!=="none"}function aF(t,e){if(e.fillOpacity!=null&&e.fillOpacity!==1){var r=t.globalAlpha;t.globalAlpha=e.fillOpacity*e.opacity,t.fill(),t.globalAlpha=r}else t.fill()}function iF(t,e){if(e.strokeOpacity!=null&&e.strokeOpacity!==1){var r=t.globalAlpha;t.globalAlpha=e.strokeOpacity*e.opacity,t.stroke(),t.globalAlpha=r}else t.stroke()}function CN(t,e,r){var n=xk(e.image,e.__image,r);if(uC(n)){var a=t.createPattern(n,e.repeat||"repeat");if(typeof DOMMatrix=="function"&&a&&a.setTransform){var i=new DOMMatrix;i.translateSelf(e.x||0,e.y||0),i.rotateSelf(0,0,(e.rotation||0)*gS),i.scaleSelf(e.scaleX||1,e.scaleY||1),a.setTransform(i)}return a}}function ewe(t,e,r,n){var a,i=Tw(r),o=Cw(r),s=r.strokePercent,l=s<1,u=!e.path;(!e.silent||l)&&u&&e.createPathProxy();var c=e.path||JSe,f=e.__dirty;if(!n){var d=r.fill,v=r.stroke,g=o&&!!d.colorStops,y=i&&!!v.colorStops,b=o&&!!d.image,S=i&&!!v.image,w=void 0,M=void 0,A=void 0,D=void 0,R=void 0;(g||y)&&(R=e.getBoundingRect()),g&&(w=f?TN(t,d,R):e.__canvasFillGradient,e.__canvasFillGradient=w),y&&(M=f?TN(t,v,R):e.__canvasStrokeGradient,e.__canvasStrokeGradient=M),b&&(A=f||!e.__canvasFillPattern?CN(t,d,e):e.__canvasFillPattern,e.__canvasFillPattern=A),S&&(D=f||!e.__canvasStrokePattern?CN(t,v,e):e.__canvasStrokePattern,e.__canvasStrokePattern=D),g?t.fillStyle=w:b&&(A?t.fillStyle=A:o=!1),y?t.strokeStyle=M:S&&(D?t.strokeStyle=D:i=!1)}var N=e.getGlobalScale();c.setScale(N[0],N[1],e.segmentIgnoreThreshold);var I,z;t.setLineDash&&r.lineDash&&(a=Jk(e),I=a[0],z=a[1]);var B=!0;(u||f&Rg)&&(c.setDPR(t.dpr),l?c.setContext(null):(c.setContext(t),B=!1),c.reset(),e.buildPath(c,e.shape,n),c.toStatic(),e.pathUpdated()),B&&c.rebuildPath(t,l?s:1),I&&(t.setLineDash(I),t.lineDashOffset=z),n||(r.strokeFirst?(i&&iF(t,r),o&&aF(t,r)):(o&&aF(t,r),i&&iF(t,r))),I&&t.setLineDash([])}function twe(t,e,r){var n=e.__image=xk(r.image,e.__image,e,e.onload);if(!(!n||!uC(n))){var a=r.x||0,i=r.y||0,o=e.getWidth(),s=e.getHeight(),l=n.width/n.height;if(o==null&&s!=null?o=s*l:s==null&&o!=null?s=o/l:o==null&&s==null&&(o=n.width,s=n.height),r.sWidth&&r.sHeight){var u=r.sx||0,c=r.sy||0;t.drawImage(n,u,c,r.sWidth,r.sHeight,a,i,o,s)}else if(r.sx&&r.sy){var u=r.sx,c=r.sy,f=o-u,d=s-c;t.drawImage(n,u,c,f,d,a,i,o,s)}else t.drawImage(n,a,i,o,s)}}function rwe(t,e,r){var n,a=r.text;if(a!=null&&(a+=""),a){t.font=r.font||mf,t.textAlign=r.textAlign,t.textBaseline=r.textBaseline;var i=void 0,o=void 0;t.setLineDash&&r.lineDash&&(n=Jk(e),i=n[0],o=n[1]),i&&(t.setLineDash(i),t.lineDashOffset=o),r.strokeFirst?(Tw(r)&&t.strokeText(a,r.x,r.y),Cw(r)&&t.fillText(a,r.x,r.y)):(Cw(r)&&t.fillText(a,r.x,r.y),Tw(r)&&t.strokeText(a,r.x,r.y)),i&&t.setLineDash([])}}var oF=["shadowBlur","shadowOffsetX","shadowOffsetY"],sF=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function KX(t,e,r,n,a){var i=!1;if(!n&&(r=r||{},e===r))return!1;if(n||e.opacity!==r.opacity){ns(t,a),i=!0;var o=Math.max(Math.min(e.opacity,1),0);t.globalAlpha=isNaN(o)?Iv.opacity:o}(n||e.blend!==r.blend)&&(i||(ns(t,a),i=!0),t.globalCompositeOperation=e.blend||Iv.blend);for(var s=0;s<oF.length;s++){var l=oF[s];(n||e[l]!==r[l])&&(i||(ns(t,a),i=!0),t[l]=t.dpr*(e[l]||0))}return(n||e.shadowColor!==r.shadowColor)&&(i||(ns(t,a),i=!0),t.shadowColor=e.shadowColor||Iv.shadowColor),i}function lF(t,e,r,n,a){var i=kx(e,a.inHover),o=n?null:r&&kx(r,a.inHover)||{};if(i===o)return!1;var s=KX(t,i,o,n,a);if((n||i.fill!==o.fill)&&(s||(ns(t,a),s=!0),nF(i.fill)&&(t.fillStyle=i.fill)),(n||i.stroke!==o.stroke)&&(s||(ns(t,a),s=!0),nF(i.stroke)&&(t.strokeStyle=i.stroke)),(n||i.opacity!==o.opacity)&&(s||(ns(t,a),s=!0),t.globalAlpha=i.opacity==null?1:i.opacity),e.hasStroke()){var l=i.lineWidth,u=l/(i.strokeNoScale&&e.getLineScale?e.getLineScale():1);t.lineWidth!==u&&(s||(ns(t,a),s=!0),t.lineWidth=u)}for(var c=0;c<sF.length;c++){var f=sF[c],d=f[0];(n||i[d]!==o[d])&&(s||(ns(t,a),s=!0),t[d]=i[d]||f[1])}return s}function nwe(t,e,r,n,a){return KX(t,kx(e,a.inHover),r&&kx(r,a.inHover),n,a)}function QX(t,e){var r=e.transform,n=t.dpr||1;r?t.setTransform(n*r[0],n*r[1],n*r[2],n*r[3],n*r[4],n*r[5]):t.setTransform(n,0,0,n,0,0)}function awe(t,e,r){for(var n=!1,a=0;a<t.length;a++){var i=t[a];n=n||i.isZeroArea(),QX(e,i),e.beginPath(),i.buildPath(e,i.shape),e.clip()}r.allClipped=n}function iwe(t,e){return t&&e?t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3]||t[4]!==e[4]||t[5]!==e[5]:!(!t&&!e)}var uF=1,cF=2,fF=3,hF=4;function owe(t){var e=Cw(t),r=Tw(t);return!(t.lineDash||!(+e^+r)||e&&typeof t.fill!="string"||r&&typeof t.stroke!="string"||t.strokePercent<1||t.strokeOpacity<1||t.fillOpacity<1)}function ns(t,e){e.batchFill&&t.fill(),e.batchStroke&&t.stroke(),e.batchFill="",e.batchStroke=""}function kx(t,e){return e&&t.__hoverStyle||t.style}function JX(t,e){Nv(t,e,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function Nv(t,e,r,n){var a=e.transform;if(!e.shouldBePainted(r.viewWidth,r.viewHeight,!1,!1)){e.__dirty&=~Ls,e.__isRendered=!1;return}var i=e.__clipPaths,o=r.prevElClipPaths,s=!1,l=!1;if((!o||KSe(i,o))&&(o&&o.length&&(ns(t,r),t.restore(),l=s=!0,r.prevElClipPaths=null,r.allClipped=!1,r.prevEl=null),i&&i.length&&(ns(t,r),t.save(),awe(i,t,r),s=!0),r.prevElClipPaths=i),r.allClipped){e.__isRendered=!1;return}e.beforeBrush&&e.beforeBrush(),e.innerBeforeBrush();var u=r.prevEl;u||(l=s=!0);var c=e instanceof Jt&&e.autoBatch&&owe(e.style);s||iwe(a,u.transform)?(ns(t,r),QX(t,e)):c||ns(t,r);var f=kx(e,r.inHover);e instanceof Jt?(r.lastDrawType!==uF&&(l=!0,r.lastDrawType=uF),lF(t,e,u,l,r),(!c||!r.batchFill&&!r.batchStroke)&&t.beginPath(),ewe(t,e,f,c),c&&(r.batchFill=f.fill||"",r.batchStroke=f.stroke||"")):e instanceof hm?(r.lastDrawType!==fF&&(l=!0,r.lastDrawType=fF),lF(t,e,u,l,r),rwe(t,e,f)):e instanceof Ni?(r.lastDrawType!==cF&&(l=!0,r.lastDrawType=cF),nwe(t,e,u,l,r),twe(t,e,f)):e.getTemporalDisplayables&&(r.lastDrawType!==hF&&(l=!0,r.lastDrawType=hF),swe(t,e,r)),c&&n&&ns(t,r),e.innerAfterBrush(),e.afterBrush&&e.afterBrush(),r.prevEl=e,e.__dirty=0,e.__isRendered=!0}function swe(t,e,r){var n=e.getDisplayables(),a=e.getTemporalDisplayables();t.save();var i={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:r.viewWidth,viewHeight:r.viewHeight,inHover:r.inHover},o,s;for(o=e.getCursor(),s=n.length;o<s;o++){var l=n[o];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),Nv(t,l,i,o===s-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),i.prevEl=l}for(var u=0,c=a.length;u<c;u++){var l=a[u];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),Nv(t,l,i,u===c-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),i.prevEl=l}e.clearTemporalDisplayables(),e.notClear=!0,t.restore()}var iD=new VSe,dF=new cm(100),vF=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function pm(t,e){if(t==="none")return null;var r=e.getDevicePixelRatio(),n=e.getZr(),a=n.painter.type==="svg";t.dirty&&iD.delete(t);var i=iD.get(t);if(i)return i;var o=gt(t,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});o.backgroundColor==="none"&&(o.backgroundColor=null);var s={repeat:"repeat"};return l(s),s.rotation=o.rotation,s.scaleX=s.scaleY=a?1:1/r,iD.set(t,s),t.dirty=!1,s;function l(u){for(var c=[r],f=!0,d=0;d<vF.length;++d){var v=o[vF[d]];if(v!=null&&!Ee(v)&&!We(v)&&!vr(v)&&typeof v!="boolean"){f=!1;break}c.push(v)}var g;if(f){g=c.join(",")+(a?"-svg":"");var y=dF.get(g);y&&(a?u.svgElement=y:u.image=y)}var b=tK(o.dashArrayX),S=lwe(o.dashArrayY),w=eK(o.symbol),M=uwe(b),A=rK(S),D=!a&&cu.createCanvas(),R=a&&{tag:"g",attrs:{},key:"dcl",children:[]},N=z(),I;D&&(D.width=N.width*r,D.height=N.height*r,I=D.getContext("2d")),B(),f&&dF.put(g,D||R),u.image=D,u.svgElement=R,u.svgWidth=N.width,u.svgHeight=N.height;function z(){for(var V=1,G=0,F=M.length;G<F;++G)V=E4(V,M[G]);for(var q=1,G=0,F=w.length;G<F;++G)q=E4(q,w[G].length);V*=q;var Q=A*M.length*w.length;return{width:Math.max(1,Math.min(V,o.maxTileWidth)),height:Math.max(1,Math.min(Q,o.maxTileHeight))}}function B(){I&&(I.clearRect(0,0,D.width,D.height),o.backgroundColor&&(I.fillStyle=o.backgroundColor,I.fillRect(0,0,D.width,D.height)));for(var V=0,G=0;G<S.length;++G)V+=S[G];if(V<=0)return;for(var F=-A,q=0,Q=0,H=0;F<N.height;){if(q%2===0){for(var X=Q/2%w.length,W=0,J=0,ee=0;W<N.width*2;){for(var K=0,G=0;G<b[H].length;++G)K+=b[H][G];if(K<=0)break;if(J%2===0){var ne=(1-o.symbolSize)*.5,ie=W+b[H][J]*ne,le=F+S[q]*ne,me=b[H][J]*o.symbolSize,we=S[q]*o.symbolSize,pe=ee/2%w[X].length;Pe(ie,le,me,we,w[X][pe])}W+=b[H][J],++ee,++J,J===b[H].length&&(J=0)}++H,H===b.length&&(H=0)}F+=S[q],++Q,++q,q===S.length&&(q=0)}function Pe(ke,ze,Ie,Oe,vt){var ct=a?1:r,Ft=Oa(vt,ke*ct,ze*ct,Ie*ct,Oe*ct,o.color,o.symbolKeepAspect);if(a){var jt=n.painter.renderOneToVNode(Ft);jt&&R.children.push(jt)}else JX(I,Ft)}}}}function eK(t){if(!t||t.length===0)return[["rect"]];if(We(t))return[[t]];for(var e=!0,r=0;r<t.length;++r)if(!We(t[r])){e=!1;break}if(e)return eK([t]);for(var n=[],r=0;r<t.length;++r)We(t[r])?n.push([t[r]]):n.push(t[r]);return n}function tK(t){if(!t||t.length===0)return[[0,0]];if(vr(t)){var e=Math.ceil(t);return[[e,e]]}for(var r=!0,n=0;n<t.length;++n)if(!vr(t[n])){r=!1;break}if(r)return tK([t]);for(var a=[],n=0;n<t.length;++n)if(vr(t[n])){var e=Math.ceil(t[n]);a.push([e,e])}else{var e=Re(t[n],function(s){return Math.ceil(s)});e.length%2===1?a.push(e.concat(e)):a.push(e)}return a}function lwe(t){if(!t||typeof t=="object"&&t.length===0)return[0,0];if(vr(t)){var e=Math.ceil(t);return[e,e]}var r=Re(t,function(n){return Math.ceil(n)});return t.length%2?r.concat(r):r}function uwe(t){return Re(t,function(e){return rK(e)})}function rK(t){for(var e=0,r=0;r<t.length;++r)e+=t[r];return t.length%2===1?e*2:e}function cwe(t,e){t.eachRawSeries(function(r){if(!t.isSeriesFiltered(r)){var n=r.getData();n.hasItemVisual()&&n.each(function(o){var s=n.getItemVisual(o,"decal");if(s){var l=n.ensureUniqueItemVisual(o,"style");l.decal=pm(s,e)}});var a=n.getVisual("decal");if(a){var i=n.getVisual("style");i.decal=pm(a,e)}}})}var Ql=new Nl,nK={};function fwe(t,e){nK[t]=e}function hwe(t){return nK[t]}var aK={};function dwe(t,e){aK[t]=e}function vwe(t){return aK[t]}var pwe=1,gwe=800,mwe=900,ywe=1e3,xwe=2e3,_we=5e3,iK=1e3,bwe=1100,eI=2e3,oK=3e3,Swe=4e3,AC=4500,wwe=4600,Twe=5e3,Cwe=6e3,sK=7e3,Mwe={PROCESSOR:{FILTER:ywe,SERIES_FILTER:gwe,STATISTIC:_we},VISUAL:{LAYOUT:iK,PROGRESSIVE_LAYOUT:bwe,GLOBAL:eI,CHART:oK,POST_CHART_LAYOUT:wwe,COMPONENT:Swe,BRUSH:Twe,CHART_ITEM:AC,ARIA:Cwe,DECAL:sK}},Ka="__flagInMainProcess",x1="__mainProcessVersion",Ci="__pendingUpdate",oD="__needsUpdateStatus",pF=/^[a-zA-Z0-9_]+$/,sD="__connectUpdateStatus",gF=0,Awe=1,Dwe=2;function lK(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if(this.isDisposed()){this.id;return}return cK(this,t,e)}}function uK(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return cK(this,t,e)}}function cK(t,e,r){return r[0]=r[0]&&r[0].toLowerCase(),Nl.prototype[e].apply(t,r)}var fK=(function(t){ye(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(Nl),hK=fK.prototype;hK.on=uK("on");hK.off=uK("off");var nv,lD,_1,Qc,b1,uD,cD,vg,pg,mF,yF,fD,xF,S1,_F,dK,tl,bF,gg,vK=(function(t){ye(e,t);function e(r,n,a){var i=t.call(this,new kSe)||this;i._chartsViews=[],i._chartsMap={},i._componentsViews=[],i._componentsMap={},i._pendingActions=[],a=a||{},i._dom=r;var o="canvas",s="auto",l=!1;i[x1]=1,a.ssr&&ixe(function(d){var v=wt(d),g=v.dataIndex;if(g!=null){var y=Qe();return y.set("series_index",v.seriesIndex),y.set("data_index",g),v.ssrType&&y.set("ssr_type",v.ssrType),y}});var u=i._zr=M4(r,{renderer:a.renderer||o,devicePixelRatio:a.devicePixelRatio,width:a.width,height:a.height,ssr:a.ssr,useDirtyRect:et(a.useDirtyRect,l),useCoarsePointer:et(a.useCoarsePointer,s),pointerSize:a.pointerSize});i._ssr=a.ssr,i._throttledZrFlush=Kk(Ye(u.flush,u),17),i._updateTheme(n),i._locale=Ibe(a.locale||H$),i._coordSysMgr=new x_;var c=i._api=_F(i);function f(d,v){return d.__prio-v.__prio}return xS(Aw,f),xS(DN,f),i._scheduler=new UX(i,c,DN,Aw),i._messageCenter=new fK,i._initEvents(),i.resize=Ye(i.resize,i),u.animation.on("frame",i._onframe,i),mF(u,i),yF(u,i),tw(i),i}return e.prototype._onframe=function(){if(!this._disposed){bF(this);var r=this._scheduler;if(this[Ci]){var n=this[Ci].silent;this[Ka]=!0,gg(this);try{nv(this),Qc.update.call(this,null,this[Ci].updateParams)}catch(l){throw this[Ka]=!1,this[Ci]=null,l}this._zr.flush(),this[Ka]=!1,this[Ci]=null,vg.call(this,n),pg.call(this,n)}else if(r.unfinished){var a=pwe,i=this._model,o=this._api;r.unfinished=!1;do{var s=+new Date;r.performSeriesTasks(i),r.performDataProcessorTasks(i),uD(this,i),r.performVisualTasks(i),S1(this,this._model,o,"remain",{}),a-=+new Date-s}while(a>0&&r.unfinished);r.unfinished||this._zr.flush()}}},e.prototype.getDom=function(){return this._dom},e.prototype.getId=function(){return this.id},e.prototype.getZr=function(){return this._zr},e.prototype.isSSR=function(){return this._ssr},e.prototype.setOption=function(r,n,a){if(!this[Ka]){if(this._disposed){this.id;return}var i,o,s;if(mt(n)&&(a=n.lazyUpdate,i=n.silent,o=n.replaceMerge,s=n.transition,n=n.notMerge),this[Ka]=!0,gg(this),!this._model||n){var l=new g1e(this._api),u=this._theme,c=this._model=new Yk;c.scheduler=this._scheduler,c.ssr=this._ssr,c.init(null,null,null,u,this._locale,l)}this._model.setOption(r,{replaceMerge:o},LN);var f={seriesTransition:s,optionChanged:!0};if(a)this[Ci]={silent:i,updateParams:f},this[Ka]=!1,this.getZr().wakeUp();else{try{nv(this),Qc.update.call(this,null,f)}catch(d){throw this[Ci]=null,this[Ka]=!1,d}this._ssr||this._zr.flush(),this[Ci]=null,this[Ka]=!1,vg.call(this,i),pg.call(this,i)}}},e.prototype.setTheme=function(r,n){if(!this[Ka]){if(this._disposed){this.id;return}var a=this._model;if(a){var i=n&&n.silent,o=null;this[Ci]&&(i==null&&(i=this[Ci].silent),o=this[Ci].updateParams,this[Ci]=null),this[Ka]=!0,gg(this);try{this._updateTheme(r),a.setTheme(this._theme),nv(this),Qc.update.call(this,{type:"setTheme"},o)}catch(s){throw this[Ka]=!1,s}this[Ka]=!1,vg.call(this,i),pg.call(this,i)}}},e.prototype._updateTheme=function(r){We(r)&&(r=pK[r]),r&&(r=ut(r),r&&xX(r,!0),this._theme=r)},e.prototype.getModel=function(){return this._model},e.prototype.getOption=function(){return this._model&&this._model.getOption()},e.prototype.getWidth=function(){return this._zr.getWidth()},e.prototype.getHeight=function(){return this._zr.getHeight()},e.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||nr.hasGlobalWindow&&window.devicePixelRatio||1},e.prototype.getRenderedCanvas=function(r){return this.renderToCanvas(r)},e.prototype.renderToCanvas=function(r){r=r||{};var n=this._zr.painter;return n.getRenderedCanvas({backgroundColor:r.backgroundColor||this._model.get("backgroundColor"),pixelRatio:r.pixelRatio||this.getDevicePixelRatio()})},e.prototype.renderToSVGString=function(r){r=r||{};var n=this._zr.painter;return n.renderToString({useViewBox:r.useViewBox})},e.prototype.getSvgDataURL=function(){var r=this._zr,n=r.storage.getDisplayList();return Y(n,function(a){a.stopAnimation(null,!0)}),r.painter.toDataURL()},e.prototype.getDataURL=function(r){if(this._disposed){this.id;return}r=r||{};var n=r.excludeComponents,a=this._model,i=[],o=this;Y(n,function(l){a.eachComponent({mainType:l},function(u){var c=o._componentsMap[u.__viewId];c.group.ignore||(i.push(c),c.group.ignore=!0)})});var s=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(r).toDataURL("image/"+(r&&r.type||"png"));return Y(i,function(l){l.group.ignore=!1}),s},e.prototype.getConnectedDataURL=function(r){if(this._disposed){this.id;return}var n=r.type==="svg",a=this.group,i=Math.min,o=Math.max,s=1/0;if(SF[a]){var l=s,u=s,c=-s,f=-s,d=[],v=r&&r.pixelRatio||this.getDevicePixelRatio();Y(ox,function(M,A){if(M.group===a){var D=n?M.getZr().painter.getSvgDom().innerHTML:M.renderToCanvas(ut(r)),R=M.getDom().getBoundingClientRect();l=i(R.left,l),u=i(R.top,u),c=o(R.right,c),f=o(R.bottom,f),d.push({dom:D,left:R.left,top:R.top})}}),l*=v,u*=v,c*=v,f*=v;var g=c-l,y=f-u,b=cu.createCanvas(),S=M4(b,{renderer:n?"svg":"canvas"});if(S.resize({width:g,height:y}),n){var w="";return Y(d,function(M){var A=M.left-l,D=M.top-u;w+='<g transform="translate('+A+","+D+')">'+M.dom+"</g>"}),S.painter.getSvgRoot().innerHTML=w,r.connectedBackgroundColor&&S.painter.setBackgroundColor(r.connectedBackgroundColor),S.refreshImmediately(),S.painter.toDataURL()}else return r.connectedBackgroundColor&&S.add(new $t({shape:{x:0,y:0,width:g,height:y},style:{fill:r.connectedBackgroundColor}})),Y(d,function(M){var A=new Ni({style:{x:M.left*v-l,y:M.top*v-u,image:M.dom}});S.add(A)}),S.refreshImmediately(),b.toDataURL("image/"+(r&&r.type||"png"))}else return this.getDataURL(r)},e.prototype.convertToPixel=function(r,n,a){return b1(this,"convertToPixel",r,n,a)},e.prototype.convertToLayout=function(r,n,a){return b1(this,"convertToLayout",r,n,a)},e.prototype.convertFromPixel=function(r,n,a){return b1(this,"convertFromPixel",r,n,a)},e.prototype.containPixel=function(r,n){if(this._disposed){this.id;return}var a=this._model,i,o=Kg(a,r);return Y(o,function(s,l){l.indexOf("Models")>=0&&Y(s,function(u){var c=u.coordinateSystem;if(c&&c.containPoint)i=i||!!c.containPoint(n);else if(l==="seriesModels"){var f=this._chartsMap[u.__viewId];f&&f.containPoint&&(i=i||f.containPoint(n,u))}},this)},this),!!i},e.prototype.getVisual=function(r,n){var a=this._model,i=Kg(a,r,{defaultMainType:"series"}),o=i.seriesModel,s=o.getData(),l=i.hasOwnProperty("dataIndexInside")?i.dataIndexInside:i.hasOwnProperty("dataIndex")?s.indexOfRawIndex(i.dataIndex):null;return l!=null?Qk(s,l,n):b_(s,n)},e.prototype.getViewOfComponentModel=function(r){return this._componentsMap[r.__viewId]},e.prototype.getViewOfSeriesModel=function(r){return this._chartsMap[r.__viewId]},e.prototype._initEvents=function(){var r=this;Y(Lwe,function(a){var i=function(o){var s=r.getModel(),l=o.target,u,c=a==="globalout";if(c?u={}:l&&Lv(l,function(y){var b=wt(y);if(b&&b.dataIndex!=null){var S=b.dataModel||s.getSeriesByIndex(b.seriesIndex);return u=S&&S.getDataParams(b.dataIndex,b.dataType,l)||{},!0}else if(b.eventData)return u=Ae({},b.eventData),!0},!0),u){var f=u.componentType,d=u.componentIndex;(f==="markLine"||f==="markPoint"||f==="markArea")&&(f="series",d=u.seriesIndex);var v=f&&d!=null&&s.getComponent(f,d),g=v&&r[v.mainType==="series"?"_chartsMap":"_componentsMap"][v.__viewId];u.event=o,u.type=a,r._$eventProcessor.eventInfo={targetEl:l,packedEvent:u,model:v,view:g},r.trigger(a,u)}};i.zrEventfulCallAtLast=!0,r._zr.on(a,i,r)});var n=this._messageCenter;Y(AN,function(a,i){n.on(i,function(o){r.trigger(i,o)})}),jSe(n,this,this._api)},e.prototype.isDisposed=function(){return this._disposed},e.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},e.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var r=this.getDom();r&&Kq(this.getDom(),rI,"");var n=this,a=n._api,i=n._model;Y(n._componentsViews,function(o){o.dispose(i,a)}),Y(n._chartsViews,function(o){o.dispose(i,a)}),n._zr.dispose(),n._dom=n._model=n._chartsMap=n._componentsMap=n._chartsViews=n._componentsViews=n._scheduler=n._api=n._zr=n._throttledZrFlush=n._theme=n._coordSysMgr=n._messageCenter=null,delete ox[n.id]},e.prototype.resize=function(r){if(!this[Ka]){if(this._disposed){this.id;return}this._zr.resize(r);var n=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!n){var a=n.resetOption("media"),i=r&&r.silent;this[Ci]&&(i==null&&(i=this[Ci].silent),a=!0,this[Ci]=null),this[Ka]=!0,gg(this);try{a&&nv(this),Qc.update.call(this,{type:"resize",animation:Ae({duration:0},r&&r.animation)})}catch(o){throw this[Ka]=!1,o}this[Ka]=!1,vg.call(this,i),pg.call(this,i)}}},e.prototype.showLoading=function(r,n){if(this._disposed){this.id;return}if(mt(r)&&(n=r,r=""),r=r||"default",this.hideLoading(),!!EN[r]){var a=EN[r](this._api,n),i=this._zr;this._loadingFX=a,i.add(a)}},e.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},e.prototype.makeActionFromEvent=function(r){var n=Ae({},r);return n.type=MN[r.type],n},e.prototype.dispatchAction=function(r,n){if(this._disposed){this.id;return}if(mt(n)||(n={silent:!!n}),!!Mw[r.type]&&this._model){if(this[Ka]){this._pendingActions.push(r);return}var a=n.silent;cD.call(this,r,a);var i=n.flush;i?this._zr.flush():i!==!1&&nr.browser.weChat&&this._throttledZrFlush(),vg.call(this,a),pg.call(this,a)}},e.prototype.updateLabelLayout=function(){Ql.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},e.prototype.appendData=function(r){if(this._disposed){this.id;return}var n=r.seriesIndex,a=this.getModel(),i=a.getSeriesByIndex(n);i.appendData(r),this._scheduler.unfinished=!0,this.getZr().wakeUp()},e.internalField=(function(){nv=function(f){var d=f._scheduler;d.restorePipelines(f._model),d.prepareStageTasks(),lD(f,!0),lD(f,!1),d.plan()},lD=function(f,d){for(var v=f._model,g=f._scheduler,y=d?f._componentsViews:f._chartsViews,b=d?f._componentsMap:f._chartsMap,S=f._zr,w=f._api,M=0;M<y.length;M++)y[M].__alive=!1;d?v.eachComponent(function(R,N){R!=="series"&&A(N)}):v.eachSeries(A);function A(R){var N=R.__requireNewView;R.__requireNewView=!1;var I="_ec_"+R.id+"_"+R.type,z=!N&&b[I];if(!z){var B=nc(R.type),V=d?Vn.getClass(B.main,B.sub):cn.getClass(B.sub);z=new V,z.init(v,w),b[I]=z,y.push(z),S.add(z.group)}R.__viewId=z.__id=I,z.__alive=!0,z.__model=R,z.group.__ecComponentInfo={mainType:R.mainType,index:R.componentIndex},!d&&g.prepareView(z,R,v,w)}for(var M=0;M<y.length;){var D=y[M];D.__alive?M++:(!d&&D.renderTask.dispose(),S.remove(D.group),D.dispose(v,w),y.splice(M,1),b[D.__id]===D&&delete b[D.__id],D.__id=D.group.__ecComponentInfo=null)}},_1=function(f,d,v,g,y){var b=f._model;if(b.setUpdatePayload(v),!g){Y([].concat(f._componentsViews).concat(f._chartsViews),D);return}var S={};S[g+"Id"]=v[g+"Id"],S[g+"Index"]=v[g+"Index"],S[g+"Name"]=v[g+"Name"];var w={mainType:g,query:S};y&&(w.subType=y);var M=v.excludeSeriesId,A;M!=null&&(A=Qe(),Y(gn(M),function(R){var N=Ja(R,null);N!=null&&A.set(N,!0)})),b&&b.eachComponent(w,function(R){var N=A&&A.get(R.id)!=null;if(!N)if(iV(v))if(R instanceof Sn)v.type===Ov&&!v.notBlur&&!R.get(["emphasis","disabled"])&&P_e(R,v,f._api);else{var I=Mk(R.mainType,R.componentIndex,v.name,f._api),z=I.focusSelf,B=I.dispatchers;v.type===Ov&&z&&!v.notBlur&&aN(R.mainType,R.componentIndex,f._api),B&&Y(B,function(V){v.type===Ov?_f(V):bf(V)})}else oN(v)&&R instanceof Sn&&(O_e(R,v,f._api),nV(R),tl(f))},f),b&&b.eachComponent(w,function(R){var N=A&&A.get(R.id)!=null;N||D(f[g==="series"?"_chartsMap":"_componentsMap"][R.__viewId])},f);function D(R){R&&R.__alive&&R[d]&&R[d](R.__model,b,f._api,v)}},Qc={prepareAndUpdate:function(f){nv(this),Qc.update.call(this,f,f&&{optionChanged:f.newOption!=null})},update:function(f,d){var v=this._model,g=this._api,y=this._zr,b=this._coordSysMgr,S=this._scheduler;if(v){v.setUpdatePayload(f),S.restoreData(v,f),S.performSeriesTasks(v),b.create(v,g),S.performDataProcessorTasks(v,f),uD(this,v),b.update(v,g),n(v),S.performVisualTasks(v,f);var w=v.get("backgroundColor")||"transparent";y.setBackgroundColor(w);var M=v.get("darkMode");M!=null&&M!=="auto"&&y.setDarkMode(M),fD(this,v,g,f,d),Ql.trigger("afterupdate",v,g)}},updateTransform:function(f){var d=this,v=this._model,g=this._api;if(v){v.setUpdatePayload(f);var y=[];v.eachComponent(function(S,w){if(S!=="series"){var M=d.getViewOfComponentModel(w);if(M&&M.__alive)if(M.updateTransform){var A=M.updateTransform(w,v,g,f);A&&A.update&&y.push(M)}else y.push(M)}});var b=Qe();v.eachSeries(function(S){var w=d._chartsMap[S.__viewId];if(w.updateTransform){var M=w.updateTransform(S,v,g,f);M&&M.update&&b.set(S.uid,1)}else b.set(S.uid,1)}),n(v),this._scheduler.performVisualTasks(v,f,{setDirty:!0,dirtyMap:b}),S1(this,v,g,f,{},b),Ql.trigger("afterupdate",v,g)}},updateView:function(f){var d=this._model;d&&(d.setUpdatePayload(f),cn.markUpdateMethod(f,"updateView"),n(d),this._scheduler.performVisualTasks(d,f,{setDirty:!0}),fD(this,d,this._api,f,{}),Ql.trigger("afterupdate",d,this._api))},updateVisual:function(f){var d=this,v=this._model;v&&(v.setUpdatePayload(f),v.eachSeries(function(g){g.getData().clearAllVisual()}),cn.markUpdateMethod(f,"updateVisual"),n(v),this._scheduler.performVisualTasks(v,f,{visualType:"visual",setDirty:!0}),v.eachComponent(function(g,y){if(g!=="series"){var b=d.getViewOfComponentModel(y);b&&b.__alive&&b.updateVisual(y,v,d._api,f)}}),v.eachSeries(function(g){var y=d._chartsMap[g.__viewId];y.updateVisual(g,v,d._api,f)}),Ql.trigger("afterupdate",v,this._api))},updateLayout:function(f){Qc.update.call(this,f)}};function r(f,d,v,g,y){if(f._disposed){f.id;return}for(var b=f._model,S=f._coordSysMgr.getCoordinateSystems(),w,M=Kg(b,v),A=0;A<S.length;A++){var D=S[A];if(D[d]&&(w=D[d](b,M,g,y))!=null)return w}}b1=r,uD=function(f,d){var v=f._chartsMap,g=f._scheduler;d.eachSeries(function(y){g.updateStreamModes(y,v[y.__viewId])})},cD=function(f,d){var v=this,g=this.getModel(),y=f.type,b=f.escapeConnect,S=Mw[y],w=(S.update||"update").split(":"),M=w.pop(),A=w[0]!=null&&nc(w[0]);this[Ka]=!0,gg(this);var D=[f],R=!1;f.batch&&(R=!0,D=Re(f.batch,function(H){return H=gt(Ae({},H),f),H.batch=null,H}));var N=[],I,z=[],B=S.nonRefinedEventType,V=oN(f),G=iV(f);if(G&&y$(this._api),Y(D,function(H){var X=S.action(H,g,v._api);if(S.refineEvent?z.push(X):I=X,I=I||Ae({},H),I.type=B,N.push(I),G){var W=mk(f),J=W.queryOptionMap,ee=W.mainTypeSpecified,K=ee?J.keys()[0]:"series";_1(v,M,H,K),tl(v)}else V?(_1(v,M,H,"series"),tl(v)):A&&_1(v,M,H,A.main,A.sub)}),M!=="none"&&!G&&!V&&!A)try{this[Ci]?(nv(this),Qc.update.call(this,f),this[Ci]=null):Qc[M].call(this,f)}catch(H){throw this[Ka]=!1,H}if(R?I={type:B,escapeConnect:b,batch:N}:I=N[0],this[Ka]=!1,!d){var F=void 0;if(S.refineEvent){var q=S.refineEvent(z,f,g,this._api).eventContent;co(mt(q)),F=gt({type:S.refinedEventType},q),F.fromAction=f.type,F.fromActionPayload=f,F.escapeConnect=!0}var Q=this._messageCenter;Q.trigger(I.type,I),F&&Q.trigger(F.type,F)}},vg=function(f){for(var d=this._pendingActions;d.length;){var v=d.shift();cD.call(this,v,f)}},pg=function(f){!f&&this.trigger("updated")},mF=function(f,d){f.on("rendered",function(v){d.trigger("rendered",v),f.animation.isFinished()&&!d[Ci]&&!d._scheduler.unfinished&&!d._pendingActions.length&&d.trigger("finished")})},yF=function(f,d){f.on("mouseover",function(v){var g=v.target,y=Lv(g,Ax);y&&(k_e(y,v,d._api),tl(d))}).on("mouseout",function(v){var g=v.target,y=Lv(g,Ax);y&&(I_e(y,v,d._api),tl(d))}).on("click",function(v){var g=v.target,y=Lv(g,function(w){return wt(w).dataIndex!=null},!0);if(y){var b=y.selected?"unselect":"select",S=wt(y);d._api.dispatchAction({type:b,dataType:S.dataType,dataIndexInside:S.dataIndex,seriesIndex:S.seriesIndex,isFromClick:!0})}})};function n(f){f.clearColorPalette(),f.eachSeries(function(d){d.clearColorPalette()})}function a(f){var d=[],v=[],g=!1;if(f.eachComponent(function(w,M){var A=M.get("zlevel")||0,D=M.get("z")||0,R=M.getZLevelKey();g=g||!!R,(w==="series"?v:d).push({zlevel:A,z:D,idx:M.componentIndex,type:w,key:R})}),g){var y=d.concat(v),b,S;xS(y,function(w,M){return w.zlevel===M.zlevel?w.z-M.z:w.zlevel-M.zlevel}),Y(y,function(w){var M=f.getComponent(w.type,w.idx),A=w.zlevel,D=w.key;b!=null&&(A=Math.max(b,A)),D?(A===b&&D!==S&&A++,S=D):S&&(A===b&&A++,S=""),b=A,M.setZLevel(A)})}}fD=function(f,d,v,g,y){a(d),xF(f,d,v,g,y),Y(f._chartsViews,function(b){b.__alive=!1}),S1(f,d,v,g,y),Y(f._chartsViews,function(b){b.__alive||b.remove(d,v)})},xF=function(f,d,v,g,y,b){Y(b||f._componentsViews,function(S){var w=S.__model;u(w,S),S.render(w,d,v,g),l(w,S),c(w,S)})},S1=function(f,d,v,g,y,b){var S=f._scheduler;y=Ae(y||{},{updatedSeries:d.getSeries()}),Ql.trigger("series:beforeupdate",d,v,y);var w=!1;d.eachSeries(function(M){var A=f._chartsMap[M.__viewId];A.__alive=!0;var D=A.renderTask;S.updatePayload(D,g),u(M,A),b&&b.get(M.uid)&&D.dirty(),D.perform(S.getPerformArgs(D))&&(w=!0),A.group.silent=!!M.get("silent"),s(M,A),nV(M)}),S.unfinished=w||S.unfinished,Ql.trigger("series:layoutlabels",d,v,y),Ql.trigger("series:transition",d,v,y),d.eachSeries(function(M){var A=f._chartsMap[M.__viewId];l(M,A),c(M,A)}),o(f,d),Ql.trigger("series:afterupdate",d,v,y)},tl=function(f){f[oD]=!0,f.getZr().wakeUp()},gg=function(f){f[x1]=(f[x1]+1)%1e3},bF=function(f){f[oD]&&(f.getZr().storage.traverse(function(d){Qg(d)||i(d)}),f[oD]=!1)};function i(f){for(var d=[],v=f.currentStates,g=0;g<v.length;g++){var y=v[g];y==="emphasis"||y==="blur"||y==="select"||d.push(y)}f.selected&&f.states.select&&d.push("select"),f.hoverState===vC&&f.states.emphasis?d.push("emphasis"):f.hoverState===d_&&f.states.blur&&d.push("blur"),f.useStates(d)}function o(f,d){var v=f._zr,g=v.storage,y=0;g.traverse(function(b){b.isGroup||y++}),y>d.get("hoverLayerThreshold")&&!nr.node&&!nr.worker&&d.eachSeries(function(b){if(!b.preventUsingHoverLayer){var S=f._chartsMap[b.__viewId];S.__alive&&S.eachRendered(function(w){w.states.emphasis&&(w.states.emphasis.hoverLayer=!0)})}})}function s(f,d){var v=f.get("blendMode")||null;d.eachRendered(function(g){g.isGroup||(g.style.blend=v)})}function l(f,d){if(!f.preventAutoZ){var v=tp(f);d.eachRendered(function(g){return _C(g,v.z,v.zlevel),!0})}}function u(f,d){d.eachRendered(function(v){if(!Qg(v)){var g=v.getTextContent(),y=v.getTextGuideLine();v.stateTransition&&(v.stateTransition=null),g&&g.stateTransition&&(g.stateTransition=null),y&&y.stateTransition&&(y.stateTransition=null),v.hasState()?(v.prevStates=v.currentStates,v.clearStates()):v.prevStates&&(v.prevStates=null)}})}function c(f,d){var v=f.getModel("stateAnimation"),g=f.isAnimationEnabled(),y=v.get("duration"),b=y>0?{duration:y,delay:v.get("delay"),easing:v.get("easing")}:null;d.eachRendered(function(S){if(S.states&&S.states.emphasis){if(Qg(S))return;if(S instanceof Jt&&H_e(S),S.__dirty){var w=S.prevStates;w&&S.useStates(w)}if(g){S.stateTransition=b;var M=S.getTextContent(),A=S.getTextGuideLine();M&&(M.stateTransition=b),A&&(A.stateTransition=b)}S.__dirty&&i(S)}})}_F=function(f){return new((function(d){ye(v,d);function v(){return d!==null&&d.apply(this,arguments)||this}return v.prototype.getCoordinateSystems=function(){return f._coordSysMgr.getCoordinateSystems()},v.prototype.getComponentByElement=function(g){for(;g;){var y=g.__ecComponentInfo;if(y!=null)return f._model.getComponent(y.mainType,y.index);g=g.parent}},v.prototype.enterEmphasis=function(g,y){_f(g,y),tl(f)},v.prototype.leaveEmphasis=function(g,y){bf(g,y),tl(f)},v.prototype.enterBlur=function(g){v$(g),tl(f)},v.prototype.leaveBlur=function(g){Ck(g),tl(f)},v.prototype.enterSelect=function(g){p$(g),tl(f)},v.prototype.leaveSelect=function(g){g$(g),tl(f)},v.prototype.getModel=function(){return f.getModel()},v.prototype.getViewOfComponentModel=function(g){return f.getViewOfComponentModel(g)},v.prototype.getViewOfSeriesModel=function(g){return f.getViewOfSeriesModel(g)},v.prototype.getMainProcessVersion=function(){return f[x1]},v})(mX))(f)},dK=function(f){function d(v,g){for(var y=0;y<v.length;y++){var b=v[y];b[sD]=g}}Y(MN,function(v,g){f._messageCenter.on(g,function(y){if(SF[f.group]&&f[sD]!==gF){if(y&&y.escapeConnect)return;var b=f.makeActionFromEvent(y),S=[];Y(ox,function(w){w!==f&&w.group===f.group&&S.push(w)}),d(S,gF),Y(S,function(w){w[sD]!==Awe&&w.dispatchAction(b)}),d(S,Dwe)}})})}})(),e})(Nl),tI=vK.prototype;tI.on=lK("on");tI.off=lK("off");tI.one=function(t,e,r){var n=this;function a(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];e&&e.apply&&e.apply(this,i),n.off(t,a)}this.on.call(this,t,a,r)};var Lwe=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];var Mw={},MN={},AN={},DN=[],LN=[],Aw=[],pK={},EN={},ox={},SF={},Ewe=+new Date-0,rI="_echarts_instance_";function Nwe(t,e,r){var n=!(r&&r.ssr);if(n){var a=Rwe(t);if(a)return a}var i=new vK(t,e,r);return i.id="ec_"+Ewe++,ox[i.id]=i,n&&Kq(t,rI,i.id),dK(i),Ql.trigger("afterinit",i),i}function Rwe(t){return ox[Lxe(t,rI)]}function Dw(t,e){pK[t]=e}function gK(t){Vt(LN,t)<0&&LN.push(t)}function mK(t,e){aI(DN,t,e,xwe)}function Pwe(t){nI("afterinit",t)}function kwe(t){nI("afterupdate",t)}function nI(t,e){Ql.on(t,e)}function Tc(t,e,r){var n,a,i,o,s;ot(e)&&(r=e,e=""),mt(t)?(n=t.type,a=t.event,o=t.update,s=t.publishNonRefinedEvent,r||(r=t.action),i=t.refineEvent):(n=t,a=e);function l(c){return c.toLowerCase()}a=l(a||n);var u=i?l(n):a;Mw[n]||(co(pF.test(n)&&pF.test(a)),i&&co(a!==n),Mw[n]={actionType:n,refinedEventType:a,nonRefinedEventType:u,update:o,action:r,refineEvent:i},AN[a]=1,i&&s&&(AN[u]=1),MN[u]=n)}function Iwe(t,e){x_.register(t,e)}function Owe(t,e){aI(Aw,t,e,iK,"layout")}function mp(t,e){aI(Aw,t,e,oK,"visual")}var wF=[];function aI(t,e,r,n,a){if((ot(e)||mt(e))&&(r=e,e=n),!(Vt(wF,r)>=0)){wF.push(r);var i=UX.wrapStageHandler(r,a);i.__prio=e,i.__raw=r,t.push(i)}}function yK(t,e){EN[t]=e}function jwe(t,e,r){var n=hwe("registerMap");n&&n(t,e,r)}var zwe=q1e;mp(eI,_Se);mp(AC,bSe);mp(AC,SSe);mp(eI,ISe);mp(AC,OSe);mp(sK,cwe);gK(xX);mK(mwe,D1e);yK("default",wSe);Tc({type:Ov,event:Ov,update:Ov},_a);Tc({type:TS,event:TS,update:TS},_a);Tc({type:vw,event:wk,update:vw,action:_a,refineEvent:iI,publishNonRefinedEvent:!0});Tc({type:rN,event:wk,update:rN,action:_a,refineEvent:iI,publishNonRefinedEvent:!0});Tc({type:pw,event:wk,update:pw,action:_a,refineEvent:iI,publishNonRefinedEvent:!0});function iI(t,e,r,n){return{eventContent:{selected:j_e(r),isFromClick:e.isFromClick||!1}}}Dw("default",{});Dw("dark",qX);var TF=[],Bwe={registerPreprocessor:gK,registerProcessor:mK,registerPostInit:Pwe,registerPostUpdate:kwe,registerUpdateLifecycle:nI,registerAction:Tc,registerCoordinateSystem:Iwe,registerLayout:Owe,registerVisual:mp,registerTransform:zwe,registerLoading:yK,registerMap:jwe,registerImpl:fwe,PRIORITY:Mwe,ComponentModel:er,ComponentView:Vn,SeriesModel:Sn,ChartView:cn,registerComponentModel:function(t){er.registerClass(t)},registerComponentView:function(t){Vn.registerClass(t)},registerSeriesModel:function(t){Sn.registerClass(t)},registerChartView:function(t){cn.registerClass(t)},registerCustomSeries:function(t,e){dwe(t,e)},registerSubTypeDefaulter:function(t,e){er.registerSubTypeDefaulter(t,e)},registerPainter:function(t,e){nxe(t,e)}};function Ut(t){if(Ee(t)){Y(t,function(e){Ut(e)});return}Vt(TF,t)>=0||(TF.push(t),ot(t)&&(t={install:t}),t.install(Bwe))}function t0(t){return t==null?0:t.length||1}function CF(t){return t}var Sf=(function(){function t(e,r,n,a,i,o){this._old=e,this._new=r,this._oldKeyGetter=n||CF,this._newKeyGetter=a||CF,this.context=i,this._diffModeMultiple=o==="multiple"}return t.prototype.add=function(e){return this._add=e,this},t.prototype.update=function(e){return this._update=e,this},t.prototype.updateManyToOne=function(e){return this._updateManyToOne=e,this},t.prototype.updateOneToMany=function(e){return this._updateOneToMany=e,this},t.prototype.updateManyToMany=function(e){return this._updateManyToMany=e,this},t.prototype.remove=function(e){return this._remove=e,this},t.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},t.prototype._executeOneToOne=function(){var e=this._old,r=this._new,n={},a=new Array(e.length),i=new Array(r.length);this._initIndexMap(e,null,a,"_oldKeyGetter"),this._initIndexMap(r,n,i,"_newKeyGetter");for(var o=0;o<e.length;o++){var s=a[o],l=n[s],u=t0(l);if(u>1){var c=l.shift();l.length===1&&(n[s]=l[0]),this._update&&this._update(c,o)}else u===1?(n[s]=null,this._update&&this._update(l,o)):this._remove&&this._remove(o)}this._performRestAdd(i,n)},t.prototype._executeMultiple=function(){var e=this._old,r=this._new,n={},a={},i=[],o=[];this._initIndexMap(e,n,i,"_oldKeyGetter"),this._initIndexMap(r,a,o,"_newKeyGetter");for(var s=0;s<i.length;s++){var l=i[s],u=n[l],c=a[l],f=t0(u),d=t0(c);if(f>1&&d===1)this._updateManyToOne&&this._updateManyToOne(c,u),a[l]=null;else if(f===1&&d>1)this._updateOneToMany&&this._updateOneToMany(c,u),a[l]=null;else if(f===1&&d===1)this._update&&this._update(c,u),a[l]=null;else if(f>1&&d>1)this._updateManyToMany&&this._updateManyToMany(c,u),a[l]=null;else if(f>1)for(var v=0;v<f;v++)this._remove&&this._remove(u[v]);else this._remove&&this._remove(u)}this._performRestAdd(o,a)},t.prototype._performRestAdd=function(e,r){for(var n=0;n<e.length;n++){var a=e[n],i=r[a],o=t0(i);if(o>1)for(var s=0;s<o;s++)this._add&&this._add(i[s]);else o===1&&this._add&&this._add(i);r[a]=null}},t.prototype._initIndexMap=function(e,r,n,a){for(var i=this._diffModeMultiple,o=0;o<e.length;o++){var s="_ec_"+this[a](e[o],o);if(i||(n[o]=s),!!r){var l=r[s],u=t0(l);u===0?(r[s]=o,i&&n.push(s)):u===1?r[s]=[l,o]:l.push(o)}}},t})(),Vwe=(function(){function t(e,r){this._encode=e,this._schema=r}return t.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},t.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},t})();function Fwe(t,e){var r={},n=r.encode={},a=Qe(),i=[],o=[],s={};Y(t.dimensions,function(d){var v=t.getDimensionInfo(d),g=v.coordDim;if(g){var y=v.coordDimIndex;hD(n,g)[y]=d,v.isExtraCoord||(a.set(g,1),Hwe(v.type)&&(i[0]=d),hD(s,g)[y]=t.getDimensionIndex(v.name)),v.defaultTooltip&&o.push(d)}cX.each(function(b,S){var w=hD(n,S),M=v.otherDims[S];M!=null&&M!==!1&&(w[M]=v.name)})});var l=[],u={};a.each(function(d,v){var g=n[v];u[v]=g[0],l=l.concat(g)}),r.dataDimsOnCoord=l,r.dataDimIndicesOnCoord=Re(l,function(d){return t.getDimensionInfo(d).storeDimIndex}),r.encodeFirstDimNotExtra=u;var c=n.label;c&&c.length&&(i=c.slice());var f=n.tooltip;return f&&f.length?o=f.slice():o.length||(o=i.slice()),n.defaultedLabel=i,n.defaultedTooltip=o,r.userOutput=new Vwe(s,e),r}function hD(t,e){return t.hasOwnProperty(e)||(t[e]=[]),t[e]}function Lw(t){return t==="category"?"ordinal":t==="time"?"time":"float"}function Hwe(t){return!(t==="ordinal"||t==="time")}var NS=(function(){function t(e){this.otherDims={},e!=null&&Ae(this,e)}return t})(),Gwe=Xt(),Uwe={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},xK=(function(){function t(e){this.dimensions=e.dimensions,this._dimOmitted=e.dimensionOmitted,this.source=e.source,this._fullDimCount=e.fullDimensionCount,this._updateDimOmitted(e.dimensionOmitted)}return t.prototype.isDimensionOmitted=function(){return this._dimOmitted},t.prototype._updateDimOmitted=function(e){this._dimOmitted=e,e&&(this._dimNameMap||(this._dimNameMap=SK(this.source)))},t.prototype.getSourceDimensionIndex=function(e){return et(this._dimNameMap.get(e),-1)},t.prototype.getSourceDimension=function(e){var r=this.source.dimensionsDefine;if(r)return r[e]},t.prototype.makeStoreSchema=function(){for(var e=this._fullDimCount,r=bX(this.source),n=!wK(e),a="",i=[],o=0,s=0;o<e;o++){var l=void 0,u=void 0,c=void 0,f=this.dimensions[s];if(f&&f.storeDimIndex===o)l=r?f.name:null,u=f.type,c=f.ordinalMeta,s++;else{var d=this.getSourceDimension(o);d&&(l=r?d.name:null,u=d.type)}i.push({property:l,type:u,ordinalMeta:c}),r&&l!=null&&(!f||!f.isCalculationCoord)&&(a+=n?l.replace(/\`/g,"`1").replace(/\$/g,"`2"):l),a+="$",a+=Uwe[u]||"f",c&&(a+=c.uid),a+="$"}var v=this.source,g=[v.seriesLayoutBy,v.startIndex,a].join("$$");return{dimensions:i,hash:g}},t.prototype.makeOutputDimensionNames=function(){for(var e=[],r=0,n=0;r<this._fullDimCount;r++){var a=void 0,i=this.dimensions[n];if(i&&i.storeDimIndex===r)i.isCalculationCoord||(a=i.name),n++;else{var o=this.getSourceDimension(r);o&&(a=o.name)}e.push(a)}return e},t.prototype.appendCalculationDimension=function(e){this.dimensions.push(e),e.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},t})();function _K(t){return t instanceof xK}function bK(t){for(var e=Qe(),r=0;r<(t||[]).length;r++){var n=t[r],a=mt(n)?n.name:n;a!=null&&e.get(a)==null&&e.set(a,r)}return e}function SK(t){var e=Gwe(t);return e.dimNameMap||(e.dimNameMap=bK(t.dimensionsDefine))}function wK(t){return t>30}var r0=mt,dh=Re,Wwe=typeof Int32Array>"u"?Array:Int32Array,Ywe="e\0\0",MF=-1,Zwe=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],qwe=["_approximateExtent"],AF,w1,n0,a0,dD,i0,vD,Lo=(function(){function t(e,r){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","minmaxDownSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","minmaxDownSample","lttbDownSample"];var n,a=!1;_K(e)?(n=e.dimensions,this._dimOmitted=e.isDimensionOmitted(),this._schema=e):(a=!0,n=e),n=n||["x","y"];for(var i={},o=[],s={},l=!1,u={},c=0;c<n.length;c++){var f=n[c],d=We(f)?new NS({name:f}):f instanceof NS?f:new NS(f),v=d.name;d.type=d.type||"float",d.coordDim||(d.coordDim=v,d.coordDimIndex=0);var g=d.otherDims=d.otherDims||{};o.push(v),i[v]=d,u[v]!=null&&(l=!0),d.createInvertedIndices&&(s[v]=[]);var y=c;vr(d.storeDimIndex)&&(y=d.storeDimIndex),g.itemName===0&&(this._nameDimIdx=y),g.itemId===0&&(this._idDimIdx=y),a&&(d.storeDimIndex=c)}if(this.dimensions=o,this._dimInfos=i,this._initGetDimensionInfo(l),this.hostModel=r,this._invertedIndicesMap=s,this._dimOmitted){var b=this._dimIdxToName=Qe();Y(o,function(S){b.set(i[S].storeDimIndex,S)})}}return t.prototype.getDimension=function(e){var r=this._recognizeDimIndex(e);if(r==null)return e;if(r=e,!this._dimOmitted)return this.dimensions[r];var n=this._dimIdxToName.get(r);if(n!=null)return n;var a=this._schema.getSourceDimension(r);if(a)return a.name},t.prototype.getDimensionIndex=function(e){var r=this._recognizeDimIndex(e);if(r!=null)return r;if(e==null)return-1;var n=this._getDimInfo(e);return n?n.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(e):-1},t.prototype._recognizeDimIndex=function(e){if(vr(e)||e!=null&&!isNaN(e)&&!this._getDimInfo(e)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(e)<0))return+e},t.prototype._getStoreDimIndex=function(e){var r=this.getDimensionIndex(e);return r},t.prototype.getDimensionInfo=function(e){return this._getDimInfo(this.getDimension(e))},t.prototype._initGetDimensionInfo=function(e){var r=this._dimInfos;this._getDimInfo=e?function(n){return r.hasOwnProperty(n)?r[n]:void 0}:function(n){return r[n]}},t.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},t.prototype.mapDimension=function(e,r){var n=this._dimSummary;if(r==null)return n.encodeFirstDimNotExtra[e];var a=n.encode[e];return a?a[r]:null},t.prototype.mapDimensionsAll=function(e){var r=this._dimSummary,n=r.encode[e];return(n||[]).slice()},t.prototype.getStore=function(){return this._store},t.prototype.initData=function(e,r,n){var a=this,i;if(e instanceof xN&&(i=e),!i){var o=this.dimensions,s=Zk(e)||uo(e)?new SX(e,o.length):e;i=new xN;var l=dh(o,function(u){return{type:a._dimInfos[u].type,property:u}});i.initData(s,l,n)}this._store=i,this._nameList=(r||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,i.count()),this._dimSummary=Fwe(this,this._schema),this.userOutput=this._dimSummary.userOutput},t.prototype.appendData=function(e){var r=this._store.appendData(e);this._doInit(r[0],r[1])},t.prototype.appendValues=function(e,r){var n=this._store.appendValues(e,r&&r.length),a=n.start,i=n.end,o=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),r)for(var s=a;s<i;s++){var l=s-a;this._nameList[s]=r[l],o&&vD(this,s)}},t.prototype._updateOrdinalMeta=function(){for(var e=this._store,r=this.dimensions,n=0;n<r.length;n++){var a=this._dimInfos[r[n]];a.ordinalMeta&&e.collectOrdinalMeta(a.storeDimIndex,a.ordinalMeta)}},t.prototype._shouldMakeIdFromName=function(){var e=this._store.getProvider();return this._idDimIdx==null&&e.getSource().sourceFormat!==Uh&&!e.fillStorage},t.prototype._doInit=function(e,r){if(!(e>=r)){var n=this._store,a=n.getProvider();this._updateOrdinalMeta();var i=this._nameList,o=this._idList,s=a.getSource().sourceFormat,l=s===Hs;if(l&&!a.pure)for(var u=[],c=e;c<r;c++){var f=a.getItem(c,u);if(!this.hasItemOption&&gxe(f)&&(this.hasItemOption=!0),f){var d=f.name;i[c]==null&&d!=null&&(i[c]=Ja(d,null));var v=f.id;o[c]==null&&v!=null&&(o[c]=Ja(v,null))}}if(this._shouldMakeIdFromName())for(var c=e;c<r;c++)vD(this,c);AF(this)}},t.prototype.getApproximateExtent=function(e){return this._approximateExtent[e]||this._store.getDataExtent(this._getStoreDimIndex(e))},t.prototype.setApproximateExtent=function(e,r){r=this.getDimension(r),this._approximateExtent[r]=e.slice()},t.prototype.getCalculationInfo=function(e){return this._calculationInfo[e]},t.prototype.setCalculationInfo=function(e,r){r0(e)?Ae(this._calculationInfo,e):this._calculationInfo[e]=r},t.prototype.getName=function(e){var r=this.getRawIndex(e),n=this._nameList[r];return n==null&&this._nameDimIdx!=null&&(n=n0(this,this._nameDimIdx,r)),n==null&&(n=""),n},t.prototype._getCategory=function(e,r){var n=this._store.get(e,r),a=this._store.getOrdinalMeta(e);return a?a.categories[n]:n},t.prototype.getId=function(e){return w1(this,this.getRawIndex(e))},t.prototype.count=function(){return this._store.count()},t.prototype.get=function(e,r){var n=this._store,a=this._dimInfos[e];if(a)return n.get(a.storeDimIndex,r)},t.prototype.getByRawIndex=function(e,r){var n=this._store,a=this._dimInfos[e];if(a)return n.getByRawIndex(a.storeDimIndex,r)},t.prototype.getIndices=function(){return this._store.getIndices()},t.prototype.getDataExtent=function(e){return this._store.getDataExtent(this._getStoreDimIndex(e))},t.prototype.getSum=function(e){return this._store.getSum(this._getStoreDimIndex(e))},t.prototype.getMedian=function(e){return this._store.getMedian(this._getStoreDimIndex(e))},t.prototype.getValues=function(e,r){var n=this,a=this._store;return Ee(e)?a.getValues(dh(e,function(i){return n._getStoreDimIndex(i)}),r):a.getValues(e)},t.prototype.hasValue=function(e){for(var r=this._dimSummary.dataDimIndicesOnCoord,n=0,a=r.length;n<a;n++)if(isNaN(this._store.get(r[n],e)))return!1;return!0},t.prototype.indexOfName=function(e){for(var r=0,n=this._store.count();r<n;r++)if(this.getName(r)===e)return r;return-1},t.prototype.getRawIndex=function(e){return this._store.getRawIndex(e)},t.prototype.indexOfRawIndex=function(e){return this._store.indexOfRawIndex(e)},t.prototype.rawIndexOf=function(e,r){var n=e&&this._invertedIndicesMap[e],a=n&&n[r];return a==null||isNaN(a)?MF:a},t.prototype.each=function(e,r,n){ot(e)&&(n=r,r=e,e=[]);var a=n||this,i=dh(a0(e),this._getStoreDimIndex,this);this._store.each(i,a?Ye(r,a):r)},t.prototype.filterSelf=function(e,r,n){ot(e)&&(n=r,r=e,e=[]);var a=n||this,i=dh(a0(e),this._getStoreDimIndex,this);return this._store=this._store.filter(i,a?Ye(r,a):r),this},t.prototype.selectRange=function(e){var r=this,n={},a=sr(e);return Y(a,function(i){var o=r._getStoreDimIndex(i);n[o]=e[i]}),this._store=this._store.selectRange(n),this},t.prototype.mapArray=function(e,r,n){ot(e)&&(n=r,r=e,e=[]),n=n||this;var a=[];return this.each(e,function(){a.push(r&&r.apply(this,arguments))},n),a},t.prototype.map=function(e,r,n,a){var i=n||a||this,o=dh(a0(e),this._getStoreDimIndex,this),s=i0(this);return s._store=this._store.map(o,i?Ye(r,i):r),s},t.prototype.modify=function(e,r,n,a){var i=n||a||this,o=dh(a0(e),this._getStoreDimIndex,this);this._store.modify(o,i?Ye(r,i):r)},t.prototype.downSample=function(e,r,n,a){var i=i0(this);return i._store=this._store.downSample(this._getStoreDimIndex(e),r,n,a),i},t.prototype.minmaxDownSample=function(e,r){var n=i0(this);return n._store=this._store.minmaxDownSample(this._getStoreDimIndex(e),r),n},t.prototype.lttbDownSample=function(e,r){var n=i0(this);return n._store=this._store.lttbDownSample(this._getStoreDimIndex(e),r),n},t.prototype.getRawDataItem=function(e){return this._store.getRawDataItem(e)},t.prototype.getItemModel=function(e){var r=this.hostModel,n=this.getRawDataItem(e);return new ar(n,r,r&&r.ecModel)},t.prototype.diff=function(e){var r=this;return new Sf(e?e.getStore().getIndices():[],this.getStore().getIndices(),function(n){return w1(e,n)},function(n){return w1(r,n)})},t.prototype.getVisual=function(e){var r=this._visual;return r&&r[e]},t.prototype.setVisual=function(e,r){this._visual=this._visual||{},r0(e)?Ae(this._visual,e):this._visual[e]=r},t.prototype.getItemVisual=function(e,r){var n=this._itemVisuals[e],a=n&&n[r];return a??this.getVisual(r)},t.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},t.prototype.ensureUniqueItemVisual=function(e,r){var n=this._itemVisuals,a=n[e];a||(a=n[e]={});var i=a[r];return i==null&&(i=this.getVisual(r),Ee(i)?i=i.slice():r0(i)&&(i=Ae({},i)),a[r]=i),i},t.prototype.setItemVisual=function(e,r,n){var a=this._itemVisuals[e]||{};this._itemVisuals[e]=a,r0(r)?Ae(a,r):a[r]=n},t.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},t.prototype.setLayout=function(e,r){r0(e)?Ae(this._layout,e):this._layout[e]=r},t.prototype.getLayout=function(e){return this._layout[e]},t.prototype.getItemLayout=function(e){return this._itemLayouts[e]},t.prototype.setItemLayout=function(e,r,n){this._itemLayouts[e]=n?Ae(this._itemLayouts[e]||{},r):r},t.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},t.prototype.setItemGraphicEl=function(e,r){var n=this.hostModel&&this.hostModel.seriesIndex;tN(n,this.dataType,e,r),this._graphicEls[e]=r},t.prototype.getItemGraphicEl=function(e){return this._graphicEls[e]},t.prototype.eachItemGraphicEl=function(e,r){Y(this._graphicEls,function(n,a){n&&e&&e.call(r,n,a)})},t.prototype.cloneShallow=function(e){return e||(e=new t(this._schema?this._schema:dh(this.dimensions,this._getDimInfo,this),this.hostModel)),dD(e,this),e._store=this._store,e},t.prototype.wrapMethod=function(e,r){var n=this[e];ot(n)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var a=n.apply(this,arguments);return r.apply(this,[a].concat(lk(arguments)))})},t.internalField=(function(){AF=function(e){var r=e._invertedIndicesMap;Y(r,function(n,a){var i=e._dimInfos[a],o=i.ordinalMeta,s=e._store;if(o){n=r[a]=new Wwe(o.categories.length);for(var l=0;l<n.length;l++)n[l]=MF;for(var l=0;l<s.count();l++)n[s.get(i.storeDimIndex,l)]=l}})},n0=function(e,r,n){return Ja(e._getCategory(r,n),null)},w1=function(e,r){var n=e._idList[r];return n==null&&e._idDimIdx!=null&&(n=n0(e,e._idDimIdx,r)),n==null&&(n=Ywe+r),n},a0=function(e){return Ee(e)||(e=e!=null?[e]:[]),e},i0=function(e){var r=new t(e._schema?e._schema:dh(e.dimensions,e._getDimInfo,e),e.hostModel);return dD(r,e),r},dD=function(e,r){Y(Zwe.concat(r.__wrappedMethods||[]),function(n){r.hasOwnProperty(n)&&(e[n]=r[n])}),e.__wrappedMethods=r.__wrappedMethods,Y(qwe,function(n){e[n]=ut(r[n])}),e._calculationInfo=Ae({},r._calculationInfo)},vD=function(e,r){var n=e._nameList,a=e._idList,i=e._nameDimIdx,o=e._idDimIdx,s=n[r],l=a[r];if(s==null&&i!=null&&(n[r]=s=n0(e,i,r)),l==null&&o!=null&&(a[r]=l=n0(e,o,r)),l==null&&s!=null){var u=e._nameRepeatCount,c=u[s]=(u[s]||0)+1;l=s,c>1&&(l+="__ec__"+c),a[r]=l}}})(),t})();function S_(t,e){Zk(t)||(t=qk(t)),e=e||{};var r=e.coordDimensions||[],n=e.dimensionsDefine||t.dimensionsDefine||[],a=Qe(),i=[],o=Xwe(t,r,n,e.dimensionsCount),s=e.canOmitUnusedDimensions&&wK(o),l=n===t.dimensionsDefine,u=l?SK(t):bK(n),c=e.encodeDefine;!c&&e.encodeDefaulter&&(c=e.encodeDefaulter(t,o));for(var f=Qe(c),d=new EX(o),v=0;v<d.length;v++)d[v]=-1;function g(z){var B=d[z];if(B<0){var V=n[z],G=mt(V)?V:{name:V},F=new NS,q=G.name;q!=null&&u.get(q)!=null&&(F.name=F.displayName=q),G.type!=null&&(F.type=G.type),G.displayName!=null&&(F.displayName=G.displayName);var Q=i.length;return d[z]=Q,F.storeDimIndex=z,i.push(F),F}return i[B]}if(!s)for(var v=0;v<o;v++)g(v);f.each(function(z,B){var V=gn(z).slice();if(V.length===1&&!We(V[0])&&V[0]<0){f.set(B,!1);return}var G=f.set(B,[]);Y(V,function(F,q){var Q=We(F)?u.get(F):F;Q!=null&&Q<o&&(G[q]=Q,b(g(Q),B,q))})});var y=0;Y(r,function(z){var B,V,G,F;if(We(z))B=z,F={};else{F=z,B=F.name;var q=F.ordinalMeta;F.ordinalMeta=null,F=Ae({},F),F.ordinalMeta=q,V=F.dimsDef,G=F.otherDims,F.name=F.coordDim=F.coordDimIndex=F.dimsDef=F.otherDims=null}var Q=f.get(B);if(Q!==!1){if(Q=gn(Q),!Q.length)for(var H=0;H<(V&&V.length||1);H++){for(;y<o&&g(y).coordDim!=null;)y++;y<o&&Q.push(y++)}Y(Q,function(X,W){var J=g(X);if(l&&F.type!=null&&(J.type=F.type),b(gt(J,F),B,W),J.name==null&&V){var ee=V[W];!mt(ee)&&(ee={name:ee}),J.name=J.displayName=ee.name,J.defaultTooltip=ee.defaultTooltip}G&&gt(J.otherDims,G)})}});function b(z,B,V){cX.get(B)!=null?z.otherDims[B]=V:(z.coordDim=B,z.coordDimIndex=V,a.set(B,!0))}var S=e.generateCoord,w=e.generateCoordCount,M=w!=null;w=S?w||1:0;var A=S||"value";function D(z){z.name==null&&(z.name=z.coordDim)}if(s)Y(i,function(z){D(z)}),i.sort(function(z,B){return z.storeDimIndex-B.storeDimIndex});else for(var R=0;R<o;R++){var N=g(R),I=N.coordDim;I==null&&(N.coordDim=Kwe(A,a,M),N.coordDimIndex=0,(!S||w<=0)&&(N.isExtraCoord=!0),w--),D(N),N.type==null&&(vX(t,R)===Hi.Must||N.isExtraCoord&&(N.otherDims.itemName!=null||N.otherDims.seriesName!=null))&&(N.type="ordinal")}return $we(i),new xK({source:t,dimensions:i,fullDimensionCount:o,dimensionOmitted:s})}function $we(t){for(var e=Qe(),r=0;r<t.length;r++){var n=t[r],a=n.name,i=e.get(a)||0;i>0&&(n.name=a+(i-1)),i++,e.set(a,i)}}function Xwe(t,e,r,n){var a=Math.max(t.dimensionsDetectedCount||1,e.length,r.length,n||0);return Y(e,function(i){var o;mt(i)&&(o=i.dimsDef)&&(a=Math.max(a,o.length))}),a}function Kwe(t,e,r){if(r||e.hasKey(t)){for(var n=0;e.hasKey(t+n);)n++;t+=n}return e.set(t,!0),t}var Qwe=(function(){function t(e){this.coordSysDims=[],this.axisMap=Qe(),this.categoryAxisMap=Qe(),this.coordSysName=e}return t})();function Jwe(t){var e=t.get("coordinateSystem"),r=new Qwe(e),n=eTe[e];if(n)return n(t,r,r.axisMap,r.categoryAxisMap),r}var eTe={cartesian2d:function(t,e,r,n){var a=t.getReferringComponents("xAxis",na).models[0],i=t.getReferringComponents("yAxis",na).models[0];e.coordSysDims=["x","y"],r.set("x",a),r.set("y",i),mg(a)&&(n.set("x",a),e.firstCategoryDimIndex=0),mg(i)&&(n.set("y",i),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},singleAxis:function(t,e,r,n){var a=t.getReferringComponents("singleAxis",na).models[0];e.coordSysDims=["single"],r.set("single",a),mg(a)&&(n.set("single",a),e.firstCategoryDimIndex=0)},polar:function(t,e,r,n){var a=t.getReferringComponents("polar",na).models[0],i=a.findAxisModel("radiusAxis"),o=a.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],r.set("radius",i),r.set("angle",o),mg(i)&&(n.set("radius",i),e.firstCategoryDimIndex=0),mg(o)&&(n.set("angle",o),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},geo:function(t,e,r,n){e.coordSysDims=["lng","lat"]},parallel:function(t,e,r,n){var a=t.ecModel,i=a.getComponent("parallel",t.get("parallelIndex")),o=e.coordSysDims=i.dimensions.slice();Y(i.parallelAxisIndex,function(s,l){var u=a.getComponent("parallelAxis",s),c=o[l];r.set(c,u),mg(u)&&(n.set(c,u),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=l))})},matrix:function(t,e,r,n){var a=t.getReferringComponents("matrix",na).models[0];e.coordSysDims=["x","y"];var i=a.getDimensionModel("x"),o=a.getDimensionModel("y");r.set("x",i),r.set("y",o),n.set("x",i),n.set("y",o)}};function mg(t){return t.get("type")==="category"}function tTe(t,e,r){r=r||{};var n=r.byIndex,a=r.stackedCoordDimension,i,o,s;rTe(e)?i=e:(o=e.schema,i=o.dimensions,s=e.store);var l=!!(t&&t.get("stack")),u,c,f,d;if(Y(i,function(w,M){We(w)&&(i[M]=w={name:w}),l&&!w.isExtraCoord&&(!n&&!u&&w.ordinalMeta&&(u=w),!c&&w.type!=="ordinal"&&w.type!=="time"&&(!a||a===w.coordDim)&&(c=w))}),c&&!n&&!u&&(n=!0),c){f="__\0ecstackresult_"+t.id,d="__\0ecstackedover_"+t.id,u&&(u.createInvertedIndices=!0);var v=c.coordDim,g=c.type,y=0;Y(i,function(w){w.coordDim===v&&y++});var b={name:f,coordDim:v,coordDimIndex:y,type:g,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:i.length},S={name:d,coordDim:d,coordDimIndex:y+1,type:g,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:i.length+1};o?(s&&(b.storeDimIndex=s.ensureCalculationDimension(d,g),S.storeDimIndex=s.ensureCalculationDimension(f,g)),o.appendCalculationDimension(b),o.appendCalculationDimension(S)):(i.push(b),i.push(S))}return{stackedDimension:c&&c.name,stackedByDimension:u&&u.name,isStackedByIndex:n,stackedOverDimension:d,stackResultDimension:f}}function rTe(t){return!_K(t.schema)}function ed(t,e){return!!e&&e===t.getCalculationInfo("stackedDimension")}function TK(t,e){return ed(t,e)?t.getCalculationInfo("stackResultDimension"):e}function nTe(t,e){var r=t.get("coordinateSystem"),n=x_.get(r),a;return e&&e.coordSysDims&&(a=Re(e.coordSysDims,function(i){var o={name:i},s=e.axisMap.get(i);if(s){var l=s.get("type");o.type=Lw(l)}return o})),a||(a=n&&(n.getDimensionsInfo?n.getDimensionsInfo():n.dimensions.slice())||["x","y"]),a}function aTe(t,e,r){var n,a;return r&&Y(t,function(i,o){var s=i.coordDim,l=r.categoryAxisMap.get(s);l&&(n==null&&(n=o),i.ordinalMeta=l.getOrdinalMeta(),e&&(i.createInvertedIndices=!0)),i.otherDims.itemName!=null&&(a=!0)}),!a&&n!=null&&(t[n].otherDims.itemName=0),n}function Rf(t,e,r){r=r||{};var n=e.getSourceManager(),a,i=!1;t?(i=!0,a=qk(t)):(a=n.getSource(),i=a.sourceFormat===Hs);var o=Jwe(e),s=nTe(e,o),l=r.useEncodeDefaulter,u=ot(l)?l:l?zt(dX,s,e):null,c={coordDimensions:s,generateCoord:r.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:u,canOmitUnusedDimensions:!i},f=S_(a,c),d=aTe(f.dimensions,r.createInvertedIndices,o),v=i?null:n.getSharedDataStore(f),g=tTe(e,{schema:f,store:v}),y=new Lo(f,e);y.setCalculationInfo(g);var b=d!=null&&iTe(a)?function(S,w,M,A){return A===d?M:this.defaultDimValueGetter(S,w,M,A)}:null;return y.hasItemOption=!1,y.initData(i?a:v,null,b),y}function iTe(t){if(t.sourceFormat===Hs){var e=oTe(t.data||[]);return!Ee(Bm(e))}}function oTe(t){for(var e=0;e<t.length&&t[e]==null;)e++;return t[e]}function NN(t){return t.type==="interval"||t.type==="log"}function sTe(t,e,r,n,a){var i={},o=i.interval=Hq(e/r);n!=null&&o<n&&(o=i.interval=n),a!=null&&o>a&&(o=i.interval=a);var s=i.intervalPrecision=Ix(o),l=i.niceTickExtent=[Ea(Math.ceil(t[0]/o)*o,s),Ea(Math.floor(t[1]/o)*o,s)];return lTe(l,t),i}function pD(t){var e=Math.pow(10,pk(t)),r=t/e;return r?r===2?r=3:r===3?r=5:r*=2:r=1,Ea(r*e)}function Ix(t){return rc(t)+2}function DF(t,e,r){t[e]=Math.max(Math.min(t[e],r[1]),r[0])}function lTe(t,e){!isFinite(t[0])&&(t[0]=e[0]),!isFinite(t[1])&&(t[1]=e[1]),DF(t,0,e),DF(t,1,e),t[0]>t[1]&&(t[0]=t[1])}function oI(t,e){return t>=e[0]&&t<=e[1]}var uTe=(function(){function t(){this.normalize=LF,this.scale=EF}return t.prototype.updateMethods=function(e){e.hasBreaks()?(this.normalize=Ye(e.normalize,e),this.scale=Ye(e.scale,e)):(this.normalize=LF,this.scale=EF)},t})();function LF(t,e){return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])}function EF(t,e){return t*(e[1]-e[0])+e[0]}function RN(t,e,r){var n=Math.log(t);return[Math.log(r?e[0]:Math.max(0,e[0]))/n,Math.log(r?e[1]:Math.max(0,e[1]))/n]}var hd=(function(){function t(e){this._calculator=new uTe,this._setting=e||{},this._extent=[1/0,-1/0];var r=Ra();r&&(this._brkCtx=r.createScaleBreakContext(),this._brkCtx.update(this._extent))}return t.prototype.getSetting=function(e){return this._setting[e]},t.prototype._innerUnionExtent=function(e){var r=this._extent;this._innerSetExtent(e[0]<r[0]?e[0]:r[0],e[1]>r[1]?e[1]:r[1])},t.prototype.unionExtentFromData=function(e,r){this._innerUnionExtent(e.getApproximateExtent(r))},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.setExtent=function(e,r){this._innerSetExtent(e,r)},t.prototype._innerSetExtent=function(e,r){var n=this._extent;isNaN(e)||(n[0]=e),isNaN(r)||(n[1]=r),this._brkCtx&&this._brkCtx.update(n)},t.prototype.setBreaksFromOption=function(e){var r=Ra();r&&this._innerSetBreak(r.parseAxisBreakOption(e,Ye(this.parse,this)))},t.prototype._innerSetBreak=function(e){this._brkCtx&&(this._brkCtx.setBreaks(e),this._calculator.updateMethods(this._brkCtx),this._brkCtx.update(this._extent))},t.prototype._innerGetBreaks=function(){return this._brkCtx?this._brkCtx.breaks:[]},t.prototype.hasBreaks=function(){return this._brkCtx?this._brkCtx.hasBreaks():!1},t.prototype._getExtentSpanWithBreaks=function(){return this._brkCtx&&this._brkCtx.hasBreaks()?this._brkCtx.getExtentSpan():this._extent[1]-this._extent[0]},t.prototype.isInExtentRange=function(e){return this._extent[0]<=e&&this._extent[1]>=e},t.prototype.isBlank=function(){return this._isBlank},t.prototype.setBlank=function(e){this._isBlank=e},t})();lC(hd);var cTe=0,Ox=(function(){function t(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication,this.uid=++cTe,this._onCollect=e.onCollect}return t.createByAxisModel=function(e){var r=e.option,n=r.data,a=n&&Re(n,fTe);return new t({categories:a,needCollect:!a,deduplication:r.dedplication!==!1})},t.prototype.getOrdinal=function(e){return this._getOrCreateMap().get(e)},t.prototype.parseAndCollect=function(e){var r,n=this._needCollect;if(!We(e)&&!n)return e;if(n&&!this._deduplication)return r=this.categories.length,this.categories[r]=e,this._onCollect&&this._onCollect(e,r),r;var a=this._getOrCreateMap();return r=a.get(e),r==null&&(n?(r=this.categories.length,this.categories[r]=e,a.set(e,r),this._onCollect&&this._onCollect(e,r)):r=NaN),r},t.prototype._getOrCreateMap=function(){return this._map||(this._map=Qe(this.categories))},t})();function fTe(t){return mt(t)&&t.value!=null?t.value:t+""}var gm=(function(t){ye(e,t);function e(r){var n=t.call(this,r)||this;n.type="ordinal";var a=n.getSetting("ordinalMeta");return a||(a=new Ox({})),Ee(a)&&(a=new Ox({categories:Re(a,function(i){return mt(i)?i.value:i})})),n._ordinalMeta=a,n._extent=n.getSetting("extent")||[0,a.categories.length-1],n}return e.prototype.parse=function(r){return r==null?NaN:We(r)?this._ordinalMeta.getOrdinal(r):Math.round(r)},e.prototype.contain=function(r){return oI(r,this._extent)&&r>=0&&r<this._ordinalMeta.categories.length},e.prototype.normalize=function(r){return r=this._getTickNumber(r),this._calculator.normalize(r,this._extent)},e.prototype.scale=function(r){return r=Math.round(this._calculator.scale(r,this._extent)),this.getRawOrdinalNumber(r)},e.prototype.getTicks=function(){for(var r=[],n=this._extent,a=n[0];a<=n[1];)r.push({value:a}),a++;return r},e.prototype.getMinorTicks=function(r){},e.prototype.setSortInfo=function(r){if(r==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var n=r.ordinalNumbers,a=this._ordinalNumbersByTick=[],i=this._ticksByOrdinalNumber=[],o=0,s=this._ordinalMeta.categories.length,l=Math.min(s,n.length);o<l;++o){var u=n[o];a[o]=u,i[u]=o}for(var c=0;o<s;++o){for(;i[c]!=null;)c++;a.push(c),i[c]=o}},e.prototype._getTickNumber=function(r){var n=this._ticksByOrdinalNumber;return n&&r>=0&&r<n.length?n[r]:r},e.prototype.getRawOrdinalNumber=function(r){var n=this._ordinalNumbersByTick;return n&&r>=0&&r<n.length?n[r]:r},e.prototype.getLabel=function(r){if(!this.isBlank()){var n=this.getRawOrdinalNumber(r.value),a=this._ordinalMeta.categories[n];return a==null?"":a+""}},e.prototype.count=function(){return this._extent[1]-this._extent[0]+1},e.prototype.isInExtentRange=function(r){return r=this._getTickNumber(r),this._extent[0]<=r&&this._extent[1]>=r},e.prototype.getOrdinalMeta=function(){return this._ordinalMeta},e.prototype.calcNiceTicks=function(){},e.prototype.calcNiceExtent=function(){},e.type="ordinal",e})(hd);hd.registerClass(gm);var vh=Ea,wf=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="interval",r._interval=0,r._intervalPrecision=2,r}return e.prototype.parse=function(r){return r==null||r===""?NaN:Number(r)},e.prototype.contain=function(r){return oI(r,this._extent)},e.prototype.normalize=function(r){return this._calculator.normalize(r,this._extent)},e.prototype.scale=function(r){return this._calculator.scale(r,this._extent)},e.prototype.getInterval=function(){return this._interval},e.prototype.setInterval=function(r){this._interval=r,this._niceExtent=this._extent.slice(),this._intervalPrecision=Ix(r)},e.prototype.getTicks=function(r){r=r||{};var n=this._interval,a=this._extent,i=this._niceExtent,o=this._intervalPrecision,s=Ra(),l=[];if(!n)return l;if(r.breakTicks==="only_break"&&s)return s.addBreaksToTicks(l,this._brkCtx.breaks,this._extent),l;var u=1e4;a[0]<i[0]&&(r.expandToNicedExtent?l.push({value:vh(i[0]-n,o)}):l.push({value:a[0]}));for(var c=function(g,y){return Math.round((y-g)/n)},f=i[0];f<=i[1];){if(l.push({value:f}),f=vh(f+n,o),this._brkCtx){var d=this._brkCtx.calcNiceTickMultiple(f,c);d>=0&&(f=vh(f+d*n,o))}if(l.length>0&&f===l[l.length-1].value)break;if(l.length>u)return[]}var v=l.length?l[l.length-1].value:i[1];return a[1]>v&&(r.expandToNicedExtent?l.push({value:vh(v+n,o)}):l.push({value:a[1]})),s&&s.pruneTicksByBreak(r.pruneByBreak,l,this._brkCtx.breaks,function(g){return g.value},this._interval,this._extent),r.breakTicks!=="none"&&s&&s.addBreaksToTicks(l,this._brkCtx.breaks,this._extent),l},e.prototype.getMinorTicks=function(r){for(var n=this.getTicks({expandToNicedExtent:!0}),a=[],i=this.getExtent(),o=1;o<n.length;o++){var s=n[o],l=n[o-1];if(!(l.break||s.break)){for(var u=0,c=[],f=s.value-l.value,d=f/r,v=Ix(d);u<r-1;){var g=vh(l.value+(u+1)*d,v);g>i[0]&&g<i[1]&&c.push(g),u++}var y=Ra();y&&y.pruneTicksByBreak("auto",c,this._getNonTransBreaks(),function(b){return b},this._interval,i),a.push(c)}}return a},e.prototype._getNonTransBreaks=function(){return this._brkCtx?this._brkCtx.breaks:[]},e.prototype.getLabel=function(r,n){if(r==null)return"";var a=n&&n.precision;a==null?a=rc(r.value)||0:a==="auto"&&(a=this._intervalPrecision);var i=vh(r.value,a,!0);return K$(i)},e.prototype.calcNiceTicks=function(r,n,a){r=r||5;var i=this._extent.slice(),o=this._getExtentSpanWithBreaks();if(isFinite(o)){o<0&&(o=-o,i.reverse(),this._innerSetExtent(i[0],i[1]),i=this._extent.slice());var s=sTe(i,o,r,n,a);this._intervalPrecision=s.intervalPrecision,this._interval=s.interval,this._niceExtent=s.niceTickExtent}},e.prototype.calcNiceExtent=function(r){var n=this._extent.slice();if(n[0]===n[1])if(n[0]!==0){var a=Math.abs(n[0]);r.fixMax||(n[1]+=a/2),n[0]-=a/2}else n[1]=1;var i=n[1]-n[0];isFinite(i)||(n[0]=0,n[1]=1),this._innerSetExtent(n[0],n[1]),n=this._extent.slice(),this.calcNiceTicks(r.splitNumber,r.minInterval,r.maxInterval);var o=this._interval,s=this._intervalPrecision;r.fixMin||(n[0]=vh(Math.floor(n[0]/o)*o,s)),r.fixMax||(n[1]=vh(Math.ceil(n[1]/o)*o,s)),this._innerSetExtent(n[0],n[1])},e.prototype.setNiceExtent=function(r,n){this._niceExtent=[r,n]},e.type="interval",e})(hd);hd.registerClass(wf);var CK=typeof Float32Array<"u",hTe=CK?Float32Array:Array;function ac(t){return Ee(t)?CK?new Float32Array(t):t:new hTe(t)}var PN="__ec_stack_";function MK(t){return t.get("stack")||PN+t.seriesIndex}function sI(t){return t.dim+t.index}function dTe(t){var e=[],r=t.axis,n="axis0";if(r.type==="category"){for(var a=r.getBandWidth(),i=0;i<t.count;i++)e.push(gt({bandWidth:a,axisKey:n,stackId:PN+i},t));for(var o=LK(e),s=[],i=0;i<t.count;i++){var l=o[n][PN+i];l.offsetCenter=l.offset+l.width/2,s.push(l)}return s}}function AK(t,e){var r=[];return e.eachSeriesByType(t,function(n){RK(n)&&r.push(n)}),r}function vTe(t){var e={};Y(t,function(l){var u=l.coordinateSystem,c=u.getBaseAxis();if(!(c.type!=="time"&&c.type!=="value"))for(var f=l.getData(),d=c.dim+"_"+c.index,v=f.getDimensionIndex(f.mapDimension(c.dim)),g=f.getStore(),y=0,b=g.count();y<b;++y){var S=g.get(v,y);e[d]?e[d].push(S):e[d]=[S]}});var r={};for(var n in e)if(e.hasOwnProperty(n)){var a=e[n];if(a){a.sort(function(l,u){return l-u});for(var i=null,o=1;o<a.length;++o){var s=a[o]-a[o-1];s>0&&(i=i===null?s:Math.min(i,s))}r[n]=i}}return r}function DK(t){var e=vTe(t),r=[];return Y(t,function(n){var a=n.coordinateSystem,i=a.getBaseAxis(),o=i.getExtent(),s;if(i.type==="category")s=i.getBandWidth();else if(i.type==="value"||i.type==="time"){var l=i.dim+"_"+i.index,u=e[l],c=Math.abs(o[1]-o[0]),f=i.scale.getExtent(),d=Math.abs(f[1]-f[0]);s=u?c/d*u:c}else{var v=n.getData();s=Math.abs(o[1]-o[0])/v.count()}var g=Ue(n.get("barWidth"),s),y=Ue(n.get("barMaxWidth"),s),b=Ue(n.get("barMinWidth")||(PK(n)?.5:1),s),S=n.get("barGap"),w=n.get("barCategoryGap"),M=n.get("defaultBarGap");r.push({bandWidth:s,barWidth:g,barMaxWidth:y,barMinWidth:b,barGap:S,barCategoryGap:w,defaultBarGap:M,axisKey:sI(i),stackId:MK(n)})}),LK(r)}function LK(t){var e={};Y(t,function(n,a){var i=n.axisKey,o=n.bandWidth,s=e[i]||{bandWidth:o,remainedWidth:o,autoWidthCount:0,categoryGap:null,gap:n.defaultBarGap||0,stacks:{}},l=s.stacks;e[i]=s;var u=n.stackId;l[u]||s.autoWidthCount++,l[u]=l[u]||{width:0,maxWidth:0};var c=n.barWidth;c&&!l[u].width&&(l[u].width=c,c=Math.min(s.remainedWidth,c),s.remainedWidth-=c);var f=n.barMaxWidth;f&&(l[u].maxWidth=f);var d=n.barMinWidth;d&&(l[u].minWidth=d);var v=n.barGap;v!=null&&(s.gap=v);var g=n.barCategoryGap;g!=null&&(s.categoryGap=g)});var r={};return Y(e,function(n,a){r[a]={};var i=n.stacks,o=n.bandWidth,s=n.categoryGap;if(s==null){var l=sr(i).length;s=Math.max(35-l*4,15)+"%"}var u=Ue(s,o),c=Ue(n.gap,1),f=n.remainedWidth,d=n.autoWidthCount,v=(f-u)/(d+(d-1)*c);v=Math.max(v,0),Y(i,function(S){var w=S.maxWidth,M=S.minWidth;if(S.width){var A=S.width;w&&(A=Math.min(A,w)),M&&(A=Math.max(A,M)),S.width=A,f-=A+c*A,d--}else{var A=v;w&&w<A&&(A=Math.min(w,f)),M&&M>A&&(A=M),A!==v&&(S.width=A,f-=A+c*A,d--)}}),v=(f-u)/(d+(d-1)*c),v=Math.max(v,0);var g=0,y;Y(i,function(S,w){S.width||(S.width=v),y=S,g+=S.width*(1+c)}),y&&(g-=y.width*c);var b=-g/2;Y(i,function(S,w){r[a][w]=r[a][w]||{bandWidth:o,offset:b,width:S.width},b+=S.width*(1+c)})}),r}function pTe(t,e,r){if(t&&e){var n=t[sI(e)];return n}}function EK(t,e){var r=AK(t,e),n=DK(r);Y(r,function(a){var i=a.getData(),o=a.coordinateSystem,s=o.getBaseAxis(),l=MK(a),u=n[sI(s)][l],c=u.offset,f=u.width;i.setLayout({bandWidth:u.bandWidth,offset:c,size:f})})}function NK(t){return{seriesType:t,plan:Ym(),reset:function(e){if(RK(e)){var r=e.getData(),n=e.coordinateSystem,a=n.getBaseAxis(),i=n.getOtherAxis(a),o=r.getDimensionIndex(r.mapDimension(i.dim)),s=r.getDimensionIndex(r.mapDimension(a.dim)),l=e.get("showBackground",!0),u=r.mapDimension(i.dim),c=r.getCalculationInfo("stackResultDimension"),f=ed(r,u)&&!!r.getCalculationInfo("stackedOnSeries"),d=i.isHorizontal(),v=gTe(a,i),g=PK(e),y=e.get("barMinHeight")||0,b=c&&r.getDimensionIndex(c),S=r.getLayout("size"),w=r.getLayout("offset");return{progress:function(M,A){for(var D=M.count,R=g&&ac(D*3),N=g&&l&&ac(D*3),I=g&&ac(D),z=n.master.getRect(),B=d?z.width:z.height,V,G=A.getStore(),F=0;(V=M.next())!=null;){var q=G.get(f?b:o,V),Q=G.get(s,V),H=v,X=void 0;f&&(X=+q-G.get(o,V));var W=void 0,J=void 0,ee=void 0,K=void 0;if(d){var ne=n.dataToPoint([q,Q]);if(f){var ie=n.dataToPoint([X,Q]);H=ie[0]}W=H,J=ne[1]+w,ee=ne[0]-H,K=S,Math.abs(ee)<y&&(ee=(ee<0?-1:1)*y)}else{var ne=n.dataToPoint([Q,q]);if(f){var ie=n.dataToPoint([Q,X]);H=ie[1]}W=ne[0]+w,J=H,ee=S,K=ne[1]-H,Math.abs(K)<y&&(K=(K<=0?-1:1)*y)}g?(R[F]=W,R[F+1]=J,R[F+2]=d?ee:K,N&&(N[F]=d?z.x:W,N[F+1]=d?J:z.y,N[F+2]=B),I[V]=V):A.setItemLayout(V,{x:W,y:J,width:ee,height:K}),F+=3}g&&A.setLayout({largePoints:R,largeDataIndices:I,largeBackgroundPoints:N,valueAxisHorizontal:d})}}}}}}function RK(t){return t.coordinateSystem&&t.coordinateSystem.type==="cartesian2d"}function PK(t){return t.pipelineContext&&t.pipelineContext.large}function gTe(t,e){var r=e.model.get("startValue");return r||(r=0),e.toGlobalCoord(e.dataToCoord(e.type==="log"?r>0?r:1:r))}var mTe=function(t,e,r,n){for(;r<n;){var a=r+n>>>1;t[a][1]<e?r=a+1:n=a}return r},lI=(function(t){ye(e,t);function e(r){var n=t.call(this,r)||this;return n.type="time",n}return e.prototype.getLabel=function(r){var n=this.getSetting("useUTC");return SC(r.value,_V[Ube(ax(this._minLevelUnit))]||_V.second,n,this.getSetting("locale"))},e.prototype.getFormattedLabel=function(r,n,a){var i=this.getSetting("useUTC"),o=this.getSetting("locale");return Wbe(r,n,a,o,i)},e.prototype.getTicks=function(r){r=r||{};var n=this._interval,a=this._extent,i=Ra(),o=[];if(!n)return o;var s=this.getSetting("useUTC");if(i&&r.breakTicks==="only_break")return Ra().addBreaksToTicks(o,this._brkCtx.breaks,this._extent),o;var l=Fg(a[1],s);o.push({value:a[0],time:{level:0,upperTimeUnit:l,lowerTimeUnit:l}});var u=TTe(this._minLevelUnit,this._approxInterval,s,a,this._getExtentSpanWithBreaks(),this._brkCtx);o=o.concat(u);var c=Fg(a[1],s);o.push({value:a[1],time:{level:0,upperTimeUnit:c,lowerTimeUnit:c}});var f=this.getSetting("useUTC"),d=Cs.length-1,v=0;return Y(o,function(g){d=Math.min(d,Vt(Cs,g.time.upperTimeUnit)),v=Math.max(v,g.time.level)}),i&&Ra().pruneTicksByBreak(r.pruneByBreak,o,this._brkCtx.breaks,function(g){return g.value},this._approxInterval,this._extent),i&&r.breakTicks!=="none"&&Ra().addBreaksToTicks(o,this._brkCtx.breaks,this._extent,function(g){for(var y=Math.max(Vt(Cs,Fg(g.vmin,f)),Vt(Cs,Fg(g.vmax,f))),b=0,S=0;S<Cs.length;S++)if(!kK(Cs[S],g.vmin,g.vmax,f)){b=S;break}var w=Math.min(b,d),M=Math.max(w,y);return{level:v,lowerTimeUnit:Cs[M],upperTimeUnit:Cs[w]}}),o},e.prototype.calcNiceExtent=function(r){var n=this.getExtent();if(n[0]===n[1]&&(n[0]-=gl,n[1]+=gl),n[1]===-1/0&&n[0]===1/0){var a=new Date;n[1]=+new Date(a.getFullYear(),a.getMonth(),a.getDate()),n[0]=n[1]-gl}this._innerSetExtent(n[0],n[1]),this.calcNiceTicks(r.splitNumber,r.minInterval,r.maxInterval)},e.prototype.calcNiceTicks=function(r,n,a){r=r||10;var i=this._getExtentSpanWithBreaks();this._approxInterval=i/r,n!=null&&this._approxInterval<n&&(this._approxInterval=n),a!=null&&this._approxInterval>a&&(this._approxInterval=a);var o=T1.length,s=Math.min(mTe(T1,this._approxInterval,0,o),o-1);this._interval=T1[s][1],this._intervalPrecision=Ix(this._interval),this._minLevelUnit=T1[Math.max(s-1,0)][0]},e.prototype.parse=function(r){return vr(r)?r:+hp(r)},e.prototype.contain=function(r){return oI(r,this._extent)},e.prototype.normalize=function(r){return this._calculator.normalize(r,this._extent)},e.prototype.scale=function(r){return this._calculator.scale(r,this._extent)},e.type="time",e})(wf),T1=[["second",kk],["minute",Ik],["hour",nx],["quarter-day",nx*6],["half-day",nx*12],["day",gl*1.2],["half-week",gl*3.5],["week",gl*7],["month",gl*31],["quarter",gl*95],["half-year",xV/2],["year",xV]];function kK(t,e,r,n){return dN(new Date(e),t,n).getTime()===dN(new Date(r),t,n).getTime()}function yTe(t,e){return t/=gl,t>16?16:t>7.5?7:t>3.5?4:t>1.5?2:1}function xTe(t){var e=30*gl;return t/=e,t>6?6:t>3?3:t>2?2:1}function _Te(t){return t/=nx,t>12?12:t>6?6:t>3.5?4:t>2?2:1}function NF(t,e){return t/=e?Ik:kk,t>30?30:t>20?20:t>15?15:t>10?10:t>5?5:t>2?2:1}function bTe(t){return Hq(t)}function STe(t,e,r){var n=Math.max(0,Vt(Cs,e)-1);return dN(new Date(t),Cs[n],r).getTime()}function wTe(t,e){var r=new Date(0);r[t](1);var n=r.getTime();r[t](1+e);var a=r.getTime()-n;return function(i,o){return Math.max(0,Math.round((o-i)/a))}}function TTe(t,e,r,n,a,i){var o=1e4,s=Vbe,l=0;function u(F,q,Q,H,X,W,J){for(var ee=wTe(X,F),K=q,ne=new Date(K);K<Q&&K<=n[1]&&(J.push({value:K}),!(l++>o));)if(ne[X](ne[H]()+F),K=ne.getTime(),i){var ie=i.calcNiceTickMultiple(K,ee);ie>0&&(ne[X](ne[H]()+ie*F),K=ne.getTime())}J.push({value:K,notAdd:!0})}function c(F,q,Q){var H=[],X=!q.length;if(!kK(ax(F),n[0],n[1],r)){X&&(q=[{value:STe(n[0],F,r)},{value:n[1]}]);for(var W=0;W<q.length-1;W++){var J=q[W].value,ee=q[W+1].value;if(J!==ee){var K=void 0,ne=void 0,ie=void 0,le=!1;switch(F){case"year":K=Math.max(1,Math.round(e/gl/365)),ne=U$(r),ie=Ybe(r);break;case"half-year":case"quarter":case"month":K=xTe(e),ne=Ok(r),ie=W$(r);break;case"week":case"half-week":case"day":K=yTe(e),ne=jk(r),ie=Y$(r),le=!0;break;case"half-day":case"quarter-day":case"hour":K=_Te(e),ne=zk(r),ie=Z$(r);break;case"minute":K=NF(e,!0),ne=Bk(r),ie=q$(r);break;case"second":K=NF(e,!1),ne=Vk(r),ie=$$(r);break;case"millisecond":K=bTe(e),ne=Fk(r),ie=X$(r);break}ee>=n[0]&&J<=n[1]&&u(K,J,ee,ne,ie,le,H),F==="year"&&Q.length>1&&W===0&&Q.unshift({value:Q[0].value-K})}}for(var W=0;W<H.length;W++)Q.push(H[W])}}for(var f=[],d=[],v=0,g=0,y=0;y<s.length;++y){var b=ax(s[y]);if(Gbe(s[y])){c(s[y],f[f.length-1]||[],d);var S=s[y+1]?ax(s[y+1]):null;if(b!==S){if(d.length){g=v,d.sort(function(F,q){return F.value-q.value});for(var w=[],M=0;M<d.length;++M){var A=d[M].value;(M===0||d[M-1].value!==A)&&(w.push(d[M]),A>=n[0]&&A<=n[1]&&v++)}var D=a/e;if(v>D*1.5&&g>D/1.5||(f.push(w),v>D||t===s[y]))break}d=[]}}}for(var R=Ir(Re(f,function(F){return Ir(F,function(q){return q.value>=n[0]&&q.value<=n[1]&&!q.notAdd})}),function(F){return F.length>0}),N=[],I=R.length-1,y=0;y<R.length;++y)for(var z=R[y],B=0;B<z.length;++B){var V=Fg(z[B].value,r);N.push({value:z[B].value,time:{level:I-y,upperTimeUnit:V,lowerTimeUnit:V}})}N.sort(function(F,q){return F.value-q.value});for(var G=[],y=0;y<N.length;++y)(y===0||N[y].value!==N[y-1].value)&&G.push(N[y]);return G}hd.registerClass(lI);var kN=Ea,CTe=Math.floor,MTe=Math.ceil,C1=Math.pow,M1=Math.log,IK=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="log",r.base=10,r._originalScale=new wf,r}return e.prototype.getTicks=function(r){r=r||{};var n=this._extent.slice(),a=this._originalScale.getExtent(),i=t.prototype.getTicks.call(this,r),o=this.base,s=this._originalScale._innerGetBreaks(),l=Ra();return Re(i,function(u){var c=u.value,f=null,d=C1(o,c);c===n[0]&&this._fixMin?f=a[0]:c===n[1]&&this._fixMax&&(f=a[1]);var v;if(l){var g=l.getTicksLogTransformBreak(u,o,s,A1);v=g.vBreak,f==null&&(f=g.brkRoundingCriterion)}return f!=null&&(d=A1(d,f)),{value:d,break:v}},this)},e.prototype._getNonTransBreaks=function(){return this._originalScale._innerGetBreaks()},e.prototype.setExtent=function(r,n){this._originalScale.setExtent(r,n);var a=RN(this.base,[r,n]);t.prototype.setExtent.call(this,a[0],a[1])},e.prototype.getExtent=function(){var r=this.base,n=t.prototype.getExtent.call(this);n[0]=C1(r,n[0]),n[1]=C1(r,n[1]);var a=this._originalScale.getExtent();return this._fixMin&&(n[0]=A1(n[0],a[0])),this._fixMax&&(n[1]=A1(n[1],a[1])),n},e.prototype.unionExtentFromData=function(r,n){this._originalScale.unionExtentFromData(r,n);var a=RN(this.base,r.getApproximateExtent(n),!0);this._innerUnionExtent(a)},e.prototype.calcNiceTicks=function(r){r=r||10;var n=this._extent.slice(),a=this._getExtentSpanWithBreaks();if(!(!isFinite(a)||a<=0)){var i=hxe(a),o=r/a*i;for(o<=.5&&(i*=10);!isNaN(i)&&Math.abs(i)<1&&Math.abs(i)>0;)i*=10;var s=[kN(MTe(n[0]/i)*i),kN(CTe(n[1]/i)*i)];this._interval=i,this._intervalPrecision=Ix(i),this._niceExtent=s}},e.prototype.calcNiceExtent=function(r){t.prototype.calcNiceExtent.call(this,r),this._fixMin=r.fixMin,this._fixMax=r.fixMax},e.prototype.contain=function(r){return r=M1(r)/M1(this.base),t.prototype.contain.call(this,r)},e.prototype.normalize=function(r){return r=M1(r)/M1(this.base),t.prototype.normalize.call(this,r)},e.prototype.scale=function(r){return r=t.prototype.scale.call(this,r),C1(this.base,r)},e.prototype.setBreaksFromOption=function(r){var n=Ra();if(n){var a=n.logarithmicParseBreaksFromOption(r,this.base,Ye(this.parse,this)),i=a.parsedOriginal,o=a.parsedLogged;this._originalScale._innerSetBreak(i),this._innerSetBreak(o)}},e.type="log",e})(wf);function A1(t,e){return kN(t,rc(e))}hd.registerClass(IK);var ATe=(function(){function t(e,r,n){this._prepareParams(e,r,n)}return t.prototype._prepareParams=function(e,r,n){n[1]<n[0]&&(n=[NaN,NaN]),this._dataMin=n[0],this._dataMax=n[1];var a=this._isOrdinal=e.type==="ordinal";this._needCrossZero=e.type==="interval"&&r.getNeedCrossZero&&r.getNeedCrossZero();var i=r.get("min",!0);i==null&&(i=r.get("startValue",!0));var o=this._modelMinRaw=i;ot(o)?this._modelMinNum=D1(e,o({min:n[0],max:n[1]})):o!=="dataMin"&&(this._modelMinNum=D1(e,o));var s=this._modelMaxRaw=r.get("max",!0);if(ot(s)?this._modelMaxNum=D1(e,s({min:n[0],max:n[1]})):s!=="dataMax"&&(this._modelMaxNum=D1(e,s)),a)this._axisDataLen=r.getCategories().length;else{var l=r.get("boundaryGap"),u=Ee(l)?l:[l||0,l||0];typeof u[0]=="boolean"||typeof u[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[hu(u[0],1),hu(u[1],1)]}},t.prototype.calculate=function(){var e=this._isOrdinal,r=this._dataMin,n=this._dataMax,a=this._axisDataLen,i=this._boundaryGapInner,o=e?null:n-r||Math.abs(r),s=this._modelMinRaw==="dataMin"?r:this._modelMinNum,l=this._modelMaxRaw==="dataMax"?n:this._modelMaxNum,u=s!=null,c=l!=null;s==null&&(s=e?a?0:NaN:r-i[0]*o),l==null&&(l=e?a?a-1:NaN:n+i[1]*o),(s==null||!isFinite(s))&&(s=NaN),(l==null||!isFinite(l))&&(l=NaN);var f=so(s)||so(l)||e&&!a;this._needCrossZero&&(s>0&&l>0&&!u&&(s=0),s<0&&l<0&&!c&&(l=0));var d=this._determinedMin,v=this._determinedMax;return d!=null&&(s=d,u=!0),v!=null&&(l=v,c=!0),{min:s,max:l,minFixed:u,maxFixed:c,isBlank:f}},t.prototype.modifyDataMinMax=function(e,r){this[LTe[e]]=r},t.prototype.setDeterminedMinMax=function(e,r){var n=DTe[e];this[n]=r},t.prototype.freeze=function(){this.frozen=!0},t})(),DTe={min:"_determinedMin",max:"_determinedMax"},LTe={min:"_dataMin",max:"_dataMax"};function OK(t,e,r){var n=t.rawExtentInfo;return n||(n=new ATe(t,e,r),t.rawExtentInfo=n,n)}function D1(t,e){return e==null?null:so(e)?NaN:t.parse(e)}function jK(t,e){var r=t.type,n=OK(t,e,t.getExtent()).calculate();t.setBlank(n.isBlank);var a=n.min,i=n.max,o=e.ecModel;if(o&&r==="time"){var s=AK("bar",o),l=!1;if(Y(s,function(f){l=l||f.getBaseAxis()===e.axis}),l){var u=DK(s),c=ETe(a,i,e,u);a=c.min,i=c.max}}return{extent:[a,i],fixMin:n.minFixed,fixMax:n.maxFixed}}function ETe(t,e,r,n){var a=r.axis.getExtent(),i=Math.abs(a[1]-a[0]),o=pTe(n,r.axis);if(o===void 0)return{min:t,max:e};var s=1/0;Y(o,function(v){s=Math.min(v.offset,s)});var l=-1/0;Y(o,function(v){l=Math.max(v.offset+v.width,l)}),s=Math.abs(s),l=Math.abs(l);var u=s+l,c=e-t,f=1-(s+l)/i,d=c/f-c;return e+=d*(l/u),t-=d*(s/u),{min:t,max:e}}function mm(t,e){var r=e,n=jK(t,r),a=n.extent,i=r.get("splitNumber");t instanceof IK&&(t.base=r.get("logBase"));var o=t.type,s=r.get("interval"),l=o==="interval"||o==="time";t.setBreaksFromOption(BK(r)),t.setExtent(a[0],a[1]),t.calcNiceExtent({splitNumber:i,fixMin:n.fixMin,fixMax:n.fixMax,minInterval:l?r.get("minInterval"):null,maxInterval:l?r.get("maxInterval"):null}),s!=null&&t.setInterval&&t.setInterval(s)}function DC(t,e){if(e=e||t.get("type"),e)switch(e){case"category":return new gm({ordinalMeta:t.getOrdinalMeta?t.getOrdinalMeta():t.getCategories(),extent:[1/0,-1/0]});case"time":return new lI({locale:t.ecModel.getLocaleModel(),useUTC:t.ecModel.get("useUTC")});default:return new(hd.getClass(e)||wf)}}function NTe(t){var e=t.scale.getExtent(),r=e[0],n=e[1];return!(r>0&&n>0||r<0&&n<0)}function $m(t){var e=t.getLabelModel().get("formatter");if(t.type==="time"){var r=Fbe(e);return function(a,i){return t.scale.getFormattedLabel(a,i,r)}}else{if(We(e))return function(a){var i=t.scale.getLabel(a),o=e.replace("{value}",i??"");return o};if(ot(e)){if(t.type==="category")return function(a,i){return e(Ew(t,a),a.value-t.scale.getExtent()[0],null)};var n=Ra();return function(a,i){var o=null;return n&&(o=n.makeAxisLabelFormatterParamBreak(o,a.break)),e(Ew(t,a),i,o)}}else return function(a){return t.scale.getLabel(a)}}}function Ew(t,e){return t.type==="category"?t.scale.getLabel(e):e.value}function uI(t){var e=t.get("interval");return e??"auto"}function zK(t){return t.type==="category"&&uI(t.getLabelModel())===0}function Nw(t,e){var r={};return Y(t.mapDimensionsAll(e),function(n){r[TK(t,n)]=!0}),sr(r)}function RTe(t,e,r){e&&Y(Nw(e,r),function(n){var a=e.getApproximateExtent(n);a[0]<t[0]&&(t[0]=a[0]),a[1]>t[1]&&(t[1]=a[1])})}function ym(t){return t==="middle"||t==="center"}function jx(t){return t.getShallow("show")}function BK(t){var e=t.get("breaks",!0);if(e!=null)return!Ra()||!PTe(t.axis)?void 0:e}function PTe(t){return(t.dim==="x"||t.dim==="y"||t.dim==="z"||t.dim==="single")&&t.type!=="category"}var w_=(function(){function t(){}return t.prototype.getNeedCrossZero=function(){var e=this.option;return!e.scale},t.prototype.getCoordSysModel=function(){},t})(),kTe=1e-8;function RF(t,e){return Math.abs(t-e)<kTe}function xv(t,e,r){var n=0,a=t[0];if(!a)return!1;for(var i=1;i<t.length;i++){var o=t[i];n+=nf(a[0],a[1],o[0],o[1],e,r),a=o}var s=t[0];return(!RF(a[0],s[0])||!RF(a[1],s[1]))&&(n+=nf(a[0],a[1],s[0],s[1],e,r)),n!==0}var ITe=[];function gD(t,e){for(var r=0;r<t.length;r++)ba(t[r],t[r],e)}function PF(t,e,r,n){for(var a=0;a<t.length;a++){var i=t[a];n&&(i=n.project(i)),i&&isFinite(i[0])&&isFinite(i[1])&&(Nh(e,e,i),Rh(r,r,i))}}function OTe(t){for(var e=0,r=0,n=0,a=t.length,i=t[a-1][0],o=t[a-1][1],s=0;s<a;s++){var l=t[s][0],u=t[s][1],c=i*u-l*o;e+=c,r+=(i+l)*c,n+=(o+u)*c,i=l,o=u}return e?[r/e/3,n/e/3,e]:[t[0][0]||0,t[0][1]||0]}var VK=(function(){function t(e){this.name=e}return t.prototype.setCenter=function(e){this._center=e},t.prototype.getCenter=function(){var e=this._center;return e||(e=this._center=this.calcCenter()),e},t})(),kF=(function(){function t(e,r){this.type="polygon",this.exterior=e,this.interiors=r}return t})(),IF=(function(){function t(e){this.type="linestring",this.points=e}return t})(),FK=(function(t){ye(e,t);function e(r,n,a){var i=t.call(this,r)||this;return i.type="geoJSON",i.geometries=n,i._center=a&&[a[0],a[1]],i}return e.prototype.calcCenter=function(){for(var r=this.geometries,n,a=0,i=0;i<r.length;i++){var o=r[i],s=o.exterior,l=s&&s.length;l>a&&(n=o,a=l)}if(n)return OTe(n.exterior);var u=this.getBoundingRect();return[u.x+u.width/2,u.y+u.height/2]},e.prototype.getBoundingRect=function(r){var n=this._rect;if(n&&!r)return n;var a=[1/0,1/0],i=[-1/0,-1/0],o=this.geometries;return Y(o,function(s){s.type==="polygon"?PF(s.exterior,a,i,r):Y(s.points,function(l){PF(l,a,i,r)})}),isFinite(a[0])&&isFinite(a[1])&&isFinite(i[0])&&isFinite(i[1])||(a[0]=a[1]=i[0]=i[1]=0),n=new yt(a[0],a[1],i[0]-a[0],i[1]-a[1]),r||(this._rect=n),n},e.prototype.contain=function(r){var n=this.getBoundingRect(),a=this.geometries;if(!n.contain(r[0],r[1]))return!1;e:for(var i=0,o=a.length;i<o;i++){var s=a[i];if(s.type==="polygon"){var l=s.exterior,u=s.interiors;if(xv(l,r[0],r[1])){for(var c=0;c<(u?u.length:0);c++)if(xv(u[c],r[0],r[1]))continue e;return!0}}}return!1},e.prototype.transformTo=function(r,n,a,i){var o=this.getBoundingRect(),s=o.width/o.height;a?i||(i=a/s):a=s*i;for(var l=new yt(r,n,a,i),u=o.calculateTransform(l),c=this.geometries,f=0;f<c.length;f++){var d=c[f];d.type==="polygon"?(gD(d.exterior,u),Y(d.interiors,function(v){gD(v,u)})):Y(d.points,function(v){gD(v,u)})}o=this._rect,o.copy(l),this._center=[o.x+o.width/2,o.y+o.height/2]},e.prototype.cloneShallow=function(r){r==null&&(r=this.name);var n=new e(r,this.geometries,this._center);return n._rect=this._rect,n.transformTo=null,n},e})(VK),jTe=(function(t){ye(e,t);function e(r,n){var a=t.call(this,r)||this;return a.type="geoSVG",a._elOnlyForCalculate=n,a}return e.prototype.calcCenter=function(){for(var r=this._elOnlyForCalculate,n=r.getBoundingRect(),a=[n.x+n.width/2,n.y+n.height/2],i=nC(ITe),o=r;o&&!o.isGeoSVGGraphicRoot;)uc(i,o.getLocalTransform(),i),o=o.parent;return fu(i,i),ba(a,a,i),a},e})(VK);function zTe(t){if(!t.UTF8Encoding)return t;var e=t,r=e.UTF8Scale;r==null&&(r=1024);var n=e.features;return Y(n,function(a){var i=a.geometry,o=i.encodeOffsets,s=i.coordinates;if(o)switch(i.type){case"LineString":i.coordinates=HK(s,o,r);break;case"Polygon":mD(s,o,r);break;case"MultiLineString":mD(s,o,r);break;case"MultiPolygon":Y(s,function(l,u){return mD(l,o[u],r)})}}),e.UTF8Encoding=!1,e}function mD(t,e,r){for(var n=0;n<t.length;n++)t[n]=HK(t[n],e[n],r)}function HK(t,e,r){for(var n=[],a=e[0],i=e[1],o=0;o<t.length;o+=2){var s=t.charCodeAt(o)-64,l=t.charCodeAt(o+1)-64;s=s>>1^-(s&1),l=l>>1^-(l&1),s+=a,l+=i,a=s,i=l,n.push([s/r,l/r])}return n}function BTe(t,e){return t=zTe(t),Re(Ir(t.features,function(r){return r.geometry&&r.properties&&r.geometry.coordinates.length>0}),function(r){var n=r.properties,a=r.geometry,i=[];switch(a.type){case"Polygon":var o=a.coordinates;i.push(new kF(o[0],o.slice(1)));break;case"MultiPolygon":Y(a.coordinates,function(l){l[0]&&i.push(new kF(l[0],l.slice(1)))});break;case"LineString":i.push(new IF([a.coordinates]));break;case"MultiLineString":i.push(new IF(a.coordinates))}var s=new FK(n[e||"name"],i,n.cp);return s.properties=n,s})}var VTe=Xt(),sx=Xt(),du={estimate:1,determine:2};function Rw(t){return{out:{noPxChangeTryDetermine:[]},kind:t}}function GK(t,e){var r=Re(e,function(n){return t.scale.parse(n)});return t.type==="time"&&r.length>0&&(r.sort(),r.unshift(r[0]),r.push(r[r.length-1])),r}function FTe(t,e){var r=t.getLabelModel().get("customValues");if(r){var n=$m(t),a=t.scale.getExtent(),i=GK(t,r),o=Ir(i,function(s){return s>=a[0]&&s<=a[1]});return{labels:Re(o,function(s){var l={value:s};return{formattedLabel:n(l),rawLabel:t.scale.getLabel(l),tickValue:s,time:void 0,break:void 0}})}}return t.type==="category"?GTe(t,e):WTe(t)}function HTe(t,e,r){var n=t.getTickModel().get("customValues");if(n){var a=t.scale.getExtent(),i=GK(t,n);return{ticks:Ir(i,function(o){return o>=a[0]&&o<=a[1]})}}return t.type==="category"?UTe(t,e):{ticks:Re(t.scale.getTicks(r),function(o){return o.value})}}function GTe(t,e){var r=t.getLabelModel(),n=UK(t,r,e);return!r.get("show")||t.scale.isBlank()?{labels:[]}:n}function UK(t,e,r){var n=ZTe(t),a=uI(e),i=r.kind===du.estimate;if(!i){var o=YK(n,a);if(o)return o}var s,l;ot(a)?s=$K(t,a):(l=a==="auto"?qTe(t,r):a,s=qK(t,l));var u={labels:s,labelCategoryInterval:l};return i?r.out.noPxChangeTryDetermine.push(function(){return IN(n,a,u),!0}):IN(n,a,u),u}function UTe(t,e){var r=YTe(t),n=uI(e),a=YK(r,n);if(a)return a;var i,o;if((!e.get("show")||t.scale.isBlank())&&(i=[]),ot(n))i=$K(t,n,!0);else if(n==="auto"){var s=UK(t,t.getLabelModel(),Rw(du.determine));o=s.labelCategoryInterval,i=Re(s.labels,function(l){return l.tickValue})}else o=n,i=qK(t,o,!0);return IN(r,n,{ticks:i,tickCategoryInterval:o})}function WTe(t){var e=t.scale.getTicks(),r=$m(t);return{labels:Re(e,function(n,a){return{formattedLabel:r(n,a),rawLabel:t.scale.getLabel(n),tickValue:n.value,time:n.time,break:n.break}})}}var YTe=WK("axisTick"),ZTe=WK("axisLabel");function WK(t){return function(r){return sx(r)[t]||(sx(r)[t]={list:[]})}}function YK(t,e){for(var r=0;r<t.list.length;r++)if(t.list[r].key===e)return t.list[r].value}function IN(t,e,r){return t.list.push({key:e,value:r}),r}function qTe(t,e){if(e.kind===du.estimate){var r=t.calculateCategoryInterval(e);return e.out.noPxChangeTryDetermine.push(function(){return sx(t).autoInterval=r,!0}),r}var n=sx(t).autoInterval;return n??(sx(t).autoInterval=t.calculateCategoryInterval(e))}function $Te(t,e){var r=e.kind,n=KTe(t),a=$m(t),i=(n.axisRotate-n.labelRotate)/180*Math.PI,o=t.scale,s=o.getExtent(),l=o.count();if(s[1]-s[0]<1)return 0;var u=1,c=40;l>c&&(u=Math.max(1,Math.floor(l/c)));for(var f=s[0],d=t.dataToCoord(f+1)-t.dataToCoord(f),v=Math.abs(d*Math.cos(i)),g=Math.abs(d*Math.sin(i)),y=0,b=0;f<=s[1];f+=u){var S=0,w=0,M=oC(a({value:f}),n.font,"center","top");S=M.width*1.3,w=M.height*1.3,y=Math.max(y,S,7),b=Math.max(b,w,7)}var A=y/v,D=b/g;isNaN(A)&&(A=1/0),isNaN(D)&&(D=1/0);var R=Math.max(0,Math.floor(Math.min(A,D)));if(r===du.estimate)return e.out.noPxChangeTryDetermine.push(Ye(XTe,null,t,R,l)),R;var N=ZK(t,R,l);return N??R}function XTe(t,e,r){return ZK(t,e,r)==null}function ZK(t,e,r){var n=VTe(t.model),a=t.getExtent(),i=n.lastAutoInterval,o=n.lastTickCount;if(i!=null&&o!=null&&Math.abs(i-e)<=1&&Math.abs(o-r)<=1&&i>e&&n.axisExtent0===a[0]&&n.axisExtent1===a[1])return i;n.lastTickCount=r,n.lastAutoInterval=e,n.axisExtent0=a[0],n.axisExtent1=a[1]}function KTe(t){var e=t.getLabelModel();return{axisRotate:t.getRotate?t.getRotate():t.isHorizontal&&!t.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}function qK(t,e,r){var n=$m(t),a=t.scale,i=a.getExtent(),o=t.getLabelModel(),s=[],l=Math.max((e||0)+1,1),u=i[0],c=a.count();u!==0&&l>1&&c/l>2&&(u=Math.round(Math.ceil(u/l)*l));var f=zK(t),d=o.get("showMinLabel")||f,v=o.get("showMaxLabel")||f;d&&u!==i[0]&&y(i[0]);for(var g=u;g<=i[1];g+=l)y(g);v&&g-l!==i[1]&&y(i[1]);function y(b){var S={value:b};s.push(r?b:{formattedLabel:n(S),rawLabel:a.getLabel(S),tickValue:b,time:void 0,break:void 0})}return s}function $K(t,e,r){var n=t.scale,a=$m(t),i=[];return Y(n.getTicks(),function(o){var s=n.getLabel(o),l=o.value;e(o.value,s)&&i.push(r?l:{formattedLabel:a(o),rawLabel:s,tickValue:l,time:void 0,break:void 0})}),i}var OF=[0,1],xu=(function(){function t(e,r,n){this.onBand=!1,this.inverse=!1,this.dim=e,this.scale=r,this._extent=n||[0,0]}return t.prototype.contain=function(e){var r=this._extent,n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return e>=n&&e<=a},t.prototype.containData=function(e){return this.scale.contain(this.scale.parse(e))},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.getPixelPrecision=function(e){return Vq(e||this.scale.getExtent(),this._extent)},t.prototype.setExtent=function(e,r){var n=this._extent;n[0]=e,n[1]=r},t.prototype.dataToCoord=function(e,r){var n=this._extent,a=this.scale;return e=a.normalize(a.parse(e)),this.onBand&&a.type==="ordinal"&&(n=n.slice(),jF(n,a.count())),kr(e,OF,n,r)},t.prototype.coordToData=function(e,r){var n=this._extent,a=this.scale;this.onBand&&a.type==="ordinal"&&(n=n.slice(),jF(n,a.count()));var i=kr(e,n,OF,r);return this.scale.scale(i)},t.prototype.pointToData=function(e,r){},t.prototype.getTicksCoords=function(e){e=e||{};var r=e.tickModel||this.getTickModel(),n=HTe(this,r,{breakTicks:e.breakTicks,pruneByBreak:e.pruneByBreak}),a=n.ticks,i=Re(a,function(s){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(s):s),tickValue:s}},this),o=r.get("alignWithLabel");return QTe(this,i,o,e.clamp),i},t.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var e=this.model.getModel("minorTick"),r=e.get("splitNumber");r>0&&r<100||(r=5);var n=this.scale.getMinorTicks(r),a=Re(n,function(i){return Re(i,function(o){return{coord:this.dataToCoord(o),tickValue:o}},this)},this);return a},t.prototype.getViewLabels=function(e){return e=e||Rw(du.determine),FTe(this,e).labels},t.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},t.prototype.getTickModel=function(){return this.model.getModel("axisTick")},t.prototype.getBandWidth=function(){var e=this._extent,r=this.scale.getExtent(),n=r[1]-r[0]+(this.onBand?1:0);n===0&&(n=1);var a=Math.abs(e[1]-e[0]);return Math.abs(a)/n},t.prototype.calculateCategoryInterval=function(e){return e=e||Rw(du.determine),$Te(this,e)},t})();function jF(t,e){var r=t[1]-t[0],n=e,a=r/n/2;t[0]+=a,t[1]-=a}function QTe(t,e,r,n){var a=e.length;if(!t.onBand||r||!a)return;var i=t.getExtent(),o,s;if(a===1)e[0].coord=i[0],e[0].onBand=!0,o=e[1]={coord:i[1],tickValue:e[0].tickValue,onBand:!0};else{var l=e[a-1].tickValue-e[0].tickValue,u=(e[a-1].coord-e[0].coord)/l;Y(e,function(v){v.coord-=u/2,v.onBand=!0});var c=t.scale.getExtent();s=1+c[1]-e[a-1].tickValue,o={coord:e[a-1].coord+u*s,tickValue:c[1]+1,onBand:!0},e.push(o)}var f=i[0]>i[1];d(e[0].coord,i[0])&&(n?e[0].coord=i[0]:e.shift()),n&&d(i[0],e[0].coord)&&e.unshift({coord:i[0],onBand:!0}),d(i[1],o.coord)&&(n?o.coord=i[1]:e.pop()),n&&d(o.coord,i[1])&&e.push({coord:i[1],onBand:!0});function d(v,g){return v=Ea(v),g=Ea(g),f?v>g:v<g}}var o0=Math.PI*2,av=xc.CMD,JTe=["top","right","bottom","left"];function eCe(t,e,r,n,a){var i=r.width,o=r.height;switch(t){case"top":n.set(r.x+i/2,r.y-e),a.set(0,-1);break;case"bottom":n.set(r.x+i/2,r.y+o+e),a.set(0,1);break;case"left":n.set(r.x-e,r.y+o/2),a.set(-1,0);break;case"right":n.set(r.x+i+e,r.y+o/2),a.set(1,0);break}}function tCe(t,e,r,n,a,i,o,s,l){o-=t,s-=e;var u=Math.sqrt(o*o+s*s);o/=u,s/=u;var c=o*r+t,f=s*r+e;if(Math.abs(n-a)%o0<1e-4)return l[0]=c,l[1]=f,u-r;if(i){var d=n;n=Es(a),a=Es(d)}else n=Es(n),a=Es(a);n>a&&(a+=o0);var v=Math.atan2(s,o);if(v<0&&(v+=o0),v>=n&&v<=a||v+o0>=n&&v+o0<=a)return l[0]=c,l[1]=f,u-r;var g=r*Math.cos(n)+t,y=r*Math.sin(n)+e,b=r*Math.cos(a)+t,S=r*Math.sin(a)+e,w=(g-o)*(g-o)+(y-s)*(y-s),M=(b-o)*(b-o)+(S-s)*(S-s);return w<M?(l[0]=g,l[1]=y,Math.sqrt(w)):(l[0]=b,l[1]=S,Math.sqrt(M))}function Pw(t,e,r,n,a,i,o,s){var l=a-t,u=i-e,c=r-t,f=n-e,d=Math.sqrt(c*c+f*f);c/=d,f/=d;var v=l*c+u*f,g=v/d;s&&(g=Math.min(Math.max(g,0),1)),g*=d;var y=o[0]=t+g*c,b=o[1]=e+g*f;return Math.sqrt((y-a)*(y-a)+(b-i)*(b-i))}function XK(t,e,r,n,a,i,o){r<0&&(t=t+r,r=-r),n<0&&(e=e+n,n=-n);var s=t+r,l=e+n,u=o[0]=Math.min(Math.max(a,t),s),c=o[1]=Math.min(Math.max(i,e),l);return Math.sqrt((u-a)*(u-a)+(c-i)*(c-i))}var Jl=[];function rCe(t,e,r){var n=XK(e.x,e.y,e.width,e.height,t.x,t.y,Jl);return r.set(Jl[0],Jl[1]),n}function nCe(t,e,r){for(var n=0,a=0,i=0,o=0,s,l,u=1/0,c=e.data,f=t.x,d=t.y,v=0;v<c.length;){var g=c[v++];v===1&&(n=c[v],a=c[v+1],i=n,o=a);var y=u;switch(g){case av.M:i=c[v++],o=c[v++],n=i,a=o;break;case av.L:y=Pw(n,a,c[v],c[v+1],f,d,Jl,!0),n=c[v++],a=c[v++];break;case av.C:y=Sq(n,a,c[v++],c[v++],c[v++],c[v++],c[v],c[v+1],f,d,Jl),n=c[v++],a=c[v++];break;case av.Q:y=Tq(n,a,c[v++],c[v++],c[v],c[v+1],f,d,Jl),n=c[v++],a=c[v++];break;case av.A:var b=c[v++],S=c[v++],w=c[v++],M=c[v++],A=c[v++],D=c[v++];v+=1;var R=!!(1-c[v++]);s=Math.cos(A)*w+b,l=Math.sin(A)*M+S,v<=1&&(i=s,o=l);var N=(f-b)*M/w+b;y=tCe(b,S,M,A,A+D,R,N,d,Jl),n=Math.cos(A+D)*w+b,a=Math.sin(A+D)*M+S;break;case av.R:i=n=c[v++],o=a=c[v++];var I=c[v++],z=c[v++];y=XK(i,o,I,z,f,d,Jl);break;case av.Z:y=Pw(n,a,i,o,f,d,Jl,!0),n=i,a=o;break}y<u&&(u=y,r.set(Jl[0],Jl[1]))}return u}var ru=new ht,En=new ht,ya=new ht,ic=new ht,Qu=new ht;function zF(t,e){if(t){var r=t.getTextGuideLine(),n=t.getTextContent();if(n&&r){var a=t.textGuideLineConfig||{},i=[[0,0],[0,0],[0,0]],o=a.candidates||JTe,s=n.getBoundingRect().clone();s.applyTransform(n.getComputedTransform());var l=1/0,u=a.anchor,c=t.getComputedTransform(),f=c&&fu([],c),d=e.get("length2")||0;u&&ya.copy(u);for(var v=0;v<o.length;v++){var g=o[v];eCe(g,0,s,ru,ic),ht.scaleAndAdd(En,ru,ic,d),En.transform(f);var y=t.getBoundingRect(),b=u?u.distance(En):t instanceof Jt?nCe(En,t.path,ya):rCe(En,y,ya);b<l&&(l=b,En.transform(c),ya.transform(c),ya.toArray(i[0]),En.toArray(i[1]),ru.toArray(i[2]))}KK(i,e.get("minTurnAngle")),r.setShape({points:i})}}}var kw=[],Co=new ht;function KK(t,e){if(e<=180&&e>0){e=e/180*Math.PI,ru.fromArray(t[0]),En.fromArray(t[1]),ya.fromArray(t[2]),ht.sub(ic,ru,En),ht.sub(Qu,ya,En);var r=ic.len(),n=Qu.len();if(!(r<.001||n<.001)){ic.scale(1/r),Qu.scale(1/n);var a=ic.dot(Qu),i=Math.cos(e);if(i<a){var o=Pw(En.x,En.y,ya.x,ya.y,ru.x,ru.y,kw,!1);Co.fromArray(kw),Co.scaleAndAdd(Qu,o/Math.tan(Math.PI-e));var s=ya.x!==En.x?(Co.x-En.x)/(ya.x-En.x):(Co.y-En.y)/(ya.y-En.y);if(isNaN(s))return;s<0?ht.copy(Co,En):s>1&&ht.copy(Co,ya),Co.toArray(t[1])}}}}function aCe(t,e,r){if(r<=180&&r>0){r=r/180*Math.PI,ru.fromArray(t[0]),En.fromArray(t[1]),ya.fromArray(t[2]),ht.sub(ic,En,ru),ht.sub(Qu,ya,En);var n=ic.len(),a=Qu.len();if(!(n<.001||a<.001)){ic.scale(1/n),Qu.scale(1/a);var i=ic.dot(e),o=Math.cos(r);if(i<o){var s=Pw(En.x,En.y,ya.x,ya.y,ru.x,ru.y,kw,!1);Co.fromArray(kw);var l=Math.PI/2,u=Math.acos(Qu.dot(e)),c=l+u-r;if(c>=l)ht.copy(Co,ya);else{Co.scaleAndAdd(Qu,s/Math.tan(Math.PI/2-c));var f=ya.x!==En.x?(Co.x-En.x)/(ya.x-En.x):(Co.y-En.y)/(ya.y-En.y);if(isNaN(f))return;f<0?ht.copy(Co,En):f>1&&ht.copy(Co,ya)}Co.toArray(t[1])}}}}function yD(t,e,r,n){var a=r==="normal",i=a?t:t.ensureState(r);i.ignore=e;var o=n.get("smooth");o&&o===!0&&(o=.3),i.shape=i.shape||{},o>0&&(i.shape.smooth=o);var s=n.getModel("lineStyle").getLineStyle();a?t.useStyle(s):i.style=s}function iCe(t,e){var r=e.smooth,n=e.points;if(n)if(t.moveTo(n[0][0],n[0][1]),r>0&&n.length>=3){var a=Eh(n[0],n[1]),i=Eh(n[1],n[2]);if(!a||!i){t.lineTo(n[1][0],n[1][1]),t.lineTo(n[2][0],n[2][1]);return}var o=Math.min(a,i)*r,s=yS([],n[1],n[0],o/a),l=yS([],n[1],n[2],o/i),u=yS([],s,l,.5);t.bezierCurveTo(s[0],s[1],s[0],s[1],u[0],u[1]),t.bezierCurveTo(l[0],l[1],l[0],l[1],n[2][0],n[2][1])}else for(var c=1;c<n.length;c++)t.lineTo(n[c][0],n[c][1])}function cI(t,e,r){var n=t.getTextGuideLine(),a=t.getTextContent();if(!a){n&&t.removeTextGuideLine();return}for(var i=e.normal,o=i.get("show"),s=a.ignore,l=0;l<Mx.length;l++){var u=Mx[l],c=e[u],f=u==="normal";if(c){var d=c.get("show"),v=f?s:et(a.states[u]&&a.states[u].ignore,s);if(v||!et(d,o)){var g=f?n:n&&n.states[u];g&&(g.ignore=!0),n&&yD(n,!0,u,c);continue}n||(n=new Yi,t.setTextGuideLine(n),!f&&(s||!o)&&yD(n,!0,"normal",e.normal),t.stateProxy&&(n.stateProxy=t.stateProxy)),yD(n,!1,u,c)}}if(n){gt(n.style,r),n.style.fill=null;var y=i.get("showAbove"),b=t.textGuideLineConfig=t.textGuideLineConfig||{};b.showAbove=y||!1,n.buildPath=iCe}}function fI(t,e){e=e||"labelLine";for(var r={normal:t.getModel(e)},n=0;n<No.length;n++){var a=No[n];r[a]=t.getModel([a,e])}return r}var BF=["label","labelLine","layoutOption","priority","defaultAttr","marginForce","minMarginForce","marginDefault","suggestIgnore"],oCe=1,Iw=2,QK=oCe|Iw;function Ow(t,e,r){r=r||QK,e?t.dirty|=r:t.dirty&=~r}function JK(t,e){return e=e||QK,t.dirty==null||!!(t.dirty&e)}function bc(t){if(t)return JK(t)&&eQ(t,t.label,t),t}function eQ(t,e,r){var n=e.getComputedTransform();t.transform=Ek(t.transform,n);var a=t.localRect=Lx(t.localRect,e.getBoundingRect()),i=e.style,o=i.margin,s=r&&r.marginForce,l=r&&r.minMarginForce,u=r&&r.marginDefault,c=i.__marginType;c==null&&u&&(o=u,c=Vg.textMargin);for(var f=0;f<4;f++)xD[f]=c===Vg.minMargin&&l&&l[f]!=null?l[f]:s&&s[f]!=null?s[f]:o?o[f]:0;c===Vg.textMargin&&ep(a,xD,!1,!1);var d=t.rect=Lx(t.rect,a);return n&&d.applyTransform(n),c===Vg.minMargin&&ep(d,xD,!1,!1),t.axisAligned=Lk(n),(t.label=t.label||{}).ignore=e.ignore,Ow(t,!1),Ow(t,!0,Iw),t}var xD=[0,0,0,0];function sCe(t,e,r){return t.transform=Ek(t.transform,r),t.localRect=Lx(t.localRect,e),t.rect=Lx(t.rect,e),r&&t.rect.applyTransform(r),t.axisAligned=Lk(r),t.obb=void 0,(t.label=t.label||{}).ignore=!1,t}function ON(t,e){if(t){t.label.x+=e.x,t.label.y+=e.y,t.label.markRedraw();var r=t.transform;r&&(r[4]+=e.x,r[5]+=e.y);var n=t.rect;n&&(n.x+=e.x,n.y+=e.y);var a=t.obb;a&&a.fromBoundingRect(t.localRect,r)}}function jN(t,e){for(var r=0;r<BF.length;r++){var n=BF[r];t[n]==null&&(t[n]=e[n])}return bc(t)}function VF(t){var e=t.obb;return(!e||JK(t,Iw))&&(t.obb=e=e||new D$,e.fromBoundingRect(t.localRect,t.transform),Ow(t,!1,Iw)),e}function zN(t,e,r,n,a){var i=t.length,o=Rt[e],s=ka[e];if(i<2)return!1;t.sort(function(N,I){return N.rect[o]-I.rect[o]});for(var l=0,u,c=!1,f=0;f<i;f++){var d=t[f],v=d.rect;u=v[o]-l,u<0&&(v[o]-=u,d.label[o]-=u,c=!0),l=v[o]+v[s]}var g=t[0],y=t[i-1],b,S;w(),b<0&&D(-b,.8),S<0&&D(S,.8),w(),M(b,S,1),M(S,b,-1),w(),b<0&&R(-b),S<0&&R(S);function w(){b=g.rect[o]-r,S=n-y.rect[o]-y.rect[s]}function M(N,I,z){if(N<0){var B=Math.min(I,-N);if(B>0){A(B*z,0,i);var V=B+N;V<0&&D(-V*z,1)}else D(-N*z,1)}}function A(N,I,z){N!==0&&(c=!0);for(var B=I;B<z;B++){var V=t[B],G=V.rect;G[o]+=N,V.label[o]+=N}}function D(N,I){for(var z=[],B=0,V=1;V<i;V++){var G=t[V-1].rect,F=Math.max(t[V].rect[o]-G[o]-G[s],0);z.push(F),B+=F}if(B){var q=Math.min(Math.abs(N)/B,I);if(N>0)for(var V=0;V<i-1;V++){var Q=z[V]*q;A(Q,0,V+1)}else for(var V=i-1;V>0;V--){var Q=z[V-1]*q;A(-Q,V,i)}}}function R(N){var I=N<0?-1:1;N=Math.abs(N);for(var z=Math.ceil(N/(i-1)),B=0;B<i-1;B++)if(I>0?A(z,0,B+1):A(-z,i-B-1,i),N-=z,N<=0)return}return c}function lCe(t){for(var e=0;e<t.length;e++){var r=t[e],n=r.defaultAttr,a=r.labelLine;r.label.attr("ignore",n.ignore),a&&a.attr("ignore",n.labelGuideIgnore)}}function tQ(t){var e=[];t.sort(function(u,c){return(c.suggestIgnore?1:0)-(u.suggestIgnore?1:0)||c.priority-u.priority});function r(u){if(!u.ignore){var c=u.ensureState("emphasis");c.ignore==null&&(c.ignore=!1)}u.ignore=!0}for(var n=0;n<t.length;n++){var a=bc(t[n]);if(!a.label.ignore){for(var i=a.label,o=a.labelLine,s=!1,l=0;l<e.length;l++)if(LC(a,e[l],null,{touchThreshold:.05})){s=!0;break}s?(r(i),o&&r(o)):e.push(a)}}}function LC(t,e,r,n){return!t||!e||t.label&&t.label.ignore||e.label&&e.label.ignore||!t.rect.intersect(e.rect,r,n)?!1:t.axisAligned&&e.axisAligned?!0:VF(t).intersect(VF(e),r,n)}function uCe(t){if(t){for(var e=[],r=0;r<t.length;r++)e.push(t[r].slice());return e}}function cCe(t,e){var r=t.label,n=e&&e.getTextGuideLine();return{dataIndex:t.dataIndex,dataType:t.dataType,seriesIndex:t.seriesModel.seriesIndex,text:t.label.style.text,rect:t.hostRect,labelRect:t.rect,align:r.style.align,verticalAlign:r.style.verticalAlign,labelLinePoints:uCe(n&&n.shape.points)}}var FF=["align","verticalAlign","width","height","fontSize"],bo=new of,_D=Xt(),fCe=Xt();function L1(t,e,r){for(var n=0;n<r.length;n++){var a=r[n];e[a]!=null&&(t[a]=e[a])}}var E1=["x","y","rotation"],hCe=(function(){function t(){this._labelList=[],this._chartViewList=[]}return t.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},t.prototype._addLabel=function(e,r,n,a,i){var o=a.style,s=a.__hostTarget,l=s.textConfig||{},u=a.getComputedTransform(),c=a.getBoundingRect().plain();yt.applyTransform(c,c,u),u?bo.setLocalTransform(u):(bo.x=bo.y=bo.rotation=bo.originX=bo.originY=0,bo.scaleX=bo.scaleY=1),bo.rotation=Es(bo.rotation);var f=a.__hostTarget,d;if(f){d=f.getBoundingRect().plain();var v=f.getComputedTransform();yt.applyTransform(d,d,v)}var g=d&&f.getTextGuideLine();this._labelList.push({label:a,labelLine:g,seriesModel:n,dataIndex:e,dataType:r,layoutOptionOrCb:i,layoutOption:null,rect:c,hostRect:d,priority:d?d.width*d.height:0,defaultAttr:{ignore:a.ignore,labelGuideIgnore:g&&g.ignore,x:bo.x,y:bo.y,scaleX:bo.scaleX,scaleY:bo.scaleY,rotation:bo.rotation,style:{x:o.x,y:o.y,align:o.align,verticalAlign:o.verticalAlign,width:o.width,height:o.height,fontSize:o.fontSize},cursor:a.cursor,attachedPos:l.position,attachedRot:l.rotation}})},t.prototype.addLabelsOfSeries=function(e){var r=this;this._chartViewList.push(e);var n=e.__model,a=n.get("labelLayout");(ot(a)||sr(a).length)&&e.group.traverse(function(i){if(i.ignore)return!0;var o=i.getTextContent(),s=wt(i);o&&!o.disableLabelLayout&&r._addLabel(s.dataIndex,s.dataType,n,o,a)})},t.prototype.updateLayoutConfig=function(e){var r=e.getWidth(),n=e.getHeight();function a(M,A){return function(){zF(M,A)}}for(var i=0;i<this._labelList.length;i++){var o=this._labelList[i],s=o.label,l=s.__hostTarget,u=o.defaultAttr,c=void 0;ot(o.layoutOptionOrCb)?c=o.layoutOptionOrCb(cCe(o,l)):c=o.layoutOptionOrCb,c=c||{},o.layoutOption=c;var f=Math.PI/180;l&&l.setTextConfig({local:!1,position:c.x!=null||c.y!=null?null:u.attachedPos,rotation:c.rotate!=null?c.rotate*f:u.attachedRot,offset:[c.dx||0,c.dy||0]});var d=!1;if(c.x!=null?(s.x=Ue(c.x,r),s.setStyle("x",0),d=!0):(s.x=u.x,s.setStyle("x",u.style.x)),c.y!=null?(s.y=Ue(c.y,n),s.setStyle("y",0),d=!0):(s.y=u.y,s.setStyle("y",u.style.y)),c.labelLinePoints){var v=l.getTextGuideLine();v&&(v.setShape({points:c.labelLinePoints}),d=!1)}var g=_D(s);g.needsUpdateLabelLine=d,s.rotation=c.rotate!=null?c.rotate*f:u.rotation,s.scaleX=u.scaleX,s.scaleY=u.scaleY;for(var y=0;y<FF.length;y++){var b=FF[y];s.setStyle(b,c[b]!=null?c[b]:u.style[b])}if(c.draggable){if(s.draggable=!0,s.cursor="move",l){var S=o.seriesModel;if(o.dataIndex!=null){var w=o.seriesModel.getData(o.dataType);S=w.getItemModel(o.dataIndex)}s.on("drag",a(l,S.getModel("labelLine")))}}else s.off("drag"),s.cursor=u.cursor}},t.prototype.layout=function(e){var r=e.getWidth(),n=e.getHeight(),a=[];Y(this._labelList,function(l){l.defaultAttr.ignore||a.push(jN({},l))});var i=Ir(a,function(l){return l.layoutOption.moveOverlap==="shiftX"}),o=Ir(a,function(l){return l.layoutOption.moveOverlap==="shiftY"});zN(i,0,0,r),zN(o,1,0,n);var s=Ir(a,function(l){return l.layoutOption.hideOverlap});lCe(s),tQ(s)},t.prototype.processLabelsOverall=function(){var e=this;Y(this._chartViewList,function(r){var n=r.__model,a=r.ignoreLabelLineUpdate,i=n.isAnimationEnabled();r.group.traverse(function(o){if(o.ignore&&!o.forceLabelAnimation)return!0;var s=!a,l=o.getTextContent();!s&&l&&(s=_D(l).needsUpdateLabelLine),s&&e._updateLabelLine(o,n),i&&e._animateLabels(o,n)})})},t.prototype._updateLabelLine=function(e,r){var n=e.getTextContent(),a=wt(e),i=a.dataIndex;if(n&&i!=null){var o=r.getData(a.dataType),s=o.getItemModel(i),l={},u=o.getItemVisual(i,"style");if(u){var c=o.getVisual("drawType");l.stroke=u[c]}var f=s.getModel("labelLine");cI(e,fI(s),l),zF(e,f)}},t.prototype._animateLabels=function(e,r){var n=e.getTextContent(),a=e.getTextGuideLine();if(n&&(e.forceLabelAnimation||!n.ignore&&!n.invisible&&!e.disableLabelAnimation&&!Qg(e))){var i=_D(n),o=i.oldLayout,s=wt(e),l=s.dataIndex,u={x:n.x,y:n.y,rotation:n.rotation},c=r.getData(s.dataType);if(o){n.attr(o);var d=e.prevStates;d&&(Vt(d,"select")>=0&&n.attr(i.oldLayoutSelect),Vt(d,"emphasis")>=0&&n.attr(i.oldLayoutEmphasis)),Sr(n,u,r,l)}else if(n.attr(u),!Um(n).valueAnimation){var f=et(n.style.opacity,1);n.style.opacity=0,zn(n,{style:{opacity:f}},r,l)}if(i.oldLayout=u,n.states.select){var v=i.oldLayoutSelect={};L1(v,u,E1),L1(v,n.states.select,E1)}if(n.states.emphasis){var g=i.oldLayoutEmphasis={};L1(g,u,E1),L1(g,n.states.emphasis,E1)}B$(n,l,c,r,r)}if(a&&!a.ignore&&!a.invisible){var i=fCe(a),o=i.oldLayout,y={points:a.shape.points};o?(a.attr({shape:o}),Sr(a,{shape:y},r)):(a.setShape(y),a.style.strokePercent=0,zn(a,{style:{strokePercent:1}},r)),i.oldLayout=y}},t})(),bD=Xt();function dCe(t){t.registerUpdateLifecycle("series:beforeupdate",function(e,r,n){var a=bD(r).labelManager;a||(a=bD(r).labelManager=new hCe),a.clearLabels()}),t.registerUpdateLifecycle("series:layoutlabels",function(e,r,n){var a=bD(r).labelManager;n.updatedSeries.forEach(function(i){a.addLabelsOfSeries(r.getViewOfSeriesModel(i))}),a.updateLayoutConfig(r),a.layout(r),a.processLabelsOverall()})}var SD=Math.sin,wD=Math.cos,rQ=Math.PI,iv=Math.PI*2,vCe=180/rQ,nQ=(function(){function t(){}return t.prototype.reset=function(e){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,e||4)},t.prototype.moveTo=function(e,r){this._add("M",e,r)},t.prototype.lineTo=function(e,r){this._add("L",e,r)},t.prototype.bezierCurveTo=function(e,r,n,a,i,o){this._add("C",e,r,n,a,i,o)},t.prototype.quadraticCurveTo=function(e,r,n,a){this._add("Q",e,r,n,a)},t.prototype.arc=function(e,r,n,a,i,o){this.ellipse(e,r,n,n,0,a,i,o)},t.prototype.ellipse=function(e,r,n,a,i,o,s,l){var u=s-o,c=!l,f=Math.abs(u),d=Ih(f-iv)||(c?u>=iv:-u>=iv),v=u>0?u%iv:u%iv+iv,g=!1;d?g=!0:Ih(f)?g=!1:g=v>=rQ==!!c;var y=e+n*wD(o),b=r+a*SD(o);this._start&&this._add("M",y,b);var S=Math.round(i*vCe);if(d){var w=1/this._p,M=(c?1:-1)*(iv-w);this._add("A",n,a,S,1,+c,e+n*wD(o+M),r+a*SD(o+M)),w>.01&&this._add("A",n,a,S,0,+c,y,b)}else{var A=e+n*wD(s),D=r+a*SD(s);this._add("A",n,a,S,+g,+c,A,D)}},t.prototype.rect=function(e,r,n,a){this._add("M",e,r),this._add("l",n,0),this._add("l",0,a),this._add("l",-n,0),this._add("Z")},t.prototype.closePath=function(){this._d.length>0&&this._add("Z")},t.prototype._add=function(e,r,n,a,i,o,s,l,u){for(var c=[],f=this._p,d=1;d<arguments.length;d++){var v=arguments[d];if(isNaN(v)){this._invalid=!0;return}c.push(Math.round(v*f)/f)}this._d.push(e+c.join(" ")),this._start=e==="Z"},t.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},t.prototype.getStr=function(){return this._str},t})(),hI="none",pCe=Math.round;function gCe(t){var e=t.fill;return e!=null&&e!==hI}function mCe(t){var e=t.stroke;return e!=null&&e!==hI}var BN=["lineCap","miterLimit","lineJoin"],yCe=Re(BN,function(t){return"stroke-"+t.toLowerCase()});function xCe(t,e,r,n){var a=e.opacity==null?1:e.opacity;if(r instanceof Ni){t("opacity",a);return}if(gCe(e)){var i=Sx(e.fill);t("fill",i.color);var o=e.fillOpacity!=null?e.fillOpacity*i.opacity*a:i.opacity*a;o<1&&t("fill-opacity",o)}else t("fill",hI);if(mCe(e)){var s=Sx(e.stroke);t("stroke",s.color);var l=e.strokeNoScale?r.getLineScale():1,u=l?(e.lineWidth||0)/l:0,c=e.strokeOpacity!=null?e.strokeOpacity*s.opacity*a:s.opacity*a,f=e.strokeFirst;if(u!==1&&t("stroke-width",u),f&&t("paint-order",f?"stroke":"fill"),c<1&&t("stroke-opacity",c),e.lineDash){var d=Jk(r),v=d[0],g=d[1];v&&(g=pCe(g||0),t("stroke-dasharray",v.join(",")),(g||n)&&t("stroke-dashoffset",g))}for(var y=0;y<BN.length;y++){var b=BN[y];if(e[b]!==dw[b]){var S=e[b]||dw[b];S&&t(yCe[y],S)}}}}var aQ="http://www.w3.org/2000/svg",iQ="http://www.w3.org/1999/xlink",_Ce="http://www.w3.org/2000/xmlns/",bCe="http://www.w3.org/XML/1998/namespace",HF="ecmeta_";function oQ(t){return document.createElementNS(aQ,t)}function gi(t,e,r,n,a){return{tag:t,attrs:r||{},children:n,text:a,key:e}}function SCe(t,e){var r=[];if(e)for(var n in e){var a=e[n],i=n;a!==!1&&(a!==!0&&a!=null&&(i+='="'+a+'"'),r.push(i))}return"<"+t+" "+r.join(" ")+">"}function wCe(t){return"</"+t+">"}function dI(t,e){e=e||{};var r=e.newline?`
`:"";function n(a){var i=a.children,o=a.tag,s=a.attrs,l=a.text;return SCe(o,s)+(o!=="style"?Ao(l):l||"")+(i?""+r+Re(i,function(u){return n(u)}).join(r)+r:"")+wCe(o)}return n(t)}function TCe(t,e,r){r=r||{};var n=r.newline?`
`:"",a=" {"+n,i=n+"}",o=Re(sr(t),function(l){return l+a+Re(sr(t[l]),function(u){return u+":"+t[l][u]+";"}).join(n)+i}).join(n),s=Re(sr(e),function(l){return"@keyframes "+l+a+Re(sr(e[l]),function(u){return u+a+Re(sr(e[l][u]),function(c){var f=e[l][u][c];return c==="d"&&(f='path("'+f+'")'),c+":"+f+";"}).join(n)+i}).join(n)+i}).join(n);return!o&&!s?"":["<![CDATA[",o,s,"]]>"].join(n)}function VN(t){return{zrId:t,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function GF(t,e,r,n){return gi("svg","root",{width:t,height:e,xmlns:aQ,"xmlns:xlink":iQ,version:"1.1",baseProfile:"full",viewBox:n?"0 0 "+t+" "+e:!1},r)}var CCe=0;function sQ(){return CCe++}var UF={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},fv="transform-origin";function MCe(t,e,r){var n=Ae({},t.shape);Ae(n,e),t.buildPath(r,n);var a=new nQ;return a.reset(Nq(t)),r.rebuildPath(a,1),a.generateStr(),a.getStr()}function ACe(t,e){var r=e.originX,n=e.originY;(r||n)&&(t[fv]=r+"px "+n+"px")}var DCe={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function lQ(t,e){var r=e.zrId+"-ani-"+e.cssAnimIdx++;return e.cssAnims[r]=t,r}function LCe(t,e,r){var n=t.shape.paths,a={},i,o;if(Y(n,function(l){var u=VN(r.zrId);u.animation=!0,EC(l,{},u,!0);var c=u.cssAnims,f=u.cssNodes,d=sr(c),v=d.length;if(v){o=d[v-1];var g=c[o];for(var y in g){var b=g[y];a[y]=a[y]||{d:""},a[y].d+=b.d||""}for(var S in f){var w=f[S].animation;w.indexOf(o)>=0&&(i=w)}}}),!!i){e.d=!1;var s=lQ(a,r);return i.replace(o,s)}}function WF(t){return We(t)?UF[t]?"cubic-bezier("+UF[t]+")":hk(t)?t:"":""}function EC(t,e,r,n){var a=t.animators,i=a.length,o=[];if(t instanceof yC){var s=LCe(t,e,r);if(s)o.push(s);else if(!i)return}else if(!i)return;for(var l={},u=0;u<i;u++){var c=a[u],f=[c.getMaxTime()/1e3+"s"],d=WF(c.getClip().easing),v=c.getDelay();d?f.push(d):f.push("linear"),v&&f.push(v/1e3+"s"),c.getLoop()&&f.push("infinite");var g=f.join(" ");l[g]=l[g]||[g,[]],l[g][1].push(c)}function y(w){var M=w[1],A=M.length,D={},R={},N={},I="animation-timing-function";function z(Pe,ke,ze){for(var Ie=Pe.getTracks(),Oe=Pe.getMaxTime(),vt=0;vt<Ie.length;vt++){var ct=Ie[vt];if(ct.needsAnimate()){var Ft=ct.keyframes,jt=ct.propName;if(ze&&(jt=ze(jt)),jt)for(var Lr=0;Lr<Ft.length;Lr++){var Rn=Ft[Lr],fn=Math.round(Rn.time/Oe*100)+"%",tn=WF(Rn.easing),aa=Rn.rawValue;(We(aa)||vr(aa))&&(ke[fn]=ke[fn]||{},ke[fn][jt]=Rn.rawValue,tn&&(ke[fn][I]=tn))}}}}for(var B=0;B<A;B++){var V=M[B],G=V.targetName;G?G==="shape"&&z(V,R):!n&&z(V,D)}for(var F in D){var q={};cw(q,t),Ae(q,D[F]);var Q=Rq(q),H=D[F][I];N[F]=Q?{transform:Q}:{},ACe(N[F],q),H&&(N[F][I]=H)}var X,W=!0;for(var F in R){N[F]=N[F]||{};var J=!X,H=R[F][I];J&&(X=new xc);var ee=X.len();X.reset(),N[F].d=MCe(t,R[F],X);var K=X.len();if(!J&&ee!==K){W=!1;break}H&&(N[F][I]=H)}if(!W)for(var F in N)delete N[F].d;if(!n)for(var B=0;B<A;B++){var V=M[B],G=V.targetName;G==="style"&&z(V,N,function(Ie){return DCe[Ie]})}for(var ne=sr(N),ie=!0,le,B=1;B<ne.length;B++){var me=ne[B-1],we=ne[B];if(N[me][fv]!==N[we][fv]){ie=!1;break}le=N[me][fv]}if(ie&&le){for(var F in N)N[F][fv]&&delete N[F][fv];e[fv]=le}if(Ir(ne,function(Pe){return sr(N[Pe]).length>0}).length){var pe=lQ(N,r);return pe+" "+w[0]+" both"}}for(var b in l){var s=y(l[b]);s&&o.push(s)}if(o.length){var S=r.zrId+"-cls-"+sQ();r.cssNodes["."+S]={animation:o.join(",")},e.class=S}}function ECe(t,e,r){if(!t.ignore)if(t.isSilent()){var n={"pointer-events":"none"};YF(n,e,r)}else{var a=t.states.emphasis&&t.states.emphasis.style?t.states.emphasis.style:{},i=a.fill;if(!i){var o=t.style&&t.style.fill,s=t.states.select&&t.states.select.style&&t.states.select.style.fill,l=t.currentStates.indexOf("select")>=0&&s||o;l&&(i=BE(l))}var u=a.lineWidth;if(u){var c=!a.strokeNoScale&&t.transform?t.transform[0]:1;u=u/c}var n={cursor:"pointer"};i&&(n.fill=i),a.stroke&&(n.stroke=a.stroke),u&&(n["stroke-width"]=u),YF(n,e,r)}}function YF(t,e,r,n){var a=JSON.stringify(t),i=r.cssStyleCache[a];i||(i=r.zrId+"-cls-"+sQ(),r.cssStyleCache[a]=i,r.cssNodes["."+i+":hover"]=t),e.class=e.class?e.class+" "+i:i}var zx=Math.round;function uQ(t){return t&&We(t.src)}function cQ(t){return t&&ot(t.toDataURL)}function vI(t,e,r,n){xCe(function(a,i){var o=a==="fill"||a==="stroke";o&&Eq(i)?hQ(e,t,a,n):o&&dk(i)?dQ(r,t,a,n):t[a]=i,o&&n.ssr&&i==="none"&&(t["pointer-events"]="visible")},e,r,!1),jCe(r,t,n)}function pI(t,e){var r=axe(e);r&&(r.each(function(n,a){n!=null&&(t[(HF+a).toLowerCase()]=n+"")}),e.isSilent()&&(t[HF+"silent"]="true"))}function ZF(t){return Ih(t[0]-1)&&Ih(t[1])&&Ih(t[2])&&Ih(t[3]-1)}function NCe(t){return Ih(t[4])&&Ih(t[5])}function gI(t,e,r){if(e&&!(NCe(e)&&ZF(e))){var n=1e4;t.transform=ZF(e)?"translate("+zx(e[4]*n)/n+" "+zx(e[5]*n)/n+")":M0e(e)}}function qF(t,e,r){for(var n=t.points,a=[],i=0;i<n.length;i++)a.push(zx(n[i][0]*r)/r),a.push(zx(n[i][1]*r)/r);e.points=a.join(" ")}function $F(t){return!t.smooth}function RCe(t){var e=Re(t,function(r){return typeof r=="string"?[r,r]:r});return function(r,n,a){for(var i=0;i<e.length;i++){var o=e[i],s=r[o[0]];s!=null&&(n[o[1]]=zx(s*a)/a)}}}var PCe={circle:[RCe(["cx","cy","r"])],polyline:[qF,$F],polygon:[qF,$F]};function kCe(t){for(var e=t.animators,r=0;r<e.length;r++)if(e[r].targetName==="shape")return!0;return!1}function fQ(t,e){var r=t.style,n=t.shape,a=PCe[t.type],i={},o=e.animation,s="path",l=t.style.strokePercent,u=e.compress&&Nq(t)||4;if(a&&!e.willUpdate&&!(a[1]&&!a[1](n))&&!(o&&kCe(t))&&!(l<1)){s=t.type;var c=Math.pow(10,u);a[0](n,i,c)}else{var f=!t.path||t.shapeChanged();t.path||t.createPathProxy();var d=t.path;f&&(d.beginPath(),t.buildPath(d,t.shape),t.pathUpdated());var v=d.getVersion(),g=t,y=g.__svgPathBuilder;(g.__svgPathVersion!==v||!y||l!==g.__svgPathStrokePercent)&&(y||(y=g.__svgPathBuilder=new nQ),y.reset(u),d.rebuildPath(y,l),y.generateStr(),g.__svgPathVersion=v,g.__svgPathStrokePercent=l),i.d=y.getStr()}return gI(i,t.transform),vI(i,r,t,e),pI(i,t),e.animation&&EC(t,i,e),e.emphasis&&ECe(t,i,e),gi(s,t.id+"",i)}function ICe(t,e){var r=t.style,n=r.image;if(n&&!We(n)&&(uQ(n)?n=n.src:cQ(n)&&(n=n.toDataURL())),!!n){var a=r.x||0,i=r.y||0,o=r.width,s=r.height,l={href:n,width:o,height:s};return a&&(l.x=a),i&&(l.y=i),gI(l,t.transform),vI(l,r,t,e),pI(l,t),e.animation&&EC(t,l,e),gi("image",t.id+"",l)}}function OCe(t,e){var r=t.style,n=r.text;if(n!=null&&(n+=""),!(!n||isNaN(r.x)||isNaN(r.y))){var a=r.font||mf,i=r.x||0,o=D0e(r.y||0,h_(a),r.textBaseline),s=A0e[r.textAlign]||r.textAlign,l={"dominant-baseline":"central","text-anchor":s};if(u$(r)){var u="",c=r.fontStyle,f=l$(r.fontSize);if(!parseFloat(f))return;var d=r.fontFamily||oq,v=r.fontWeight;u+="font-size:"+f+";font-family:"+d+";",c&&c!=="normal"&&(u+="font-style:"+c+";"),v&&v!=="normal"&&(u+="font-weight:"+v+";"),l.style=u}else l.style="font: "+a;return n.match(/\s/)&&(l["xml:space"]="preserve"),i&&(l.x=i),o&&(l.y=o),gI(l,t.transform),vI(l,r,t,e),pI(l,t),e.animation&&EC(t,l,e),gi("text",t.id+"",l,void 0,n)}}function XF(t,e){if(t instanceof Jt)return fQ(t,e);if(t instanceof Ni)return ICe(t,e);if(t instanceof hm)return OCe(t,e)}function jCe(t,e,r){var n=t.style;if(L0e(n)){var a=E0e(t),i=r.shadowCache,o=i[a];if(!o){var s=t.getGlobalScale(),l=s[0],u=s[1];if(!l||!u)return;var c=n.shadowOffsetX||0,f=n.shadowOffsetY||0,d=n.shadowBlur,v=Sx(n.shadowColor),g=v.opacity,y=v.color,b=d/2/l,S=d/2/u,w=b+" "+S;o=r.zrId+"-s"+r.shadowIdx++,r.defs[o]=gi("filter",o,{id:o,x:"-100%",y:"-100%",width:"300%",height:"300%"},[gi("feDropShadow","",{dx:c/l,dy:f/u,stdDeviation:w,"flood-color":y,"flood-opacity":g})]),i[a]=o}e.filter=iC(o)}}function hQ(t,e,r,n){var a=t[r],i,o={gradientUnits:a.global?"userSpaceOnUse":"objectBoundingBox"};if(Dq(a))i="linearGradient",o.x1=a.x,o.y1=a.y,o.x2=a.x2,o.y2=a.y2;else if(Lq(a))i="radialGradient",o.cx=et(a.x,.5),o.cy=et(a.y,.5),o.r=et(a.r,.5);else return;for(var s=a.colorStops,l=[],u=0,c=s.length;u<c;++u){var f=VE(s[u].offset)*100+"%",d=s[u].color,v=Sx(d),g=v.color,y=v.opacity,b={offset:f};b["stop-color"]=g,y<1&&(b["stop-opacity"]=y),l.push(gi("stop",u+"",b))}var S=gi(i,"",o,l),w=dI(S),M=n.gradientCache,A=M[w];A||(A=n.zrId+"-g"+n.gradientIdx++,M[w]=A,o.id=A,n.defs[A]=gi(i,A,o,l)),e[r]=iC(A)}function dQ(t,e,r,n){var a=t.style[r],i=t.getBoundingRect(),o={},s=a.repeat,l=s==="no-repeat",u=s==="repeat-x",c=s==="repeat-y",f;if(Aq(a)){var d=a.imageWidth,v=a.imageHeight,g=void 0,y=a.image;if(We(y)?g=y:uQ(y)?g=y.src:cQ(y)&&(g=y.toDataURL()),typeof Image>"u"){var b="Image width/height must been given explictly in svg-ssr renderer.";co(d,b),co(v,b)}else if(d==null||v==null){var S=function(B,V){if(B){var G=B.elm,F=d||V.width,q=v||V.height;B.tag==="pattern"&&(u?(q=1,F/=i.width):c&&(F=1,q/=i.height)),B.attrs.width=F,B.attrs.height=q,G&&(G.setAttribute("width",F),G.setAttribute("height",q))}},w=xk(g,null,t,function(B){l||S(R,B),S(f,B)});w&&w.width&&w.height&&(d=d||w.width,v=v||w.height)}f=gi("image","img",{href:g,width:d,height:v}),o.width=d,o.height=v}else a.svgElement&&(f=ut(a.svgElement),o.width=a.svgWidth,o.height=a.svgHeight);if(f){var M,A;l?M=A=1:u?(A=1,M=o.width/i.width):c?(M=1,A=o.height/i.height):o.patternUnits="userSpaceOnUse",M!=null&&!isNaN(M)&&(o.width=M),A!=null&&!isNaN(A)&&(o.height=A);var D=Rq(a);D&&(o.patternTransform=D);var R=gi("pattern","",o,[f]),N=dI(R),I=n.patternCache,z=I[N];z||(z=n.zrId+"-p"+n.patternIdx++,I[N]=z,o.id=z,R=n.defs[z]=gi("pattern",z,o,[f])),e[r]=iC(z)}}function zCe(t,e,r){var n=r.clipPathCache,a=r.defs,i=n[t.id];if(!i){i=r.zrId+"-c"+r.clipPathIdx++;var o={id:i};n[t.id]=i,a[i]=gi("clipPath",i,o,[fQ(t,r)])}e["clip-path"]=iC(i)}function KF(t){return document.createTextNode(t)}function _v(t,e,r){t.insertBefore(e,r)}function QF(t,e){t.removeChild(e)}function JF(t,e){t.appendChild(e)}function vQ(t){return t.parentNode}function pQ(t){return t.nextSibling}function TD(t,e){t.textContent=e}var eH=58,BCe=120,VCe=gi("","");function FN(t){return t===void 0}function Zu(t){return t!==void 0}function FCe(t,e,r){for(var n={},a=e;a<=r;++a){var i=t[a].key;i!==void 0&&(n[i]=a)}return n}function B0(t,e){var r=t.key===e.key,n=t.tag===e.tag;return n&&r}function Bx(t){var e,r=t.children,n=t.tag;if(Zu(n)){var a=t.elm=oQ(n);if(mI(VCe,t),Ee(r))for(e=0;e<r.length;++e){var i=r[e];i!=null&&JF(a,Bx(i))}else Zu(t.text)&&!mt(t.text)&&JF(a,KF(t.text))}else t.elm=KF(t.text);return t.elm}function gQ(t,e,r,n,a){for(;n<=a;++n){var i=r[n];i!=null&&_v(t,Bx(i),e)}}function jw(t,e,r,n){for(;r<=n;++r){var a=e[r];if(a!=null)if(Zu(a.tag)){var i=vQ(a.elm);QF(i,a.elm)}else QF(t,a.elm)}}function mI(t,e){var r,n=e.elm,a=t&&t.attrs||{},i=e.attrs||{};if(a!==i){for(r in i){var o=i[r],s=a[r];s!==o&&(o===!0?n.setAttribute(r,""):o===!1?n.removeAttribute(r):r==="style"?n.style.cssText=o:r.charCodeAt(0)!==BCe?n.setAttribute(r,o):r==="xmlns:xlink"||r==="xmlns"?n.setAttributeNS(_Ce,r,o):r.charCodeAt(3)===eH?n.setAttributeNS(bCe,r,o):r.charCodeAt(5)===eH?n.setAttributeNS(iQ,r,o):n.setAttribute(r,o))}for(r in a)r in i||n.removeAttribute(r)}}function HCe(t,e,r){for(var n=0,a=0,i=e.length-1,o=e[0],s=e[i],l=r.length-1,u=r[0],c=r[l],f,d,v,g;n<=i&&a<=l;)o==null?o=e[++n]:s==null?s=e[--i]:u==null?u=r[++a]:c==null?c=r[--l]:B0(o,u)?(Pg(o,u),o=e[++n],u=r[++a]):B0(s,c)?(Pg(s,c),s=e[--i],c=r[--l]):B0(o,c)?(Pg(o,c),_v(t,o.elm,pQ(s.elm)),o=e[++n],c=r[--l]):B0(s,u)?(Pg(s,u),_v(t,s.elm,o.elm),s=e[--i],u=r[++a]):(FN(f)&&(f=FCe(e,n,i)),d=f[u.key],FN(d)?_v(t,Bx(u),o.elm):(v=e[d],v.tag!==u.tag?_v(t,Bx(u),o.elm):(Pg(v,u),e[d]=void 0,_v(t,v.elm,o.elm))),u=r[++a]);(n<=i||a<=l)&&(n>i?(g=r[l+1]==null?null:r[l+1].elm,gQ(t,g,r,a,l)):jw(t,e,n,i))}function Pg(t,e){var r=e.elm=t.elm,n=t.children,a=e.children;t!==e&&(mI(t,e),FN(e.text)?Zu(n)&&Zu(a)?n!==a&&HCe(r,n,a):Zu(a)?(Zu(t.text)&&TD(r,""),gQ(r,null,a,0,a.length-1)):Zu(n)?jw(r,n,0,n.length-1):Zu(t.text)&&TD(r,""):t.text!==e.text&&(Zu(n)&&jw(r,n,0,n.length-1),TD(r,e.text)))}function GCe(t,e){if(B0(t,e))Pg(t,e);else{var r=t.elm,n=vQ(r);Bx(e),n!==null&&(_v(n,e.elm,pQ(r)),jw(n,[t],0,0))}return e}var UCe=0,WCe=(function(){function t(e,r,n){if(this.type="svg",this.refreshHover=tH(),this.configLayer=tH(),this.storage=r,this._opts=n=Ae({},n),this.root=e,this._id="zr"+UCe++,this._oldVNode=GF(n.width,n.height),e&&!n.ssr){var a=this._viewport=document.createElement("div");a.style.cssText="position:relative;overflow:hidden";var i=this._svgDom=this._oldVNode.elm=oQ("svg");mI(null,this._oldVNode),a.appendChild(i),e.appendChild(a)}this.resize(n.width,n.height)}return t.prototype.getType=function(){return this.type},t.prototype.getViewportRoot=function(){return this._viewport},t.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},t.prototype.getSvgDom=function(){return this._svgDom},t.prototype.refresh=function(){if(this.root){var e=this.renderToVNode({willUpdate:!0});e.attrs.style="position:absolute;left:0;top:0;user-select:none",GCe(this._oldVNode,e),this._oldVNode=e}},t.prototype.renderOneToVNode=function(e){return XF(e,VN(this._id))},t.prototype.renderToVNode=function(e){e=e||{};var r=this.storage.getDisplayList(!0),n=this._width,a=this._height,i=VN(this._id);i.animation=e.animation,i.willUpdate=e.willUpdate,i.compress=e.compress,i.emphasis=e.emphasis,i.ssr=this._opts.ssr;var o=[],s=this._bgVNode=YCe(n,a,this._backgroundColor,i);s&&o.push(s);var l=e.compress?null:this._mainVNode=gi("g","main",{},[]);this._paintList(r,i,l?l.children:o),l&&o.push(l);var u=Re(sr(i.defs),function(d){return i.defs[d]});if(u.length&&o.push(gi("defs","defs",{},u)),e.animation){var c=TCe(i.cssNodes,i.cssAnims,{newline:!0});if(c){var f=gi("style","stl",{},[],c);o.push(f)}}return GF(n,a,o,e.useViewBox)},t.prototype.renderToString=function(e){return e=e||{},dI(this.renderToVNode({animation:et(e.cssAnimation,!0),emphasis:et(e.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:et(e.useViewBox,!0)}),{newline:!0})},t.prototype.setBackgroundColor=function(e){this._backgroundColor=e},t.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},t.prototype._paintList=function(e,r,n){for(var a=e.length,i=[],o=0,s,l,u=0,c=0;c<a;c++){var f=e[c];if(!f.invisible){var d=f.__clipPaths,v=d&&d.length||0,g=l&&l.length||0,y=void 0;for(y=Math.max(v-1,g-1);y>=0&&!(d&&l&&d[y]===l[y]);y--);for(var b=g-1;b>y;b--)o--,s=i[o-1];for(var S=y+1;S<v;S++){var w={};zCe(d[S],w,r);var M=gi("g","clip-g-"+u++,w,[]);(s?s.children:n).push(M),i[o++]=M,s=M}l=d;var A=XF(f,r);A&&(s?s.children:n).push(A)}}},t.prototype.resize=function(e,r){var n=this._opts,a=this.root,i=this._viewport;if(e!=null&&(n.width=e),r!=null&&(n.height=r),a&&i&&(i.style.display="none",e=Hg(a,0,n),r=Hg(a,1,n),i.style.display=""),this._width!==e||this._height!==r){if(this._width=e,this._height=r,i){var o=i.style;o.width=e+"px",o.height=r+"px"}if(dk(this._backgroundColor))this.refresh();else{var s=this._svgDom;s&&(s.setAttribute("width",e),s.setAttribute("height",r));var l=this._bgVNode&&this._bgVNode.elm;l&&(l.setAttribute("width",e),l.setAttribute("height",r))}}},t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},t.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},t.prototype.toDataURL=function(e){var r=this.renderToString(),n="data:image/svg+xml;";return e?(r=R0e(r),r&&n+"base64,"+r):n+"charset=UTF-8,"+encodeURIComponent(r)},t})();function tH(t){return function(){}}function YCe(t,e,r,n){var a;if(r&&r!=="none")if(a=gi("rect","bg",{width:t,height:e,x:"0",y:"0"}),Eq(r))hQ({fill:r},a.attrs,"fill",n);else if(dk(r))dQ({style:{fill:r},dirty:_a,getBoundingRect:function(){return{width:t,height:e}}},a.attrs,"fill",n);else{var i=Sx(r),o=i.color,s=i.opacity;a.attrs.fill=o,s<1&&(a.attrs["fill-opacity"]=s)}return a}function ZCe(t){t.registerPainter("svg",WCe)}function rH(t,e,r){var n=cu.createCanvas(),a=e.getWidth(),i=e.getHeight(),o=n.style;return o&&(o.position="absolute",o.left="0",o.top="0",o.width=a+"px",o.height=i+"px",n.setAttribute("data-zr-dom-id",t)),n.width=a*r,n.height=i*r,n}var CD=(function(t){Bn(e,t);function e(r,n,a){var i=t.call(this)||this;i.motionBlur=!1,i.lastFrameAlpha=.7,i.dpr=1,i.virtual=!1,i.config={},i.incremental=!1,i.zlevel=0,i.maxRepaintRectCount=5,i.__dirty=!0,i.__firstTimePaint=!0,i.__used=!1,i.__drawIndex=0,i.__startIndex=0,i.__endIndex=0,i.__prevStartIndex=null,i.__prevEndIndex=null;var o;a=a||uw,typeof r=="string"?o=rH(r,n,a):mt(r)&&(o=r,r=o.id),i.id=r,i.dom=o;var s=o.style;return s&&(hq(o),o.onselectstart=function(){return!1},s.padding="0",s.margin="0",s.borderWidth="0"),i.painter=n,i.dpr=a,i}return e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},e.prototype.setUnpainted=function(){this.__firstTimePaint=!0},e.prototype.createBackBuffer=function(){var r=this.dpr;this.domBack=rH("back-"+this.id,this.painter,r),this.ctxBack=this.domBack.getContext("2d"),r!==1&&this.ctxBack.scale(r,r)},e.prototype.createRepaintRects=function(r,n,a,i){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var o=[],s=this.maxRepaintRectCount,l=!1,u=new yt(0,0,0,0);function c(w){if(!(!w.isFinite()||w.isZero()))if(o.length===0){var M=new yt(0,0,0,0);M.copy(w),o.push(M)}else{for(var A=!1,D=1/0,R=0,N=0;N<o.length;++N){var I=o[N];if(I.intersect(w)){var z=new yt(0,0,0,0);z.copy(I),z.union(w),o[N]=z,A=!0;break}else if(l){u.copy(w),u.union(I);var B=w.width*w.height,V=I.width*I.height,G=u.width*u.height,F=G-B-V;F<D&&(D=F,R=N)}}if(l&&(o[R].union(w),A=!0),!A){var M=new yt(0,0,0,0);M.copy(w),o.push(M)}l||(l=o.length>=s)}}for(var f=this.__startIndex;f<this.__endIndex;++f){var d=r[f];if(d){var v=d.shouldBePainted(a,i,!0,!0),g=d.__isRendered&&(d.__dirty&Ls||!v)?d.getPrevPaintRect():null;g&&c(g);var y=v&&(d.__dirty&Ls||!d.__isRendered)?d.getPaintRect():null;y&&c(y)}}for(var f=this.__prevStartIndex;f<this.__prevEndIndex;++f){var d=n[f],v=d&&d.shouldBePainted(a,i,!0,!0);if(d&&(!v||!d.__zr)&&d.__isRendered){var g=d.getPrevPaintRect();g&&c(g)}}var b;do{b=!1;for(var f=0;f<o.length;){if(o[f].isZero()){o.splice(f,1);continue}for(var S=f+1;S<o.length;)o[f].intersect(o[S])?(b=!0,o[f].union(o[S]),o.splice(S,1)):S++;f++}}while(b);return this._paintRects=o,o},e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},e.prototype.resize=function(r,n){var a=this.dpr,i=this.dom,o=i.style,s=this.domBack;o&&(o.width=r+"px",o.height=n+"px"),i.width=r*a,i.height=n*a,s&&(s.width=r*a,s.height=n*a,a!==1&&this.ctxBack.scale(a,a))},e.prototype.clear=function(r,n,a){var i=this.dom,o=this.ctx,s=i.width,l=i.height;n=n||this.clearColor;var u=this.motionBlur&&!r,c=this.lastFrameAlpha,f=this.dpr,d=this;u&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(i,0,0,s/f,l/f));var v=this.domBack;function g(y,b,S,w){if(o.clearRect(y,b,S,w),n&&n!=="transparent"){var M=void 0;if(eC(n)){var A=n.global||n.__width===S&&n.__height===w;M=A&&n.__canvasGradient||TN(o,n,{x:0,y:0,width:S,height:w}),n.__canvasGradient=M,n.__width=S,n.__height=w}else jye(n)&&(n.scaleX=n.scaleX||f,n.scaleY=n.scaleY||f,M=CN(o,n,{dirty:function(){d.setUnpainted(),d.painter.refresh()}}));o.save(),o.fillStyle=M||n,o.fillRect(y,b,S,w),o.restore()}u&&(o.save(),o.globalAlpha=c,o.drawImage(v,y,b,S,w),o.restore())}!a||u?g(0,0,s,l):a.length&&Y(a,function(y){g(y.x*f,y.y*f,y.width*f,y.height*f)})},e})(Nl),nH=1e5,ov=314159,N1=.01,qCe=.001;function $Ce(t){return t?t.__builtin__?!0:!(typeof t.resize!="function"||typeof t.refresh!="function"):!1}function XCe(t,e){var r=document.createElement("div");return r.style.cssText=["position:relative","width:"+t+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",r}var KCe=(function(){function t(e,r,n,a){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var i=!e.nodeName||e.nodeName.toUpperCase()==="CANVAS";this._opts=n=Ae({},n||{}),this.dpr=n.devicePixelRatio||uw,this._singleCanvas=i,this.root=e;var o=e.style;o&&(hq(e),e.innerHTML=""),this.storage=r;var s=this._zlevelList;this._prevDisplayList=[];var l=this._layers;if(i){var c=e,f=c.width,d=c.height;n.width!=null&&(f=n.width),n.height!=null&&(d=n.height),this.dpr=n.devicePixelRatio||1,c.width=f*this.dpr,c.height=d*this.dpr,this._width=f,this._height=d;var v=new CD(c,this,this.dpr);v.__builtin__=!0,v.initContext(),l[ov]=v,v.zlevel=ov,s.push(ov),this._domRoot=e}else{this._width=Hg(e,0,n),this._height=Hg(e,1,n);var u=this._domRoot=XCe(this._width,this._height);e.appendChild(u)}}return t.prototype.getType=function(){return"canvas"},t.prototype.isSingleCanvas=function(){return this._singleCanvas},t.prototype.getViewportRoot=function(){return this._domRoot},t.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},t.prototype.refresh=function(e){var r=this.storage.getDisplayList(!0),n=this._prevDisplayList,a=this._zlevelList;this._redrawId=Math.random(),this._paintList(r,n,e,this._redrawId);for(var i=0;i<a.length;i++){var o=a[i],s=this._layers[o];if(!s.__builtin__&&s.refresh){var l=i===0?this._backgroundColor:null;s.refresh(l)}}return this._opts.useDirtyRect&&(this._prevDisplayList=r.slice()),this},t.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},t.prototype._paintHoverList=function(e){var r=e.length,n=this._hoverlayer;if(n&&n.clear(),!!r){for(var a={inHover:!0,viewWidth:this._width,viewHeight:this._height},i,o=0;o<r;o++){var s=e[o];s.__inHover&&(n||(n=this._hoverlayer=this.getLayer(nH)),i||(i=n.ctx,i.save()),Nv(i,s,a,o===r-1))}i&&i.restore()}},t.prototype.getHoverLayer=function(){return this.getLayer(nH)},t.prototype.paintOne=function(e,r){JX(e,r)},t.prototype._paintList=function(e,r,n,a){if(this._redrawId===a){n=n||!1,this._updateLayerStatus(e);var i=this._doPaintList(e,r,n),o=i.finished,s=i.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),s&&this._paintHoverList(e),o)this.eachLayer(function(u){u.afterBrush&&u.afterBrush()});else{var l=this;nw(function(){l._paintList(e,r,n,a)})}}},t.prototype._compositeManually=function(){var e=this.getLayer(ov).ctx,r=this._domRoot.width,n=this._domRoot.height;e.clearRect(0,0,r,n),this.eachBuiltinLayer(function(a){a.virtual&&e.drawImage(a.dom,0,0,r,n)})},t.prototype._doPaintList=function(e,r,n){for(var a=this,i=[],o=this._opts.useDirtyRect,s=0;s<this._zlevelList.length;s++){var l=this._zlevelList[s],u=this._layers[l];u.__builtin__&&u!==this._hoverlayer&&(u.__dirty||n)&&i.push(u)}for(var c=!0,f=!1,d=function(y){var b=i[y],S=b.ctx,w=o&&b.createRepaintRects(e,r,v._width,v._height),M=n?b.__startIndex:b.__drawIndex,A=!n&&b.incremental&&Date.now,D=A&&Date.now(),R=b.zlevel===v._zlevelList[0]?v._backgroundColor:null;if(b.__startIndex===b.__endIndex)b.clear(!1,R,w);else if(M===b.__startIndex){var N=e[M];(!N.incremental||!N.notClear||n)&&b.clear(!1,R,w)}M===-1&&(console.error("For some unknown reason. drawIndex is -1"),M=b.__startIndex);var I,z=function(F){var q={inHover:!1,allClipped:!1,prevEl:null,viewWidth:a._width,viewHeight:a._height};for(I=M;I<b.__endIndex;I++){var Q=e[I];if(Q.__inHover&&(f=!0),a._doPaintEl(Q,b,o,F,q,I===b.__endIndex-1),A){var H=Date.now()-D;if(H>15)break}}q.prevElClipPaths&&S.restore()};if(w)if(w.length===0)I=b.__endIndex;else for(var B=v.dpr,V=0;V<w.length;++V){var G=w[V];S.save(),S.beginPath(),S.rect(G.x*B,G.y*B,G.width*B,G.height*B),S.clip(),z(G),S.restore()}else S.save(),z(),S.restore();b.__drawIndex=I,b.__drawIndex<b.__endIndex&&(c=!1)},v=this,g=0;g<i.length;g++)d(g);return nr.wxa&&Y(this._layers,function(y){y&&y.ctx&&y.ctx.draw&&y.ctx.draw()}),{finished:c,needsRefreshHover:f}},t.prototype._doPaintEl=function(e,r,n,a,i,o){var s=r.ctx;if(n){var l=e.getPaintRect();(!a||l&&l.intersect(a))&&(Nv(s,e,i,o),e.setPrevPaintRect(l))}else Nv(s,e,i,o)},t.prototype.getLayer=function(e,r){this._singleCanvas&&!this._needsManuallyCompositing&&(e=ov);var n=this._layers[e];return n||(n=new CD("zr_"+e,this,this.dpr),n.zlevel=e,n.__builtin__=!0,this._layerConfig[e]?Gt(n,this._layerConfig[e],!0):this._layerConfig[e-N1]&&Gt(n,this._layerConfig[e-N1],!0),r&&(n.virtual=r),this.insertLayer(e,n),n.initContext()),n},t.prototype.insertLayer=function(e,r){var n=this._layers,a=this._zlevelList,i=a.length,o=this._domRoot,s=null,l=-1;if(!n[e]&&$Ce(r)){if(i>0&&e>a[0]){for(l=0;l<i-1&&!(a[l]<e&&a[l+1]>e);l++);s=n[a[l]]}if(a.splice(l+1,0,e),n[e]=r,!r.virtual)if(s){var u=s.dom;u.nextSibling?o.insertBefore(r.dom,u.nextSibling):o.appendChild(r.dom)}else o.firstChild?o.insertBefore(r.dom,o.firstChild):o.appendChild(r.dom);r.painter||(r.painter=this)}},t.prototype.eachLayer=function(e,r){for(var n=this._zlevelList,a=0;a<n.length;a++){var i=n[a];e.call(r,this._layers[i],i)}},t.prototype.eachBuiltinLayer=function(e,r){for(var n=this._zlevelList,a=0;a<n.length;a++){var i=n[a],o=this._layers[i];o.__builtin__&&e.call(r,o,i)}},t.prototype.eachOtherLayer=function(e,r){for(var n=this._zlevelList,a=0;a<n.length;a++){var i=n[a],o=this._layers[i];o.__builtin__||e.call(r,o,i)}},t.prototype.getLayers=function(){return this._layers},t.prototype._updateLayerStatus=function(e){this.eachBuiltinLayer(function(f,d){f.__dirty=f.__used=!1});function r(f){i&&(i.__endIndex!==f&&(i.__dirty=!0),i.__endIndex=f)}if(this._singleCanvas)for(var n=1;n<e.length;n++){var a=e[n];if(a.zlevel!==e[n-1].zlevel||a.incremental){this._needsManuallyCompositing=!0;break}}var i=null,o=0,s,l;for(l=0;l<e.length;l++){var a=e[l],u=a.zlevel,c=void 0;s!==u&&(s=u,o=0),a.incremental?(c=this.getLayer(u+qCe,this._needsManuallyCompositing),c.incremental=!0,o=1):c=this.getLayer(u+(o>0?N1:0),this._needsManuallyCompositing),c.__builtin__||ok("ZLevel "+u+" has been used by unkown layer "+c.id),c!==i&&(c.__used=!0,c.__startIndex!==l&&(c.__dirty=!0),c.__startIndex=l,c.incremental?c.__drawIndex=-1:c.__drawIndex=l,r(l),i=c),a.__dirty&Ls&&!a.__inHover&&(c.__dirty=!0,c.incremental&&c.__drawIndex<0&&(c.__drawIndex=l))}r(l),this.eachBuiltinLayer(function(f,d){!f.__used&&f.getElementCount()>0&&(f.__dirty=!0,f.__startIndex=f.__endIndex=f.__drawIndex=0),f.__dirty&&f.__drawIndex<0&&(f.__drawIndex=f.__startIndex)})},t.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},t.prototype._clearLayer=function(e){e.clear()},t.prototype.setBackgroundColor=function(e){this._backgroundColor=e,Y(this._layers,function(r){r.setUnpainted()})},t.prototype.configLayer=function(e,r){if(r){var n=this._layerConfig;n[e]?Gt(n[e],r,!0):n[e]=r;for(var a=0;a<this._zlevelList.length;a++){var i=this._zlevelList[a];if(i===e||i===e+N1){var o=this._layers[i];Gt(o,n[e],!0)}}}},t.prototype.delLayer=function(e){var r=this._layers,n=this._zlevelList,a=r[e];a&&(a.dom.parentNode.removeChild(a.dom),delete r[e],n.splice(Vt(n,e),1))},t.prototype.resize=function(e,r){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var a=this._opts,i=this.root;if(e!=null&&(a.width=e),r!=null&&(a.height=r),e=Hg(i,0,a),r=Hg(i,1,a),n.style.display="",this._width!==e||r!==this._height){n.style.width=e+"px",n.style.height=r+"px";for(var o in this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(e,r);this.refresh(!0)}this._width=e,this._height=r}else{if(e==null||r==null)return;this._width=e,this._height=r,this.getLayer(ov).resize(e,r)}return this},t.prototype.clearLayer=function(e){var r=this._layers[e];r&&r.clear()},t.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},t.prototype.getRenderedCanvas=function(e){if(e=e||{},this._singleCanvas&&!this._compositeManually)return this._layers[ov].dom;var r=new CD("image",this,e.pixelRatio||this.dpr);r.initContext(),r.clear(!1,e.backgroundColor||this._backgroundColor);var n=r.ctx;if(e.pixelRatio<=this.dpr){this.refresh();var a=r.dom.width,i=r.dom.height;this.eachLayer(function(f){f.__builtin__?n.drawImage(f.dom,0,0,a,i):f.renderToCanvas&&(n.save(),f.renderToCanvas(n),n.restore())})}else for(var o={inHover:!1,viewWidth:this._width,viewHeight:this._height},s=this.storage.getDisplayList(!0),l=0,u=s.length;l<u;l++){var c=s[l];Nv(n,c,o,l===u-1)}return r.dom},t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t})();function QCe(t){t.registerPainter("canvas",KCe)}var JCe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.hasSymbolVisual=!0,r}return e.prototype.getInitialData=function(r){return Rf(null,this,{useEncodeDefaulter:!0})},e.prototype.getLegendIcon=function(r){var n=new st,a=Oa("line",0,r.itemHeight/2,r.itemWidth,0,r.lineStyle.stroke,!1);n.add(a),a.setStyle(r.lineStyle);var i=this.getData().getVisual("symbol"),o=this.getData().getVisual("symbolRotate"),s=i==="none"?"circle":i,l=r.itemHeight*.8,u=Oa(s,(r.itemWidth-l)/2,(r.itemHeight-l)/2,l,l,r.itemStyle.fill);n.add(u),u.setStyle(r.itemStyle);var c=r.iconRotate==="inherit"?o:r.iconRotate||0;return u.rotation=c*Math.PI/180,u.setOrigin([r.itemWidth/2,r.itemHeight/2]),s.indexOf("empty")>-1&&(u.style.stroke=u.style.fill,u.style.fill=ve.color.neutral00,u.style.lineWidth=2),n},e.type="series.line",e.dependencies=["grid","polar"],e.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:6,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},e})(Sn);function xm(t,e){var r=t.mapDimensionsAll("defaultedLabel"),n=r.length;if(n===1){var a=vm(t,e,r[0]);return a!=null?a+"":null}else if(n){for(var i=[],o=0;o<r.length;o++)i.push(vm(t,e,r[o]));return i.join(" ")}}function mQ(t,e){var r=t.mapDimensionsAll("defaultedLabel");if(!Ee(e))return e+"";for(var n=[],a=0;a<r.length;a++){var i=t.getDimensionIndex(r[a]);i>=0&&n.push(e[i])}return n.join(" ")}var T_=(function(t){ye(e,t);function e(r,n,a,i){var o=t.call(this)||this;return o.updateData(r,n,a,i),o}return e.prototype._createSymbol=function(r,n,a,i,o,s){this.removeAll();var l=Oa(r,-1,-1,2,2,null,s);l.attr({z2:et(o,100),culling:!0,scaleX:i[0]/2,scaleY:i[1]/2}),l.drift=eMe,this._symbolType=r,this.add(l)},e.prototype.stopSymbolAnimation=function(r){this.childAt(0).stopAnimation(null,r)},e.prototype.getSymbolType=function(){return this._symbolType},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){_f(this.childAt(0))},e.prototype.downplay=function(){bf(this.childAt(0))},e.prototype.setZ=function(r,n){var a=this.childAt(0);a.zlevel=r,a.z=n},e.prototype.setDraggable=function(r,n){var a=this.childAt(0);a.draggable=r,a.cursor=!n&&r?"move":a.cursor},e.prototype.updateData=function(r,n,a,i){this.silent=!1;var o=r.getItemVisual(n,"symbol")||"circle",s=r.hostModel,l=e.getSymbolSize(r,n),u=e.getSymbolZ2(r,n),c=o!==this._symbolType,f=i&&i.disableAnimation;if(c){var d=r.getItemVisual(n,"symbolKeepAspect");this._createSymbol(o,r,n,l,u,d)}else{var v=this.childAt(0);v.silent=!1;var g={scaleX:l[0]/2,scaleY:l[1]/2};f?v.attr(g):Sr(v,g,s,n),Dl(v)}if(this._updateCommon(r,n,l,a,i),c){var v=this.childAt(0);if(!f){var g={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:v.style.opacity}};v.scaleX=v.scaleY=0,v.style.opacity=0,zn(v,g,s,n)}}f&&this.childAt(0).stopAnimation("leave")},e.prototype._updateCommon=function(r,n,a,i,o){var s=this.childAt(0),l=r.hostModel,u,c,f,d,v,g,y,b,S;if(i&&(u=i.emphasisItemStyle,c=i.blurItemStyle,f=i.selectItemStyle,d=i.focus,v=i.blurScope,y=i.labelStatesModels,b=i.hoverScale,S=i.cursorStyle,g=i.emphasisDisabled),!i||r.hasItemOption){var w=i&&i.itemModel?i.itemModel:r.getItemModel(n),M=w.getModel("emphasis");u=M.getModel("itemStyle").getItemStyle(),f=w.getModel(["select","itemStyle"]).getItemStyle(),c=w.getModel(["blur","itemStyle"]).getItemStyle(),d=M.get("focus"),v=M.get("blurScope"),g=M.get("disabled"),y=ri(w),b=M.getShallow("scale"),S=w.getShallow("cursor")}var A=r.getItemVisual(n,"symbolRotate");s.attr("rotation",(A||0)*Math.PI/180||0);var D=gp(r.getItemVisual(n,"symbolOffset"),a);D&&(s.x=D[0],s.y=D[1]),S&&s.attr("cursor",S);var R=r.getItemVisual(n,"style"),N=R.fill;if(s instanceof Ni){var I=s.style;s.useStyle(Ae({image:I.image,x:I.x,y:I.y,width:I.width,height:I.height},R))}else s.__isEmptyBrush?s.useStyle(Ae({},R)):s.useStyle(R),s.style.decal=null,s.setColor(N,o&&o.symbolInnerColor),s.style.strokeNoScale=!0;var z=r.getItemVisual(n,"liftZ"),B=this._z2;z!=null?B==null&&(this._z2=s.z2,s.z2+=z):B!=null&&(s.z2=B,this._z2=null);var V=o&&o.useNameLabel;xi(s,y,{labelFetcher:l,labelDataIndex:n,defaultText:G,inheritColor:N,defaultOpacity:R.opacity});function G(Q){return V?r.getName(Q):xm(r,Q)}this._sizeX=a[0]/2,this._sizeY=a[1]/2;var F=s.ensureState("emphasis");F.style=u,s.ensureState("select").style=f,s.ensureState("blur").style=c;var q=b==null||b===!0?Math.max(1.1,3/this._sizeY):isFinite(b)&&b>0?+b:1;F.scaleX=this._sizeX*q,F.scaleY=this._sizeY*q,this.setSymbolScale(1),Wn(this,d,v,g)},e.prototype.setSymbolScale=function(r){this.scaleX=this.scaleY=r},e.prototype.fadeOut=function(r,n,a){var i=this.childAt(0),o=wt(this).dataIndex,s=a&&a.animation;if(this.silent=i.silent=!0,a&&a.fadeLabel){var l=i.getTextContent();l&&Jh(l,{style:{opacity:0}},n,{dataIndex:o,removeOpt:s,cb:function(){i.removeTextContent()}})}else i.removeTextContent();Jh(i,{style:{opacity:0},scaleX:0,scaleY:0},n,{dataIndex:o,cb:r,removeOpt:s})},e.getSymbolSize=function(r,n){return qm(r.getItemVisual(n,"symbolSize"))},e.getSymbolZ2=function(r,n){return r.getItemVisual(n,"z2")},e})(st);function eMe(t,e){this.parent.drift(t,e)}function MD(t,e,r,n){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(n.isIgnore&&n.isIgnore(r))&&!(n.clipShape&&!n.clipShape.contain(e[0],e[1]))&&t.getItemVisual(r,"symbol")!=="none"}function aH(t){return t!=null&&!mt(t)&&(t={isIgnore:t}),t||{}}function iH(t){var e=t.hostModel,r=e.getModel("emphasis");return{emphasisItemStyle:r.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:r.get("focus"),blurScope:r.get("blurScope"),emphasisDisabled:r.get("disabled"),hoverScale:r.get("scale"),labelStatesModels:ri(e),cursorStyle:e.get("cursor")}}var C_=(function(){function t(e){this.group=new st,this._SymbolCtor=e||T_}return t.prototype.updateData=function(e,r){this._progressiveEls=null,r=aH(r);var n=this.group,a=e.hostModel,i=this._data,o=this._SymbolCtor,s=r.disableAnimation,l=iH(e),u={disableAnimation:s},c=r.getSymbolPoint||function(f){return e.getItemLayout(f)};i||n.removeAll(),e.diff(i).add(function(f){var d=c(f);if(MD(e,d,f,r)){var v=new o(e,f,l,u);v.setPosition(d),e.setItemGraphicEl(f,v),n.add(v)}}).update(function(f,d){var v=i.getItemGraphicEl(d),g=c(f);if(!MD(e,g,f,r)){n.remove(v);return}var y=e.getItemVisual(f,"symbol")||"circle",b=v&&v.getSymbolType&&v.getSymbolType();if(!v||b&&b!==y)n.remove(v),v=new o(e,f,l,u),v.setPosition(g);else{v.updateData(e,f,l,u);var S={x:g[0],y:g[1]};s?v.attr(S):Sr(v,S,a)}n.add(v),e.setItemGraphicEl(f,v)}).remove(function(f){var d=i.getItemGraphicEl(f);d&&d.fadeOut(function(){n.remove(d)},a)}).execute(),this._getSymbolPoint=c,this._data=e},t.prototype.updateLayout=function(){var e=this,r=this._data;r&&r.eachItemGraphicEl(function(n,a){var i=e._getSymbolPoint(a);n.setPosition(i),n.markRedraw()})},t.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=iH(e),this._data=null,this.group.removeAll()},t.prototype.incrementalUpdate=function(e,r,n){this._progressiveEls=[],n=aH(n);function a(l){l.isGroup||(l.incremental=!0,l.ensureState("emphasis").hoverLayer=!0)}for(var i=e.start;i<e.end;i++){var o=r.getItemLayout(i);if(MD(r,o,i,n)){var s=new this._SymbolCtor(r,i,this._seriesScope);s.traverse(a),s.setPosition(o),this.group.add(s),r.setItemGraphicEl(i,s),this._progressiveEls.push(s)}}},t.prototype.eachRendered=function(e){cd(this._progressiveEls||this.group,e)},t.prototype.remove=function(e){var r=this.group,n=this._data;n&&e?n.eachItemGraphicEl(function(a){a.fadeOut(function(){r.remove(a)},n.hostModel)}):r.removeAll()},t})();function yQ(t,e,r){var n=t.getBaseAxis(),a=t.getOtherAxis(n),i=tMe(a,r),o=n.dim,s=a.dim,l=e.mapDimension(s),u=e.mapDimension(o),c=s==="x"||s==="radius"?1:0,f=Re(t.dimensions,function(g){return e.mapDimension(g)}),d=!1,v=e.getCalculationInfo("stackResultDimension");return ed(e,f[0])&&(d=!0,f[0]=v),ed(e,f[1])&&(d=!0,f[1]=v),{dataDimsForPoint:f,valueStart:i,valueAxisDim:s,baseAxisDim:o,stacked:!!d,valueDim:l,baseDim:u,baseDataOffset:c,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function tMe(t,e){var r=0,n=t.scale.getExtent();return e==="start"?r=n[0]:e==="end"?r=n[1]:vr(e)&&!isNaN(e)?r=e:n[0]>0?r=n[0]:n[1]<0&&(r=n[1]),r}function xQ(t,e,r,n){var a=NaN;t.stacked&&(a=r.get(r.getCalculationInfo("stackedOverDimension"),n)),isNaN(a)&&(a=t.valueStart);var i=t.baseDataOffset,o=[];return o[i]=r.get(t.baseDim,n),o[1-i]=a,e.dataToPoint(o)}function rMe(t,e){var r=[];return e.diff(t).add(function(n){r.push({cmd:"+",idx:n})}).update(function(n,a){r.push({cmd:"=",idx:a,idx1:n})}).remove(function(n){r.push({cmd:"-",idx:n})}).execute(),r}function nMe(t,e,r,n,a,i,o,s){for(var l=rMe(t,e),u=[],c=[],f=[],d=[],v=[],g=[],y=[],b=yQ(a,e,o),S=t.getLayout("points")||[],w=e.getLayout("points")||[],M=0;M<l.length;M++){var A=l[M],D=!0,R=void 0,N=void 0;switch(A.cmd){case"=":R=A.idx*2,N=A.idx1*2;var I=S[R],z=S[R+1],B=w[N],V=w[N+1];(isNaN(I)||isNaN(z))&&(I=B,z=V),u.push(I,z),c.push(B,V),f.push(r[R],r[R+1]),d.push(n[N],n[N+1]),y.push(e.getRawIndex(A.idx1));break;case"+":var G=A.idx,F=b.dataDimsForPoint,q=a.dataToPoint([e.get(F[0],G),e.get(F[1],G)]);N=G*2,u.push(q[0],q[1]),c.push(w[N],w[N+1]);var Q=xQ(b,a,e,G);f.push(Q[0],Q[1]),d.push(n[N],n[N+1]),y.push(e.getRawIndex(G));break;case"-":D=!1}D&&(v.push(A),g.push(g.length))}g.sort(function(me,we){return y[me]-y[we]});for(var H=u.length,X=ac(H),W=ac(H),J=ac(H),ee=ac(H),K=[],M=0;M<g.length;M++){var ne=g[M],ie=M*2,le=ne*2;X[ie]=u[le],X[ie+1]=u[le+1],W[ie]=c[le],W[ie+1]=c[le+1],J[ie]=f[le],J[ie+1]=f[le+1],ee[ie]=d[le],ee[ie+1]=d[le+1],K[M]=v[ne]}return{current:X,next:W,stackedOnCurrent:J,stackedOnNext:ee,status:K}}var ph=Math.min,gh=Math.max;function Vv(t,e){return isNaN(t)||isNaN(e)}function HN(t,e,r,n,a,i,o,s,l){for(var u,c,f,d,v,g,y=r,b=0;b<n;b++){var S=e[y*2],w=e[y*2+1];if(y>=a||y<0)break;if(Vv(S,w)){if(l){y+=i;continue}break}if(y===r)t[i>0?"moveTo":"lineTo"](S,w),f=S,d=w;else{var M=S-u,A=w-c;if(M*M+A*A<.5){y+=i;continue}if(o>0){for(var D=y+i,R=e[D*2],N=e[D*2+1];R===S&&N===w&&b<n;)b++,D+=i,y+=i,R=e[D*2],N=e[D*2+1],S=e[y*2],w=e[y*2+1],M=S-u,A=w-c;var I=b+1;if(l)for(;Vv(R,N)&&I<n;)I++,D+=i,R=e[D*2],N=e[D*2+1];var z=.5,B=0,V=0,G=void 0,F=void 0;if(I>=n||Vv(R,N))v=S,g=w;else{B=R-u,V=N-c;var q=S-u,Q=R-S,H=w-c,X=N-w,W=void 0,J=void 0;if(s==="x"){W=Math.abs(q),J=Math.abs(Q);var ee=B>0?1:-1;v=S-ee*W*o,g=w,G=S+ee*J*o,F=w}else if(s==="y"){W=Math.abs(H),J=Math.abs(X);var K=V>0?1:-1;v=S,g=w-K*W*o,G=S,F=w+K*J*o}else W=Math.sqrt(q*q+H*H),J=Math.sqrt(Q*Q+X*X),z=J/(J+W),v=S-B*o*(1-z),g=w-V*o*(1-z),G=S+B*o*z,F=w+V*o*z,G=ph(G,gh(R,S)),F=ph(F,gh(N,w)),G=gh(G,ph(R,S)),F=gh(F,ph(N,w)),B=G-S,V=F-w,v=S-B*W/J,g=w-V*W/J,v=ph(v,gh(u,S)),g=ph(g,gh(c,w)),v=gh(v,ph(u,S)),g=gh(g,ph(c,w)),B=S-v,V=w-g,G=S+B*J/W,F=w+V*J/W}t.bezierCurveTo(f,d,v,g,S,w),f=G,d=F}else t.lineTo(S,w)}u=S,c=w,y+=i}return b}var _Q=(function(){function t(){this.smooth=0,this.smoothConstraint=!0}return t})(),aMe=(function(t){ye(e,t);function e(r){var n=t.call(this,r)||this;return n.type="ec-polyline",n}return e.prototype.getDefaultStyle=function(){return{stroke:ve.color.neutral99,fill:null}},e.prototype.getDefaultShape=function(){return new _Q},e.prototype.buildPath=function(r,n){var a=n.points,i=0,o=a.length/2;if(n.connectNulls){for(;o>0&&Vv(a[o*2-2],a[o*2-1]);o--);for(;i<o&&Vv(a[i*2],a[i*2+1]);i++);}for(;i<o;)i+=HN(r,a,i,o,o,1,n.smooth,n.smoothMonotone,n.connectNulls)+1},e.prototype.getPointOn=function(r,n){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var a=this.path,i=a.data,o=xc.CMD,s,l,u=n==="x",c=[],f=0;f<i.length;){var d=i[f++],v=void 0,g=void 0,y=void 0,b=void 0,S=void 0,w=void 0,M=void 0;switch(d){case o.M:s=i[f++],l=i[f++];break;case o.L:if(v=i[f++],g=i[f++],M=u?(r-s)/(v-s):(r-l)/(g-l),M<=1&&M>=0){var A=u?(g-l)*M+l:(v-s)*M+s;return u?[r,A]:[A,r]}s=v,l=g;break;case o.C:v=i[f++],g=i[f++],y=i[f++],b=i[f++],S=i[f++],w=i[f++];var D=u?iw(s,v,y,S,r,c):iw(l,g,b,w,r,c);if(D>0)for(var R=0;R<D;R++){var N=c[R];if(N<=1&&N>=0){var A=u?vi(l,g,b,w,N):vi(s,v,y,S,N);return u?[r,A]:[A,r]}}s=S,l=w;break}}},e})(Jt),iMe=(function(t){ye(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(_Q),bQ=(function(t){ye(e,t);function e(r){var n=t.call(this,r)||this;return n.type="ec-polygon",n}return e.prototype.getDefaultShape=function(){return new iMe},e.prototype.buildPath=function(r,n){var a=n.points,i=n.stackedOnPoints,o=0,s=a.length/2,l=n.smoothMonotone;if(n.connectNulls){for(;s>0&&Vv(a[s*2-2],a[s*2-1]);s--);for(;o<s&&Vv(a[o*2],a[o*2+1]);o++);}for(;o<s;){var u=HN(r,a,o,s,s,1,n.smooth,l,n.connectNulls);HN(r,i,o+u-1,u,s,-1,n.stackedOnSmooth,l,n.connectNulls),o+=u+1,r.closePath()}},e})(Jt);function SQ(t,e,r,n,a){var i=t.getArea(),o=i.x,s=i.y,l=i.width,u=i.height,c=r.get(["lineStyle","width"])||0;o-=c/2,s-=c/2,l+=c,u+=c,l=Math.ceil(l),o!==Math.floor(o)&&(o=Math.floor(o),l++);var f=new $t({shape:{x:o,y:s,width:l,height:u}});if(e){var d=t.getBaseAxis(),v=d.isHorizontal(),g=d.inverse;v?(g&&(f.shape.x+=l),f.shape.width=0):(g||(f.shape.y+=u),f.shape.height=0);var y=ot(a)?function(b){a(b,f)}:null;zn(f,{shape:{width:l,height:u,x:o,y:s}},r,null,n,y)}return f}function wQ(t,e,r){var n=t.getArea(),a=Ea(n.r0,1),i=Ea(n.r,1),o=new fo({shape:{cx:Ea(t.cx,1),cy:Ea(t.cy,1),r0:a,r:i,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}});if(e){var s=t.getBaseAxis().dim==="angle";s?o.shape.endAngle=n.startAngle:o.shape.r=a,zn(o,{shape:{endAngle:n.endAngle,r:i}},r)}return o}function M_(t,e,r,n,a){if(t){if(t.type==="polar")return wQ(t,e,r);if(t.type==="cartesian2d")return SQ(t,e,r,n,a)}else return null;return null}function td(t,e){return t.type===e}function oH(t,e){if(t.length===e.length){for(var r=0;r<t.length;r++)if(t[r]!==e[r])return;return!0}}function sH(t){for(var e=1/0,r=1/0,n=-1/0,a=-1/0,i=0;i<t.length;){var o=t[i++],s=t[i++];isNaN(o)||(e=Math.min(o,e),n=Math.max(o,n)),isNaN(s)||(r=Math.min(s,r),a=Math.max(s,a))}return[[e,r],[n,a]]}function lH(t,e){var r=sH(t),n=r[0],a=r[1],i=sH(e),o=i[0],s=i[1];return Math.max(Math.abs(n[0]-o[0]),Math.abs(n[1]-o[1]),Math.abs(a[0]-s[0]),Math.abs(a[1]-s[1]))}function uH(t){return vr(t)?t:t?.5:0}function oMe(t,e,r){if(!r.valueDim)return[];for(var n=e.count(),a=ac(n*2),i=0;i<n;i++){var o=xQ(r,t,e,i);a[i*2]=o[0],a[i*2+1]=o[1]}return a}function mh(t,e,r,n,a){var i=r.getBaseAxis(),o=i.dim==="x"||i.dim==="radius"?0:1,s=[],l=0,u=[],c=[],f=[],d=[];if(a){for(l=0;l<t.length;l+=2){var v=e||t;!isNaN(v[l])&&!isNaN(v[l+1])&&d.push(t[l],t[l+1])}t=d}for(l=0;l<t.length-2;l+=2)switch(f[0]=t[l+2],f[1]=t[l+3],c[0]=t[l],c[1]=t[l+1],s.push(c[0],c[1]),n){case"end":u[o]=f[o],u[1-o]=c[1-o],s.push(u[0],u[1]);break;case"middle":var g=(c[o]+f[o])/2,y=[];u[o]=y[o]=g,u[1-o]=c[1-o],y[1-o]=f[1-o],s.push(u[0],u[1]),s.push(y[0],y[1]);break;default:u[o]=c[o],u[1-o]=f[1-o],s.push(u[0],u[1])}return s.push(t[l++],t[l++]),s}function sMe(t,e){var r=[],n=t.length,a,i;function o(c,f,d){var v=c.coord,g=(d-v)/(f.coord-v),y=C0e(g,[c.color,f.color]);return{coord:d,color:y}}for(var s=0;s<n;s++){var l=t[s],u=l.coord;if(u<0)a=l;else if(u>e){i?r.push(o(i,l,e)):a&&r.push(o(a,l,0),o(a,l,e));break}else a&&(r.push(o(a,l,0)),a=null),r.push(l),i=l}return r}function lMe(t,e,r){var n=t.getVisual("visualMeta");if(!(!n||!n.length||!t.count())&&e.type==="cartesian2d"){for(var a,i,o=n.length-1;o>=0;o--){var s=t.getDimensionInfo(n[o].dimension);if(a=s&&s.coordDim,a==="x"||a==="y"){i=n[o];break}}if(i){var l=e.getAxis(a),u=Re(i.stops,function(M){return{coord:l.toGlobalCoord(l.dataToCoord(M.value)),color:M.color}}),c=u.length,f=i.outerColors.slice();c&&u[0].coord>u[c-1].coord&&(u.reverse(),f.reverse());var d=sMe(u,a==="x"?r.getWidth():r.getHeight()),v=d.length;if(!v&&c)return u[0].coord<0?f[1]?f[1]:u[c-1].color:f[0]?f[0]:u[0].color;var g=10,y=d[0].coord-g,b=d[v-1].coord+g,S=b-y;if(S<.001)return"transparent";Y(d,function(M){M.offset=(M.coord-y)/S}),d.push({offset:v?d[v-1].offset:.5,color:f[1]||"transparent"}),d.unshift({offset:v?d[0].offset:.5,color:f[0]||"transparent"});var w=new Hm(0,0,0,0,d,!0);return w[a]=y,w[a+"2"]=b,w}}}function uMe(t,e,r){var n=t.get("showAllSymbol"),a=n==="auto";if(!(n&&!a)){var i=r.getAxesByScale("ordinal")[0];if(i&&!(a&&cMe(i,e))){var o=e.mapDimension(i.dim),s={};return Y(i.getViewLabels(),function(l){var u=i.scale.getRawOrdinalNumber(l.tickValue);s[u]=1}),function(l){return!s.hasOwnProperty(e.get(o,l))}}}}function cMe(t,e){var r=t.getExtent(),n=Math.abs(r[1]-r[0])/t.scale.count();isNaN(n)&&(n=0);for(var a=e.count(),i=Math.max(1,Math.round(a/5)),o=0;o<a;o+=i)if(T_.getSymbolSize(e,o)[t.isHorizontal()?1:0]*1.5>n)return!1;return!0}function fMe(t,e){return isNaN(t)||isNaN(e)}function hMe(t){for(var e=t.length/2;e>0&&fMe(t[e*2-2],t[e*2-1]);e--);return e-1}function cH(t,e){return[t[e*2],t[e*2+1]]}function dMe(t,e,r){for(var n=t.length/2,a=r==="x"?0:1,i,o,s=0,l=-1,u=0;u<n;u++)if(o=t[u*2+a],!(isNaN(o)||isNaN(t[u*2+1-a]))){if(u===0){i=o;continue}if(i<=e&&o>=e||i>=e&&o<=e){l=u;break}s=u,i=o}return{range:[s,l],t:(e-i)/(o-i)}}function TQ(t){if(t.get(["endLabel","show"]))return!0;for(var e=0;e<No.length;e++)if(t.get([No[e],"endLabel","show"]))return!0;return!1}function AD(t,e,r,n){if(td(e,"cartesian2d")){var a=n.getModel("endLabel"),i=a.get("valueAnimation"),o=n.getData(),s={lastFrameIndex:0},l=TQ(n)?function(v,g){t._endLabelOnDuring(v,g,o,s,i,a,e)}:null,u=e.getBaseAxis().isHorizontal(),c=SQ(e,r,n,function(){var v=t._endLabel;v&&r&&s.originalX!=null&&v.attr({x:s.originalX,y:s.originalY})},l);if(!n.get("clip",!0)){var f=c.shape,d=Math.max(f.width,f.height);u?(f.y-=d,f.height+=d*2):(f.x-=d,f.width+=d*2)}return l&&l(1,c),c}else return wQ(e,r,n)}function vMe(t,e){var r=e.getBaseAxis(),n=r.isHorizontal(),a=r.inverse,i=n?a?"right":"left":"center",o=n?"middle":a?"top":"bottom";return{normal:{align:t.get("align")||i,verticalAlign:t.get("verticalAlign")||o}}}var pMe=(function(t){ye(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.init=function(){var r=new st,n=new C_;this.group.add(n.group),this._symbolDraw=n,this._lineGroup=r,this._changePolyState=Ye(this._changePolyState,this)},e.prototype.render=function(r,n,a){var i=r.coordinateSystem,o=this.group,s=r.getData(),l=r.getModel("lineStyle"),u=r.getModel("areaStyle"),c=s.getLayout("points")||[],f=i.type==="polar",d=this._coordSys,v=this._symbolDraw,g=this._polyline,y=this._polygon,b=this._lineGroup,S=!n.ssr&&r.get("animation"),w=!u.isEmpty(),M=u.get("origin"),A=yQ(i,s,M),D=w&&oMe(i,s,A),R=r.get("showSymbol"),N=r.get("connectNulls"),I=R&&!f&&uMe(r,s,i),z=this._data;z&&z.eachItemGraphicEl(function(me,we){me.__temp&&(o.remove(me),z.setItemGraphicEl(we,null))}),R||v.remove(),o.add(b);var B=f?!1:r.get("step"),V;i&&i.getArea&&r.get("clip",!0)&&(V=i.getArea(),V.width!=null?(V.x-=.1,V.y-=.1,V.width+=.2,V.height+=.2):V.r0&&(V.r0-=.5,V.r+=.5)),this._clipShapeForSymbol=V;var G=lMe(s,i,a)||s.getVisual("style")[s.getVisual("drawType")];if(!(g&&d.type===i.type&&B===this._step))R&&v.updateData(s,{isIgnore:I,clipShape:V,disableAnimation:!0,getSymbolPoint:function(me){return[c[me*2],c[me*2+1]]}}),S&&this._initSymbolLabelAnimation(s,i,V),B&&(D&&(D=mh(D,c,i,B,N)),c=mh(c,null,i,B,N)),g=this._newPolyline(c),w?y=this._newPolygon(c,D):y&&(b.remove(y),y=this._polygon=null),f||this._initOrUpdateEndLabel(r,i,rp(G)),b.setClipPath(AD(this,i,!0,r));else{w&&!y?y=this._newPolygon(c,D):y&&!w&&(b.remove(y),y=this._polygon=null),f||this._initOrUpdateEndLabel(r,i,rp(G));var F=b.getClipPath();if(F){var q=AD(this,i,!1,r);zn(F,{shape:q.shape},r)}else b.setClipPath(AD(this,i,!0,r));R&&v.updateData(s,{isIgnore:I,clipShape:V,disableAnimation:!0,getSymbolPoint:function(me){return[c[me*2],c[me*2+1]]}}),(!oH(this._stackedOnPoints,D)||!oH(this._points,c))&&(S?this._doUpdateAnimation(s,D,i,a,B,M,N):(B&&(D&&(D=mh(D,c,i,B,N)),c=mh(c,null,i,B,N)),g.setShape({points:c}),y&&y.setShape({points:c,stackedOnPoints:D})))}var Q=r.getModel("emphasis"),H=Q.get("focus"),X=Q.get("blurScope"),W=Q.get("disabled");if(g.useStyle(gt(l.getLineStyle(),{fill:"none",stroke:G,lineJoin:"bevel"})),ti(g,r,"lineStyle"),g.style.lineWidth>0&&r.get(["emphasis","lineStyle","width"])==="bolder"){var J=g.getState("emphasis").style;J.lineWidth=+g.style.lineWidth+1}wt(g).seriesIndex=r.seriesIndex,Wn(g,H,X,W);var ee=uH(r.get("smooth")),K=r.get("smoothMonotone");if(g.setShape({smooth:ee,smoothMonotone:K,connectNulls:N}),y){var ne=s.getCalculationInfo("stackedOnSeries"),ie=0;y.useStyle(gt(u.getAreaStyle(),{fill:G,opacity:.7,lineJoin:"bevel",decal:s.getVisual("style").decal})),ne&&(ie=uH(ne.get("smooth"))),y.setShape({smooth:ee,stackedOnSmooth:ie,smoothMonotone:K,connectNulls:N}),ti(y,r,"areaStyle"),wt(y).seriesIndex=r.seriesIndex,Wn(y,H,X,W)}var le=this._changePolyState;s.eachItemGraphicEl(function(me){me&&(me.onHoverStateChange=le)}),this._polyline.onHoverStateChange=le,this._data=s,this._coordSys=i,this._stackedOnPoints=D,this._points=c,this._step=B,this._valueOrigin=M,r.get("triggerLineEvent")&&(this.packEventData(r,g),y&&this.packEventData(r,y))},e.prototype.packEventData=function(r,n){wt(n).eventData={componentType:"series",componentSubType:"line",componentIndex:r.componentIndex,seriesIndex:r.seriesIndex,seriesName:r.name,seriesType:"line"}},e.prototype.highlight=function(r,n,a,i){var o=r.getData(),s=Kv(o,i);if(this._changePolyState("emphasis"),!(s instanceof Array)&&s!=null&&s>=0){var l=o.getLayout("points"),u=o.getItemGraphicEl(s);if(!u){var c=l[s*2],f=l[s*2+1];if(isNaN(c)||isNaN(f)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(c,f))return;var d=r.get("zlevel")||0,v=r.get("z")||0;u=new T_(o,s),u.x=c,u.y=f,u.setZ(d,v);var g=u.getSymbolPath().getTextContent();g&&(g.zlevel=d,g.z=v,g.z2=this._polyline.z2+1),u.__temp=!0,o.setItemGraphicEl(s,u),u.stopSymbolAnimation(!0),this.group.add(u)}u.highlight()}else cn.prototype.highlight.call(this,r,n,a,i)},e.prototype.downplay=function(r,n,a,i){var o=r.getData(),s=Kv(o,i);if(this._changePolyState("normal"),s!=null&&s>=0){var l=o.getItemGraphicEl(s);l&&(l.__temp?(o.setItemGraphicEl(s,null),this.group.remove(l)):l.downplay())}else cn.prototype.downplay.call(this,r,n,a,i)},e.prototype._changePolyState=function(r){var n=this._polygon;gw(this._polyline,r),n&&gw(n,r)},e.prototype._newPolyline=function(r){var n=this._polyline;return n&&this._lineGroup.remove(n),n=new aMe({shape:{points:r},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(n),this._polyline=n,n},e.prototype._newPolygon=function(r,n){var a=this._polygon;return a&&this._lineGroup.remove(a),a=new bQ({shape:{points:r,stackedOnPoints:n},segmentIgnoreThreshold:2}),this._lineGroup.add(a),this._polygon=a,a},e.prototype._initSymbolLabelAnimation=function(r,n,a){var i,o,s=n.getBaseAxis(),l=s.inverse;n.type==="cartesian2d"?(i=s.isHorizontal(),o=!1):n.type==="polar"&&(i=s.dim==="angle",o=!0);var u=r.hostModel,c=u.get("animationDuration");ot(c)&&(c=c(null));var f=u.get("animationDelay")||0,d=ot(f)?f(null):f;r.eachItemGraphicEl(function(v,g){var y=v;if(y){var b=[v.x,v.y],S=void 0,w=void 0,M=void 0;if(a)if(o){var A=a,D=n.pointToCoord(b);i?(S=A.startAngle,w=A.endAngle,M=-D[1]/180*Math.PI):(S=A.r0,w=A.r,M=D[0])}else{var R=a;i?(S=R.x,w=R.x+R.width,M=v.x):(S=R.y+R.height,w=R.y,M=v.y)}var N=w===S?0:(M-S)/(w-S);l&&(N=1-N);var I=ot(f)?f(g):c*N+d,z=y.getSymbolPath(),B=z.getTextContent();y.attr({scaleX:0,scaleY:0}),y.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:I}),B&&B.animateFrom({style:{opacity:0}},{duration:300,delay:I}),z.disableLabelAnimation=!0}})},e.prototype._initOrUpdateEndLabel=function(r,n,a){var i=r.getModel("endLabel");if(TQ(r)){var o=r.getData(),s=this._polyline,l=o.getLayout("points");if(!l){s.removeTextContent(),this._endLabel=null;return}var u=this._endLabel;u||(u=this._endLabel=new xr({z2:200}),u.ignoreClip=!0,s.setTextContent(this._endLabel),s.disableLabelAnimation=!0);var c=hMe(l);c>=0&&(xi(s,ri(r,"endLabel"),{inheritColor:a,labelFetcher:r,labelDataIndex:c,defaultText:function(f,d,v){return v!=null?mQ(o,v):xm(o,f)},enableTextSetter:!0},vMe(i,n)),s.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},e.prototype._endLabelOnDuring=function(r,n,a,i,o,s,l){var u=this._endLabel,c=this._polyline;if(u){r<1&&i.originalX==null&&(i.originalX=u.x,i.originalY=u.y);var f=a.getLayout("points"),d=a.hostModel,v=d.get("connectNulls"),g=s.get("precision"),y=s.get("distance")||0,b=l.getBaseAxis(),S=b.isHorizontal(),w=b.inverse,M=n.shape,A=w?S?M.x:M.y+M.height:S?M.x+M.width:M.y,D=(S?y:0)*(w?-1:1),R=(S?0:-y)*(w?-1:1),N=S?"x":"y",I=dMe(f,A,N),z=I.range,B=z[1]-z[0],V=void 0;if(B>=1){if(B>1&&!v){var G=cH(f,z[0]);u.attr({x:G[0]+D,y:G[1]+R}),o&&(V=d.getRawValue(z[0]))}else{var G=c.getPointOn(A,N);G&&u.attr({x:G[0]+D,y:G[1]+R});var F=d.getRawValue(z[0]),q=d.getRawValue(z[1]);o&&(V=Qq(a,g,F,q,I.t))}i.lastFrameIndex=z[0]}else{var Q=r===1||i.lastFrameIndex>0?z[0]:0,G=cH(f,Q);o&&(V=d.getRawValue(Q)),u.attr({x:G[0]+D,y:G[1]+R})}if(o){var H=Um(u);typeof H.setLabelText=="function"&&H.setLabelText(V)}}},e.prototype._doUpdateAnimation=function(r,n,a,i,o,s,l){var u=this._polyline,c=this._polygon,f=r.hostModel,d=nMe(this._data,r,this._stackedOnPoints,n,this._coordSys,a,this._valueOrigin),v=d.current,g=d.stackedOnCurrent,y=d.next,b=d.stackedOnNext;if(o&&(g=mh(d.stackedOnCurrent,d.current,a,o,l),v=mh(d.current,null,a,o,l),b=mh(d.stackedOnNext,d.next,a,o,l),y=mh(d.next,null,a,o,l)),lH(v,y)>3e3||c&&lH(g,b)>3e3){u.stopAnimation(),u.setShape({points:y}),c&&(c.stopAnimation(),c.setShape({points:y,stackedOnPoints:b}));return}u.shape.__points=d.current,u.shape.points=v;var S={shape:{points:y}};d.current!==v&&(S.shape.__points=d.next),u.stopAnimation(),Sr(u,S,f),c&&(c.setShape({points:v,stackedOnPoints:g}),c.stopAnimation(),Sr(c,{shape:{stackedOnPoints:b}},f),u.shape.points!==c.shape.points&&(c.shape.points=u.shape.points));for(var w=[],M=d.status,A=0;A<M.length;A++){var D=M[A].cmd;if(D==="="){var R=r.getItemGraphicEl(M[A].idx1);R&&w.push({el:R,ptIdx:A})}}u.animators&&u.animators.length&&u.animators[0].during(function(){c&&c.dirtyShape();for(var N=u.shape.__points,I=0;I<w.length;I++){var z=w[I].el,B=w[I].ptIdx*2;z.x=N[B],z.y=N[B+1],z.markRedraw()}})},e.prototype.remove=function(r){var n=this.group,a=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),a&&a.eachItemGraphicEl(function(i,o){i.__temp&&(n.remove(i),a.setItemGraphicEl(o,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},e.type="line",e})(cn);function A_(t,e){return{seriesType:t,plan:Ym(),reset:function(r){var n=r.getData(),a=r.coordinateSystem,i=r.pipelineContext,o=e||i.large;if(a){var s=Re(a.dimensions,function(v){return n.mapDimension(v)}).slice(0,2),l=s.length,u=n.getCalculationInfo("stackResultDimension");ed(n,s[0])&&(s[0]=u),ed(n,s[1])&&(s[1]=u);var c=n.getStore(),f=n.getDimensionIndex(s[0]),d=n.getDimensionIndex(s[1]);return l&&{progress:function(v,g){for(var y=v.end-v.start,b=o&&ac(y*l),S=[],w=[],M=v.start,A=0;M<v.end;M++){var D=void 0;if(l===1){var R=c.get(f,M);D=a.dataToPoint(R,null,w)}else S[0]=c.get(f,M),S[1]=c.get(d,M),D=a.dataToPoint(S,null,w);o?(b[A++]=D[0],b[A++]=D[1]):g.setItemLayout(M,D.slice())}o&&g.setLayout("points",b)}}}}}}var gMe={average:function(t){for(var e=0,r=0,n=0;n<t.length;n++)isNaN(t[n])||(e+=t[n],r++);return r===0?NaN:e/r},sum:function(t){for(var e=0,r=0;r<t.length;r++)e+=t[r]||0;return e},max:function(t){for(var e=-1/0,r=0;r<t.length;r++)t[r]>e&&(e=t[r]);return isFinite(e)?e:NaN},min:function(t){for(var e=1/0,r=0;r<t.length;r++)t[r]<e&&(e=t[r]);return isFinite(e)?e:NaN},nearest:function(t){return t[0]}},mMe=function(t){return Math.round(t.length/2)};function CQ(t){return{seriesType:t,reset:function(e,r,n){var a=e.getData(),i=e.get("sampling"),o=e.coordinateSystem,s=a.count();if(s>10&&o.type==="cartesian2d"&&i){var l=o.getBaseAxis(),u=o.getOtherAxis(l),c=l.getExtent(),f=n.getDevicePixelRatio(),d=Math.abs(c[1]-c[0])*(f||1),v=Math.round(s/d);if(isFinite(v)&&v>1){i==="lttb"?e.setData(a.lttbDownSample(a.mapDimension(u.dim),1/v)):i==="minmax"&&e.setData(a.minmaxDownSample(a.mapDimension(u.dim),1/v));var g=void 0;We(i)?g=gMe[i]:ot(i)&&(g=i),g&&e.setData(a.downSample(a.mapDimension(u.dim),1/v,g,mMe))}}}}}function yMe(t){t.registerChartView(pMe),t.registerSeriesModel(JCe),t.registerLayout(A_("line",!0)),t.registerVisual({seriesType:"line",reset:function(e){var r=e.getData(),n=e.getModel("lineStyle").getLineStyle();n&&!n.stroke&&(n.stroke=r.getVisual("style").fill),r.setVisual("legendLineStyle",n)}}),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,CQ("line"))}var Vx=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.getInitialData=function(r,n){return Rf(null,this,{useEncodeDefaulter:!0})},e.prototype.getMarkerPosition=function(r,n,a){var i=this.coordinateSystem;if(i&&i.clampData){var o=i.clampData(r),s=i.dataToPoint(o);if(a)Y(i.getAxes(),function(d,v){if(d.type==="category"&&n!=null){var g=d.getTicksCoords(),y=d.getTickModel().get("alignWithLabel"),b=o[v],S=n[v]==="x1"||n[v]==="y1";if(S&&!y&&(b+=1),g.length<2)return;if(g.length===2){s[v]=d.toGlobalCoord(d.getExtent()[S?1:0]);return}for(var w=void 0,M=void 0,A=1,D=0;D<g.length;D++){var R=g[D].coord,N=D===g.length-1?g[D-1].tickValue+A:g[D].tickValue;if(N===b){M=R;break}else if(N<b)w=R;else if(w!=null&&N>b){M=(R+w)/2;break}D===1&&(A=N-g[0].tickValue)}M==null&&(w?w&&(M=g[g.length-1].coord):M=g[0].coord),s[v]=d.toGlobalCoord(M)}});else{var l=this.getData(),u=l.getLayout("offset"),c=l.getLayout("size"),f=i.getBaseAxis().isHorizontal()?0:1;s[f]+=u+c/2}return s}return[NaN,NaN]},e.type="series.__base_bar__",e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod",defaultBarGap:"10%"},e})(Sn);Sn.registerClass(Vx);var xMe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.getInitialData=function(){return Rf(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},e.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},e.prototype.getProgressiveThreshold=function(){var r=this.get("progressiveThreshold"),n=this.get("largeThreshold");return n>r&&(r=n),r},e.prototype.brushSelector=function(r,n,a){return a.rect(n.getItemLayout(r))},e.type="series.bar",e.dependencies=["grid","polar"],e.defaultOption=fd(Vx.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:ve.color.primary,borderWidth:2}},realtimeSort:!1}),e})(Vx),_Me=(function(){function t(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return t})(),zw=(function(t){ye(e,t);function e(r){var n=t.call(this,r)||this;return n.type="sausage",n}return e.prototype.getDefaultShape=function(){return new _Me},e.prototype.buildPath=function(r,n){var a=n.cx,i=n.cy,o=Math.max(n.r0||0,0),s=Math.max(n.r,0),l=(s-o)*.5,u=o+l,c=n.startAngle,f=n.endAngle,d=n.clockwise,v=Math.PI*2,g=d?f-c<v:c-f<v;g||(c=f-(d?v:-v));var y=Math.cos(c),b=Math.sin(c),S=Math.cos(f),w=Math.sin(f);g?(r.moveTo(y*o+a,b*o+i),r.arc(y*u+a,b*u+i,l,-Math.PI+c,c,!d)):r.moveTo(y*s+a,b*s+i),r.arc(a,i,s,c,f,!d),r.arc(S*u+a,w*u+i,l,f-Math.PI*2,f-Math.PI,!d),o!==0&&r.arc(a,i,o,f,c,d)},e})(Jt);function bMe(t,e){e=e||{};var r=e.isRoundCap;return function(n,a,i){var o=a.position;if(!o||o instanceof Array)return fw(n,a,i);var s=t(o),l=a.distance!=null?a.distance:5,u=this.shape,c=u.cx,f=u.cy,d=u.r,v=u.r0,g=(d+v)/2,y=u.startAngle,b=u.endAngle,S=(y+b)/2,w=r?Math.abs(d-v)/2:0,M=Math.cos,A=Math.sin,D=c+d*M(y),R=f+d*A(y),N="left",I="top";switch(s){case"startArc":D=c+(v-l)*M(S),R=f+(v-l)*A(S),N="center",I="top";break;case"insideStartArc":D=c+(v+l)*M(S),R=f+(v+l)*A(S),N="center",I="bottom";break;case"startAngle":D=c+g*M(y)+R1(y,l+w,!1),R=f+g*A(y)+P1(y,l+w,!1),N="right",I="middle";break;case"insideStartAngle":D=c+g*M(y)+R1(y,-l+w,!1),R=f+g*A(y)+P1(y,-l+w,!1),N="left",I="middle";break;case"middle":D=c+g*M(S),R=f+g*A(S),N="center",I="middle";break;case"endArc":D=c+(d+l)*M(S),R=f+(d+l)*A(S),N="center",I="bottom";break;case"insideEndArc":D=c+(d-l)*M(S),R=f+(d-l)*A(S),N="center",I="top";break;case"endAngle":D=c+g*M(b)+R1(b,l+w,!0),R=f+g*A(b)+P1(b,l+w,!0),N="left",I="middle";break;case"insideEndAngle":D=c+g*M(b)+R1(b,-l+w,!0),R=f+g*A(b)+P1(b,-l+w,!0),N="right",I="middle";break;default:return fw(n,a,i)}return n=n||{},n.x=D,n.y=R,n.align=N,n.verticalAlign=I,n}}function SMe(t,e,r,n){if(vr(n)){t.setTextConfig({rotation:n});return}else if(Ee(e)){t.setTextConfig({rotation:0});return}var a=t.shape,i=a.clockwise?a.startAngle:a.endAngle,o=a.clockwise?a.endAngle:a.startAngle,s=(i+o)/2,l,u=r(e);switch(u){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":l=s;break;case"startAngle":case"insideStartAngle":l=i;break;case"endAngle":case"insideEndAngle":l=o;break;default:t.setTextConfig({rotation:0});return}var c=Math.PI*1.5-l;u==="middle"&&c>Math.PI/2&&c<Math.PI*1.5&&(c-=Math.PI),t.setTextConfig({rotation:c})}function R1(t,e,r){return e*Math.sin(t)*(r?-1:1)}function P1(t,e,r){return e*Math.cos(t)*(r?1:-1)}function oc(t,e,r){var n=t.get("borderRadius");if(n==null)return r?{cornerRadius:0}:null;Ee(n)||(n=[n,n,n,n]);var a=Math.abs(e.r||0-e.r0||0);return{cornerRadius:Re(n,function(i){return hu(i,a)})}}var DD=Math.max,LD=Math.min;function wMe(t,e){var r=t.getArea&&t.getArea();if(td(t,"cartesian2d")){var n=t.getBaseAxis();if(n.type!=="category"||!n.onBand){var a=e.getLayout("bandWidth");n.isHorizontal()?(r.x-=a,r.width+=a*2):(r.y-=a,r.height+=a*2)}}return r}var TMe=(function(t){ye(e,t);function e(){var r=t.call(this)||this;return r.type=e.type,r._isFirstFrame=!0,r}return e.prototype.render=function(r,n,a,i){this._model=r,this._removeOnRenderedListener(a),this._updateDrawMode(r);var o=r.get("coordinateSystem");(o==="cartesian2d"||o==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(r,n,a):this._renderNormal(r,n,a,i))},e.prototype.incrementalPrepareRender=function(r){this._clear(),this._updateDrawMode(r),this._updateLargeClip(r)},e.prototype.incrementalRender=function(r,n){this._progressiveEls=[],this._incrementalRenderLarge(r,n)},e.prototype.eachRendered=function(r){cd(this._progressiveEls||this.group,r)},e.prototype._updateDrawMode=function(r){var n=r.pipelineContext.large;(this._isLargeDraw==null||n!==this._isLargeDraw)&&(this._isLargeDraw=n,this._clear())},e.prototype._renderNormal=function(r,n,a,i){var o=this.group,s=r.getData(),l=this._data,u=r.coordinateSystem,c=u.getBaseAxis(),f;u.type==="cartesian2d"?f=c.isHorizontal():u.type==="polar"&&(f=c.dim==="angle");var d=r.isAnimationEnabled()?r:null,v=CMe(r,u);v&&this._enableRealtimeSort(v,s,a);var g=r.get("clip",!0)||v,y=wMe(u,s);o.removeClipPath();var b=r.get("roundCap",!0),S=r.get("showBackground",!0),w=r.getModel("backgroundStyle"),M=w.get("borderRadius")||0,A=[],D=this._backgroundEls,R=i&&i.isInitSort,N=i&&i.type==="changeAxisOrder";function I(V){var G=k1[u.type](s,V);if(!G)return null;var F=RMe(u,f,G);return F.useStyle(w.getItemStyle()),u.type==="cartesian2d"?F.setShape("r",M):F.setShape("cornerRadius",M),A[V]=F,F}s.diff(l).add(function(V){var G=s.getItemModel(V),F=k1[u.type](s,V,G);if(F&&(S&&I(V),!(!s.hasValue(V)||!pH[u.type](F)))){var q=!1;g&&(q=fH[u.type](y,F));var Q=hH[u.type](r,s,V,F,f,d,c.model,!1,b);v&&(Q.forceLabelAnimation=!0),gH(Q,s,V,G,F,r,f,u.type==="polar"),R?Q.attr({shape:F}):v?dH(v,d,Q,F,V,f,!1,!1):zn(Q,{shape:F},r,V),s.setItemGraphicEl(V,Q),o.add(Q),Q.ignore=q}}).update(function(V,G){var F=s.getItemModel(V),q=k1[u.type](s,V,F);if(q){if(S){var Q=void 0;D.length===0?Q=I(G):(Q=D[G],Q.useStyle(w.getItemStyle()),u.type==="cartesian2d"?Q.setShape("r",M):Q.setShape("cornerRadius",M),A[V]=Q);var H=k1[u.type](s,V),X=AQ(f,H,u);Sr(Q,{shape:X},d,V)}var W=l.getItemGraphicEl(G);if(!s.hasValue(V)||!pH[u.type](q)){o.remove(W);return}var J=!1;g&&(J=fH[u.type](y,q),J&&o.remove(W));var ee=W&&(W.type==="sector"&&b||W.type==="sausage"&&!b);if(ee&&(W&&ff(W,r,G),W=null),W?Dl(W):W=hH[u.type](r,s,V,q,f,d,c.model,!0,b),v&&(W.forceLabelAnimation=!0),N){var K=W.getTextContent();if(K){var ne=Um(K);ne.prevValue!=null&&(ne.prevValue=ne.value)}}else gH(W,s,V,F,q,r,f,u.type==="polar");R?W.attr({shape:q}):v?dH(v,d,W,q,V,f,!0,N):Sr(W,{shape:q},r,V,null),s.setItemGraphicEl(V,W),W.ignore=J,o.add(W)}}).remove(function(V){var G=l.getItemGraphicEl(V);G&&ff(G,r,V)}).execute();var z=this._backgroundGroup||(this._backgroundGroup=new st);z.removeAll();for(var B=0;B<A.length;++B)z.add(A[B]);o.add(z),this._backgroundEls=A,this._data=s},e.prototype._renderLarge=function(r,n,a){this._clear(),yH(r,this.group),this._updateLargeClip(r)},e.prototype._incrementalRenderLarge=function(r,n){this._removeBackground(),yH(n,this.group,this._progressiveEls,!0)},e.prototype._updateLargeClip=function(r){var n=r.get("clip",!0)&&M_(r.coordinateSystem,!1,r),a=this.group;n?a.setClipPath(n):a.removeClipPath()},e.prototype._enableRealtimeSort=function(r,n,a){var i=this;if(n.count()){var o=r.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(n,r,a),this._isFirstFrame=!1;else{var s=function(l){var u=n.getItemGraphicEl(l),c=u&&u.shape;return c&&Math.abs(o.isHorizontal()?c.height:c.width)||0};this._onRendered=function(){i._updateSortWithinSameData(n,s,o,a)},a.getZr().on("rendered",this._onRendered)}}},e.prototype._dataSort=function(r,n,a){var i=[];return r.each(r.mapDimension(n.dim),function(o,s){var l=a(s);l=l??NaN,i.push({dataIndex:s,mappedValue:l,ordinalNumber:o})}),i.sort(function(o,s){return s.mappedValue-o.mappedValue}),{ordinalNumbers:Re(i,function(o){return o.ordinalNumber})}},e.prototype._isOrderChangedWithinSameData=function(r,n,a){for(var i=a.scale,o=r.mapDimension(a.dim),s=Number.MAX_VALUE,l=0,u=i.getOrdinalMeta().categories.length;l<u;++l){var c=r.rawIndexOf(o,i.getRawOrdinalNumber(l)),f=c<0?Number.MIN_VALUE:n(r.indexOfRawIndex(c));if(f>s)return!0;s=f}return!1},e.prototype._isOrderDifferentInView=function(r,n){for(var a=n.scale,i=a.getExtent(),o=Math.max(0,i[0]),s=Math.min(i[1],a.getOrdinalMeta().categories.length-1);o<=s;++o)if(r.ordinalNumbers[o]!==a.getRawOrdinalNumber(o))return!0},e.prototype._updateSortWithinSameData=function(r,n,a,i){if(this._isOrderChangedWithinSameData(r,n,a)){var o=this._dataSort(r,a,n);this._isOrderDifferentInView(o,a)&&(this._removeOnRenderedListener(i),i.dispatchAction({type:"changeAxisOrder",componentType:a.dim+"Axis",axisId:a.index,sortInfo:o}))}},e.prototype._dispatchInitSort=function(r,n,a){var i=n.baseAxis,o=this._dataSort(r,i,function(s){return r.get(r.mapDimension(n.otherAxis.dim),s)});a.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",isInitSort:!0,axisId:i.index,sortInfo:o})},e.prototype.remove=function(r,n){this._clear(this._model),this._removeOnRenderedListener(n)},e.prototype.dispose=function(r,n){this._removeOnRenderedListener(n)},e.prototype._removeOnRenderedListener=function(r){this._onRendered&&(r.getZr().off("rendered",this._onRendered),this._onRendered=null)},e.prototype._clear=function(r){var n=this.group,a=this._data;r&&r.isAnimationEnabled()&&a&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],a.eachItemGraphicEl(function(i){ff(i,r,wt(i).dataIndex)})):n.removeAll(),this._data=null,this._isFirstFrame=!0},e.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},e.type="bar",e})(cn),fH={cartesian2d:function(t,e){var r=e.width<0?-1:1,n=e.height<0?-1:1;r<0&&(e.x+=e.width,e.width=-e.width),n<0&&(e.y+=e.height,e.height=-e.height);var a=t.x+t.width,i=t.y+t.height,o=DD(e.x,t.x),s=LD(e.x+e.width,a),l=DD(e.y,t.y),u=LD(e.y+e.height,i),c=s<o,f=u<l;return e.x=c&&o>a?s:o,e.y=f&&l>i?u:l,e.width=c?0:s-o,e.height=f?0:u-l,r<0&&(e.x+=e.width,e.width=-e.width),n<0&&(e.y+=e.height,e.height=-e.height),c||f},polar:function(t,e){var r=e.r0<=e.r?1:-1;if(r<0){var n=e.r;e.r=e.r0,e.r0=n}var a=LD(e.r,t.r),i=DD(e.r0,t.r0);e.r=a,e.r0=i;var o=a-i<0;if(r<0){var n=e.r;e.r=e.r0,e.r0=n}return o}},hH={cartesian2d:function(t,e,r,n,a,i,o,s,l){var u=new $t({shape:Ae({},n),z2:1});if(u.__dataIndex=r,u.name="item",i){var c=u.shape,f=a?"height":"width";c[f]=0}return u},polar:function(t,e,r,n,a,i,o,s,l){var u=!a&&l?zw:fo,c=new u({shape:n,z2:1});c.name="item";var f=MQ(a);if(c.calculateTextPosition=bMe(f,{isRoundCap:u===zw}),i){var d=c.shape,v=a?"r":"endAngle",g={};d[v]=a?n.r0:n.startAngle,g[v]=n[v],(s?Sr:zn)(c,{shape:g},i)}return c}};function CMe(t,e){var r=t.get("realtimeSort",!0),n=e.getBaseAxis();if(r&&n.type==="category"&&e.type==="cartesian2d")return{baseAxis:n,otherAxis:e.getOtherAxis(n)}}function dH(t,e,r,n,a,i,o,s){var l,u;i?(u={x:n.x,width:n.width},l={y:n.y,height:n.height}):(u={y:n.y,height:n.height},l={x:n.x,width:n.width}),s||(o?Sr:zn)(r,{shape:l},e,a,null);var c=e?t.baseAxis.model:null;(o?Sr:zn)(r,{shape:u},c,a)}function vH(t,e){for(var r=0;r<e.length;r++)if(!isFinite(t[e[r]]))return!0;return!1}var MMe=["x","y","width","height"],AMe=["cx","cy","r","startAngle","endAngle"],pH={cartesian2d:function(t){return!vH(t,MMe)},polar:function(t){return!vH(t,AMe)}},k1={cartesian2d:function(t,e,r){var n=t.getItemLayout(e);if(!n)return null;var a=r?LMe(r,n):0,i=n.width>0?1:-1,o=n.height>0?1:-1;return{x:n.x+i*a/2,y:n.y+o*a/2,width:n.width-i*a,height:n.height-o*a}},polar:function(t,e,r){var n=t.getItemLayout(e);return{cx:n.cx,cy:n.cy,r0:n.r0,r:n.r,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}}};function DMe(t){return t.startAngle!=null&&t.endAngle!=null&&t.startAngle===t.endAngle}function MQ(t){return(function(e){var r=e?"Arc":"Angle";return function(n){switch(n){case"start":case"insideStart":case"end":case"insideEnd":return n+r;default:return n}}})(t)}function gH(t,e,r,n,a,i,o,s){var l=e.getItemVisual(r,"style");if(s){if(!i.get("roundCap")){var c=t.shape,f=oc(n.getModel("itemStyle"),c,!0);Ae(c,f),t.setShape(c)}}else{var u=n.get(["itemStyle","borderRadius"])||0;t.setShape("r",u)}t.useStyle(l);var d=n.getShallow("cursor");d&&t.attr("cursor",d);var v=s?o?a.r>=a.r0?"endArc":"startArc":a.endAngle>=a.startAngle?"endAngle":"startAngle":o?a.height>=0?"bottom":"top":a.width>=0?"right":"left",g=ri(n);xi(t,g,{labelFetcher:i,labelDataIndex:r,defaultText:xm(i.getData(),r),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:v});var y=t.getTextContent();if(s&&y){var b=n.get(["label","position"]);t.textConfig.inside=b==="middle"?!0:null,SMe(t,b==="outside"?v:b,MQ(o),n.get(["label","rotate"]))}z$(y,g,i.getRawValue(r),function(w){return mQ(e,w)});var S=n.getModel(["emphasis"]);Wn(t,S.get("focus"),S.get("blurScope"),S.get("disabled")),ti(t,n),DMe(a)&&(t.style.fill="none",t.style.stroke="none",Y(t.states,function(w){w.style&&(w.style.fill=w.style.stroke="none")}))}function LMe(t,e){var r=t.get(["itemStyle","borderColor"]);if(!r||r==="none")return 0;var n=t.get(["itemStyle","borderWidth"])||0,a=isNaN(e.width)?Number.MAX_VALUE:Math.abs(e.width),i=isNaN(e.height)?Number.MAX_VALUE:Math.abs(e.height);return Math.min(n,a,i)}var EMe=(function(){function t(){}return t})(),mH=(function(t){ye(e,t);function e(r){var n=t.call(this,r)||this;return n.type="largeBar",n}return e.prototype.getDefaultShape=function(){return new EMe},e.prototype.buildPath=function(r,n){for(var a=n.points,i=this.baseDimIdx,o=1-this.baseDimIdx,s=[],l=[],u=this.barWidth,c=0;c<a.length;c+=3)l[i]=u,l[o]=a[c+2],s[i]=a[c+i],s[o]=a[c+o],r.rect(s[0],s[1],l[0],l[1])},e})(Jt);function yH(t,e,r,n){var a=t.getData(),i=a.getLayout("valueAxisHorizontal")?1:0,o=a.getLayout("largeDataIndices"),s=a.getLayout("size"),l=t.getModel("backgroundStyle"),u=a.getLayout("largeBackgroundPoints");if(u){var c=new mH({shape:{points:u},incremental:!!n,silent:!0,z2:0});c.baseDimIdx=i,c.largeDataIndices=o,c.barWidth=s,c.useStyle(l.getItemStyle()),e.add(c),r&&r.push(c)}var f=new mH({shape:{points:a.getLayout("largePoints")},incremental:!!n,ignoreCoarsePointer:!0,z2:1});f.baseDimIdx=i,f.largeDataIndices=o,f.barWidth=s,e.add(f),f.useStyle(a.getVisual("style")),f.style.stroke=null,wt(f).seriesIndex=t.seriesIndex,t.get("silent")||(f.on("mousedown",xH),f.on("mousemove",xH)),r&&r.push(f)}var xH=Kk(function(t){var e=this,r=NMe(e,t.offsetX,t.offsetY);wt(e).dataIndex=r>=0?r:null},30,!1);function NMe(t,e,r){for(var n=t.baseDimIdx,a=1-n,i=t.shape.points,o=t.largeDataIndices,s=[],l=[],u=t.barWidth,c=0,f=i.length/3;c<f;c++){var d=c*3;if(l[n]=u,l[a]=i[d+2],s[n]=i[d+n],s[a]=i[d+a],l[a]<0&&(s[a]+=l[a],l[a]=-l[a]),e>=s[0]&&e<=s[0]+l[0]&&r>=s[1]&&r<=s[1]+l[1])return o[c]}return-1}function AQ(t,e,r){if(td(r,"cartesian2d")){var n=e,a=r.getArea();return{x:t?n.x:a.x,y:t?a.y:n.y,width:t?n.width:a.width,height:t?a.height:n.height}}else{var a=r.getArea(),i=e;return{cx:a.cx,cy:a.cy,r0:t?a.r0:i.r0,r:t?a.r:i.r,startAngle:t?i.startAngle:0,endAngle:t?i.endAngle:Math.PI*2}}}function RMe(t,e,r){var n=t.type==="polar"?fo:$t;return new n({shape:AQ(e,r,t),silent:!0,z2:0})}function PMe(t){t.registerChartView(TMe),t.registerSeriesModel(xMe),t.registerLayout(t.PRIORITY.VISUAL.LAYOUT,zt(EK,"bar")),t.registerLayout(t.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,NK("bar")),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,CQ("bar")),t.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(e,r){var n=e.componentType||"series";r.eachComponent({mainType:n,query:e},function(a){e.sortInfo&&a.axis.setCategorySortInfo(e.sortInfo)})})}var _H=Math.PI*2,I1=Math.PI/180;function kMe(t,e,r){e.eachSeriesByType(t,function(n){var a=n.getData(),i=a.mapDimension("value"),o=iX(n,r),s=o.cx,l=o.cy,u=o.r,c=o.r0,f=o.viewRect,d=-n.get("startAngle")*I1,v=n.get("endAngle"),g=n.get("padAngle")*I1;v=v==="auto"?d-_H:-v*I1;var y=n.get("minAngle")*I1,b=y+g,S=0;a.each(i,function(X){!isNaN(X)&&S++});var w=a.getSum(i),M=Math.PI/(w||S)*2,A=n.get("clockwise"),D=n.get("roseType"),R=n.get("stillShowZeroSum"),N=a.getDataExtent(i);N[0]=0;var I=A?1:-1,z=[d,v],B=I*g/2;hC(z,!A),d=z[0],v=z[1];var V=DQ(n);V.startAngle=d,V.endAngle=v,V.clockwise=A,V.cx=s,V.cy=l,V.r=u,V.r0=c;var G=Math.abs(v-d),F=G,q=0,Q=d;if(a.setLayout({viewRect:f,r:u}),a.each(i,function(X,W){var J;if(isNaN(X)){a.setItemLayout(W,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:A,cx:s,cy:l,r0:c,r:D?NaN:u});return}D!=="area"?J=w===0&&R?M:X*M:J=G/S,J<b?(J=b,F-=b):q+=X;var ee=Q+I*J,K=0,ne=0;g>J?(K=Q+I*J/2,ne=K):(K=Q+B,ne=ee-B),a.setItemLayout(W,{angle:J,startAngle:K,endAngle:ne,clockwise:A,cx:s,cy:l,r0:c,r:D?kr(X,N,[c,u]):u}),Q=ee}),F<_H&&S)if(F<=.001){var H=G/S;a.each(i,function(X,W){if(!isNaN(X)){var J=a.getItemLayout(W);J.angle=H;var ee=0,K=0;H<g?(ee=d+I*(W+1/2)*H,K=ee):(ee=d+I*W*H+B,K=d+I*(W+1)*H-B),J.startAngle=ee,J.endAngle=K}})}else M=F/q,Q=d,a.each(i,function(X,W){if(!isNaN(X)){var J=a.getItemLayout(W),ee=J.angle===b?b:X*M,K=0,ne=0;ee<g?(K=Q+I*ee/2,ne=K):(K=Q+B,ne=Q+I*ee-B),J.startAngle=K,J.endAngle=ne,Q+=I*ee}})})}var DQ=Xt();function Xm(t){return{seriesType:t,reset:function(e,r){var n=r.findComponents({mainType:"legend"});if(!(!n||!n.length)){var a=e.getData();a.filterSelf(function(i){for(var o=a.getName(i),s=0;s<n.length;s++)if(!n[s].isSelected(o))return!1;return!0})}}}}var IMe=Math.PI/180;function bH(t,e,r,n,a,i,o,s,l,u){if(t.length<2)return;function c(y){for(var b=y.rB,S=b*b,w=0;w<y.list.length;w++){var M=y.list[w],A=Math.abs(M.label.y-r),D=n+M.len,R=D*D,N=Math.sqrt(Math.abs((1-A*A/S)*R)),I=e+(N+M.len2)*a,z=I-M.label.x,B=M.targetTextWidth-z*a;LQ(M,B,!0),M.label.x=I}}function f(y){for(var b={list:[],maxY:0},S={list:[],maxY:0},w=0;w<y.length;w++)if(y[w].labelAlignTo==="none"){var M=y[w],A=M.label.y>r?S:b,D=Math.abs(M.label.y-r);if(D>=A.maxY){var R=M.label.x-e-M.len2*a,N=n+M.len,I=Math.abs(R)<N?Math.sqrt(D*D/(1-R*R/N/N)):N;A.rB=I,A.maxY=D}A.list.push(M)}c(b),c(S)}for(var d=t.length,v=0;v<d;v++)if(t[v].position==="outer"&&t[v].labelAlignTo==="labelLine"){var g=t[v].label.x-u;t[v].linePoints[1][0]+=g,t[v].label.x=u}zN(t,1,l,l+o)&&f(t)}function OMe(t,e,r,n,a,i,o,s){for(var l=[],u=[],c=Number.MAX_VALUE,f=-Number.MAX_VALUE,d=0;d<t.length;d++){var v=t[d].label;ED(t[d])||(v.x<e?(c=Math.min(c,v.x),l.push(t[d])):(f=Math.max(f,v.x),u.push(t[d])))}for(var d=0;d<t.length;d++){var g=t[d];if(!ED(g)&&g.linePoints){if(g.labelStyleWidth!=null)continue;var v=g.label,y=g.linePoints,b=void 0;g.labelAlignTo==="edge"?v.x<e?b=y[2][0]-g.labelDistance-o-g.edgeDistance:b=o+a-g.edgeDistance-y[2][0]-g.labelDistance:g.labelAlignTo==="labelLine"?v.x<e?b=c-o-g.bleedMargin:b=o+a-f-g.bleedMargin:v.x<e?b=v.x-o-g.bleedMargin:b=o+a-v.x-g.bleedMargin,g.targetTextWidth=b,LQ(g,b,!1)}}bH(u,e,r,n,1,a,i,o,s,f),bH(l,e,r,n,-1,a,i,o,s,c);for(var d=0;d<t.length;d++){var g=t[d];if(!ED(g)&&g.linePoints){var v=g.label,y=g.linePoints,S=g.labelAlignTo==="edge",w=v.style.padding,M=w?w[1]+w[3]:0,A=v.style.backgroundColor?0:M,D=g.rect.width+A,R=y[1][0]-y[2][0];S?v.x<e?y[2][0]=o+g.edgeDistance+D+g.labelDistance:y[2][0]=o+a-g.edgeDistance-D-g.labelDistance:(v.x<e?y[2][0]=v.x+g.labelDistance:y[2][0]=v.x-g.labelDistance,y[1][0]=y[2][0]+R),y[1][1]=y[2][1]=v.y}}}function LQ(t,e,r){if(t.labelStyleWidth==null){var n=t.label,a=n.style,i=t.rect,o=a.backgroundColor,s=a.padding,l=s?s[1]+s[3]:0,u=a.overflow,c=i.width+(o?0:l);if(e<c||r){if(u&&u.match("break")){n.setStyle("backgroundColor",null),n.setStyle("width",e-l);var f=n.getBoundingRect();n.setStyle("width",Math.ceil(f.width)),n.setStyle("backgroundColor",o)}else{var d=e-l,v=e<c?d:r?d>t.unconstrainedWidth?null:d:null;n.setStyle("width",v)}EQ(i,n)}}}function EQ(t,e){SH.rect=t,eQ(SH,e,jMe)}var jMe={minMarginForce:[null,0,null,0],marginDefault:[1,0,1,0]},SH={};function ED(t){return t.position==="center"}function zMe(t){var e=t.getData(),r=[],n,a,i=!1,o=(t.get("minShowLabelAngle")||0)*IMe,s=e.getLayout("viewRect"),l=e.getLayout("r"),u=s.width,c=s.x,f=s.y,d=s.height;function v(R){R.ignore=!0}function g(R){if(!R.ignore)return!0;for(var N in R.states)if(R.states[N].ignore===!1)return!0;return!1}e.each(function(R){var N=e.getItemGraphicEl(R),I=N.shape,z=N.getTextContent(),B=N.getTextGuideLine(),V=e.getItemModel(R),G=V.getModel("label"),F=G.get("position")||V.get(["emphasis","label","position"]),q=G.get("distanceToLabelLine"),Q=G.get("alignTo"),H=Ue(G.get("edgeDistance"),u),X=G.get("bleedMargin");X==null&&(X=Math.min(u,d)>200?10:2);var W=V.getModel("labelLine"),J=W.get("length");J=Ue(J,u);var ee=W.get("length2");if(ee=Ue(ee,u),Math.abs(I.endAngle-I.startAngle)<o){Y(z.states,v),z.ignore=!0,B&&(Y(B.states,v),B.ignore=!0);return}if(g(z)){var K=(I.startAngle+I.endAngle)/2,ne=Math.cos(K),ie=Math.sin(K),le,me,we,pe;n=I.cx,a=I.cy;var Pe=F==="inside"||F==="inner";if(F==="center")le=I.cx,me=I.cy,pe="center";else{var ke=(Pe?(I.r+I.r0)/2*ne:I.r*ne)+n,ze=(Pe?(I.r+I.r0)/2*ie:I.r*ie)+a;if(le=ke+ne*3,me=ze+ie*3,!Pe){var Ie=ke+ne*(J+l-I.r),Oe=ze+ie*(J+l-I.r),vt=Ie+(ne<0?-1:1)*ee,ct=Oe;Q==="edge"?le=ne<0?c+H:c+u-H:le=vt+(ne<0?-q:q),me=ct,we=[[ke,ze],[Ie,Oe],[vt,ct]]}pe=Pe?"center":Q==="edge"?ne>0?"right":"left":ne>0?"left":"right"}var Ft=Math.PI,jt=0,Lr=G.get("rotate");if(vr(Lr))jt=Lr*(Ft/180);else if(F==="center")jt=0;else if(Lr==="radial"||Lr===!0){var Rn=ne<0?-K+Ft:-K;jt=Rn}else if(Lr==="tangential"&&F!=="outside"&&F!=="outer"){var fn=Math.atan2(ne,ie);fn<0&&(fn=Ft*2+fn);var tn=ie>0;tn&&(fn=Ft+fn),jt=fn-Ft}if(i=!!jt,z.x=le,z.y=me,z.rotation=jt,z.setStyle({verticalAlign:"middle"}),Pe){z.setStyle({align:pe});var za=z.states.select;za&&(za.x+=z.x,za.y+=z.y)}else{var aa=new yt(0,0,0,0);EQ(aa,z),r.push({label:z,labelLine:B,position:F,len:J,len2:ee,minTurnAngle:W.get("minTurnAngle"),maxSurfaceAngle:W.get("maxSurfaceAngle"),surfaceNormal:new ht(ne,ie),linePoints:we,textAlign:pe,labelDistance:q,labelAlignTo:Q,edgeDistance:H,bleedMargin:X,rect:aa,unconstrainedWidth:aa.width,labelStyleWidth:z.style.width})}N.setTextConfig({inside:Pe})}}),!i&&t.get("avoidLabelOverlap")&&OMe(r,n,a,l,u,d,c,f);for(var y=0;y<r.length;y++){var b=r[y],S=b.label,w=b.labelLine,M=isNaN(S.x)||isNaN(S.y);if(S){S.setStyle({align:b.textAlign}),M&&(Y(S.states,v),S.ignore=!0);var A=S.states.select;A&&(A.x+=S.x,A.y+=S.y)}if(w){var D=b.linePoints;M||!D?(Y(w.states,v),w.ignore=!0):(KK(D,b.minTurnAngle),aCe(D,b.surfaceNormal,b.maxSurfaceAngle),w.setShape({points:D}),S.__hostTarget.textGuideLineConfig={anchor:new ht(D[0][0],D[0][1])})}}}var BMe=(function(t){ye(e,t);function e(r,n,a){var i=t.call(this)||this;i.z2=2;var o=new xr;return i.setTextContent(o),i.updateData(r,n,a,!0),i}return e.prototype.updateData=function(r,n,a,i){var o=this,s=r.hostModel,l=r.getItemModel(n),u=l.getModel("emphasis"),c=r.getItemLayout(n),f=Ae(oc(l.getModel("itemStyle"),c,!0),c);if(isNaN(f.startAngle)){o.setShape(f);return}if(i){o.setShape(f);var d=s.getShallow("animationType");s.ecModel.ssr?(zn(o,{scaleX:0,scaleY:0},s,{dataIndex:n,isFrom:!0}),o.originX=f.cx,o.originY=f.cy):d==="scale"?(o.shape.r=c.r0,zn(o,{shape:{r:c.r}},s,n)):a!=null?(o.setShape({startAngle:a,endAngle:a}),zn(o,{shape:{startAngle:c.startAngle,endAngle:c.endAngle}},s,n)):(o.shape.endAngle=c.startAngle,Sr(o,{shape:{endAngle:c.endAngle}},s,n))}else Dl(o),Sr(o,{shape:f},s,n);o.useStyle(r.getItemVisual(n,"style")),ti(o,l);var v=(c.startAngle+c.endAngle)/2,g=s.get("selectedOffset"),y=Math.cos(v)*g,b=Math.sin(v)*g,S=l.getShallow("cursor");S&&o.attr("cursor",S),this._updateLabel(s,r,n),o.ensureState("emphasis").shape=Ae({r:c.r+(u.get("scale")&&u.get("scaleSize")||0)},oc(u.getModel("itemStyle"),c)),Ae(o.ensureState("select"),{x:y,y:b,shape:oc(l.getModel(["select","itemStyle"]),c)}),Ae(o.ensureState("blur"),{shape:oc(l.getModel(["blur","itemStyle"]),c)});var w=o.getTextGuideLine(),M=o.getTextContent();w&&Ae(w.ensureState("select"),{x:y,y:b}),Ae(M.ensureState("select"),{x:y,y:b}),Wn(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},e.prototype._updateLabel=function(r,n,a){var i=this,o=n.getItemModel(a),s=o.getModel("labelLine"),l=n.getItemVisual(a,"style"),u=l&&l.fill,c=l&&l.opacity;xi(i,ri(o),{labelFetcher:n.hostModel,labelDataIndex:a,inheritColor:u,defaultOpacity:c,defaultText:r.getFormattedLabel(a,"normal")||n.getName(a)});var f=i.getTextContent();i.setTextConfig({position:null,rotation:null}),f.attr({z2:10});var d=o.get(["label","position"]);if(d!=="outside"&&d!=="outer")i.removeTextGuideLine();else{var v=this.getTextGuideLine();v||(v=new Yi,this.setTextGuideLine(v)),cI(this,fI(o),{stroke:u,opacity:ks(s.get(["lineStyle","opacity"]),c,1)})}},e})(fo),VMe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.ignoreLabelLineUpdate=!0,r}return e.prototype.render=function(r,n,a,i){var o=r.getData(),s=this._data,l=this.group,u;if(!s&&o.count()>0){for(var c=o.getItemLayout(0),f=1;isNaN(c&&c.startAngle)&&f<o.count();++f)c=o.getItemLayout(f);c&&(u=c.startAngle)}if(this._emptyCircleSector&&l.remove(this._emptyCircleSector),o.count()===0&&r.get("showEmptyCircle")){var d=DQ(r),v=new fo({shape:ut(d)});v.useStyle(r.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=v,l.add(v)}o.diff(s).add(function(g){var y=new BMe(o,g,u);o.setItemGraphicEl(g,y),l.add(y)}).update(function(g,y){var b=s.getItemGraphicEl(y);b.updateData(o,g,u),b.off("click"),l.add(b),o.setItemGraphicEl(g,b)}).remove(function(g){var y=s.getItemGraphicEl(g);ff(y,r,g)}).execute(),zMe(r),r.get("animationTypeUpdate")!=="expansion"&&(this._data=o)},e.prototype.dispose=function(){},e.prototype.containPoint=function(r,n){var a=n.getData(),i=a.getItemLayout(0);if(i){var o=r[0]-i.cx,s=r[1]-i.cy,l=Math.sqrt(o*o+s*s);return l<=i.r&&l>=i.r0}},e.type="pie",e})(cn);function Km(t,e,r){e=Ee(e)&&{coordDimensions:e}||Ae({encodeDefine:t.getEncode()},e);var n=t.getSource(),a=S_(n,e).dimensions,i=new Lo(a,t);return i.initData(n,r),i}var Qm=(function(){function t(e,r){this._getDataWithEncodedVisual=e,this._getRawData=r}return t.prototype.getAllNames=function(){var e=this._getRawData();return e.mapArray(e.getName)},t.prototype.containName=function(e){var r=this._getRawData();return r.indexOfName(e)>=0},t.prototype.indexOfName=function(e){var r=this._getDataWithEncodedVisual();return r.indexOfName(e)},t.prototype.getItemVisual=function(e,r){var n=this._getDataWithEncodedVisual();return n.getItemVisual(e,r)},t})(),FMe=Xt(),NQ=(function(t){ye(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.init=function(r){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new Qm(Ye(this.getData,this),Ye(this.getRawData,this)),this._defaultLabelLine(r)},e.prototype.mergeOption=function(){t.prototype.mergeOption.apply(this,arguments)},e.prototype.getInitialData=function(){return Km(this,{coordDimensions:["value"],encodeDefaulter:zt(Gk,this)})},e.prototype.getDataParams=function(r){var n=this.getData(),a=FMe(n),i=a.seats;if(!i){var o=[];n.each(n.mapDimension("value"),function(l){o.push(l)}),i=a.seats=uxe(o,n.hostModel.get("percentPrecision"))}var s=t.prototype.getDataParams.call(this,r);return s.percent=i[r]||0,s.$vars.push("percent"),s},e.prototype._defaultLabelLine=function(r){Xv(r,"labelLine",["show"]);var n=r.labelLine,a=r.emphasis.labelLine;n.show=n.show&&r.label.show,a.show=a.show&&r.emphasis.label.show},e.type="series.pie",e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"50%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,coordinateSystemUsage:"box",left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:30,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},e})(Sn);Xbe({fullType:NQ.type,getCoord2:function(t){return t.getShallow("center")}});function HMe(t){return{seriesType:t,reset:function(e,r){var n=e.getData();n.filterSelf(function(a){var i=n.mapDimension("value"),o=n.get(i,a);return!(vr(o)&&!isNaN(o)&&o<0)})}}}function GMe(t){t.registerChartView(VMe),t.registerSeriesModel(NQ),XX("pie",t.registerAction),t.registerLayout(zt(kMe,"pie")),t.registerProcessor(Xm("pie")),t.registerProcessor(HMe("pie"))}var UMe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.hasSymbolVisual=!0,r}return e.prototype.getInitialData=function(r,n){return Rf(null,this,{useEncodeDefaulter:!0})},e.prototype.getProgressive=function(){var r=this.option.progressive;return r??(this.option.large?5e3:this.get("progressive"))},e.prototype.getProgressiveThreshold=function(){var r=this.option.progressiveThreshold;return r??(this.option.large?1e4:this.get("progressiveThreshold"))},e.prototype.brushSelector=function(r,n,a){return a.point(n.getItemLayout(r))},e.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},e.type="series.scatter",e.dependencies=["grid","polar","geo","singleAxis","calendar","matrix"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:ve.color.primary}},universalTransition:{divideShape:"clone"}},e})(Sn),RQ=4,WMe=(function(){function t(){}return t})(),YMe=(function(t){ye(e,t);function e(r){var n=t.call(this,r)||this;return n._off=0,n.hoverDataIdx=-1,n}return e.prototype.getDefaultShape=function(){return new WMe},e.prototype.reset=function(){this.notClear=!1,this._off=0},e.prototype.buildPath=function(r,n){var a=n.points,i=n.size,o=this.symbolProxy,s=o.shape,l=r.getContext?r.getContext():r,u=l&&i[0]<RQ,c=this.softClipShape,f;if(u){this._ctx=l;return}for(this._ctx=null,f=this._off;f<a.length;){var d=a[f++],v=a[f++];isNaN(d)||isNaN(v)||c&&!c.contain(d,v)||(s.x=d-i[0]/2,s.y=v-i[1]/2,s.width=i[0],s.height=i[1],o.buildPath(r,s,!0))}this.incremental&&(this._off=f,this.notClear=!0)},e.prototype.afterBrush=function(){var r=this.shape,n=r.points,a=r.size,i=this._ctx,o=this.softClipShape,s;if(i){for(s=this._off;s<n.length;){var l=n[s++],u=n[s++];isNaN(l)||isNaN(u)||o&&!o.contain(l,u)||i.fillRect(l-a[0]/2,u-a[1]/2,a[0],a[1])}this.incremental&&(this._off=s,this.notClear=!0)}},e.prototype.findDataIndex=function(r,n){for(var a=this.shape,i=a.points,o=a.size,s=Math.max(o[0],4),l=Math.max(o[1],4),u=i.length/2-1;u>=0;u--){var c=u*2,f=i[c]-s/2,d=i[c+1]-l/2;if(r>=f&&n>=d&&r<=f+s&&n<=d+l)return u}return-1},e.prototype.contain=function(r,n){var a=this.transformCoordToLocal(r,n),i=this.getBoundingRect();if(r=a[0],n=a[1],i.contain(r,n)){var o=this.hoverDataIdx=this.findDataIndex(r,n);return o>=0}return this.hoverDataIdx=-1,!1},e.prototype.getBoundingRect=function(){var r=this._rect;if(!r){for(var n=this.shape,a=n.points,i=n.size,o=i[0],s=i[1],l=1/0,u=1/0,c=-1/0,f=-1/0,d=0;d<a.length;){var v=a[d++],g=a[d++];l=Math.min(v,l),c=Math.max(v,c),u=Math.min(g,u),f=Math.max(g,f)}r=this._rect=new yt(l-o/2,u-s/2,c-l+o,f-u+s)}return r},e})(Jt),ZMe=(function(){function t(){this.group=new st}return t.prototype.updateData=function(e,r){this._clear();var n=this._create();n.setShape({points:e.getLayout("points")}),this._setCommon(n,e,r)},t.prototype.updateLayout=function(e){var r=e.getLayout("points");this.group.eachChild(function(n){if(n.startIndex!=null){var a=(n.endIndex-n.startIndex)*2,i=n.startIndex*4*2;r=new Float32Array(r.buffer,i,a)}n.setShape("points",r),n.reset()})},t.prototype.incrementalPrepareUpdate=function(e){this._clear()},t.prototype.incrementalUpdate=function(e,r,n){var a=this._newAdded[0],i=r.getLayout("points"),o=a&&a.shape.points;if(o&&o.length<2e4){var s=o.length,l=new Float32Array(s+i.length);l.set(o),l.set(i,s),a.endIndex=e.end,a.setShape({points:l})}else{this._newAdded=[];var u=this._create();u.startIndex=e.start,u.endIndex=e.end,u.incremental=!0,u.setShape({points:i}),this._setCommon(u,r,n)}},t.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},t.prototype._create=function(){var e=new YMe({cursor:"default"});return e.ignoreCoarsePointer=!0,this.group.add(e),this._newAdded.push(e),e},t.prototype._setCommon=function(e,r,n){var a=r.hostModel;n=n||{};var i=r.getVisual("symbolSize");e.setShape("size",i instanceof Array?i:[i,i]),e.softClipShape=n.clipShape||null,e.symbolProxy=Oa(r.getVisual("symbol"),0,0,0,0),e.setColor=e.symbolProxy.setColor;var o=e.shape.size[0]<RQ;e.useStyle(a.getModel("itemStyle").getItemStyle(o?["color","shadowBlur","shadowColor"]:["color"]));var s=r.getVisual("style"),l=s&&s.fill;l&&e.setColor(l);var u=wt(e);u.seriesIndex=a.seriesIndex,e.on("mousemove",function(c){u.dataIndex=null;var f=e.hoverDataIdx;f>=0&&(u.dataIndex=f+(e.startIndex||0))})},t.prototype.remove=function(){this._clear()},t.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},t})(),qMe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.render=function(r,n,a){var i=r.getData(),o=this._updateSymbolDraw(i,r);o.updateData(i,{clipShape:this._getClipShape(r)}),this._finished=!0},e.prototype.incrementalPrepareRender=function(r,n,a){var i=r.getData(),o=this._updateSymbolDraw(i,r);o.incrementalPrepareUpdate(i),this._finished=!1},e.prototype.incrementalRender=function(r,n,a){this._symbolDraw.incrementalUpdate(r,n.getData(),{clipShape:this._getClipShape(n)}),this._finished=r.end===n.getData().count()},e.prototype.updateTransform=function(r,n,a){var i=r.getData();if(this.group.dirty(),!this._finished||i.count()>1e4)return{update:!0};var o=A_("").reset(r,n,a);o.progress&&o.progress({start:0,end:i.count(),count:i.count()},i),this._symbolDraw.updateLayout(i)},e.prototype.eachRendered=function(r){this._symbolDraw&&this._symbolDraw.eachRendered(r)},e.prototype._getClipShape=function(r){if(r.get("clip",!0)){var n=r.coordinateSystem;return n&&n.getArea&&n.getArea(.1)}},e.prototype._updateSymbolDraw=function(r,n){var a=this._symbolDraw,i=n.pipelineContext,o=i.large;return(!a||o!==this._isLargeDraw)&&(a&&a.remove(),a=this._symbolDraw=o?new ZMe:new C_,this._isLargeDraw=o,this.group.removeAll()),this.group.add(a.group),a},e.prototype.remove=function(r,n){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},e.prototype.dispose=function(){},e.type="scatter",e})(cn),PQ={left:0,right:0,top:0,bottom:0},Bw=["25%","25%"],$Me=(function(t){ye(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.mergeDefaultAndTheme=function(r,n){var a=vp(r.outerBounds);t.prototype.mergeDefaultAndTheme.apply(this,arguments),a&&r.outerBounds&&_c(r.outerBounds,a)},e.prototype.mergeOption=function(r,n){t.prototype.mergeOption.apply(this,arguments),this.option.outerBounds&&r.outerBounds&&_c(this.option.outerBounds,r.outerBounds)},e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,z:0,left:"15%",top:65,right:"10%",bottom:80,containLabel:!1,outerBoundsMode:"auto",outerBounds:PQ,outerBoundsContain:"all",outerBoundsClampWidth:Bw[0],outerBoundsClampHeight:Bw[1],backgroundColor:ve.color.transparent,borderWidth:1,borderColor:ve.color.neutral30},e})(er),GN=(function(t){ye(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",na).models[0]},e.type="cartesian2dAxis",e})(er);ja(GN,w_);var kQ={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:ve.color.axisLine,width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15],breakLine:!0},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12,color:ve.color.axisLabel,textMargin:[0,3]},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:ve.color.axisSplitLine,width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:[ve.color.backgroundTint,ve.color.backgroundTransparent]}},breakArea:{show:!0,itemStyle:{color:ve.color.neutral00,borderColor:ve.color.border,borderWidth:1,borderType:[3,3],opacity:.6},zigzagAmplitude:4,zigzagMinSpan:4,zigzagMaxSpan:20,zigzagZ:100,expandOnClick:!0},breakLabelLayout:{moveOverlap:"auto"}},XMe=Gt({boundaryGap:!0,deduplication:null,jitter:0,jitterOverlap:!0,jitterMargin:2,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto",show:"auto"},axisLabel:{interval:"auto"}},kQ),yI=Gt({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:ve.color.axisMinorSplitLine,width:1}}},kQ),KMe=Gt({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},yI),QMe=gt({logBase:10},yI);const IQ={category:XMe,value:yI,time:KMe,log:QMe};var JMe={value:1,category:1,time:1,log:1},UN=null;function eAe(t){UN||(UN=t)}function D_(){return UN}function _m(t,e,r,n){Y(JMe,function(a,i){var o=Gt(Gt({},IQ[i],!0),n,!0),s=(function(l){ye(u,l);function u(){var c=l!==null&&l.apply(this,arguments)||this;return c.type=e+"Axis."+i,c}return u.prototype.mergeDefaultAndTheme=function(c,f){var d=Ex(this),v=d?vp(c):{},g=f.getTheme();Gt(c,g.get(i+"Axis")),Gt(c,this.getDefaultOption()),c.type=wH(c),d&&_c(c,v,d)},u.prototype.optionUpdated=function(){var c=this.option;c.type==="category"&&(this.__ordinalMeta=Ox.createByAxisModel(this))},u.prototype.getCategories=function(c){var f=this.option;if(f.type==="category")return c?f.data:this.__ordinalMeta.categories},u.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},u.prototype.updateAxisBreaks=function(c){var f=D_();return f?f.updateModelAxisBreak(this,c):{breaks:[]}},u.type=e+"Axis."+i,u.defaultOption=o,u})(r);t.registerComponentModel(s)}),t.registerSubTypeDefaulter(e+"Axis",wH)}function wH(t){return t.type||(t.data?"category":"value")}var tAe=(function(){function t(e){this.type="cartesian",this._dimList=[],this._axes={},this.name=e||""}return t.prototype.getAxis=function(e){return this._axes[e]},t.prototype.getAxes=function(){return Re(this._dimList,function(e){return this._axes[e]},this)},t.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),Ir(this.getAxes(),function(r){return r.scale.type===e})},t.prototype.addAxis=function(e){var r=e.dim;this._axes[r]=e,this._dimList.push(r)},t})(),WN=["x","y"];function TH(t){return(t.type==="interval"||t.type==="time")&&!t.hasBreaks()}var rAe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="cartesian2d",r.dimensions=WN,r}return e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var r=this.getAxis("x").scale,n=this.getAxis("y").scale;if(!(!TH(r)||!TH(n))){var a=r.getExtent(),i=n.getExtent(),o=this.dataToPoint([a[0],i[0]]),s=this.dataToPoint([a[1],i[1]]),l=a[1]-a[0],u=i[1]-i[0];if(!(!l||!u)){var c=(s[0]-o[0])/l,f=(s[1]-o[1])/u,d=o[0]-a[0]*c,v=o[1]-i[0]*f,g=this._transform=[c,0,0,f,d,v];this._invTransform=fu([],g)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(r){var n=this.getAxis("x"),a=this.getAxis("y");return n.contain(n.toLocalCoord(r[0]))&&a.contain(a.toLocalCoord(r[1]))},e.prototype.containData=function(r){return this.getAxis("x").containData(r[0])&&this.getAxis("y").containData(r[1])},e.prototype.containZone=function(r,n){var a=this.dataToPoint(r),i=this.dataToPoint(n),o=this.getArea(),s=new yt(a[0],a[1],i[0]-a[0],i[1]-a[1]);return o.intersect(s)},e.prototype.dataToPoint=function(r,n,a){a=a||[];var i=r[0],o=r[1];if(this._transform&&i!=null&&isFinite(i)&&o!=null&&isFinite(o))return ba(a,r,this._transform);var s=this.getAxis("x"),l=this.getAxis("y");return a[0]=s.toGlobalCoord(s.dataToCoord(i,n)),a[1]=l.toGlobalCoord(l.dataToCoord(o,n)),a},e.prototype.clampData=function(r,n){var a=this.getAxis("x").scale,i=this.getAxis("y").scale,o=a.getExtent(),s=i.getExtent(),l=a.parse(r[0]),u=i.parse(r[1]);return n=n||[],n[0]=Math.min(Math.max(Math.min(o[0],o[1]),l),Math.max(o[0],o[1])),n[1]=Math.min(Math.max(Math.min(s[0],s[1]),u),Math.max(s[0],s[1])),n},e.prototype.pointToData=function(r,n,a){if(a=a||[],this._invTransform)return ba(a,r,this._invTransform);var i=this.getAxis("x"),o=this.getAxis("y");return a[0]=i.coordToData(i.toLocalCoord(r[0]),n),a[1]=o.coordToData(o.toLocalCoord(r[1]),n),a},e.prototype.getOtherAxis=function(r){return this.getAxis(r.dim==="x"?"y":"x")},e.prototype.getArea=function(r){r=r||0;var n=this.getAxis("x").getGlobalExtent(),a=this.getAxis("y").getGlobalExtent(),i=Math.min(n[0],n[1])-r,o=Math.min(a[0],a[1])-r,s=Math.max(n[0],n[1])-i+r,l=Math.max(a[0],a[1])-o+r;return new yt(i,o,s,l)},e})(tAe),OQ=(function(t){ye(e,t);function e(r,n,a,i,o){var s=t.call(this,r,n,a)||this;return s.index=0,s.type=i||"value",s.position=o||"bottom",s}return e.prototype.isHorizontal=function(){var r=this.position;return r==="top"||r==="bottom"},e.prototype.getGlobalExtent=function(r){var n=this.getExtent();return n[0]=this.toGlobalCoord(n[0]),n[1]=this.toGlobalCoord(n[1]),r&&n[0]>n[1]&&n.reverse(),n},e.prototype.pointToData=function(r,n){return this.coordToData(this.toLocalCoord(r[this.dim==="x"?0:1]),n)},e.prototype.setCategorySortInfo=function(r){if(this.type!=="category")return!1;this.model.option.categorySortInfo=r,this.scale.setSortInfo(r)},e})(xu),NC="expandAxisBreak",jQ="collapseAxisBreak",zQ="toggleAxisBreak",xI="axisbreakchanged",nAe={type:NC,event:xI,update:"update",refineEvent:_I},aAe={type:jQ,event:xI,update:"update",refineEvent:_I},iAe={type:zQ,event:xI,update:"update",refineEvent:_I};function _I(t,e,r,n){var a=[];return Y(t,function(i){a=a.concat(i.eventBreaks)}),{eventContent:{breaks:a}}}function oAe(t){t.registerAction(nAe,e),t.registerAction(aAe,e),t.registerAction(iAe,e);function e(r,n){var a=[],i=Kg(n,r);function o(s,l){Y(i[s],function(u){var c=u.updateAxisBreaks(r);Y(c.breaks,function(f){var d;a.push(gt((d={},d[l]=u.componentIndex,d),f))})})}return o("xAxisModels","xAxisIndex"),o("yAxisModels","yAxisIndex"),o("singleAxisModels","singleAxisIndex"),{eventBreaks:a}}}var Oh=Math.PI,sAe=[[1,2,1,2],[5,3,5,3],[8,3,8,3]],lAe=[[0,1,0,1],[0,3,0,3],[0,3,0,3]],bm=Xt(),BQ=Xt(),VQ=(function(){function t(e){this.recordMap={},this.resolveAxisNameOverlap=e}return t.prototype.ensureRecord=function(e){var r=e.axis.dim,n=e.componentIndex,a=this.recordMap,i=a[r]||(a[r]=[]);return i[n]||(i[n]={ready:{}})},t})();function uAe(t,e,r,n){var a=r.axis,i=e.ensureRecord(r),o=[],s,l=bI(t.axisName)&&ym(t.nameLocation);Y(n,function(g){var y=bc(g);if(!(!y||y.label.ignore)){o.push(y);var b=i.transGroup;l&&(b.transform?fu(s0,b.transform):nC(s0),y.transform&&uc(s0,s0,y.transform),yt.copy(O1,y.localRect),O1.applyTransform(s0),s?s.union(O1):yt.copy(s=new yt(0,0,0,0),O1))}});var u=Math.abs(i.dirVec.x)>.1?"x":"y",c=i.transGroup[u];if(o.sort(function(g,y){return Math.abs(g.label[u]-c)-Math.abs(y.label[u]-c)}),l&&s){var f=a.getExtent(),d=Math.min(f[0],f[1]),v=Math.max(f[0],f[1])-d;s.union(new yt(d,0,v,1))}i.stOccupiedRect=s,i.labelInfoList=o}var s0=Di(),O1=new yt(0,0,0,0),FQ=function(t,e,r,n,a,i){if(ym(t.nameLocation)){var o=i.stOccupiedRect;o&&HQ(sCe({},o,i.transGroup.transform),n,a)}else GQ(i.labelInfoList,i.dirVec,n,a)};function HQ(t,e,r){var n=new ht;LC(t,e,n,{direction:Math.atan2(r.y,r.x),bidirectional:!1,touchThreshold:.05})&&ON(e,n)}function GQ(t,e,r,n){for(var a=ht.dot(n,e)>=0,i=0,o=t.length;i<o;i++){var s=t[a?i:o-1-i];s.label.ignore||HQ(s,r,n)}}var Eo=(function(){function t(e,r,n,a){this.group=new st,this._axisModel=e,this._api=r,this._local={},this._shared=a||new VQ(FQ),this._resetCfgDetermined(n)}return t.prototype.updateCfg=function(e){var r=this._cfg.raw;r.position=e.position,r.labelOffset=e.labelOffset,this._resetCfgDetermined(r)},t.prototype.__getRawCfg=function(){return this._cfg.raw},t.prototype._resetCfgDetermined=function(e){var r=this._axisModel,n=r.getDefaultOption?r.getDefaultOption():{},a=et(e.axisName,r.get("name")),i=r.get("nameMoveOverlap");(i==null||i==="auto")&&(i=et(e.defaultNameMoveOverlap,!0));var o={raw:e,position:e.position,rotation:e.rotation,nameDirection:et(e.nameDirection,1),tickDirection:et(e.tickDirection,1),labelDirection:et(e.labelDirection,1),labelOffset:et(e.labelOffset,0),silent:et(e.silent,!0),axisName:a,nameLocation:ks(r.get("nameLocation"),n.nameLocation,"end"),shouldNameMoveOverlap:bI(a)&&i,optionHideOverlap:r.get(["axisLabel","hideOverlap"]),showMinorTicks:r.get(["minorTick","show"])};this._cfg=o;var s=new st({x:o.position[0],y:o.position[1],rotation:o.rotation});s.updateTransform(),this._transformGroup=s;var l=this._shared.ensureRecord(r);l.transGroup=this._transformGroup,l.dirVec=new ht(Math.cos(-o.rotation),Math.sin(-o.rotation))},t.prototype.build=function(e,r){var n=this;return e||(e={axisLine:!0,axisTickLabelEstimate:!1,axisTickLabelDetermine:!0,axisName:!0}),Y(cAe,function(a){e[a]&&fAe[a](n._cfg,n._local,n._shared,n._axisModel,n.group,n._transformGroup,n._api,r||{})}),this},t.innerTextLayout=function(e,r,n){var a=Fq(r-e),i,o;return Tx(a)?(o=n>0?"top":"bottom",i="center"):Tx(a-Oh)?(o=n>0?"bottom":"top",i="center"):(o="middle",a>0&&a<Oh?i=n>0?"right":"left":i=n>0?"left":"right"),{rotation:a,textAlign:i,textVerticalAlign:o}},t.makeAxisEventDataBase=function(e){var r={componentType:e.mainType,componentIndex:e.componentIndex};return r[e.mainType+"Index"]=e.componentIndex,r},t.isLabelSilent=function(e){var r=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||r&&r.show)},t})(),cAe=["axisLine","axisTickLabelEstimate","axisTickLabelDetermine","axisName"],fAe={axisLine:function(t,e,r,n,a,i,o){var s=n.get(["axisLine","show"]);if(s==="auto"&&(s=!0,t.raw.axisLineAutoShow!=null&&(s=!!t.raw.axisLineAutoShow)),!!s){var l=n.axis.getExtent(),u=i.transform,c=[l[0],0],f=[l[1],0],d=c[0]>f[0];u&&(ba(c,c,u),ba(f,f,u));var v=Ae({lineCap:"round"},n.getModel(["axisLine","lineStyle"]).getLineStyle()),g={strokeContainThreshold:t.raw.strokeContainThreshold||5,silent:!0,z2:1,style:v};if(n.get(["axisLine","breakLine"])&&n.axis.scale.hasBreaks())D_().buildAxisBreakLine(n,a,i,g);else{var y=new Na(Ae({shape:{x1:c[0],y1:c[1],x2:f[0],y2:f[1]}},g));dm(y.shape,y.style.lineWidth),y.anid="line",a.add(y)}var b=n.get(["axisLine","symbol"]);if(b!=null){var S=n.get(["axisLine","symbolSize"]);We(b)&&(b=[b,b]),(We(S)||vr(S))&&(S=[S,S]);var w=gp(n.get(["axisLine","symbolOffset"])||0,S),M=S[0],A=S[1];Y([{rotate:t.rotation+Math.PI/2,offset:w[0],r:0},{rotate:t.rotation-Math.PI/2,offset:w[1],r:Math.sqrt((c[0]-f[0])*(c[0]-f[0])+(c[1]-f[1])*(c[1]-f[1]))}],function(D,R){if(b[R]!=="none"&&b[R]!=null){var N=Oa(b[R],-M/2,-A/2,M,A,v.stroke,!0),I=D.r+D.offset,z=d?f:c;N.attr({rotation:D.rotate,x:z[0]+I*Math.cos(t.rotation),y:z[1]-I*Math.sin(t.rotation),silent:!0,z2:11}),a.add(N)}})}}},axisTickLabelEstimate:function(t,e,r,n,a,i,o,s){var l=MH(e,a,s);l&&CH(t,e,r,n,a,i,o,du.estimate)},axisTickLabelDetermine:function(t,e,r,n,a,i,o,s){var l=MH(e,a,s);l&&CH(t,e,r,n,a,i,o,du.determine);var u=pAe(t,a,i,n);vAe(t,e.labelLayoutList,u),gAe(t,a,i,n,t.tickDirection)},axisName:function(t,e,r,n,a,i,o,s){var l=r.ensureRecord(n);e.nameEl&&(a.remove(e.nameEl),e.nameEl=l.nameLayout=l.nameLocation=null);var u=t.axisName;if(bI(u)){var c=t.nameLocation,f=t.nameDirection,d=n.getModel("nameTextStyle"),v=n.get("nameGap")||0,g=n.axis.getExtent(),y=n.axis.inverse?-1:1,b=new ht(0,0),S=new ht(0,0);c==="start"?(b.x=g[0]-y*v,S.x=-y):c==="end"?(b.x=g[1]+y*v,S.x=y):(b.x=(g[0]+g[1])/2,b.y=t.labelOffset+f*v,S.y=f);var w=Di();S.transform(ud(w,w,t.rotation));var M=n.get("nameRotate");M!=null&&(M=M*Oh/180);var A,D;ym(c)?A=Eo.innerTextLayout(t.rotation,M??t.rotation,f):(A=hAe(t.rotation,c,M||0,g),D=t.raw.axisNameAvailableWidth,D!=null&&(D=Math.abs(D/Math.sin(A.rotation)),!isFinite(D)&&(D=null)));var R=d.getFont(),N=n.get("nameTruncate",!0)||{},I=N.ellipsis,z=Wi(t.raw.nameTruncateMaxWidth,N.maxWidth,D),B=s.nameMarginLevel||0,V=new xr({x:b.x,y:b.y,rotation:A.rotation,silent:Eo.isLabelSilent(n),style:bn(d,{text:u,font:R,overflow:"truncate",width:z,ellipsis:I,fill:d.getTextColor()||n.get(["axisLine","lineStyle","color"]),align:d.get("align")||A.textAlign,verticalAlign:d.get("verticalAlign")||A.textVerticalAlign}),z2:1});if(Nf({el:V,componentModel:n,itemName:u}),V.__fullText=u,V.anid="name",n.get("triggerEvent")){var G=Eo.makeAxisEventDataBase(n);G.targetType="axisName",G.name=u,wt(V).eventData=G}i.add(V),V.updateTransform(),e.nameEl=V;var F=l.nameLayout=bc({label:V,priority:V.z2,defaultAttr:{ignore:V.ignore},marginDefault:ym(c)?sAe[B]:lAe[B]});if(l.nameLocation=c,a.add(V),V.decomposeTransform(),t.shouldNameMoveOverlap&&F){var q=r.ensureRecord(n);r.resolveAxisNameOverlap(t,r,n,F,S,q)}}}};function CH(t,e,r,n,a,i,o,s){WQ(e)||mAe(t,e,a,s,n,o);var l=e.labelLayoutList;yAe(t,n,l,i),bAe(n,t.rotation,l);var u=t.optionHideOverlap;dAe(n,l,u),u&&tQ(Ir(l,function(c){return c&&!c.label.ignore})),uAe(t,r,n,l)}function hAe(t,e,r,n){var a=Fq(r-t),i,o,s=n[0]>n[1],l=e==="start"&&!s||e!=="start"&&s;return Tx(a-Oh/2)?(o=l?"bottom":"top",i="center"):Tx(a-Oh*1.5)?(o=l?"top":"bottom",i="center"):(o="middle",a<Oh*1.5&&a>Oh/2?i=l?"left":"right":i=l?"right":"left"),{rotation:a,textAlign:i,textVerticalAlign:o}}function dAe(t,e,r){if(zK(t.axis))return;function n(s,l,u){var c=bc(e[l]),f=bc(e[u]);if(!(!c||!f)){if(s===!1||c.suggestIgnore){V0(c.label);return}if(f.suggestIgnore){V0(f.label);return}var d=.1;if(!r){var v=[0,0,0,0];c=jN({marginForce:v},c),f=jN({marginForce:v},f)}LC(c,f,null,{touchThreshold:d})&&V0(s?f.label:c.label)}}var a=t.get(["axisLabel","showMinLabel"]),i=t.get(["axisLabel","showMaxLabel"]),o=e.length;n(a,0,1),n(i,o-1,o-2)}function vAe(t,e,r){t.showMinorTicks||Y(e,function(n){if(n&&n.label.ignore)for(var a=0;a<r.length;a++){var i=r[a],o=BQ(i),s=bm(n.label);if(o.tickValue!=null&&!o.onBand&&o.tickValue===s.tickValue){V0(i);return}}})}function V0(t){t&&(t.ignore=!0)}function UQ(t,e,r,n,a){for(var i=[],o=[],s=[],l=0;l<t.length;l++){var u=t[l].coord;o[0]=u,o[1]=0,s[0]=u,s[1]=r,e&&(ba(o,o,e),ba(s,s,e));var c=new Na({shape:{x1:o[0],y1:o[1],x2:s[0],y2:s[1]},style:n,z2:2,autoBatch:!0,silent:!0});dm(c.shape,c.style.lineWidth),c.anid=a+"_"+t[l].tickValue,i.push(c);var f=BQ(c);f.onBand=!!t[l].onBand,f.tickValue=t[l].tickValue}return i}function pAe(t,e,r,n){var a=n.axis,i=n.getModel("axisTick"),o=i.get("show");if(o==="auto"&&(o=!0,t.raw.axisTickAutoShow!=null&&(o=!!t.raw.axisTickAutoShow)),!o||a.scale.isBlank())return[];for(var s=i.getModel("lineStyle"),l=t.tickDirection*i.get("length"),u=a.getTicksCoords(),c=UQ(u,r.transform,l,gt(s.getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])}),"ticks"),f=0;f<c.length;f++)e.add(c[f]);return c}function gAe(t,e,r,n,a){var i=n.axis,o=n.getModel("minorTick");if(!(!t.showMinorTicks||i.scale.isBlank())){var s=i.getMinorTicksCoords();if(s.length)for(var l=o.getModel("lineStyle"),u=a*o.get("length"),c=gt(l.getLineStyle(),gt(n.getModel("axisTick").getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])})),f=0;f<s.length;f++)for(var d=UQ(s[f],r.transform,u,c,"minorticks_"+f),v=0;v<d.length;v++)e.add(d[v])}}function MH(t,e,r){if(WQ(t)){var n=t.axisLabelsCreationContext,a=n.out.noPxChangeTryDetermine;if(r.noPxChange){for(var i=!0,o=0;o<a.length;o++)i=i&&a[o]();if(i)return!1}a.length&&(e.remove(t.labelGroup),YN(t,null,null,null))}return!0}function mAe(t,e,r,n,a,i){var o=a.axis,s=Wi(t.raw.axisLabelShow,a.get(["axisLabel","show"])),l=new st;r.add(l);var u=Rw(n);if(!s||o.scale.isBlank()){YN(e,[],l,u);return}var c=a.getModel("axisLabel"),f=o.getViewLabels(u),d=(Wi(t.raw.labelRotate,c.get("rotate"))||0)*Oh/180,v=Eo.innerTextLayout(t.rotation,d,t.labelDirection),g=a.getCategories&&a.getCategories(!0),y=[],b=a.get("triggerEvent"),S=1/0,w=-1/0;Y(f,function(A,D){var R,N=o.scale.type==="ordinal"?o.scale.getRawOrdinalNumber(A.tickValue):A.tickValue,I=A.formattedLabel,z=A.rawLabel,B=c;if(g&&g[N]){var V=g[N];mt(V)&&V.textStyle&&(B=new ar(V.textStyle,c,a.ecModel))}var G=B.getTextColor()||a.get(["axisLine","lineStyle","color"]),F=B.getShallow("align",!0)||v.textAlign,q=et(B.getShallow("alignMinLabel",!0),F),Q=et(B.getShallow("alignMaxLabel",!0),F),H=B.getShallow("verticalAlign",!0)||B.getShallow("baseline",!0)||v.textVerticalAlign,X=et(B.getShallow("verticalAlignMinLabel",!0),H),W=et(B.getShallow("verticalAlignMaxLabel",!0),H),J=10+(((R=A.time)===null||R===void 0?void 0:R.level)||0);S=Math.min(S,J),w=Math.max(w,J);var ee=new xr({x:0,y:0,rotation:0,silent:Eo.isLabelSilent(a),z2:J,style:bn(B,{text:I,align:D===0?q:D===f.length-1?Q:F,verticalAlign:D===0?X:D===f.length-1?W:H,fill:ot(G)?G(o.type==="category"?z:o.type==="value"?N+"":N,D):G})});ee.anid="label_"+N;var K=bm(ee);if(K.break=A.break,K.tickValue=N,K.layoutRotation=v.rotation,Nf({el:ee,componentModel:a,itemName:I,formatterParamsExtra:{isTruncated:function(){return ee.isTruncated},value:z,tickIndex:D}}),b){var ne=Eo.makeAxisEventDataBase(a);ne.targetType="axisLabel",ne.value=z,ne.tickIndex=D,A.break&&(ne.break={start:A.break.parsedBreak.vmin,end:A.break.parsedBreak.vmax}),o.type==="category"&&(ne.dataIndex=N),wt(ee).eventData=ne,A.break&&_Ae(a,i,ee,A.break)}y.push(ee),l.add(ee)});var M=Re(y,function(A){return{label:A,priority:bm(A).break?A.z2+(w-S+1):A.z2,defaultAttr:{ignore:A.ignore}}});YN(e,M,l,u)}function WQ(t){return!!t.labelLayoutList}function YN(t,e,r,n){t.labelLayoutList=e,t.labelGroup=r,t.axisLabelsCreationContext=n}function yAe(t,e,r,n){var a=e.get(["axisLabel","margin"]);Y(r,function(i,o){var s=bc(i);if(s){var l=s.label,u=bm(l);s.suggestIgnore=l.ignore,l.ignore=!1,cw(Jc,xAe),Jc.x=e.axis.dataToCoord(u.tickValue),Jc.y=t.labelOffset+t.labelDirection*a,Jc.rotation=u.layoutRotation,n.add(Jc),Jc.updateTransform(),n.remove(Jc),Jc.decomposeTransform(),cw(l,Jc),l.markRedraw(),Ow(s,!0),bc(s)}})}var Jc=new $t,xAe=new $t;function bI(t){return!!t}function _Ae(t,e,r,n){r.on("click",function(a){var i={type:NC,breaks:[{start:n.parsedBreak.breakOption.start,end:n.parsedBreak.breakOption.end}]};i[t.axis.dim+"AxisIndex"]=t.componentIndex,e.dispatchAction(i)})}function bAe(t,e,r){var n=Ra();if(n){var a=n.retrieveAxisBreakPairs(r,function(o){return o&&bm(o.label).break},!0),i=t.get(["breakLabelLayout","moveOverlap"],!0);(i===!0||i==="auto")&&Y(a,function(o){D_().adjustBreakLabelPair(t.axis.inverse,e,[bc(r[o[0]]),bc(r[o[1]])])})}}function Vw(t,e,r){r=r||{};var n=e.axis,a={},i=n.getAxesOnZeroOf()[0],o=n.position,s=i?"onZero":o,l=n.dim,u=[t.x,t.x+t.width,t.y,t.y+t.height],c={left:0,right:1,top:0,bottom:1,onZero:2},f=e.get("offset")||0,d=l==="x"?[u[2]-f,u[3]+f]:[u[0]-f,u[1]+f];if(i){var v=i.toGlobalCoord(i.dataToCoord(0));d[c.onZero]=Math.max(Math.min(v,d[1]),d[0])}a.position=[l==="y"?d[c[s]]:u[0],l==="x"?d[c[s]]:u[3]],a.rotation=Math.PI/2*(l==="x"?0:1);var g={top:-1,bottom:1,left:-1,right:1};a.labelDirection=a.tickDirection=a.nameDirection=g[o],a.labelOffset=i?d[c[o]]-d[c.onZero]:0,e.get(["axisTick","inside"])&&(a.tickDirection=-a.tickDirection),Wi(r.labelInside,e.get(["axisLabel","inside"]))&&(a.labelDirection=-a.labelDirection);var y=e.get(["axisLabel","rotate"]);return a.labelRotate=s==="top"?-y:y,a.z2=1,a}function SAe(t){return t.coordinateSystem&&t.coordinateSystem.type==="cartesian2d"}function AH(t){var e={xAxisModel:null,yAxisModel:null};return Y(e,function(r,n){var a=n.replace(/Model$/,""),i=t.getReferringComponents(a,na).models[0];e[n]=i}),e}function wAe(t,e,r,n,a,i){for(var o=Vw(t,r),s=!1,l=!1,u=0;u<e.length;u++)NN(e[u].getOtherAxis(r.axis).scale)&&(s=l=!0,r.axis.type==="category"&&r.axis.onBand&&(l=!1));return o.axisLineAutoShow=s,o.axisTickAutoShow=l,o.defaultNameMoveOverlap=i,new Eo(r,n,o,a)}function TAe(t,e,r){var n=Vw(e,r);t.updateCfg(n)}function YQ(t,e,r){var n=wf.prototype,a=n.getTicks.call(r),i=n.getTicks.call(r,{expandToNicedExtent:!0}),o=a.length-1,s=n.getInterval.call(r),l=jK(t,e),u=l.extent,c=l.fixMin,f=l.fixMax;t.type==="log"&&(u=RN(t.base,u,!0)),t.setBreaksFromOption(BK(e)),t.setExtent(u[0],u[1]),t.calcNiceExtent({splitNumber:o,fixMin:c,fixMax:f});var d=n.getExtent.call(t);c&&(u[0]=d[0]),f&&(u[1]=d[1]);var v=n.getInterval.call(t),g=u[0],y=u[1];if(c&&f)v=(y-g)/o;else if(c)for(y=u[0]+v*o;y<u[1]&&isFinite(y)&&isFinite(u[1]);)v=pD(v),y=u[0]+v*o;else if(f)for(g=u[1]-v*o;g>u[0]&&isFinite(g)&&isFinite(u[0]);)v=pD(v),g=u[1]-v*o;else{var b=t.getTicks().length-1;b>o&&(v=pD(v));var S=v*o;y=Math.ceil(u[1]/v)*v,g=Ea(y-S),g<0&&u[0]>=0?(g=0,y=Ea(S)):y>0&&u[1]<=0&&(y=0,g=-Ea(S))}var w=(a[0].value-i[0].value)/s,M=(a[o].value-i[o].value)/s;n.setExtent.call(t,g+v*w,y+v*M),n.setInterval.call(t,v),(w||M)&&n.setNiceExtent.call(t,g+v,y-v)}var DH=[[3,1],[0,2]],CAe=(function(){function t(e,r,n){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=WN,this._initCartesian(e,r,n),this.model=e}return t.prototype.getRect=function(){return this._rect},t.prototype.update=function(e,r){var n=this._axesMap;this._updateScale(e,this.model);function a(o){var s,l=sr(o),u=l.length;if(u){for(var c=[],f=u-1;f>=0;f--){var d=+l[f],v=o[d],g=v.model,y=v.scale;NN(y)&&g.get("alignTicks")&&g.get("interval")==null?c.push(v):(mm(y,g),NN(y)&&(s=v))}c.length&&(s||(s=c.pop(),mm(s.scale,s.model)),Y(c,function(b){YQ(b.scale,b.model,s.scale)}))}}a(n.x),a(n.y);var i={};Y(n.x,function(o){LH(n,"y",o,i)}),Y(n.y,function(o){LH(n,"x",o,i)}),this.resize(this.model,r)},t.prototype.resize=function(e,r,n){var a=ni(e,r),i=this._rect=Yn(e.getBoxLayoutParams(),a.refContainer),o=this._axesMap,s=this._coordsList,l=e.get("containLabel");if(ZN(o,i),!n){var u=DAe(i,s,o,l,r),c=void 0;if(l)qN?(qN(this._axesList,i),ZN(o,i)):c=RH(i.clone(),"axisLabel",null,i,o,u,a);else{var f=LAe(e,i,a),d=f.outerBoundsRect,v=f.parsedOuterBoundsContain,g=f.outerBoundsClamp;d&&(c=RH(d,v,g,i,o,u,a))}ZQ(i,o,du.determine,null,c,a)}Y(this._coordsList,function(y){y.calcAffineTransform()})},t.prototype.getAxis=function(e,r){var n=this._axesMap[e];if(n!=null)return n[r||0]},t.prototype.getAxes=function(){return this._axesList.slice()},t.prototype.getCartesian=function(e,r){if(e!=null&&r!=null){var n="x"+e+"y"+r;return this._coordsMap[n]}mt(e)&&(r=e.yAxisIndex,e=e.xAxisIndex);for(var a=0,i=this._coordsList;a<i.length;a++)if(i[a].getAxis("x").index===e||i[a].getAxis("y").index===r)return i[a]},t.prototype.getCartesians=function(){return this._coordsList.slice()},t.prototype.convertToPixel=function(e,r,n){var a=this._findConvertTarget(r);return a.cartesian?a.cartesian.dataToPoint(n):a.axis?a.axis.toGlobalCoord(a.axis.dataToCoord(n)):null},t.prototype.convertFromPixel=function(e,r,n){var a=this._findConvertTarget(r);return a.cartesian?a.cartesian.pointToData(n):a.axis?a.axis.coordToData(a.axis.toLocalCoord(n)):null},t.prototype._findConvertTarget=function(e){var r=e.seriesModel,n=e.xAxisModel||r&&r.getReferringComponents("xAxis",na).models[0],a=e.yAxisModel||r&&r.getReferringComponents("yAxis",na).models[0],i=e.gridModel,o=this._coordsList,s,l;if(r)s=r.coordinateSystem,Vt(o,s)<0&&(s=null);else if(n&&a)s=this.getCartesian(n.componentIndex,a.componentIndex);else if(n)l=this.getAxis("x",n.componentIndex);else if(a)l=this.getAxis("y",a.componentIndex);else if(i){var u=i.coordinateSystem;u===this&&(s=this._coordsList[0])}return{cartesian:s,axis:l}},t.prototype.containPoint=function(e){var r=this._coordsList[0];if(r)return r.containPoint(e)},t.prototype._initCartesian=function(e,r,n){var a=this,i=this,o={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},l={x:0,y:0};if(r.eachComponent("xAxis",u("x"),this),r.eachComponent("yAxis",u("y"),this),!l.x||!l.y){this._axesMap={},this._axesList=[];return}this._axesMap=s,Y(s.x,function(c,f){Y(s.y,function(d,v){var g="x"+f+"y"+v,y=new rAe(g);y.master=a,y.model=e,a._coordsMap[g]=y,a._coordsList.push(y),y.addAxis(c),y.addAxis(d)})});function u(c){return function(f,d){if(ND(f,e)){var v=f.get("position");c==="x"?v!=="top"&&v!=="bottom"&&(v=o.bottom?"top":"bottom"):v!=="left"&&v!=="right"&&(v=o.left?"right":"left"),o[v]=!0;var g=new OQ(c,DC(f),[0,0],f.get("type"),v),y=g.type==="category";g.onBand=y&&f.get("boundaryGap"),g.inverse=f.get("inverse"),f.axis=g,g.model=f,g.grid=i,g.index=d,i._axesList.push(g),s[c][d]=g,l[c]++}}}},t.prototype._updateScale=function(e,r){Y(this._axesList,function(a){if(a.scale.setExtent(1/0,-1/0),a.type==="category"){var i=a.model.get("categorySortInfo");a.scale.setSortInfo(i)}}),e.eachSeries(function(a){if(SAe(a)){var i=AH(a),o=i.xAxisModel,s=i.yAxisModel;if(!ND(o,r)||!ND(s,r))return;var l=this.getCartesian(o.componentIndex,s.componentIndex),u=a.getData(),c=l.getAxis("x"),f=l.getAxis("y");n(u,c),n(u,f)}},this);function n(a,i){Y(Nw(a,i.dim),function(o){i.scale.unionExtentFromData(a,o)})}},t.prototype.getTooltipAxes=function(e){var r=[],n=[];return Y(this.getCartesians(),function(a){var i=e!=null&&e!=="auto"?a.getAxis(e):a.getBaseAxis(),o=a.getOtherAxis(i);Vt(r,i)<0&&r.push(i),Vt(n,o)<0&&n.push(o)}),{baseAxes:r,otherAxes:n}},t.create=function(e,r){var n=[];return e.eachComponent("grid",function(a,i){var o=new t(a,e,r);o.name="grid_"+i,o.resize(a,r,!0),a.coordinateSystem=o,n.push(o)}),e.eachSeries(function(a){__({targetModel:a,coordSysType:"cartesian2d",coordSysProvider:i});function i(){var o=AH(a),s=o.xAxisModel,l=o.yAxisModel,u=s.getCoordSysModel(),c=u.coordinateSystem;return c.getCartesian(s.componentIndex,l.componentIndex)}}),n},t.dimensions=WN,t})();function ND(t,e){return t.getCoordSysModel()===e}function LH(t,e,r,n){r.getAxesOnZeroOf=function(){return i?[i]:[]};var a=t[e],i,o=r.model,s=o.get(["axisLine","onZero"]),l=o.get(["axisLine","onZeroAxisIndex"]);if(!s)return;if(l!=null)EH(a[l])&&(i=a[l]);else for(var u in a)if(a.hasOwnProperty(u)&&EH(a[u])&&!n[c(a[u])]){i=a[u];break}i&&(n[c(i)]=!0);function c(f){return f.dim+"_"+f.index}}function EH(t){return t&&t.type!=="category"&&t.type!=="time"&&NTe(t)}function MAe(t,e){var r=t.getExtent(),n=r[0]+r[1];t.toGlobalCoord=t.dim==="x"?function(a){return a+e}:function(a){return n-a+e},t.toLocalCoord=t.dim==="x"?function(a){return a-e}:function(a){return n-a+e}}function ZN(t,e){Y(t.x,function(r){return NH(r,e.x,e.width)}),Y(t.y,function(r){return NH(r,e.y,e.height)})}function NH(t,e,r){var n=[0,r],a=t.inverse?1:0;t.setExtent(n[a],n[1-a]),MAe(t,e)}var qN;function AAe(t){qN=t}function RH(t,e,r,n,a,i,o){ZQ(n,a,du.estimate,e,!1,o);var s=[0,0,0,0];u(0),u(1),c(n,0,NaN),c(n,1,NaN);var l=cp(s,function(d){return d>0})==null;return ep(n,s,!0,!0,r),ZN(a,n),l;function u(d){Y(a[Rt[d]],function(v){if(jx(v.model)){var g=i.ensureRecord(v.model),y=g.labelInfoList;if(y)for(var b=0;b<y.length;b++){var S=y[b],w=v.scale.normalize(bm(S.label).tickValue);w=d===1?1-w:w,c(S.rect,d,w),c(S.rect,1-d,NaN)}var M=g.nameLayout;if(M){var w=ym(g.nameLocation)?.5:NaN;c(M.rect,d,w),c(M.rect,1-d,NaN)}}})}function c(d,v,g){var y=t[Rt[v]]-d[Rt[v]],b=d[ka[v]]+d[Rt[v]]-(t[ka[v]]+t[Rt[v]]);y=f(y,1-g),b=f(b,g);var S=DH[v][0],w=DH[v][1];s[S]=xa(s[S],y),s[w]=xa(s[w],b)}function f(d,v){return d>0&&!so(v)&&v>1e-4&&(d/=v),d}}function DAe(t,e,r,n,a){var i=new VQ(EAe);return Y(r,function(o){return Y(o,function(s){if(jx(s.model)){var l=!n;s.axisBuilder=wAe(t,e,s.model,a,i,l)}})}),i}function ZQ(t,e,r,n,a,i){var o=r===du.determine;Y(e,function(u){return Y(u,function(c){jx(c.model)&&(TAe(c.axisBuilder,t,c.model),c.axisBuilder.build(o?{axisTickLabelDetermine:!0}:{axisTickLabelEstimate:!0},{noPxChange:a}))})});var s={x:0,y:0};l(0),l(1);function l(u){s[Rt[1-u]]=t[ka[u]]<=i.refContainer[ka[u]]*.5?0:1-u===1?2:1}Y(e,function(u,c){return Y(u,function(f){jx(f.model)&&((n==="all"||o)&&f.axisBuilder.build({axisName:!0},{nameMarginLevel:s[c]}),o&&f.axisBuilder.build({axisLine:!0}))})})}function LAe(t,e,r){var n,a=t.get("outerBoundsMode",!0);a==="same"?n=e.clone():(a==null||a==="auto")&&(n=Yn(t.get("outerBounds",!0)||PQ,r.refContainer));var i=t.get("outerBoundsContain",!0),o;i==null||i==="auto"||Vt(["all","axisLabel"],i)<0?o="all":o=i;var s=[hw(et(t.get("outerBoundsClampWidth",!0),Bw[0]),e.width),hw(et(t.get("outerBoundsClampHeight",!0),Bw[1]),e.height)];return{outerBoundsRect:n,parsedOuterBoundsContain:o,outerBoundsClamp:s}}var EAe=function(t,e,r,n,a,i){var o=r.axis.dim==="x"?"y":"x";FQ(t,e,r,n,a,i),ym(t.nameLocation)||Y(e.recordMap[o],function(s){s&&s.labelInfoList&&s.dirVec&&GQ(s.labelInfoList,s.dirVec,n,a)})};function NAe(t,e){var r={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return RAe(r,t,e),r.seriesInvolved&&kAe(r,t),r}function RAe(t,e,r){var n=e.getComponent("tooltip"),a=e.getComponent("axisPointer"),i=a.get("link",!0)||[],o=[];Y(r.getCoordinateSystems(),function(s){if(!s.axisPointerEnabled)return;var l=Fx(s.model),u=t.coordSysAxesInfo[l]={};t.coordSysMap[l]=s;var c=s.model,f=c.getModel("tooltip",n);if(Y(s.getAxes(),zt(y,!1,null)),s.getTooltipAxes&&n&&f.get("show")){var d=f.get("trigger")==="axis",v=f.get(["axisPointer","type"])==="cross",g=s.getTooltipAxes(f.get(["axisPointer","axis"]));(d||v)&&Y(g.baseAxes,zt(y,v?"cross":!0,d)),v&&Y(g.otherAxes,zt(y,"cross",!1))}function y(b,S,w){var M=w.model.getModel("axisPointer",a),A=M.get("show");if(!(!A||A==="auto"&&!b&&!$N(M))){S==null&&(S=M.get("triggerTooltip")),M=b?PAe(w,f,a,e,b,S):M;var D=M.get("snap"),R=M.get("triggerEmphasis"),N=Fx(w.model),I=S||D||w.type==="category",z=t.axesInfo[N]={key:N,axis:w,coordSys:s,axisPointerModel:M,triggerTooltip:S,triggerEmphasis:R,involveSeries:I,snap:D,useHandle:$N(M),seriesModels:[],linkGroup:null};u[N]=z,t.seriesInvolved=t.seriesInvolved||I;var B=IAe(i,w);if(B!=null){var V=o[B]||(o[B]={axesInfo:{}});V.axesInfo[N]=z,V.mapper=i[B].mapper,z.linkGroup=V}}}})}function PAe(t,e,r,n,a,i){var o=e.getModel("axisPointer"),s=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],l={};Y(s,function(d){l[d]=ut(o.get(d))}),l.snap=t.type!=="category"&&!!i,o.get("type")==="cross"&&(l.type="line");var u=l.label||(l.label={});if(u.show==null&&(u.show=!1),a==="cross"){var c=o.get(["label","show"]);if(u.show=c??!0,!i){var f=l.lineStyle=o.get("crossStyle");f&&gt(u,f.textStyle)}}return t.model.getModel("axisPointer",new ar(l,r,n))}function kAe(t,e){e.eachSeries(function(r){var n=r.coordinateSystem,a=r.get(["tooltip","trigger"],!0),i=r.get(["tooltip","show"],!0);!n||!n.model||a==="none"||a===!1||a==="item"||i===!1||r.get(["axisPointer","show"],!0)===!1||Y(t.coordSysAxesInfo[Fx(n.model)],function(o){var s=o.axis;n.getAxis(s.dim)===s&&(o.seriesModels.push(r),o.seriesDataCount==null&&(o.seriesDataCount=0),o.seriesDataCount+=r.getData().count())})})}function IAe(t,e){for(var r=e.model,n=e.dim,a=0;a<t.length;a++){var i=t[a]||{};if(RD(i[n+"AxisId"],r.id)||RD(i[n+"AxisIndex"],r.componentIndex)||RD(i[n+"AxisName"],r.name))return a}}function RD(t,e){return t==="all"||Ee(t)&&Vt(t,e)>=0||t===e}function OAe(t){var e=SI(t);if(e){var r=e.axisPointerModel,n=e.axis.scale,a=r.option,i=r.get("status"),o=r.get("value");o!=null&&(o=n.parse(o));var s=$N(r);i==null&&(a.status=s?"show":"hide");var l=n.getExtent().slice();l[0]>l[1]&&l.reverse(),(o==null||o>l[1])&&(o=l[1]),o<l[0]&&(o=l[0]),a.value=o,s&&(a.status=e.axis.scale.isBlank()?"hide":"show")}}function SI(t){var e=(t.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[Fx(t)]}function jAe(t){var e=SI(t);return e&&e.axisPointerModel}function $N(t){return!!t.get(["handle","show"])}function Fx(t){return t.type+"||"+t.id}var PH={},yp=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.render=function(r,n,a,i){this.axisPointerClass&&OAe(r),t.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(r,a,!0)},e.prototype.updateAxisPointer=function(r,n,a,i){this._doUpdateAxisPointerClass(r,a,!1)},e.prototype.remove=function(r,n){var a=this._axisPointer;a&&a.remove(n)},e.prototype.dispose=function(r,n){this._disposeAxisPointer(n),t.prototype.dispose.apply(this,arguments)},e.prototype._doUpdateAxisPointerClass=function(r,n,a){var i=e.getAxisPointerClass(this.axisPointerClass);if(i){var o=jAe(r);o?(this._axisPointer||(this._axisPointer=new i)).render(r,o,n,a):this._disposeAxisPointer(n)}},e.prototype._disposeAxisPointer=function(r){this._axisPointer&&this._axisPointer.dispose(r),this._axisPointer=null},e.registerAxisPointerClass=function(r,n){PH[r]=n},e.getAxisPointerClass=function(r){return r&&PH[r]},e.type="axis",e})(Vn),XN=Xt();function qQ(t,e,r,n){var a=r.axis;if(!a.scale.isBlank()){var i=r.getModel("splitArea"),o=i.getModel("areaStyle"),s=o.get("color"),l=n.coordinateSystem.getRect(),u=a.getTicksCoords({tickModel:i,clamp:!0,breakTicks:"none",pruneByBreak:"preserve_extent_bound"});if(u.length){var c=s.length,f=XN(t).splitAreaColors,d=Qe(),v=0;if(f)for(var g=0;g<u.length;g++){var y=f.get(u[g].tickValue);if(y!=null){v=(y+(c-1)*g)%c;break}}var b=a.toGlobalCoord(u[0].coord),S=o.getAreaStyle();s=Ee(s)?s:[s];for(var g=1;g<u.length;g++){var w=a.toGlobalCoord(u[g].coord),M=void 0,A=void 0,D=void 0,R=void 0;a.isHorizontal()?(M=b,A=l.y,D=w-M,R=l.height,b=M+D):(M=l.x,A=b,D=l.width,R=w-A,b=A+R);var N=u[g-1].tickValue;N!=null&&d.set(N,v),e.add(new $t({anid:N!=null?"area_"+N:null,shape:{x:M,y:A,width:D,height:R},style:gt({fill:s[v]},S),autoBatch:!0,silent:!0})),v=(v+1)%c}XN(t).splitAreaColors=d}}}function $Q(t){XN(t).splitAreaColors=null}var zAe=["splitArea","splitLine","minorSplitLine","breakArea"],XQ=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.axisPointerClass="CartesianAxisPointer",r}return e.prototype.render=function(r,n,a,i){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new st,this.group.add(this._axisGroup),!!jx(r)){this._axisGroup.add(r.axis.axisBuilder.group),Y(zAe,function(l){r.get([l,"show"])&&BAe[l](this,this._axisGroup,r,r.getCoordSysModel(),a)},this);var s=i&&i.type==="changeAxisOrder"&&i.isInitSort;s||g_(o,this._axisGroup,r),t.prototype.render.call(this,r,n,a,i)}},e.prototype.remove=function(){$Q(this)},e.type="cartesianAxis",e})(yp),BAe={splitLine:function(t,e,r,n,a){var i=r.axis;if(!i.scale.isBlank()){var o=r.getModel("splitLine"),s=o.getModel("lineStyle"),l=s.get("color"),u=o.get("showMinLine")!==!1,c=o.get("showMaxLine")!==!1;l=Ee(l)?l:[l];for(var f=n.coordinateSystem.getRect(),d=i.isHorizontal(),v=0,g=i.getTicksCoords({tickModel:o,breakTicks:"none",pruneByBreak:"preserve_extent_bound"}),y=[],b=[],S=s.getLineStyle(),w=0;w<g.length;w++){var M=i.toGlobalCoord(g[w].coord);if(!(w===0&&!u||w===g.length-1&&!c)){var A=g[w].tickValue;d?(y[0]=M,y[1]=f.y,b[0]=M,b[1]=f.y+f.height):(y[0]=f.x,y[1]=M,b[0]=f.x+f.width,b[1]=M);var D=v++%l.length,R=new Na({anid:A!=null?"line_"+A:null,autoBatch:!0,shape:{x1:y[0],y1:y[1],x2:b[0],y2:b[1]},style:gt({stroke:l[D]},S),silent:!0});dm(R.shape,S.lineWidth),e.add(R)}}}},minorSplitLine:function(t,e,r,n,a){var i=r.axis,o=r.getModel("minorSplitLine"),s=o.getModel("lineStyle"),l=n.coordinateSystem.getRect(),u=i.isHorizontal(),c=i.getMinorTicksCoords();if(c.length)for(var f=[],d=[],v=s.getLineStyle(),g=0;g<c.length;g++)for(var y=0;y<c[g].length;y++){var b=i.toGlobalCoord(c[g][y].coord);u?(f[0]=b,f[1]=l.y,d[0]=b,d[1]=l.y+l.height):(f[0]=l.x,f[1]=b,d[0]=l.x+l.width,d[1]=b);var S=new Na({anid:"minor_line_"+c[g][y].tickValue,autoBatch:!0,shape:{x1:f[0],y1:f[1],x2:d[0],y2:d[1]},style:v,silent:!0});dm(S.shape,v.lineWidth),e.add(S)}},splitArea:function(t,e,r,n,a){qQ(t,e,r,n)},breakArea:function(t,e,r,n,a){var i=D_(),o=r.axis.scale;i&&o.type!=="ordinal"&&i.rectCoordBuildBreakAxis(e,t,r,n.coordinateSystem.getRect(),a)}},KQ=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.type="xAxis",e})(XQ),VAe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=KQ.type,r}return e.type="yAxis",e})(XQ),FAe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="grid",r}return e.prototype.render=function(r,n){this.group.removeAll(),r.get("show")&&this.group.add(new $t({shape:r.coordinateSystem.getRect(),style:gt({fill:r.get("backgroundColor")},r.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e})(Vn),kH={offset:0};function QQ(t){t.registerComponentView(FAe),t.registerComponentModel($Me),t.registerCoordinateSystem("cartesian2d",CAe),_m(t,"x",GN,kH),_m(t,"y",GN,kH),t.registerComponentView(KQ),t.registerComponentView(VAe),t.registerPreprocessor(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})})}function HAe(t,e){var r=t.coordinateSystem,n=r&&r.type,a=r&&r.getBaseAxis&&r.getBaseAxis(),i=a&&a.scale&&a.scale.type,o=n==="cartesian2d"&&i==="ordinal"||n==="single",s=e.model.get("jitter")>0;return o&&s}var GAe=Xt();function IH(t,e,r,n){if(t instanceof OQ){var a=t.scale.type;if(a!=="category"&&a!=="ordinal")return r}var i=t.model,o=i.get("jitter"),s=i.get("jitterOverlap"),l=i.get("jitterMargin")||0,u=t.scale.type==="ordinal"?t.getBandWidth():null;return o>0?s?JQ(r,o,u,n):UAe(t,e,r,n,o,l):r}function JQ(t,e,r,n){if(r===null)return t+(Math.random()-.5)*e;var a=r-n*2,i=Math.min(Math.max(0,e),a);return t+(Math.random()-.5)*i}function UAe(t,e,r,n,a,i){var o=GAe(t);o.items||(o.items=[]);var s=o.items,l=OH(s,e,r,n,a,i,1),u=OH(s,e,r,n,a,i,-1),c=Math.abs(l-r)<Math.abs(u-r)?l:u,f=t.scale.type==="ordinal"?t.getBandWidth():null,d=Math.abs(c-r);return d>a/2||f&&d>f/2-n?JQ(r,a,f,n):(s.push({fixedCoord:e,floatCoord:c,r:n}),c)}function OH(t,e,r,n,a,i,o){for(var s=r,l=0;l<t.length;l++){var u=t[l],c=e-u.fixedCoord,f=s-u.floatCoord,d=c*c+f*f,v=n+u.r+i;if(d<v*v){var g=u.floatCoord+Math.sqrt(v*v-c*c)*o;if(Math.abs(g-r)>a/2)return Number.MAX_VALUE;if(o===1&&g>s||o===-1&&g<s){s=g,l=-1;continue}}}return s}function WAe(t){t.eachSeriesByType("scatter",function(e){var r=e.coordinateSystem;if(r&&(r.type==="cartesian2d"||r.type==="single")){var n=r.getBaseAxis?r.getBaseAxis():null,a=n&&HAe(e,n);if(a){var i=e.getData();i.each(function(o){var s=n.dim,l=n.orient,u=l==="horizontal"&&n.type!=="category"||l==="vertical"&&n.type==="category",c=i.getItemLayout(o),f=i.getItemVisual(o,"symbolSize"),d=f instanceof Array?(f[1]+f[0])/2:f;if(s==="y"||s==="single"&&u){var v=IH(n,c[0],c[1],d/2);i.setItemLayout(o,[c[0],v])}else if(s==="x"||s==="single"&&!u){var v=IH(n,c[1],c[0],d/2);i.setItemLayout(o,[v,c[1]])}})}}})}function YAe(t){Ut(QQ),t.registerSeriesModel(UMe),t.registerChartView(qMe),t.registerLayout(A_("scatter"))}function ZAe(t){t.registerLayout(t.PRIORITY.VISUAL.POST_CHART_LAYOUT,WAe)}function qAe(t){t.eachSeriesByType("radar",function(e){var r=e.getData(),n=[],a=e.coordinateSystem;if(a){var i=a.getIndicatorAxes();Y(i,function(o,s){r.each(r.mapDimension(i[s].dim),function(l,u){n[u]=n[u]||[];var c=a.dataToPoint(l,s);n[u][s]=jH(c)?c:zH(a)})}),r.each(function(o){var s=cp(n[o],function(l){return jH(l)})||zH(a);n[o].push(s.slice()),r.setItemLayout(o,n[o])})}})}function jH(t){return!isNaN(t[0])&&!isNaN(t[1])}function zH(t){return[t.cx,t.cy]}function $Ae(t){var e=t.polar;if(e){Ee(e)||(e=[e]);var r=[];Y(e,function(n,a){n.indicator?(n.type&&!n.shape&&(n.shape=n.type),t.radar=t.radar||[],Ee(t.radar)||(t.radar=[t.radar]),t.radar.push(n)):r.push(n)}),t.polar=r}Y(t.series,function(n){n&&n.type==="radar"&&n.polarIndex&&(n.radarIndex=n.polarIndex)})}var XAe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.render=function(r,n,a){var i=r.coordinateSystem,o=this.group,s=r.getData(),l=this._data;function u(d,v){var g=d.getItemVisual(v,"symbol")||"circle";if(g!=="none"){var y=qm(d.getItemVisual(v,"symbolSize")),b=Oa(g,-1,-1,2,2),S=d.getItemVisual(v,"symbolRotate")||0;return b.attr({style:{strokeNoScale:!0},z2:100,scaleX:y[0]/2,scaleY:y[1]/2,rotation:S*Math.PI/180||0}),b}}function c(d,v,g,y,b,S){g.removeAll();for(var w=0;w<v.length-1;w++){var M=u(y,b);M&&(M.__dimIdx=w,d[w]?(M.setPosition(d[w]),dp[S?"initProps":"updateProps"](M,{x:v[w][0],y:v[w][1]},r,b)):M.setPosition(v[w]),g.add(M))}}function f(d){return Re(d,function(v){return[i.cx,i.cy]})}s.diff(l).add(function(d){var v=s.getItemLayout(d);if(v){var g=new ho,y=new Yi,b={shape:{points:v}};g.shape.points=f(v),y.shape.points=f(v),zn(g,b,r,d),zn(y,b,r,d);var S=new st,w=new st;S.add(y),S.add(g),S.add(w),c(y.shape.points,v,w,s,d,!0),s.setItemGraphicEl(d,S)}}).update(function(d,v){var g=l.getItemGraphicEl(v),y=g.childAt(0),b=g.childAt(1),S=g.childAt(2),w={shape:{points:s.getItemLayout(d)}};w.shape.points&&(c(y.shape.points,w.shape.points,S,s,d,!1),Dl(b),Dl(y),Sr(y,w,r),Sr(b,w,r),s.setItemGraphicEl(d,g))}).remove(function(d){o.remove(l.getItemGraphicEl(d))}).execute(),s.eachItemGraphicEl(function(d,v){var g=s.getItemModel(v),y=d.childAt(0),b=d.childAt(1),S=d.childAt(2),w=s.getItemVisual(v,"style"),M=w.fill;o.add(d),y.useStyle(gt(g.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:M})),ti(y,g,"lineStyle"),ti(b,g,"areaStyle");var A=g.getModel("areaStyle"),D=A.isEmpty()&&A.parentModel.isEmpty();b.ignore=D,Y(["emphasis","select","blur"],function(N){var I=g.getModel([N,"areaStyle"]),z=I.isEmpty()&&I.parentModel.isEmpty();b.ensureState(N).ignore=z&&D;var B=g.getModel([N,"lineStyle"]).getLineStyle();y.ensureState(N).style=B;var V=I.getAreaStyle();b.ensureState(N).style=V;var G=g.getModel([N,"itemStyle"]).getItemStyle();S.eachChild(function(F){F.ensureState(N).style=ut(G)})}),b.useStyle(gt(g.getModel("areaStyle").getAreaStyle(),{fill:M,opacity:.7,decal:w.decal}));var R=g.getModel("emphasis");S.eachChild(function(N){if(N instanceof Ni){var I=N.style;N.useStyle(Ae({image:I.image,x:I.x,y:I.y,width:I.width,height:I.height},w))}else N.useStyle(w),N.setColor(M),N.style.strokeNoScale=!0;var z=s.getStore().get(s.getDimensionIndex(N.__dimIdx),v);(z==null||isNaN(z))&&(z=""),xi(N,ri(g),{labelFetcher:s.hostModel,labelDataIndex:v,labelDimIndex:N.__dimIdx,defaultText:z,inheritColor:M,defaultOpacity:w.opacity})}),Wn(d,R.get("focus"),R.get("blurScope"),R.get("disabled"))}),this._data=s},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.type="radar",e})(cn),KAe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.hasSymbolVisual=!0,r}return e.prototype.init=function(r){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new Qm(Ye(this.getData,this),Ye(this.getRawData,this))},e.prototype.getInitialData=function(r,n){return Km(this,{generateCoord:"indicator_",generateCoordCount:1/0})},e.prototype.formatTooltip=function(r,n,a){var i=this.getData(),o=this.coordinateSystem,s=o.getIndicatorAxes(),l=this.getData().getName(r),u=l===""?this.name:l,c=zX(this,r);return Ia("section",{header:u,sortBlocks:!0,blocks:Re(s,function(f){var d=i.get(i.mapDimension(f.dim),r);return Ia("nameValue",{markerType:"subItem",markerColor:c,name:f.name,value:d,sortParam:d})})})},e.prototype.getTooltipPosition=function(r){if(r!=null){for(var n=this.getData(),a=this.coordinateSystem,i=n.getValues(Re(a.dimensions,function(u){return n.mapDimension(u)}),r),o=0,s=i.length;o<s;o++)if(!isNaN(i[o])){var l=a.getIndicatorAxes();return a.coordToPoint(l[o].dataToCoord(i[o]),o)}}},e.type="series.radar",e.dependencies=["radar"],e.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},e})(Sn),l0=IQ.value;function j1(t,e){return gt({show:e},t)}var QAe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.optionUpdated=function(){var r=this.get("boundaryGap"),n=this.get("splitNumber"),a=this.get("scale"),i=this.get("axisLine"),o=this.get("axisTick"),s=this.get("axisLabel"),l=this.get("axisName"),u=this.get(["axisName","show"]),c=this.get(["axisName","formatter"]),f=this.get("axisNameGap"),d=this.get("triggerEvent"),v=Re(this.get("indicator")||[],function(g){g.max!=null&&g.max>0&&!g.min?g.min=0:g.min!=null&&g.min<0&&!g.max&&(g.max=0);var y=l;g.color!=null&&(y=gt({color:g.color},l));var b=Gt(ut(g),{boundaryGap:r,splitNumber:n,scale:a,axisLine:i,axisTick:o,axisLabel:s,name:g.text,showName:u,nameLocation:"end",nameGap:f,nameTextStyle:y,triggerEvent:d},!1);if(We(c)){var S=b.name;b.name=c.replace("{value}",S??"")}else ot(c)&&(b.name=c(b.name,b));var w=new ar(b,null,this.ecModel);return ja(w,w_.prototype),w.mainType="radar",w.componentIndex=this.componentIndex,w},this);this._indicatorModels=v},e.prototype.getIndicatorModels=function(){return this._indicatorModels},e.type="radar",e.defaultOption={z:0,center:["50%","50%"],radius:"50%",startAngle:90,axisName:{show:!0,color:ve.color.axisLabel},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:Gt({lineStyle:{color:ve.color.neutral20}},l0.axisLine),axisLabel:j1(l0.axisLabel,!1),axisTick:j1(l0.axisTick,!1),splitLine:j1(l0.splitLine,!0),splitArea:j1(l0.splitArea,!0),indicator:[]},e})(er),JAe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.render=function(r,n,a){var i=this.group;i.removeAll(),this._buildAxes(r,a),this._buildSplitLineAndArea(r)},e.prototype._buildAxes=function(r,n){var a=r.coordinateSystem,i=a.getIndicatorAxes(),o=Re(i,function(s){var l=s.model.get("showName")?s.name:"",u=new Eo(s.model,n,{axisName:l,position:[a.cx,a.cy],rotation:s.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return u});Y(o,function(s){s.build(),this.group.add(s.group)},this)},e.prototype._buildSplitLineAndArea=function(r){var n=r.coordinateSystem,a=n.getIndicatorAxes();if(!a.length)return;var i=r.get("shape"),o=r.getModel("splitLine"),s=r.getModel("splitArea"),l=o.getModel("lineStyle"),u=s.getModel("areaStyle"),c=o.get("show"),f=s.get("show"),d=l.get("color"),v=u.get("color"),g=Ee(d)?d:[d],y=Ee(v)?v:[v],b=[],S=[];function w(Q,H,X){var W=X%H.length;return Q[W]=Q[W]||[],W}if(i==="circle")for(var M=a[0].getTicksCoords(),A=n.cx,D=n.cy,R=0;R<M.length;R++){if(c){var N=w(b,g,R);b[N].push(new Ef({shape:{cx:A,cy:D,r:M[R].coord}}))}if(f&&R<M.length-1){var N=w(S,y,R);S[N].push(new v_({shape:{cx:A,cy:D,r0:M[R].coord,r:M[R+1].coord}}))}}else for(var I,z=Re(a,function(Q,H){var X=Q.getTicksCoords();return I=I==null?X.length-1:Math.min(X.length-1,I),Re(X,function(W){return n.coordToPoint(W.coord,H)})}),B=[],R=0;R<=I;R++){for(var V=[],G=0;G<a.length;G++)V.push(z[G][R]);if(V[0]&&V.push(V[0].slice()),c){var N=w(b,g,R);b[N].push(new Yi({shape:{points:V}}))}if(f&&B){var N=w(S,y,R-1);S[N].push(new ho({shape:{points:V.concat(B)}}))}B=V.slice().reverse()}var F=l.getLineStyle(),q=u.getAreaStyle();Y(S,function(Q,H){this.group.add(pl(Q,{style:gt({stroke:"none",fill:y[H%y.length]},q),silent:!0}))},this),Y(b,function(Q,H){this.group.add(pl(Q,{style:gt({fill:"none",stroke:g[H%g.length]},F),silent:!0}))},this)},e.type="radar",e})(Vn),e2e=(function(t){ye(e,t);function e(r,n,a){var i=t.call(this,r,n,a)||this;return i.type="value",i.angle=0,i.name="",i}return e})(xu),t2e=(function(){function t(e,r,n){this.dimensions=[],this._model=e,this._indicatorAxes=Re(e.getIndicatorModels(),function(a,i){var o="indicator_"+i,s=new e2e(o,new wf);return s.name=a.get("name"),s.model=a,a.axis=s,this.dimensions.push(o),s},this),this.resize(e,n)}return t.prototype.getIndicatorAxes=function(){return this._indicatorAxes},t.prototype.dataToPoint=function(e,r){var n=this._indicatorAxes[r];return this.coordToPoint(n.dataToCoord(e),r)},t.prototype.coordToPoint=function(e,r){var n=this._indicatorAxes[r],a=n.angle,i=this.cx+e*Math.cos(a),o=this.cy-e*Math.sin(a);return[i,o]},t.prototype.pointToData=function(e){var r=e[0]-this.cx,n=e[1]-this.cy,a=Math.sqrt(r*r+n*n);r/=a,n/=a;for(var i=Math.atan2(-n,r),o=1/0,s,l=-1,u=0;u<this._indicatorAxes.length;u++){var c=this._indicatorAxes[u],f=Math.abs(i-c.angle);f<o&&(s=c,l=u,o=f)}return[l,+(s&&s.coordToData(a))]},t.prototype.resize=function(e,r){var n=ni(e,r).refContainer,a=e.get("center"),i=Math.min(n.width,n.height)/2;this.cx=Ue(a[0],n.width)+n.x,this.cy=Ue(a[1],n.height)+n.y,this.startAngle=e.get("startAngle")*Math.PI/180;var o=e.get("radius");(We(o)||vr(o))&&(o=[0,o]),this.r0=Ue(o[0],i),this.r=Ue(o[1],i),Y(this._indicatorAxes,function(s,l){s.setExtent(this.r0,this.r);var u=this.startAngle+l*Math.PI*2/this._indicatorAxes.length;u=Math.atan2(Math.sin(u),Math.cos(u)),s.angle=u},this)},t.prototype.update=function(e,r){var n=this._indicatorAxes,a=this._model;Y(n,function(s){s.scale.setExtent(1/0,-1/0)}),e.eachSeriesByType("radar",function(s,l){if(!(s.get("coordinateSystem")!=="radar"||e.getComponent("radar",s.get("radarIndex"))!==a)){var u=s.getData();Y(n,function(c){c.scale.unionExtentFromData(u,u.mapDimension(c.dim))})}},this);var i=a.get("splitNumber"),o=new wf;o.setExtent(0,i),o.setInterval(1),Y(n,function(s,l){YQ(s.scale,s.model,o)})},t.prototype.convertToPixel=function(e,r,n){return console.warn("Not implemented."),null},t.prototype.convertFromPixel=function(e,r,n){return console.warn("Not implemented."),null},t.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},t.create=function(e,r){var n=[];return e.eachComponent("radar",function(a){var i=new t(a,e,r);n.push(i),a.coordinateSystem=i}),e.eachSeriesByType("radar",function(a){a.get("coordinateSystem")==="radar"&&(a.coordinateSystem=n[a.get("radarIndex")||0])}),n},t.dimensions=[],t})();function r2e(t){t.registerCoordinateSystem("radar",t2e),t.registerComponentModel(QAe),t.registerComponentView(JAe),t.registerVisual({seriesType:"radar",reset:function(e){var r=e.getData();r.each(function(n){r.setItemVisual(n,"legendIcon","roundRect")}),r.setVisual("legendIcon","roundRect")}})}function n2e(t){Ut(r2e),t.registerChartView(XAe),t.registerSeriesModel(KAe),t.registerLayout(qAe),t.registerProcessor(Xm("radar")),t.registerPreprocessor($Ae)}var wI=Xt();function a2e(t,e,r){wI(t)[e]=r}function i2e(t,e,r){var n=wI(t),a=n[e];a===r&&(n[e]=null)}function BH(t,e){return!!wI(t)[e]}Tc({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},_a);var o2e={axisPointer:1,tooltip:1,brush:1};function eJ(t,e,r){var n=e.getComponentByElement(t.topTarget);if(!n||n===r||o2e.hasOwnProperty(n.mainType))return!1;var a=n.coordinateSystem;if(!a||a.model===r)return!1;var i=tp(n),o=tp(r);return!((i.zlevel-o.zlevel||i.z-o.z)<=0)}var xp=(function(t){ye(e,t);function e(r){var n=t.call(this)||this;n._zr=r;var a=Ye(n._mousedownHandler,n),i=Ye(n._mousemoveHandler,n),o=Ye(n._mouseupHandler,n),s=Ye(n._mousewheelHandler,n),l=Ye(n._pinchHandler,n);return n.enable=function(u,c){var f=c.zInfo,d=tp(f.component),v=d.z,g=d.zlevel,y={component:f.component,z:v,zlevel:g,z2:et(f.z2,-1/0)},b=Ae({},c.triggerInfo);this._opt=gt(Ae({},c),{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0,zInfoParsed:y,triggerInfo:b}),u==null&&(u=!0),(!this._enabled||this._controlType!==u)&&(this._enabled=!0,this.disable(),(u===!0||u==="move"||u==="pan")&&(c0(r,"mousedown",a,y),c0(r,"mousemove",i,y),c0(r,"mouseup",o,y)),(u===!0||u==="scale"||u==="zoom")&&(c0(r,"mousewheel",s,y),c0(r,"pinch",l,y)))},n.disable=function(){this._enabled=!1,f0(r,"mousedown",a),f0(r,"mousemove",i),f0(r,"mouseup",o),f0(r,"mousewheel",s),f0(r,"pinch",l)},n}return e.prototype.isDragging=function(){return this._dragging},e.prototype.isPinching=function(){return this._pinching},e.prototype._checkPointer=function(r,n,a){var i=this._opt,o=i.zInfoParsed;if(eJ(r,i.api,o.component))return!1;var s=i.triggerInfo,l=s.roamTrigger,u=!1;return l==="global"&&(u=!0),u||(u=s.isInSelf(r,n,a)),u&&s.isInClip&&!s.isInClip(r,n,a)&&(u=!1),u},e.prototype._decideCursorStyle=function(r,n,a,i){var o=r.target;if(!o&&this._checkPointer(r,n,a))return"grab";if(i)return o&&o.cursor||"default"},e.prototype.dispose=function(){this.disable()},e.prototype._mousedownHandler=function(r){if(!(r4(r)||u0(r))){for(var n=r.target;n;){if(n.draggable)return;n=n.__hostTarget||n.parent}var a=r.offsetX,i=r.offsetY;this._checkPointer(r,a,i)&&(this._x=a,this._y=i,this._dragging=!0)}},e.prototype._mousemoveHandler=function(r){var n=this._zr;if(!(r.gestureEvent==="pinch"||BH(n,"globalPan")||u0(r))){var a=r.offsetX,i=r.offsetY;if(!this._dragging||!RS("moveOnMouseMove",r,this._opt)){var o=this._decideCursorStyle(r,a,i,!1);o&&n.setCursorStyle(o);return}n.setCursorStyle("grabbing");var s=this._x,l=this._y,u=a-s,c=i-l;this._x=a,this._y=i,this._opt.preventDefaultMouseMove&&yf(r.event),r.__ecRoamConsumed=!0,VH(this,"pan","moveOnMouseMove",r,{dx:u,dy:c,oldX:s,oldY:l,newX:a,newY:i,isAvailableBehavior:null})}},e.prototype._mouseupHandler=function(r){if(!u0(r)){var n=this._zr;if(!r4(r)){this._dragging=!1;var a=this._decideCursorStyle(r,r.offsetX,r.offsetY,!0);a&&n.setCursorStyle(a)}}},e.prototype._mousewheelHandler=function(r){if(!u0(r)){var n=RS("zoomOnMouseWheel",r,this._opt),a=RS("moveOnMouseWheel",r,this._opt),i=r.wheelDelta,o=Math.abs(i),s=r.offsetX,l=r.offsetY;if(!(i===0||!n&&!a)){if(n){var u=o>3?1.4:o>1?1.2:1.1,c=i>0?u:1/u;this._checkTriggerMoveZoom(this,"zoom","zoomOnMouseWheel",r,{scale:c,originX:s,originY:l,isAvailableBehavior:null})}if(a){var f=Math.abs(i),d=(i>0?1:-1)*(f>3?.4:f>1?.15:.05);this._checkTriggerMoveZoom(this,"scrollMove","moveOnMouseWheel",r,{scrollDelta:d,originX:s,originY:l,isAvailableBehavior:null})}}}},e.prototype._pinchHandler=function(r){if(!(BH(this._zr,"globalPan")||u0(r))){var n=r.pinchScale>1?1.1:1/1.1;this._checkTriggerMoveZoom(this,"zoom",null,r,{scale:n,originX:r.pinchX,originY:r.pinchY,isAvailableBehavior:null})}},e.prototype._checkTriggerMoveZoom=function(r,n,a,i,o){r._checkPointer(i,o.originX,o.originY)&&(yf(i.event),i.__ecRoamConsumed=!0,VH(r,n,a,i,o))},e})(Nl);function u0(t){return t.__ecRoamConsumed}var s2e=Xt();function RC(t){var e=s2e(t);return e.roam=e.roam||{},e.uniform=e.uniform||{},e}function c0(t,e,r,n){for(var a=RC(t),i=a.roam,o=i[e]=i[e]||[],s=0;s<o.length;s++){var l=o[s].zInfoParsed;if((l.zlevel-n.zlevel||l.z-n.z||l.z2-n.z2)<=0)break}o.splice(s,0,{listener:r,zInfoParsed:n}),l2e(t,e)}function f0(t,e,r){for(var n=RC(t),a=n.roam[e]||[],i=0;i<a.length;i++)if(a[i].listener===r){a.splice(i,1),a.length||u2e(t,e);return}}function l2e(t,e){var r=RC(t);r.uniform[e]||t.on(e,r.uniform[e]=function(n){var a=r.roam[e];if(a)for(var i=0;i<a.length;i++)a[i].listener(n)})}function u2e(t,e){var r=RC(t),n=r.uniform;n[e]&&(t.off(e,n[e]),n[e]=null)}function VH(t,e,r,n,a){a.isAvailableBehavior=Ye(RS,null,r,n),t.trigger(e,a)}function RS(t,e,r){var n=r[t];return!t||n&&(!We(n)||e.event[n+"Key"])}function TI(t,e,r){var n=t.target;n.x+=e,n.y+=r,n.dirty()}function CI(t,e,r,n){var a=t.target,i=t.zoomLimit,o=t.zoom=t.zoom||1;o*=e,o=MI(o,i);var s=o/t.zoom;t.zoom=o,rJ(a,r,n,s),a.dirty()}function tJ(t,e,r,n,a,i){var o=new yt(0,0,0,0);n.enable(t.get("roam"),{api:e,zInfo:{component:t},triggerInfo:{roamTrigger:t.get("roamTrigger"),isInSelf:function(u,c,f){return o.copy(r.getBoundingRect()),o.applyTransform(r.getComputedTransform()),o.contain(c,f)},isInClip:function(u,c,f){return!i||i.contain(c,f)}}}),a.zoomLimit=t.get("scaleLimit");var s=t.coordinateSystem;a.zoom=s?s.getZoom():1;var l=t.subType+"Roam";n.off("pan").off("zoom").on("pan",function(u){TI(a,u.dx,u.dy),e.dispatchAction({seriesId:t.id,type:l,dx:u.dx,dy:u.dy})}).on("zoom",function(u){CI(a,u.scale,u.originX,u.originY),e.dispatchAction({seriesId:t.id,type:l,zoom:u.scale,originX:u.originX,originY:u.originY}),e.updateLabelLayout()})}function FH(t,e){return t.pointToProjected?t.pointToProjected(e):t.pointToData(e)}function PC(t,e,r){var n=t.getZoom(),a=t.getCenter(),i=e.zoom,o=t.projectedToPoint?t.projectedToPoint(a):t.dataToPoint(a);return e.dx!=null&&e.dy!=null&&(o[0]-=e.dx,o[1]-=e.dy,t.setCenter(FH(t,o))),i!=null&&(i=MI(n*i,r)/n,rJ(t,e.originX,e.originY,i),t.updateTransform(),t.setCenter(FH(t,o)),t.setZoom(i*n)),{center:t.getCenter(),zoom:t.getZoom()}}function rJ(t,e,r,n){t.x-=(e-t.x)*(n-1),t.y-=(r-t.y)*(n-1),t.scaleX*=n,t.scaleY*=n}function MI(t,e){if(e){var r=e.min||0,n=e.max||1/0;t=Math.max(Math.min(n,t),r)}return t}function nJ(t){if(We(t)){var e=new DOMParser;t=e.parseFromString(t,"text/xml")}var r=t;for(r.nodeType===9&&(r=r.firstChild);r.nodeName.toLowerCase()!=="svg"||r.nodeType!==1;)r=r.nextSibling;return r}var PD,Fw={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},HH=sr(Fw),Hw={"alignment-baseline":"textBaseline","stop-color":"stopColor"},GH=sr(Hw),c2e=(function(){function t(){this._defs={},this._root=null}return t.prototype.parse=function(e,r){r=r||{};var n=nJ(e);this._defsUsePending=[];var a=new st;this._root=a;var i=[],o=n.getAttribute("viewBox")||"",s=parseFloat(n.getAttribute("width")||r.width),l=parseFloat(n.getAttribute("height")||r.height);isNaN(s)&&(s=null),isNaN(l)&&(l=null),ws(n,a,null,!0,!1);for(var u=n.firstChild;u;)this._parseNode(u,a,i,null,!1,!1),u=u.nextSibling;d2e(this._defs,this._defsUsePending),this._defsUsePending=[];var c,f;if(o){var d=kC(o);d.length>=4&&(c={x:parseFloat(d[0]||0),y:parseFloat(d[1]||0),width:parseFloat(d[2]),height:parseFloat(d[3])})}if(c&&s!=null&&l!=null&&(f=iJ(c,{x:0,y:0,width:s,height:l}),!r.ignoreViewBox)){var v=a;a=new st,a.add(v),v.scaleX=v.scaleY=f.scale,v.x=f.x,v.y=f.y}return!r.ignoreRootClip&&s!=null&&l!=null&&a.setClipPath(new $t({shape:{x:0,y:0,width:s,height:l}})),{root:a,width:s,height:l,viewBoxRect:c,viewBoxTransform:f,named:i}},t.prototype._parseNode=function(e,r,n,a,i,o){var s=e.nodeName.toLowerCase(),l,u=a;if(s==="defs"&&(i=!0),s==="text"&&(o=!0),s==="defs"||s==="switch")l=r;else{if(!i){var c=PD[s];if(c&&Xe(PD,s)){l=c.call(this,e,r);var f=e.getAttribute("name");if(f){var d={name:f,namedFrom:null,svgNodeTagLower:s,el:l};n.push(d),s==="g"&&(u=d)}else a&&n.push({name:a.name,namedFrom:a,svgNodeTagLower:s,el:l});r.add(l)}}var v=UH[s];if(v&&Xe(UH,s)){var g=v.call(this,e),y=e.getAttribute("id");y&&(this._defs[y]=g)}}if(l&&l.isGroup)for(var b=e.firstChild;b;)b.nodeType===1?this._parseNode(b,l,n,u,i,o):b.nodeType===3&&o&&this._parseText(b,l),b=b.nextSibling},t.prototype._parseText=function(e,r){var n=new hm({style:{text:e.textContent},silent:!0,x:this._textX||0,y:this._textY||0});rl(r,n),ws(e,n,this._defsUsePending,!1,!1),f2e(n,r);var a=n.style,i=a.fontSize;i&&i<9&&(a.fontSize=9,n.scaleX*=i/9,n.scaleY*=i/9);var o=(a.fontSize||a.fontFamily)&&[a.fontStyle,a.fontWeight,(a.fontSize||12)+"px",a.fontFamily||"sans-serif"].join(" ");a.font=o;var s=n.getBoundingRect();return this._textX+=s.width,r.add(n),n},t.internalField=(function(){PD={g:function(e,r){var n=new st;return rl(r,n),ws(e,n,this._defsUsePending,!1,!1),n},rect:function(e,r){var n=new $t;return rl(r,n),ws(e,n,this._defsUsePending,!1,!1),n.setShape({x:parseFloat(e.getAttribute("x")||"0"),y:parseFloat(e.getAttribute("y")||"0"),width:parseFloat(e.getAttribute("width")||"0"),height:parseFloat(e.getAttribute("height")||"0")}),n.silent=!0,n},circle:function(e,r){var n=new Ef;return rl(r,n),ws(e,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),r:parseFloat(e.getAttribute("r")||"0")}),n.silent=!0,n},line:function(e,r){var n=new Na;return rl(r,n),ws(e,n,this._defsUsePending,!1,!1),n.setShape({x1:parseFloat(e.getAttribute("x1")||"0"),y1:parseFloat(e.getAttribute("y1")||"0"),x2:parseFloat(e.getAttribute("x2")||"0"),y2:parseFloat(e.getAttribute("y2")||"0")}),n.silent=!0,n},ellipse:function(e,r){var n=new gC;return rl(r,n),ws(e,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),rx:parseFloat(e.getAttribute("rx")||"0"),ry:parseFloat(e.getAttribute("ry")||"0")}),n.silent=!0,n},polygon:function(e,r){var n=e.getAttribute("points"),a;n&&(a=ZH(n));var i=new ho({shape:{points:a||[]},silent:!0});return rl(r,i),ws(e,i,this._defsUsePending,!1,!1),i},polyline:function(e,r){var n=e.getAttribute("points"),a;n&&(a=ZH(n));var i=new Yi({shape:{points:a||[]},silent:!0});return rl(r,i),ws(e,i,this._defsUsePending,!1,!1),i},image:function(e,r){var n=new Ni;return rl(r,n),ws(e,n,this._defsUsePending,!1,!1),n.setStyle({image:e.getAttribute("xlink:href")||e.getAttribute("href"),x:+e.getAttribute("x"),y:+e.getAttribute("y"),width:+e.getAttribute("width"),height:+e.getAttribute("height")}),n.silent=!0,n},text:function(e,r){var n=e.getAttribute("x")||"0",a=e.getAttribute("y")||"0",i=e.getAttribute("dx")||"0",o=e.getAttribute("dy")||"0";this._textX=parseFloat(n)+parseFloat(i),this._textY=parseFloat(a)+parseFloat(o);var s=new st;return rl(r,s),ws(e,s,this._defsUsePending,!1,!0),s},tspan:function(e,r){var n=e.getAttribute("x"),a=e.getAttribute("y");n!=null&&(this._textX=parseFloat(n)),a!=null&&(this._textY=parseFloat(a));var i=e.getAttribute("dx")||"0",o=e.getAttribute("dy")||"0",s=new st;return rl(r,s),ws(e,s,this._defsUsePending,!1,!0),this._textX+=parseFloat(i),this._textY+=parseFloat(o),s},path:function(e,r){var n=e.getAttribute("d")||"",a=w$(n);return rl(r,a),ws(e,a,this._defsUsePending,!1,!1),a.silent=!0,a}}})(),t})(),UH={lineargradient:function(t){var e=parseInt(t.getAttribute("x1")||"0",10),r=parseInt(t.getAttribute("y1")||"0",10),n=parseInt(t.getAttribute("x2")||"10",10),a=parseInt(t.getAttribute("y2")||"0",10),i=new Hm(e,r,n,a);return WH(t,i),YH(t,i),i},radialgradient:function(t){var e=parseInt(t.getAttribute("cx")||"0",10),r=parseInt(t.getAttribute("cy")||"0",10),n=parseInt(t.getAttribute("r")||"0",10),a=new A$(e,r,n);return WH(t,a),YH(t,a),a}};function WH(t,e){var r=t.getAttribute("gradientUnits");r==="userSpaceOnUse"&&(e.global=!0)}function YH(t,e){for(var r=t.firstChild;r;){if(r.nodeType===1&&r.nodeName.toLocaleLowerCase()==="stop"){var n=r.getAttribute("offset"),a=void 0;n&&n.indexOf("%")>0?a=parseInt(n,10)/100:n?a=parseFloat(n):a=0;var i={};aJ(r,i,i);var o=i.stopColor||r.getAttribute("stop-color")||"#000000",s=i.stopOpacity||r.getAttribute("stop-opacity");if(s){var l=as(o),u=l&&l[3];u&&(l[3]*=Fh(s),o=cc(l,"rgba"))}e.colorStops.push({offset:a,color:o})}r=r.nextSibling}}function rl(t,e){t&&t.__inheritedStyle&&(e.__inheritedStyle||(e.__inheritedStyle={}),gt(e.__inheritedStyle,t.__inheritedStyle))}function ZH(t){for(var e=kC(t),r=[],n=0;n<e.length;n+=2){var a=parseFloat(e[n]),i=parseFloat(e[n+1]);r.push([a,i])}return r}function ws(t,e,r,n,a){var i=e,o=i.__inheritedStyle=i.__inheritedStyle||{},s={};t.nodeType===1&&(g2e(t,e),aJ(t,o,s),n||m2e(t,o,s)),i.style=i.style||{},o.fill!=null&&(i.style.fill=qH(i,"fill",o.fill,r)),o.stroke!=null&&(i.style.stroke=qH(i,"stroke",o.stroke,r)),Y(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(l){o[l]!=null&&(i.style[l]=parseFloat(o[l]))}),Y(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(l){o[l]!=null&&(i.style[l]=o[l])}),a&&(i.__selfStyle=s),o.lineDash&&(i.style.lineDash=Re(kC(o.lineDash),function(l){return parseFloat(l)})),(o.visibility==="hidden"||o.visibility==="collapse")&&(i.invisible=!0),o.display==="none"&&(i.ignore=!0)}function f2e(t,e){var r=e.__selfStyle;if(r){var n=r.textBaseline,a=n;!n||n==="auto"||n==="baseline"?a="alphabetic":n==="before-edge"||n==="text-before-edge"?a="top":n==="after-edge"||n==="text-after-edge"?a="bottom":(n==="central"||n==="mathematical")&&(a="middle"),t.style.textBaseline=a}var i=e.__inheritedStyle;if(i){var o=i.textAlign,s=o;o&&(o==="middle"&&(s="center"),t.style.textAlign=s)}}var h2e=/^url\(\s*#(.*?)\)/;function qH(t,e,r,n){var a=r&&r.match(h2e);if(a){var i=ml(a[1]);n.push([t,e,i]);return}return r==="none"&&(r=null),r}function d2e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n[0].style[n[1]]=t[n[2]]}}var v2e=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function kC(t){return t.match(v2e)||[]}var p2e=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,kD=Math.PI/180;function g2e(t,e){var r=t.getAttribute("transform");if(r){r=r.replace(/,/g," ");var n=[],a=null;r.replace(p2e,function(f,d,v){return n.push(d,v),""});for(var i=n.length-1;i>0;i-=2){var o=n[i],s=n[i-1],l=kC(o);switch(a=a||Di(),s){case"translate":mc(a,a,[parseFloat(l[0]),parseFloat(l[1]||"0")]);break;case"scale":fk(a,a,[parseFloat(l[0]),parseFloat(l[1]||l[0])]);break;case"rotate":ud(a,a,-parseFloat(l[0])*kD,[parseFloat(l[1]||"0"),parseFloat(l[2]||"0")]);break;case"skewX":var u=Math.tan(parseFloat(l[0])*kD);uc(a,[1,0,u,1,0,0],a);break;case"skewY":var c=Math.tan(parseFloat(l[0])*kD);uc(a,[1,c,0,1,0,0],a);break;case"matrix":a[0]=parseFloat(l[0]),a[1]=parseFloat(l[1]),a[2]=parseFloat(l[2]),a[3]=parseFloat(l[3]),a[4]=parseFloat(l[4]),a[5]=parseFloat(l[5]);break}}e.setLocalTransform(a)}}var $H=/([^\s:;]+)\s*:\s*([^:;]+)/g;function aJ(t,e,r){var n=t.getAttribute("style");if(n){$H.lastIndex=0;for(var a;(a=$H.exec(n))!=null;){var i=a[1],o=Xe(Fw,i)?Fw[i]:null;o&&(e[o]=a[2]);var s=Xe(Hw,i)?Hw[i]:null;s&&(r[s]=a[2])}}}function m2e(t,e,r){for(var n=0;n<HH.length;n++){var a=HH[n],i=t.getAttribute(a);i!=null&&(e[Fw[a]]=i)}for(var n=0;n<GH.length;n++){var a=GH[n],i=t.getAttribute(a);i!=null&&(r[Hw[a]]=i)}}function iJ(t,e){var r=e.width/t.width,n=e.height/t.height,a=Math.min(r,n);return{scale:a,x:-(t.x+t.width/2)*a+(e.x+e.width/2),y:-(t.y+t.height/2)*a+(e.y+e.height/2)}}function y2e(t,e){var r=new c2e;return r.parse(t,e)}var x2e=Qe(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),_2e=(function(){function t(e,r){this.type="geoSVG",this._usedGraphicMap=Qe(),this._freedGraphics=[],this._mapName=e,this._parsedXML=nJ(r)}return t.prototype.load=function(){var e=this._firstGraphic;if(!e){e=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(e),this._boundingRect=this._firstGraphic.boundingRect.clone();var r=S2e(e.named),n=r.regions,a=r.regionsMap;this._regions=n,this._regionsMap=a}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},t.prototype._buildGraphic=function(e){var r,n;try{r=e&&y2e(e,{ignoreViewBox:!0,ignoreRootClip:!0})||{},n=r.root,co(n!=null)}catch(b){throw new Error(`Invalid svg format
`+b.message)}var a=new st;a.add(n),a.isGeoSVGGraphicRoot=!0;var i=r.width,o=r.height,s=r.viewBoxRect,l=this._boundingRect;if(!l){var u=void 0,c=void 0,f=void 0,d=void 0;if(i!=null?(u=0,f=i):s&&(u=s.x,f=s.width),o!=null?(c=0,d=o):s&&(c=s.y,d=s.height),u==null||c==null){var v=n.getBoundingRect();u==null&&(u=v.x,f=v.width),c==null&&(c=v.y,d=v.height)}l=this._boundingRect=new yt(u,c,f,d)}if(s){var g=iJ(s,l);n.scaleX=n.scaleY=g.scale,n.x=g.x,n.y=g.y}a.setClipPath(new $t({shape:l.plain()}));var y=[];return Y(r.named,function(b){x2e.get(b.svgNodeTagLower)!=null&&(y.push(b),b2e(b.el))}),{root:a,boundingRect:l,named:y}},t.prototype.useGraphic=function(e){var r=this._usedGraphicMap,n=r.get(e);return n||(n=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),r.set(e,n),n)},t.prototype.freeGraphic=function(e){var r=this._usedGraphicMap,n=r.get(e);n&&(r.removeKey(e),this._freedGraphics.push(n))},t})();function b2e(t){t.silent=!1,t.isGroup&&t.traverse(function(e){e.silent=!1})}function S2e(t){var e=[],r=Qe();return Y(t,function(n){if(n.namedFrom==null){var a=new jTe(n.name,n.el);e.push(a),r.set(n.name,a)}}),{regions:e,regionsMap:r}}var KN=[126,25],XH="",hv=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(var sv=0;sv<hv.length;sv++)for(var yg=0;yg<hv[sv].length;yg++)hv[sv][yg][0]/=10.5,hv[sv][yg][1]/=-10.5/.75,hv[sv][yg][0]+=KN[0],hv[sv][yg][1]+=KN[1];function w2e(t,e){if(t==="china"){for(var r=0;r<e.length;r++)if(e[r].name===XH)return;e.push(new FK(XH,Re(hv,function(n){return{type:"polygon",exterior:n}}),KN))}}var T2e={:[32,80],:[0,-10],:[10,5],:[-10,10],:[5,5]};function C2e(t,e){if(t==="china"){var r=T2e[e.name];if(r){var n=e.getCenter();n[0]+=r[0]/10.5,n[1]+=-r[1]/(10.5/.75),e.setCenter(n)}}}var M2e=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function A2e(t,e){t==="china"&&e.name===""&&e.geometries.push({type:"polygon",exterior:M2e[0]})}var D2e="name",L2e=(function(){function t(e,r,n){this.type="geoJSON",this._parsedMap=Qe(),this._mapName=e,this._specialAreas=n,this._geoJSON=N2e(r)}return t.prototype.load=function(e,r){r=r||D2e;var n=this._parsedMap.get(r);if(!n){var a=this._parseToRegions(r);n=this._parsedMap.set(r,{regions:a,boundingRect:E2e(a)})}var i=Qe(),o=[];return Y(n.regions,function(s){var l=s.name;e&&Xe(e,l)&&(s=s.cloneShallow(l=e[l])),o.push(s),i.set(l,s)}),{regions:o,boundingRect:n.boundingRect||new yt(0,0,0,0),regionsMap:i}},t.prototype._parseToRegions=function(e){var r=this._mapName,n=this._geoJSON,a;try{a=n?BTe(n,e):[]}catch(i){throw new Error(`Invalid geoJson format
`+i.message)}return w2e(r,a),Y(a,function(i){var o=i.name;C2e(r,i),A2e(r,i);var s=this._specialAreas&&this._specialAreas[o];s&&i.transformTo(s.left,s.top,s.width,s.height)},this),a},t.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},t})();function E2e(t){for(var e,r=0;r<t.length;r++){var n=t[r].getBoundingRect();e=e||n.clone(),e.union(n)}return e}function N2e(t){return We(t)?typeof JSON<"u"&&JSON.parse?JSON.parse(t):new Function("return ("+t+");")():t}var h0=Qe();const Tf={registerMap:function(t,e,r){if(e.svg){var n=new _2e(t,e.svg);h0.set(t,n)}else{var a=e.geoJson||e.geoJSON;a&&!e.features?r=e.specialAreas:a=e;var n=new L2e(t,a,r);h0.set(t,n)}},getGeoResource:function(t){return h0.get(t)},getMapForUser:function(t){var e=h0.get(t);return e&&e.type==="geoJSON"&&e.getMapForUser()},load:function(t,e,r){var n=h0.get(t);if(n)return n.load(e,r)}};var AI=["rect","circle","line","ellipse","polygon","polyline","path"],R2e=Qe(AI),P2e=Qe(AI.concat(["g"])),k2e=Qe(AI.concat(["g"])),oJ=Xt();function z1(t){var e=t.getItemStyle(),r=t.get("areaColor");return r!=null&&(e.fill=r),e}function KH(t){var e=t.style;e&&(e.stroke=e.stroke||e.fill,e.fill=null)}var sJ=(function(){function t(e){var r=this.group=new st,n=this._transformGroup=new st;r.add(n),this.uid=Wm("ec_map_draw"),this._controller=new xp(e.getZr()),this._controllerHost={target:n},n.add(this._regionsGroup=new st),n.add(this._svgGroup=new st)}return t.prototype.draw=function(e,r,n,a,i){var o=e.mainType==="geo",s=e.getData&&e.getData();o&&r.eachComponent({mainType:"series",subType:"map"},function(M){!s&&M.getHostGeoModel()===e&&(s=M.getData())});var l=e.coordinateSystem,u=this._regionsGroup,c=this._transformGroup,f=l.getTransformInfo(),d=f.raw,v=f.roam,g=!u.childAt(0)||i,y=e.getShallow("clip",!0),b;y?(b=l.getViewRect().clone(),this.group.setClipPath(new $t({shape:b.clone()}))):this.group.removeClipPath(),g?(c.x=v.x,c.y=v.y,c.scaleX=v.scaleX,c.scaleY=v.scaleY,c.dirty()):Sr(c,v,e);var S=s&&s.getVisual("visualMeta")&&s.getVisual("visualMeta").length>0,w={api:n,geo:l,mapOrGeoModel:e,data:s,isVisualEncodedByVisualMap:S,isGeo:o,transformInfoRaw:d};l.resourceType==="geoJSON"?this._buildGeoJSON(w):l.resourceType==="geoSVG"&&this._buildSVG(w),this._updateController(e,b,r,n),this._updateMapSelectHandler(e,u,n,a)},t.prototype._buildGeoJSON=function(e){var r=this._regionsGroupByName=Qe(),n=Qe(),a=this._regionsGroup,i=e.transformInfoRaw,o=e.mapOrGeoModel,s=e.data,l=e.geo.projection,u=l&&l.stream;function c(v,g){return g&&(v=g(v)),v&&[v[0]*i.scaleX+i.x,v[1]*i.scaleY+i.y]}function f(v){for(var g=[],y=!u&&l&&l.project,b=0;b<v.length;++b){var S=c(v[b],y);S&&g.push(S)}return g}function d(v){return{shape:{points:f(v)}}}a.removeAll(),Y(e.geo.regions,function(v){var g=v.name,y=r.get(g),b=n.get(g)||{},S=b.dataIdx,w=b.regionModel;if(!y){y=r.set(g,new st),a.add(y),S=s?s.indexOfName(g):null,w=e.isGeo?o.getRegionModel(g):s?s.getItemModel(S):null;var M=w.get("silent",!0);M!=null&&(y.silent=M),n.set(g,{dataIdx:S,regionModel:w})}var A=[],D=[];Y(v.geometries,function(I){if(I.type==="polygon"){var z=[I.exterior].concat(I.interiors||[]);u&&(z=nG(z,u)),Y(z,function(V){A.push(new ho(d(V)))})}else{var B=I.points;u&&(B=nG(B,u,!0)),Y(B,function(V){D.push(new Yi(d(V)))})}});var R=c(v.getCenter(),l&&l.project);function N(I,z){if(I.length){var B=new yC({culling:!0,segmentIgnoreThreshold:1,shape:{paths:I}});y.add(B),QH(e,B,S,w),JH(e,B,g,w,o,S,R),z&&(KH(B),Y(B.states,KH))}}N(A),N(D,!0)}),r.each(function(v,g){var y=n.get(g),b=y.dataIdx,S=y.regionModel;eG(e,v,g,S,o,b),tG(e,v,g,S,o),rG(e,v,g,S,o)},this)},t.prototype._buildSVG=function(e){var r=e.geo.map,n=e.transformInfoRaw;this._svgGroup.x=n.x,this._svgGroup.y=n.y,this._svgGroup.scaleX=n.scaleX,this._svgGroup.scaleY=n.scaleY,this._svgResourceChanged(r)&&(this._freeSVG(),this._useSVG(r));var a=this._svgDispatcherMap=Qe(),i=!1;Y(this._svgGraphicRecord.named,function(o){var s=o.name,l=e.mapOrGeoModel,u=e.data,c=o.svgNodeTagLower,f=o.el,d=u?u.indexOfName(s):null,v=l.getRegionModel(s);R2e.get(c)!=null&&f instanceof Al&&QH(e,f,d,v),f instanceof Al&&(f.culling=!0);var g=v.get("silent",!0);if(g!=null&&(f.silent=g),f.z2EmphasisLift=0,!o.namedFrom&&(k2e.get(c)!=null&&JH(e,f,s,v,l,d,null),eG(e,f,s,v,l,d),tG(e,f,s,v,l),P2e.get(c)!=null)){var y=rG(e,f,s,v,l);y==="self"&&(i=!0);var b=a.get(s)||a.set(s,[]);b.push(f)}},this),this._enableBlurEntireSVG(i,e)},t.prototype._enableBlurEntireSVG=function(e,r){if(e&&r.isGeo){var n=r.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),a=n.opacity;this._svgGraphicRecord.root.traverse(function(i){if(!i.isGroup){Jv(i);var o=i.ensureState("blur").style||{};o.opacity==null&&a!=null&&(o.opacity=a),i.ensureState("emphasis")}})}},t.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},t.prototype.findHighDownDispatchers=function(e,r){if(e==null)return[];var n=r.coordinateSystem;if(n.resourceType==="geoJSON"){var a=this._regionsGroupByName;if(a){var i=a.get(e);return i?[i]:[]}}else if(n.resourceType==="geoSVG")return this._svgDispatcherMap&&this._svgDispatcherMap.get(e)||[]},t.prototype._svgResourceChanged=function(e){return this._svgMapName!==e},t.prototype._useSVG=function(e){var r=Tf.getGeoResource(e);if(r&&r.type==="geoSVG"){var n=r.useGraphic(this.uid);this._svgGroup.add(n.root),this._svgGraphicRecord=n,this._svgMapName=e}},t.prototype._freeSVG=function(){var e=this._svgMapName;if(e!=null){var r=Tf.getGeoResource(e);r&&r.type==="geoSVG"&&r.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},t.prototype._updateController=function(e,r,n,a){var i=e.coordinateSystem,o=this._controller,s=this._controllerHost;s.zoomLimit=e.get("scaleLimit"),s.zoom=i.getZoom(),o.enable(e.get("roam")||!1,{api:a,zInfo:{component:e},triggerInfo:{roamTrigger:e.get("roamTrigger"),isInSelf:function(c,f,d){return i.containPoint([f,d])},isInClip:function(c,f,d){return!r||r.contain(f,d)}}});var l=e.mainType;function u(){var c={type:"geoRoam",componentType:l};return c[l+"Id"]=e.id,c}o.off("pan").on("pan",function(c){this._mouseDownFlag=!1,TI(s,c.dx,c.dy),a.dispatchAction(Ae(u(),{dx:c.dx,dy:c.dy,animation:{duration:0}}))},this),o.off("zoom").on("zoom",function(c){this._mouseDownFlag=!1,CI(s,c.scale,c.originX,c.originY),a.dispatchAction(Ae(u(),{totalZoom:s.zoom,zoom:c.scale,originX:c.originX,originY:c.originY,animation:{duration:0}}))},this)},t.prototype.resetForLabelLayout=function(){this.group.traverse(function(e){var r=e.getTextContent();r&&(r.ignore=oJ(r).ignore)})},t.prototype._updateMapSelectHandler=function(e,r,n,a){var i=this;r.off("mousedown"),r.off("click"),e.get("selectedMode")&&(r.on("mousedown",function(){i._mouseDownFlag=!0}),r.on("click",function(o){i._mouseDownFlag&&(i._mouseDownFlag=!1)}))},t})();function QH(t,e,r,n){var a=n.getModel("itemStyle"),i=n.getModel(["emphasis","itemStyle"]),o=n.getModel(["blur","itemStyle"]),s=n.getModel(["select","itemStyle"]),l=z1(a),u=z1(i),c=z1(s),f=z1(o),d=t.data;if(d){var v=d.getItemVisual(r,"style"),g=d.getItemVisual(r,"decal");t.isVisualEncodedByVisualMap&&v.fill&&(l.fill=v.fill),g&&(l.decal=pm(g,t.api))}e.setStyle(l),e.style.strokeNoScale=!0,e.ensureState("emphasis").style=u,e.ensureState("select").style=c,e.ensureState("blur").style=f,Jv(e)}function JH(t,e,r,n,a,i,o){var s=t.data,l=t.isGeo,u=s&&isNaN(s.get(s.mapDimension("value"),i)),c=s&&s.getItemLayout(i);if(l||u||c&&c.showLabel){var f=l?r:i,d=void 0;(!s||i>=0)&&(d=a);var v=o?{normal:{align:"center",verticalAlign:"middle"}}:null;xi(e,ri(n),{labelFetcher:d,labelDataIndex:f,defaultText:r},v);var g=e.getTextContent();if(g&&(oJ(g).ignore=g.ignore,e.textConfig&&o)){var y=e.getBoundingRect().clone();e.textConfig.layoutRect=y,e.textConfig.position=[(o[0]-y.x)/y.width*100+"%",(o[1]-y.y)/y.height*100+"%"]}e.disableLabelAnimation=!0}else e.removeTextContent(),e.removeTextConfig(),e.disableLabelAnimation=null}function eG(t,e,r,n,a,i){t.data?t.data.setItemGraphicEl(i,e):wt(e).eventData={componentType:"geo",componentIndex:a.componentIndex,geoIndex:a.componentIndex,name:r,region:n&&n.option||{}}}function tG(t,e,r,n,a){t.data||Nf({el:e,componentModel:a,itemName:r,itemTooltipOption:n.get("tooltip")})}function rG(t,e,r,n,a){e.highDownSilentOnTouch=!!a.get("selectedMode");var i=n.getModel("emphasis"),o=i.get("focus");return Wn(e,o,i.get("blurScope"),i.get("disabled")),t.isGeo&&V_e(e,a,r),o}function nG(t,e,r){var n=[],a;function i(){a=[]}function o(){a.length&&(n.push(a),a=[])}var s=e({polygonStart:i,polygonEnd:o,lineStart:i,lineEnd:o,point:function(l,u){isFinite(l)&&isFinite(u)&&a.push([l,u])},sphere:function(){}});return!r&&s.polygonStart(),Y(t,function(l){s.lineStart();for(var u=0;u<l.length;u++)s.point(l[u][0],l[u][1]);s.lineEnd()}),!r&&s.polygonEnd(),n}var I2e=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.render=function(r,n,a,i){if(!(i&&i.type==="mapToggleSelect"&&i.from===this.uid)){var o=this.group;if(o.removeAll(),!r.getHostGeoModel()){if(this._mapDraw&&i&&i.type==="geoRoam"&&this._mapDraw.resetForLabelLayout(),i&&i.type==="geoRoam"&&i.componentType==="series"&&i.seriesId===r.id){var s=this._mapDraw;s&&o.add(s.group)}else if(r.needsDrawMap){var s=this._mapDraw||new sJ(a);o.add(s.group),s.draw(r,n,a,this,i),this._mapDraw=s}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;r.get("showLegendSymbol")&&n.getComponent("legend")&&this._renderSymbols(r,n,a)}}},e.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},e.prototype._renderSymbols=function(r,n,a){var i=r.originalData,o=this.group;i.each(i.mapDimension("value"),function(s,l){if(!isNaN(s)){var u=i.getItemLayout(l);if(!(!u||!u.point)){var c=u.point,f=u.offset,d=new Ef({style:{fill:r.getData().getVisual("style").fill},shape:{cx:c[0]+f*9,cy:c[1],r:3},silent:!0,z2:8+(f?0:Fm+1)});if(!f){var v=r.mainSeries.getData(),g=i.getName(l),y=v.indexOfName(g),b=i.getItemModel(l),S=b.getModel("label"),w=v.getItemGraphicEl(y);xi(d,ri(b),{labelFetcher:{getFormattedLabel:function(M,A){return r.getFormattedLabel(y,A)}},defaultText:g}),d.disableLabelAnimation=!0,S.get("position")||d.setTextConfig({position:"bottom"}),w.onHoverStateChange=function(M){gw(d,M)}}o.add(d)}}})},e.type="map",e})(cn),O2e=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.needsDrawMap=!1,r.seriesGroup=[],r.getTooltipPosition=function(n){if(n!=null){var a=this.getData().getName(n),i=this.coordinateSystem,o=i.getRegion(a);return o&&i.dataToPoint(o.getCenter())}},r}return e.prototype.getInitialData=function(r){for(var n=Km(this,{coordDimensions:["value"],encodeDefaulter:zt(Gk,this)}),a=Qe(),i=[],o=0,s=n.count();o<s;o++){var l=n.getName(o);a.set(l,o)}var u=Tf.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return Y(u.regions,function(c){var f=c.name,d=a.get(f),v=c.properties&&c.properties.echartsStyle,g;d==null?(g={name:f},i.push(g)):g=n.getRawDataItem(d),v&&Gt(g,v)}),n.appendData(i),n},e.prototype.getHostGeoModel=function(){if(tX(this).kind!==Ku.boxCoordSys)return this.getReferringComponents("geo",{useDefault:!1,enableAll:!1,enableNone:!1}).models[0]},e.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},e.prototype.getRawValue=function(r){var n=this.getData();return n.get(n.mapDimension("value"),r)},e.prototype.getRegionModel=function(r){var n=this.getData();return n.getItemModel(n.indexOfName(r))},e.prototype.formatTooltip=function(r,n,a){for(var i=this.getData(),o=this.getRawValue(r),s=i.getName(r),l=this.seriesGroup,u=[],c=0;c<l.length;c++){var f=l[c].originalData.indexOfName(s),d=i.mapDimension("value");isNaN(l[c].originalData.get(d,f))||u.push(l[c].name)}return Ia("section",{header:u.join(", "),noHeader:!u.length,blocks:[Ia("nameValue",{name:s,value:o})]})},e.prototype.setZoom=function(r){this.option.zoom=r},e.prototype.setCenter=function(r){this.option.center=r},e.prototype.getLegendIcon=function(r){var n=r.icon||"roundRect",a=Oa(n,0,0,r.itemWidth,r.itemHeight,r.itemStyle.fill);return a.setStyle(r.itemStyle),a.style.stroke="none",n.indexOf("empty")>-1&&(a.style.stroke=a.style.fill,a.style.fill=ve.color.neutral00,a.style.lineWidth=2),a},e.type="series.map",e.dependencies=["geo"],e.layoutMode="box",e.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:ve.color.tertiary},itemStyle:{borderWidth:.5,borderColor:ve.color.border,areaColor:ve.color.background},emphasis:{label:{show:!0,color:ve.color.primary},itemStyle:{areaColor:ve.color.highlight}},select:{label:{show:!0,color:ve.color.primary},itemStyle:{color:ve.color.highlight}},nameProperty:"name"},e})(Sn);function j2e(t,e){var r={};return Y(t,function(n){n.each(n.mapDimension("value"),function(a,i){var o="ec-"+n.getName(i);r[o]=r[o]||[],isNaN(a)||r[o].push(a)})}),t[0].map(t[0].mapDimension("value"),function(n,a){for(var i="ec-"+t[0].getName(a),o=0,s=1/0,l=-1/0,u=r[i].length,c=0;c<u;c++)s=Math.min(s,r[i][c]),l=Math.max(l,r[i][c]),o+=r[i][c];var f;return e==="min"?f=s:e==="max"?f=l:e==="average"?f=o/u:f=o,u===0?NaN:f})}function z2e(t){var e={};t.eachSeriesByType("map",function(r){var n=r.getHostGeoModel(),a=n?"o"+n.id:"i"+r.getMapType();(e[a]=e[a]||[]).push(r)}),Y(e,function(r,n){for(var a=j2e(Re(r,function(o){return o.getData()}),r[0].get("mapValueCalculation")),i=0;i<r.length;i++)r[i].originalData=r[i].getData();for(var i=0;i<r.length;i++)r[i].seriesGroup=r,r[i].needsDrawMap=i===0&&!r[i].getHostGeoModel(),r[i].setData(a.cloneShallow()),r[i].mainSeries=r[0]})}function B2e(t){var e={};t.eachSeriesByType("map",function(r){var n=r.getMapType();if(!(r.getHostGeoModel()||e[n])){var a={};Y(r.seriesGroup,function(o){var s=o.coordinateSystem,l=o.originalData;o.get("showLegendSymbol")&&t.getComponent("legend")&&l.each(l.mapDimension("value"),function(u,c){var f=l.getName(c),d=s.getRegion(f);if(!(!d||isNaN(u))){var v=a[f]||0,g=s.dataToPoint(d.getCenter());a[f]=v+1,l.setItemLayout(c,{point:g,offset:v})}})});var i=r.getData();i.each(function(o){var s=i.getName(o),l=i.getItemLayout(o)||{};l.showLabel=!a[s],i.setItemLayout(o,l)}),e[n]=!0}})}var aG=ba,_p=(function(t){ye(e,t);function e(r,n){var a=t.call(this)||this;return a.type="view",a.dimensions=["x","y"],a._roamTransformable=new of,a._rawTransformable=new of,a.name=r,a._opt=n,a}return e.prototype.setBoundingRect=function(r,n,a,i){return this._rect=new yt(r,n,a,i),this._updateCenterAndZoom(),this._rect},e.prototype.getBoundingRect=function(){return this._rect},e.prototype.setViewRect=function(r,n,a,i){this._transformTo(r,n,a,i),this._viewRect=new yt(r,n,a,i)},e.prototype._transformTo=function(r,n,a,i){var o=this.getBoundingRect(),s=this._rawTransformable;s.transform=o.calculateTransform(new yt(r,n,a,i));var l=s.parent;s.parent=null,s.decomposeTransform(),s.parent=l,this._updateTransform()},e.prototype.setCenter=function(r){var n=this._opt;n&&n.api&&n.ecModel&&n.ecModel.getShallow("legacyViewCoordSysCenterBase")&&r&&(r=[Ue(r[0],n.api.getWidth()),Ue(r[1],n.api.getWidth())]),this._centerOption=ut(r),this._updateCenterAndZoom()},e.prototype.setZoom=function(r){this._zoom=MI(r||1,this.zoomLimit),this._updateCenterAndZoom()},e.prototype.getDefaultCenter=function(){var r=this.getBoundingRect(),n=r.x+r.width/2,a=r.y+r.height/2;return[n,a]},e.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},e.prototype.getZoom=function(){return this._zoom||1},e.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},e.prototype._updateCenterAndZoom=function(){var r=this._centerOption,n=this._rect;r&&n&&(this._center=[Ue(r[0],n.width,n.x),Ue(r[1],n.height,n.y)]);var a=this._rawTransformable.getLocalTransform(),i=this._roamTransformable,o=this.getDefaultCenter(),s=this.getCenter(),l=this.getZoom();s=ba([],s,a),o=ba([],o,a),i.originX=s[0],i.originY=s[1],i.x=o[0]-s[0],i.y=o[1]-s[1],i.scaleX=i.scaleY=l,this._updateTransform()},e.prototype._updateTransform=function(){var r=this._roamTransformable,n=this._rawTransformable;n.parent=r,r.updateTransform(),n.updateTransform(),aC(this.transform||(this.transform=[]),n.transform||Di()),this._rawTransform=n.getLocalTransform(),this.invTransform=this.invTransform||[],fu(this.invTransform,this.transform),this.decomposeTransform()},e.prototype.getTransformInfo=function(){var r=this._rawTransformable,n=this._roamTransformable,a=new of;return a.transform=n.transform,a.decomposeTransform(),{roam:{x:a.x,y:a.y,scaleX:a.scaleX,scaleY:a.scaleY},raw:{x:r.x,y:r.y,scaleX:r.scaleX,scaleY:r.scaleY}}},e.prototype.getViewRect=function(){return this._viewRect},e.prototype.getViewRectAfterRoam=function(){var r=this.getBoundingRect().clone();return r.applyTransform(this.transform),r},e.prototype.dataToPoint=function(r,n,a){var i=n?this._rawTransform:this.transform;return a=a||[],i?aG(a,r,i):So(a,r)},e.prototype.pointToData=function(r,n,a){a=a||[];var i=this.invTransform;return i?aG(a,r,i):(a[0]=r[0],a[1]=r[1],a)},e.prototype.convertToPixel=function(r,n,a){var i=iG(n);return i===this?i.dataToPoint(a):null},e.prototype.convertFromPixel=function(r,n,a){var i=iG(n);return i===this?i.pointToData(a):null},e.prototype.containPoint=function(r){return this.getViewRectAfterRoam().contain(r[0],r[1])},e.dimensions=["x","y"],e})(of);function iG(t){var e=t.seriesModel;return e?e.coordinateSystem:null}var V2e={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},lJ=["lng","lat"],QN=(function(t){ye(e,t);function e(r,n,a){var i=t.call(this,r,{api:a.api,ecModel:a.ecModel})||this;i.dimensions=lJ,i.type="geo",i._nameCoordMap=Qe(),i.map=n;var o=a.projection,s=Tf.load(n,a.nameMap,a.nameProperty),l=Tf.getGeoResource(n);i.resourceType=l?l.type:null;var u=i.regions=s.regions,c=V2e[l.type];i._regionsMap=s.regionsMap,i.regions=s.regions,i.projection=o;var f;if(o)for(var d=0;d<u.length;d++){var v=u[d].getBoundingRect(o);f=f||v.clone(),f.union(v)}else f=s.boundingRect;return i.setBoundingRect(f.x,f.y,f.width,f.height),i.aspectScale=o?1:et(a.aspectScale,c.aspectScale),i._invertLongitute=o?!1:c.invertLongitute,i}return e.prototype._transformTo=function(r,n,a,i){var o=this.getBoundingRect(),s=this._invertLongitute;o=o.clone(),s&&(o.y=-o.y-o.height);var l=this._rawTransformable;l.transform=o.calculateTransform(new yt(r,n,a,i));var u=l.parent;l.parent=null,l.decomposeTransform(),l.parent=u,s&&(l.scaleY=-l.scaleY),this._updateTransform()},e.prototype.getRegion=function(r){return this._regionsMap.get(r)},e.prototype.getRegionByCoord=function(r){for(var n=this.regions,a=0;a<n.length;a++){var i=n[a];if(i.type==="geoJSON"&&i.contain(r))return n[a]}},e.prototype.addGeoCoord=function(r,n){this._nameCoordMap.set(r,n)},e.prototype.getGeoCoord=function(r){var n=this._regionsMap.get(r);return this._nameCoordMap.get(r)||n&&n.getCenter()},e.prototype.dataToPoint=function(r,n,a){if(We(r)&&(r=this.getGeoCoord(r)),r){var i=this.projection;return i&&(r=i.project(r)),r&&this.projectedToPoint(r,n,a)}},e.prototype.pointToData=function(r,n,a){var i=this.projection;return i&&(r=i.unproject(r)),r&&this.pointToProjected(r,a)},e.prototype.pointToProjected=function(r,n){return t.prototype.pointToData.call(this,r,0,n)},e.prototype.projectedToPoint=function(r,n,a){return t.prototype.dataToPoint.call(this,r,n,a)},e.prototype.convertToPixel=function(r,n,a){var i=oG(n);return i===this?i.dataToPoint(a):null},e.prototype.convertFromPixel=function(r,n,a){var i=oG(n);return i===this?i.pointToData(a):null},e})(_p);ja(QN,_p);function oG(t){var e=t.geoModel,r=t.seriesModel;return e?e.coordinateSystem:r?r.coordinateSystem||(r.getReferringComponents("geo",na).models[0]||{}).coordinateSystem:null}function sG(t,e){var r=t.get("boundingCoords");if(r!=null){var n=r[0],a=r[1];if(isFinite(n[0])&&isFinite(n[1])&&isFinite(a[0])&&isFinite(a[1])){var i=this.projection;if(i){var o=n[0],s=n[1],l=a[0],u=a[1];n=[1/0,1/0],a=[-1/0,-1/0];var c=function(D,R,N,I){for(var z=N-D,B=I-R,V=0;V<=100;V++){var G=V/100,F=i.project([D+z*G,R+B*G]);Nh(n,n,F),Rh(a,a,F)}};c(o,s,l,s),c(l,s,l,u),c(l,u,o,u),c(o,u,l,s)}this.setBoundingRect(n[0],n[1],a[0]-n[0],a[1]-n[1])}}var f=this.getBoundingRect(),d=t.get("layoutCenter"),v=t.get("layoutSize"),g=ni(t,e).refContainer,y=f.width/f.height*this.aspectScale,b=!1,S,w;d&&v&&(S=[Ue(d[0],g.width)+g.x,Ue(d[1],g.height)+g.y],w=Ue(v,Math.min(g.width,g.height)),!isNaN(S[0])&&!isNaN(S[1])&&!isNaN(w)&&(b=!0));var M;if(b)M={},y>1?(M.width=w,M.height=w/y):(M.height=w,M.width=w*y),M.y=S[1]-M.height/2,M.x=S[0]-M.width/2;else{var A=t.getBoxLayoutParams();A.aspect=y,M=Yn(A,g),M=oX(t,M,y)}this.setViewRect(M.x,M.y,M.width,M.height),this.setCenter(t.get("center")),this.setZoom(t.get("zoom"))}function F2e(t,e){Y(e.get("geoCoord"),function(r,n){t.addGeoCoord(n,r)})}var H2e=(function(){function t(){this.dimensions=lJ}return t.prototype.create=function(e,r){var n=[];function a(o){return{nameProperty:o.get("nameProperty"),aspectScale:o.get("aspectScale"),projection:o.get("projection")}}e.eachComponent("geo",function(o,s){var l=o.get("map"),u=new QN(l+s,l,Ae({nameMap:o.get("nameMap"),api:r,ecModel:e},a(o)));u.zoomLimit=o.get("scaleLimit"),n.push(u),o.coordinateSystem=u,u.model=o,u.resize=sG,u.resize(o,r)}),e.eachSeries(function(o){__({targetModel:o,coordSysType:"geo",coordSysProvider:function(){var s=o.subType==="map"?o.getHostGeoModel():o.getReferringComponents("geo",na).models[0];return s&&s.coordinateSystem},allowNotFound:!0})});var i={};return e.eachSeriesByType("map",function(o){if(!o.getHostGeoModel()){var s=o.getMapType();i[s]=i[s]||[],i[s].push(o)}}),Y(i,function(o,s){var l=Re(o,function(c){return c.get("nameMap")}),u=new QN(s,s,Ae({nameMap:sk(l),api:r,ecModel:e},a(o[0])));u.zoomLimit=Wi.apply(null,Re(o,function(c){return c.get("scaleLimit")})),n.push(u),u.resize=sG,u.resize(o[0],r),Y(o,function(c){c.coordinateSystem=u,F2e(u,c)})}),n},t.prototype.getFilledRegions=function(e,r,n,a){for(var i=(e||[]).slice(),o=Qe(),s=0;s<i.length;s++)o.set(i[s].name,i[s]);var l=Tf.load(r,n,a);return Y(l.regions,function(u){var c=u.name,f=o.get(c),d=u.properties&&u.properties.echartsStyle;f||(f={name:c},i.push(f)),d&&Gt(f,d)}),i},t})(),uJ=new H2e,G2e=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.init=function(r,n,a){this.mergeDefaultAndTheme(r,a);var i=Tf.getGeoResource(r.map);if(i&&i.type==="geoJSON"){var o=r.itemStyle=r.itemStyle||{};"color"in o||(o.color=r.defaultItemStyleColor||ve.color.backgroundTint)}Xv(r,"label",["show"])},e.prototype.optionUpdated=function(){var r=this,n=this.option;n.regions=uJ.getFilledRegions(n.regions,n.map,n.nameMap,n.nameProperty);var a={};this._optionModelMap=gc(n.regions||[],function(i,o){var s=o.name;return s&&(i.set(s,new ar(o,r,r.ecModel)),o.selected&&(a[s]=!0)),i},Qe()),n.selectedMap||(n.selectedMap=a)},e.prototype.getRegionModel=function(r){return this._optionModelMap.get(r)||new ar(null,this,this.ecModel)},e.prototype.getFormattedLabel=function(r,n){var a=this.getRegionModel(r),i=n==="normal"?a.get(["label","formatter"]):a.get(["emphasis","label","formatter"]),o={name:r};if(ot(i))return o.status=n,i(o);if(We(i))return i.replace("{a}",r??"")},e.prototype.setZoom=function(r){this.option.zoom=r},e.prototype.setCenter=function(r){this.option.center=r},e.prototype.select=function(r){var n=this.option,a=n.selectedMode;if(a){a!=="multiple"&&(n.selectedMap=null);var i=n.selectedMap||(n.selectedMap={});i[r]=!0}},e.prototype.unSelect=function(r){var n=this.option.selectedMap;n&&(n[r]=!1)},e.prototype.toggleSelected=function(r){this[this.isSelected(r)?"unSelect":"select"](r)},e.prototype.isSelected=function(r){var n=this.option.selectedMap;return!!(n&&n[r])},e.type="geo",e.layoutMode="box",e.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:ve.color.tertiary},itemStyle:{borderWidth:.5,borderColor:ve.color.border},emphasis:{label:{show:!0,color:ve.color.primary},itemStyle:{color:ve.color.highlight}},select:{label:{show:!0,color:ve.color.primary},itemStyle:{color:ve.color.highlight}},regions:[]},e})(er),U2e=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.focusBlurEnabled=!0,r}return e.prototype.init=function(r,n){this._api=n},e.prototype.render=function(r,n,a,i){if(this._model=r,!r.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}this._mapDraw||(this._mapDraw=new sJ(a));var o=this._mapDraw;o.draw(r,n,a,this,i),o.group.on("click",this._handleRegionClick,this),o.group.silent=r.get("silent"),this.group.add(o.group),this.updateSelectStatus(r,n,a)},e.prototype._handleRegionClick=function(r){var n;Lv(r.target,function(a){return(n=wt(a).eventData)!=null},!0),n&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:n.name})},e.prototype.updateSelectStatus=function(r,n,a){var i=this;this._mapDraw.group.traverse(function(o){var s=wt(o).eventData;if(s)return i._model.isSelected(s.name)?a.enterSelect(o):a.leaveSelect(o),!0})},e.prototype.findHighDownDispatchers=function(r){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(r,this._model)},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},e.type="geo",e})(Vn);function W2e(t,e,r){Tf.registerMap(t,e,r)}function cJ(t){t.registerCoordinateSystem("geo",uJ),t.registerComponentModel(G2e),t.registerComponentView(U2e),t.registerImpl("registerMap",W2e),t.registerImpl("getMap",function(r){return Tf.getMapForUser(r)});function e(r,n){n.update="geo:updateSelectStatus",t.registerAction(n,function(a,i){var o={},s=[];return i.eachComponent({mainType:"geo",query:a},function(l){l[r](a.name);var u=l.coordinateSystem;Y(u.regions,function(f){o[f.name]=l.isSelected(f.name)||!1});var c=[];Y(o,function(f,d){o[d]&&c.push(d)}),s.push({geoIndex:l.componentIndex,name:c})}),{selected:o,allSelected:s,name:a.name}})}e("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),e("select",{type:"geoSelect",event:"geoselected"}),e("unSelect",{type:"geoUnSelect",event:"geounselected"}),t.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(r,n,a){var i=r.componentType;i||(r.geoId!=null?i="geo":r.seriesId!=null&&(i="series")),i||(i="series"),n.eachComponent({mainType:i,query:r},function(o){var s=o.coordinateSystem;if(s.type==="geo"){var l=PC(s,r,o.get("scaleLimit"));o.setCenter&&o.setCenter(l.center),o.setZoom&&o.setZoom(l.zoom),i==="series"&&Y(o.seriesGroup,function(u){u.setCenter(l.center),u.setZoom(l.zoom)})}})})}function Y2e(t){Ut(cJ),t.registerChartView(I2e),t.registerSeriesModel(O2e),t.registerLayout(B2e),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,z2e),XX("map",t.registerAction)}function Z2e(t){var e=t;e.hierNode={defaultAncestor:null,ancestor:e,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var r=[e],n,a;n=r.pop();)if(a=n.children,n.isExpand&&a.length)for(var i=a.length,o=i-1;o>=0;o--){var s=a[o];s.hierNode={defaultAncestor:null,ancestor:s,prelim:0,modifier:0,change:0,shift:0,i:o,thread:null},r.push(s)}}function q2e(t,e){var r=t.isExpand?t.children:[],n=t.parentNode.children,a=t.hierNode.i?n[t.hierNode.i-1]:null;if(r.length){X2e(t);var i=(r[0].hierNode.prelim+r[r.length-1].hierNode.prelim)/2;a?(t.hierNode.prelim=a.hierNode.prelim+e(t,a),t.hierNode.modifier=t.hierNode.prelim-i):t.hierNode.prelim=i}else a&&(t.hierNode.prelim=a.hierNode.prelim+e(t,a));t.parentNode.hierNode.defaultAncestor=K2e(t,a,t.parentNode.hierNode.defaultAncestor||n[0],e)}function $2e(t){var e=t.hierNode.prelim+t.parentNode.hierNode.modifier;t.setLayout({x:e},!0),t.hierNode.modifier+=t.parentNode.hierNode.modifier}function lG(t){return arguments.length?t:eDe}function F0(t,e){return t-=Math.PI/2,{x:e*Math.cos(t),y:e*Math.sin(t)}}function X2e(t){for(var e=t.children,r=e.length,n=0,a=0;--r>=0;){var i=e[r];i.hierNode.prelim+=n,i.hierNode.modifier+=n,a+=i.hierNode.change,n+=i.hierNode.shift+a}}function K2e(t,e,r,n){if(e){for(var a=t,i=t,o=i.parentNode.children[0],s=e,l=a.hierNode.modifier,u=i.hierNode.modifier,c=o.hierNode.modifier,f=s.hierNode.modifier;s=ID(s),i=OD(i),s&&i;){a=ID(a),o=OD(o),a.hierNode.ancestor=t;var d=s.hierNode.prelim+f-i.hierNode.prelim-u+n(s,i);d>0&&(J2e(Q2e(s,t,r),t,d),u+=d,l+=d),f+=s.hierNode.modifier,u+=i.hierNode.modifier,l+=a.hierNode.modifier,c+=o.hierNode.modifier}s&&!ID(a)&&(a.hierNode.thread=s,a.hierNode.modifier+=f-l),i&&!OD(o)&&(o.hierNode.thread=i,o.hierNode.modifier+=u-c,r=t)}return r}function ID(t){var e=t.children;return e.length&&t.isExpand?e[e.length-1]:t.hierNode.thread}function OD(t){var e=t.children;return e.length&&t.isExpand?e[0]:t.hierNode.thread}function Q2e(t,e,r){return t.hierNode.ancestor.parentNode===e.parentNode?t.hierNode.ancestor:r}function J2e(t,e,r){var n=r/(e.hierNode.i-t.hierNode.i);e.hierNode.change-=n,e.hierNode.shift+=r,e.hierNode.modifier+=r,e.hierNode.prelim+=r,t.hierNode.change+=n}function eDe(t,e){return t.parentNode===e.parentNode?1:2}var tDe=(function(){function t(){this.parentPoint=[],this.childPoints=[]}return t})(),rDe=(function(t){ye(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultStyle=function(){return{stroke:ve.color.neutral99,fill:null}},e.prototype.getDefaultShape=function(){return new tDe},e.prototype.buildPath=function(r,n){var a=n.childPoints,i=a.length,o=n.parentPoint,s=a[0],l=a[i-1];if(i===1){r.moveTo(o[0],o[1]),r.lineTo(s[0],s[1]);return}var u=n.orient,c=u==="TB"||u==="BT"?0:1,f=1-c,d=Ue(n.forkPosition,1),v=[];v[c]=o[c],v[f]=o[f]+(l[f]-o[f])*d,r.moveTo(o[0],o[1]),r.lineTo(v[0],v[1]),r.moveTo(s[0],s[1]),v[c]=s[c],r.lineTo(v[0],v[1]),v[c]=l[c],r.lineTo(v[0],v[1]),r.lineTo(l[0],l[1]);for(var g=1;g<i-1;g++){var y=a[g];r.moveTo(y[0],y[1]),v[c]=y[c],r.lineTo(v[0],v[1])}},e})(Jt),nDe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r._mainGroup=new st,r}return e.prototype.init=function(r,n){this._controller=new xp(n.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},e.prototype.render=function(r,n,a){var i=r.getData(),o=r.layoutInfo,s=this._mainGroup,l=r.get("layout");l==="radial"?(s.x=o.x+o.width/2,s.y=o.y+o.height/2):(s.x=o.x,s.y=o.y),this._updateViewCoordSys(r,a),this._updateController(r,null,n,a);var u=this._data;i.diff(u).add(function(c){uG(i,c)&&cG(i,c,null,s,r)}).update(function(c,f){var d=u.getItemGraphicEl(f);if(!uG(i,c)){d&&hG(u,f,d,s,r);return}cG(i,c,d,s,r)}).remove(function(c){var f=u.getItemGraphicEl(c);f&&hG(u,c,f,s,r)}).execute(),this._nodeScaleRatio=r.get("nodeScaleRatio"),this._updateNodeAndLinkScale(r),r.get("expandAndCollapse")===!0&&i.eachItemGraphicEl(function(c,f){c.off("click").on("click",function(){a.dispatchAction({type:"treeExpandAndCollapse",seriesId:r.id,dataIndex:f})})}),this._data=i},e.prototype._updateViewCoordSys=function(r,n){var a=r.getData(),i=[];a.each(function(f){var d=a.getItemLayout(f);d&&!isNaN(d.x)&&!isNaN(d.y)&&i.push([+d.x,+d.y])});var o=[],s=[];fC(i,o,s);var l=this._min,u=this._max;s[0]-o[0]===0&&(o[0]=l?l[0]:o[0]-1,s[0]=u?u[0]:s[0]+1),s[1]-o[1]===0&&(o[1]=l?l[1]:o[1]-1,s[1]=u?u[1]:s[1]+1);var c=r.coordinateSystem=new _p(null,{api:n,ecModel:r.ecModel});c.zoomLimit=r.get("scaleLimit"),c.setBoundingRect(o[0],o[1],s[0]-o[0],s[1]-o[1]),c.setCenter(r.get("center")),c.setZoom(r.get("zoom")),this.group.attr({x:c.x,y:c.y,scaleX:c.scaleX,scaleY:c.scaleY}),this._min=o,this._max=s},e.prototype._updateController=function(r,n,a,i){var o=this;tJ(r,i,this.group,this._controller,this._controllerHost,n),this._controller.on("zoom",function(s){o._updateNodeAndLinkScale(r)})},e.prototype._updateNodeAndLinkScale=function(r){var n=r.getData(),a=this._getNodeGlobalScale(r);n.eachItemGraphicEl(function(i,o){i.setSymbolScale(a)})},e.prototype._getNodeGlobalScale=function(r){var n=r.coordinateSystem;if(n.type!=="view")return 1;var a=this._nodeScaleRatio,i=n.scaleX||1,o=n.getZoom(),s=(o-1)*a+1;return s/i},e.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},e.type="tree",e})(cn);function uG(t,e){var r=t.getItemLayout(e);return r&&!isNaN(r.x)&&!isNaN(r.y)}function cG(t,e,r,n,a){var i=!r,o=t.tree.getNodeByDataIndex(e),s=o.getModel(),l=o.getVisual("style").fill,u=o.isExpand===!1&&o.children.length!==0?l:ve.color.neutral00,c=t.tree.root,f=o.parentNode===c?o:o.parentNode||o,d=t.getItemGraphicEl(f.dataIndex),v=f.getLayout(),g=d?{x:d.__oldX,y:d.__oldY,rawX:d.__radialOldRawX,rawY:d.__radialOldRawY}:v,y=o.getLayout();i?(r=new T_(t,e,null,{symbolInnerColor:u,useNameLabel:!0}),r.x=g.x,r.y=g.y):r.updateData(t,e,null,{symbolInnerColor:u,useNameLabel:!0}),r.__radialOldRawX=r.__radialRawX,r.__radialOldRawY=r.__radialRawY,r.__radialRawX=y.rawX,r.__radialRawY=y.rawY,n.add(r),t.setItemGraphicEl(e,r),r.__oldX=r.x,r.__oldY=r.y,Sr(r,{x:y.x,y:y.y},a);var b=r.getSymbolPath();if(a.get("layout")==="radial"){var S=c.children[0],w=S.getLayout(),M=S.children.length,A=void 0,D=void 0;if(y.x===w.x&&o.isExpand===!0&&S.children.length){var R={x:(S.children[0].getLayout().x+S.children[M-1].getLayout().x)/2,y:(S.children[0].getLayout().y+S.children[M-1].getLayout().y)/2};A=Math.atan2(R.y-w.y,R.x-w.x),A<0&&(A=Math.PI*2+A),D=R.x<w.x,D&&(A=A-Math.PI)}else A=Math.atan2(y.y-w.y,y.x-w.x),A<0&&(A=Math.PI*2+A),o.children.length===0||o.children.length!==0&&o.isExpand===!1?(D=y.x<w.x,D&&(A=A-Math.PI)):(D=y.x>w.x,D||(A=A-Math.PI));var N=D?"left":"right",I=s.getModel("label"),z=I.get("rotate"),B=z*(Math.PI/180),V=b.getTextContent();V&&(b.setTextConfig({position:I.get("position")||N,rotation:z==null?-A:B,origin:"center"}),V.setStyle("verticalAlign","middle"))}var G=s.get(["emphasis","focus"]),F=G==="relative"?xx(o.getAncestorsIndices(),o.getDescendantIndices()):G==="ancestor"?o.getAncestorsIndices():G==="descendant"?o.getDescendantIndices():null;F&&(wt(r).focus=F),aDe(a,o,c,r,g,v,y,n),r.__edge&&(r.onHoverStateChange=function(q){if(q!=="blur"){var Q=o.parentNode&&t.getItemGraphicEl(o.parentNode.dataIndex);Q&&Q.hoverState===d_||gw(r.__edge,q)}})}function aDe(t,e,r,n,a,i,o,s){var l=e.getModel(),u=t.get("edgeShape"),c=t.get("layout"),f=t.getOrient(),d=t.get(["lineStyle","curveness"]),v=t.get("edgeForkPosition"),g=l.getModel("lineStyle").getLineStyle(),y=n.__edge;if(u==="curve")e.parentNode&&e.parentNode!==r&&(y||(y=n.__edge=new p_({shape:JN(c,f,d,a,a)})),Sr(y,{shape:JN(c,f,d,i,o)},t));else if(u==="polyline"&&c==="orthogonal"&&e!==r&&e.children&&e.children.length!==0&&e.isExpand===!0){for(var b=e.children,S=[],w=0;w<b.length;w++){var M=b[w].getLayout();S.push([M.x,M.y])}y||(y=n.__edge=new rDe({shape:{parentPoint:[o.x,o.y],childPoints:[[o.x,o.y]],orient:f,forkPosition:v}})),Sr(y,{shape:{parentPoint:[o.x,o.y],childPoints:S}},t)}y&&!(u==="polyline"&&!e.isExpand)&&(y.useStyle(gt({strokeNoScale:!0,fill:null},g)),ti(y,l,"lineStyle"),Jv(y),s.add(y))}function fG(t,e,r,n,a){var i=e.tree.root,o=fJ(i,t),s=o.source,l=o.sourceLayout,u=e.getItemGraphicEl(t.dataIndex);if(u){var c=e.getItemGraphicEl(s.dataIndex),f=c.__edge,d=u.__edge||(s.isExpand===!1||s.children.length===1?f:void 0),v=n.get("edgeShape"),g=n.get("layout"),y=n.get("orient"),b=n.get(["lineStyle","curveness"]);d&&(v==="curve"?Jh(d,{shape:JN(g,y,b,l,l),style:{opacity:0}},n,{cb:function(){r.remove(d)},removeOpt:a}):v==="polyline"&&n.get("layout")==="orthogonal"&&Jh(d,{shape:{parentPoint:[l.x,l.y],childPoints:[[l.x,l.y]]},style:{opacity:0}},n,{cb:function(){r.remove(d)},removeOpt:a}))}}function fJ(t,e){for(var r=e.parentNode===t?e:e.parentNode||e,n;n=r.getLayout(),n==null;)r=r.parentNode===t?r:r.parentNode||r;return{source:r,sourceLayout:n}}function hG(t,e,r,n,a){var i=t.tree.getNodeByDataIndex(e),o=t.tree.root,s=fJ(o,i).sourceLayout,l={duration:a.get("animationDurationUpdate"),easing:a.get("animationEasingUpdate")};Jh(r,{x:s.x+1,y:s.y+1},a,{cb:function(){n.remove(r),t.setItemGraphicEl(e,null)},removeOpt:l}),r.fadeOut(null,t.hostModel,{fadeLabel:!0,animation:l}),i.children.forEach(function(u){fG(u,t,n,a,l)}),fG(i,t,n,a,l)}function JN(t,e,r,n,a){var i,o,s,l,u,c,f,d;if(t==="radial"){u=n.rawX,f=n.rawY,c=a.rawX,d=a.rawY;var v=F0(u,f),g=F0(u,f+(d-f)*r),y=F0(c,d+(f-d)*r),b=F0(c,d);return{x1:v.x||0,y1:v.y||0,x2:b.x||0,y2:b.y||0,cpx1:g.x||0,cpy1:g.y||0,cpx2:y.x||0,cpy2:y.y||0}}else u=n.x,f=n.y,c=a.x,d=a.y,(e==="LR"||e==="RL")&&(i=u+(c-u)*r,o=f,s=c+(u-c)*r,l=d),(e==="TB"||e==="BT")&&(i=u,o=f+(d-f)*r,s=c,l=d+(f-d)*r);return{x1:u,y1:f,x2:c,y2:d,cpx1:i,cpy1:o,cpx2:s,cpy2:l}}var _l=Xt();function hJ(t){var e=t.mainData,r=t.datas;r||(r={main:e},t.datasAttr={main:"data"}),t.datas=t.mainData=null,dJ(e,r,t),Y(r,function(n){Y(e.TRANSFERABLE_METHODS,function(a){n.wrapMethod(a,zt(iDe,t))})}),e.wrapMethod("cloneShallow",zt(sDe,t)),Y(e.CHANGABLE_METHODS,function(n){e.wrapMethod(n,zt(oDe,t))}),co(r[e.dataType]===e)}function iDe(t,e){if(cDe(this)){var r=Ae({},_l(this).datas);r[this.dataType]=e,dJ(e,r,t)}else DI(e,this.dataType,_l(this).mainData,t);return e}function oDe(t,e){return t.struct&&t.struct.update(),e}function sDe(t,e){return Y(_l(e).datas,function(r,n){r!==e&&DI(r.cloneShallow(),n,e,t)}),e}function lDe(t){var e=_l(this).mainData;return t==null||e==null?e:_l(e).datas[t]}function uDe(){var t=_l(this).mainData;return t==null?[{data:t}]:Re(sr(_l(t).datas),function(e){return{type:e,data:_l(t).datas[e]}})}function cDe(t){return _l(t).mainData===t}function dJ(t,e,r){_l(t).datas={},Y(e,function(n,a){DI(n,a,t,r)})}function DI(t,e,r,n){_l(r).datas[e]=t,_l(t).mainData=r,t.dataType=e,n.struct&&(t[n.structAttr]=n.struct,n.struct[n.datasAttr[e]]=t),t.getLinkedData=lDe,t.getLinkedDataAll=uDe}var fDe=(function(){function t(e,r){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=e||"",this.hostTree=r}return t.prototype.isRemoved=function(){return this.dataIndex<0},t.prototype.eachNode=function(e,r,n){ot(e)&&(n=r,r=e,e=null),e=e||{},We(e)&&(e={order:e});var a=e.order||"preorder",i=this[e.attr||"children"],o;a==="preorder"&&(o=r.call(n,this));for(var s=0;!o&&s<i.length;s++)i[s].eachNode(e,r,n);a==="postorder"&&r.call(n,this)},t.prototype.updateDepthAndHeight=function(e){var r=0;this.depth=e;for(var n=0;n<this.children.length;n++){var a=this.children[n];a.updateDepthAndHeight(e+1),a.height>r&&(r=a.height)}this.height=r+1},t.prototype.getNodeById=function(e){if(this.getId()===e)return this;for(var r=0,n=this.children,a=n.length;r<a;r++){var i=n[r].getNodeById(e);if(i)return i}},t.prototype.contains=function(e){if(e===this)return!0;for(var r=0,n=this.children,a=n.length;r<a;r++){var i=n[r].contains(e);if(i)return i}},t.prototype.getAncestors=function(e){for(var r=[],n=e?this:this.parentNode;n;)r.push(n),n=n.parentNode;return r.reverse(),r},t.prototype.getAncestorsIndices=function(){for(var e=[],r=this;r;)e.push(r.dataIndex),r=r.parentNode;return e.reverse(),e},t.prototype.getDescendantIndices=function(){var e=[];return this.eachNode(function(r){e.push(r.dataIndex)}),e},t.prototype.getValue=function(e){var r=this.hostTree.data;return r.getStore().get(r.getDimensionIndex(e||"value"),this.dataIndex)},t.prototype.setLayout=function(e,r){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,e,r)},t.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},t.prototype.getModel=function(e){if(!(this.dataIndex<0)){var r=this.hostTree,n=r.data.getItemModel(this.dataIndex);return n.getModel(e)}},t.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},t.prototype.setVisual=function(e,r){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,e,r)},t.prototype.getVisual=function(e){return this.hostTree.data.getItemVisual(this.dataIndex,e)},t.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},t.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},t.prototype.getChildIndex=function(){if(this.parentNode){for(var e=this.parentNode.children,r=0;r<e.length;++r)if(e[r]===this)return r;return-1}return-1},t.prototype.isAncestorOf=function(e){for(var r=e.parentNode;r;){if(r===this)return!0;r=r.parentNode}return!1},t.prototype.isDescendantOf=function(e){return e!==this&&e.isAncestorOf(this)},t})(),LI=(function(){function t(e){this.type="tree",this._nodes=[],this.hostModel=e}return t.prototype.eachNode=function(e,r,n){this.root.eachNode(e,r,n)},t.prototype.getNodeByDataIndex=function(e){var r=this.data.getRawIndex(e);return this._nodes[r]},t.prototype.getNodeById=function(e){return this.root.getNodeById(e)},t.prototype.update=function(){for(var e=this.data,r=this._nodes,n=0,a=r.length;n<a;n++)r[n].dataIndex=-1;for(var n=0,a=e.count();n<a;n++)r[e.getRawIndex(n)].dataIndex=n},t.prototype.clearLayouts=function(){this.data.clearItemLayouts()},t.createTree=function(e,r,n){var a=new t(r),i=[],o=1;s(e);function s(c,f){var d=c.value;o=Math.max(o,Ee(d)?d.length:1),i.push(c);var v=new fDe(Ja(c.name,""),a);f?hDe(v,f):a.root=v,a._nodes.push(v);var g=c.children;if(g)for(var y=0;y<g.length;y++)s(g[y],v)}a.root.updateDepthAndHeight(0);var l=S_(i,{coordDimensions:["value"],dimensionsCount:o}).dimensions,u=new Lo(l,r);return u.initData(i),n&&n(u),hJ({mainData:u,struct:a,structAttr:"tree"}),a.update(),a},t})();function hDe(t,e){var r=e.children;t.parentNode!==e&&(r.push(t),t.parentNode=e)}function Hx(t,e,r){if(t&&Vt(e,t.type)>=0){var n=r.getData().tree.root,a=t.targetNode;if(We(a)&&(a=n.getNodeById(a)),a&&n.contains(a))return{node:a};var i=t.targetNodeId;if(i!=null&&(a=n.getNodeById(i)))return{node:a}}}function vJ(t){for(var e=[];t;)t=t.parentNode,t&&e.push(t);return e.reverse()}function EI(t,e){var r=vJ(t);return Vt(r,e)>=0}function IC(t,e){for(var r=[];t;){var n=t.dataIndex;r.push({name:t.name,dataIndex:n,value:e.getRawValue(n)}),t=t.parentNode}return r.reverse(),r}var dDe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.hasSymbolVisual=!0,r.ignoreStyleOnData=!0,r}return e.prototype.getInitialData=function(r){var n={name:r.name,children:r.data},a=r.leaves||{},i=new ar(a,this,this.ecModel),o=LI.createTree(n,this,s);function s(f){f.wrapMethod("getItemModel",function(d,v){var g=o.getNodeByDataIndex(v);return g&&g.children.length&&g.isExpand||(d.parentModel=i),d})}var l=0;o.eachNode("preorder",function(f){f.depth>l&&(l=f.depth)});var u=r.expandAndCollapse,c=u&&r.initialTreeDepth>=0?r.initialTreeDepth:l;return o.root.eachNode("preorder",function(f){var d=f.hostTree.data.getRawDataItem(f.dataIndex);f.isExpand=d&&d.collapsed!=null?!d.collapsed:f.depth<=c}),o.data},e.prototype.getOrient=function(){var r=this.get("orient");return r==="horizontal"?r="LR":r==="vertical"&&(r="TB"),r},e.prototype.setZoom=function(r){this.option.zoom=r},e.prototype.setCenter=function(r){this.option.center=r},e.prototype.formatTooltip=function(r,n,a){for(var i=this.getData().tree,o=i.root.children[0],s=i.getNodeByDataIndex(r),l=s.getValue(),u=s.name;s&&s!==o;)u=s.parentNode.name+"."+u,s=s.parentNode;return Ia("nameValue",{name:u,value:l,noValue:isNaN(l)||l==null})},e.prototype.getDataParams=function(r){var n=t.prototype.getDataParams.apply(this,arguments),a=this.getData().tree.getNodeByDataIndex(r);return n.treeAncestors=IC(a,this),n.collapsed=!a.isExpand,n},e.type="series.tree",e.layoutMode="box",e.defaultOption={z:2,coordinateSystemUsage:"box",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,roamTrigger:"global",nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:ve.color.borderTint,width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},e})(Sn);function vDe(t,e,r){for(var n=[t],a=[],i;i=n.pop();)if(a.push(i),i.isExpand){var o=i.children;if(o.length)for(var s=0;s<o.length;s++)n.push(o[s])}for(;i=a.pop();)e(i,r)}function d0(t,e){for(var r=[t],n;n=r.pop();)if(e(n),n.isExpand){var a=n.children;if(a.length)for(var i=a.length-1;i>=0;i--)r.push(a[i])}}function pDe(t,e){t.eachSeriesByType("tree",function(r){gDe(r,e)})}function gDe(t,e){var r=ni(t,e).refContainer,n=Yn(t.getBoxLayoutParams(),r);t.layoutInfo=n;var a=t.get("layout"),i=0,o=0,s=null;a==="radial"?(i=2*Math.PI,o=Math.min(n.height,n.width)/2,s=lG(function(A,D){return(A.parentNode===D.parentNode?1:2)/A.depth})):(i=n.width,o=n.height,s=lG());var l=t.getData().tree.root,u=l.children[0];if(u){Z2e(l),vDe(u,q2e,s),l.hierNode.modifier=-u.hierNode.prelim,d0(u,$2e);var c=u,f=u,d=u;d0(u,function(A){var D=A.getLayout().x;D<c.getLayout().x&&(c=A),D>f.getLayout().x&&(f=A),A.depth>d.depth&&(d=A)});var v=c===f?1:s(c,f)/2,g=v-c.getLayout().x,y=0,b=0,S=0,w=0;if(a==="radial")y=i/(f.getLayout().x+v+g),b=o/(d.depth-1||1),d0(u,function(A){S=(A.getLayout().x+g)*y,w=(A.depth-1)*b;var D=F0(S,w);A.setLayout({x:D.x,y:D.y,rawX:S,rawY:w},!0)});else{var M=t.getOrient();M==="RL"||M==="LR"?(b=o/(f.getLayout().x+v+g),y=i/(d.depth-1||1),d0(u,function(A){w=(A.getLayout().x+g)*b,S=M==="LR"?(A.depth-1)*y:i-(A.depth-1)*y,A.setLayout({x:S,y:w},!0)})):(M==="TB"||M==="BT")&&(y=i/(f.getLayout().x+v+g),b=o/(d.depth-1||1),d0(u,function(A){S=(A.getLayout().x+g)*y,w=M==="TB"?(A.depth-1)*b:o-(A.depth-1)*b,A.setLayout({x:S,y:w},!0)}))}}}function mDe(t){t.eachSeriesByType("tree",function(e){var r=e.getData(),n=r.tree;n.eachNode(function(a){var i=a.getModel(),o=i.getModel("itemStyle").getItemStyle(),s=r.ensureUniqueItemVisual(a.dataIndex,"style");Ae(s,o)})})}function yDe(t){t.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(e,r){r.eachComponent({mainType:"series",subType:"tree",query:e},function(n){var a=e.dataIndex,i=n.getData().tree,o=i.getNodeByDataIndex(a);o.isExpand=!o.isExpand})}),t.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(e,r,n){r.eachComponent({mainType:"series",subType:"tree",query:e},function(a){var i=a.coordinateSystem,o=PC(i,e,a.get("scaleLimit"));a.setCenter(o.center),a.setZoom(o.zoom)})})}function xDe(t){t.registerChartView(nDe),t.registerSeriesModel(dDe),t.registerLayout(pDe),t.registerVisual(mDe),yDe(t)}var dG=["treemapZoomToNode","treemapRender","treemapMove"];function _De(t){for(var e=0;e<dG.length;e++)t.registerAction({type:dG[e],update:"updateView"},_a);t.registerAction({type:"treemapRootToNode",update:"updateView"},function(r,n){n.eachComponent({mainType:"series",subType:"treemap",query:r},a);function a(i,o){var s=["treemapZoomToNode","treemapRootToNode"],l=Hx(r,s,i);if(l){var u=i.getViewRoot();u&&(r.direction=EI(u,l.node)?"rollUp":"drillDown"),i.resetViewRoot(l.node)}}})}function pJ(t){var e=t.getData(),r=e.tree,n={};r.eachNode(function(a){for(var i=a;i&&i.depth>1;)i=i.parentNode;var o=mN(t.ecModel,i.name||i.dataIndex+"",n);a.setVisual("decal",o)})}var bDe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.preventUsingHoverLayer=!0,r}return e.prototype.getInitialData=function(r,n){var a={name:r.name,children:r.data};gJ(a);var i=r.levels||[],o=this.designatedVisualItemStyle={},s=new ar({itemStyle:o},this,n);i=r.levels=SDe(i,n);var l=Re(i||[],function(f){return new ar(f,s,n)},this),u=LI.createTree(a,this,c);function c(f){f.wrapMethod("getItemModel",function(d,v){var g=u.getNodeByDataIndex(v),y=g?l[g.depth]:null;return d.parentModel=y||s,d})}return u.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.formatTooltip=function(r,n,a){var i=this.getData(),o=this.getRawValue(r),s=i.getName(r);return Ia("nameValue",{name:s,value:o})},e.prototype.getDataParams=function(r){var n=t.prototype.getDataParams.apply(this,arguments),a=this.getData().tree.getNodeByDataIndex(r);return n.treeAncestors=IC(a,this),n.treePathInfo=n.treeAncestors,n},e.prototype.setLayoutInfo=function(r){this.layoutInfo=this.layoutInfo||{},Ae(this.layoutInfo,r)},e.prototype.mapIdToIndex=function(r){var n=this._idIndexMap;n||(n=this._idIndexMap=Qe(),this._idIndexMapCount=0);var a=n.get(r);return a==null&&n.set(r,a=this._idIndexMapCount++),a},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(r){r?this._viewRoot=r:r=this._viewRoot;var n=this.getRawData().tree.root;(!r||r!==n&&!n.contains(r))&&(this._viewRoot=n)},e.prototype.enableAriaDecal=function(){pJ(this)},e.type="series.treemap",e.layoutMode="box",e.defaultOption={progressive:0,coordinateSystemUsage:"box",left:ve.size.l,top:ve.size.xxxl,right:ve.size.l,bottom:ve.size.xxxl,sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"",zoomToNodeRatio:.32*.32,scaleLimit:{max:5,min:.2},roam:!0,roamTrigger:"global",nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",bottom:ve.size.m,emptyItemWidth:25,itemStyle:{color:ve.color.backgroundShade,textStyle:{color:ve.color.secondary}},emphasis:{itemStyle:{color:ve.color.background}}},label:{show:!0,distance:0,padding:5,position:"inside",color:ve.color.neutral00,overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:ve.color.neutral00,borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},e})(Sn);function gJ(t){var e=0;Y(t.children,function(n){gJ(n);var a=n.value;Ee(a)&&(a=a[0]),e+=a});var r=t.value;Ee(r)&&(r=r[0]),(r==null||isNaN(r))&&(r=e),r<0&&(r=0),Ee(t.value)?t.value[0]=r:t.value=r}function SDe(t,e){var r=gn(e.get("color")),n=gn(e.get(["aria","decal","decals"]));if(r){t=t||[];var a,i;Y(t,function(s){var l=new ar(s),u=l.get("color"),c=l.get("decal");(l.get(["itemStyle","color"])||u&&u!=="none")&&(a=!0),(l.get(["itemStyle","decal"])||c&&c!=="none")&&(i=!0)});var o=t[0]||(t[0]={});return a||(o.color=r.slice()),!i&&n&&(o.decal=n.slice()),t}}var wDe=8,vG=8,jD=5,TDe=(function(){function t(e){this.group=new st,e.add(this.group)}return t.prototype.render=function(e,r,n,a){var i=e.getModel("breadcrumb"),o=this.group;if(o.removeAll(),!(!i.get("show")||!n)){var s=i.getModel("itemStyle"),l=i.getModel("emphasis"),u=s.getModel("textStyle"),c=l.getModel(["itemStyle","textStyle"]),f=ni(e,r).refContainer,d={left:i.get("left"),right:i.get("right"),top:i.get("top"),bottom:i.get("bottom")},v={emptyItemWidth:i.get("emptyItemWidth"),totalWidth:0,renderList:[]},g=Yn(d,f);this._prepare(n,v,u),this._renderContent(e,v,g,s,l,u,c,a),wC(o,d,f)}},t.prototype._prepare=function(e,r,n){for(var a=e;a;a=a.parentNode){var i=Ja(a.getModel().get("name"),""),o=n.getTextRect(i),s=Math.max(o.width+wDe*2,r.emptyItemWidth);r.totalWidth+=s+vG,r.renderList.push({node:a,text:i,width:s})}},t.prototype._renderContent=function(e,r,n,a,i,o,s,l){for(var u=0,c=r.emptyItemWidth,f=e.get(["breadcrumb","height"]),d=r.totalWidth,v=r.renderList,g=i.getModel("itemStyle").getItemStyle(),y=v.length-1;y>=0;y--){var b=v[y],S=b.node,w=b.width,M=b.text;d>n.width&&(d-=w-c,w=c,M=null);var A=new ho({shape:{points:CDe(u,0,w,f,y===v.length-1,y===0)},style:gt(a.getItemStyle(),{lineJoin:"bevel"}),textContent:new xr({style:bn(o,{text:M})}),textConfig:{position:"inside"},z2:Fm*1e4,onclick:zt(l,S)});A.disableLabelAnimation=!0,A.getTextContent().ensureState("emphasis").style=bn(s,{text:M}),A.ensureState("emphasis").style=g,Wn(A,i.get("focus"),i.get("blurScope"),i.get("disabled")),this.group.add(A),MDe(A,e,S),u+=w+vG}},t.prototype.remove=function(){this.group.removeAll()},t})();function CDe(t,e,r,n,a,i){var o=[[a?t:t-jD,e],[t+r,e],[t+r,e+n],[a?t:t-jD,e+n]];return!i&&o.splice(2,0,[t+r+jD,e+n/2]),!a&&o.push([t,e+n/2]),o}function MDe(t,e,r){wt(t).eventData={componentType:"series",componentSubType:"treemap",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:r&&r.dataIndex,name:r&&r.name},treePathInfo:r&&IC(r,e)}}var ADe=(function(){function t(){this._storage=[],this._elExistsMap={}}return t.prototype.add=function(e,r,n,a,i){return this._elExistsMap[e.id]?!1:(this._elExistsMap[e.id]=!0,this._storage.push({el:e,target:r,duration:n,delay:a,easing:i}),!0)},t.prototype.finished=function(e){return this._finishedCallback=e,this},t.prototype.start=function(){for(var e=this,r=this._storage.length,n=function(){r--,r<=0&&(e._storage.length=0,e._elExistsMap={},e._finishedCallback&&e._finishedCallback())},a=0,i=this._storage.length;a<i;a++){var o=this._storage[a];o.el.animateTo(o.target,{duration:o.duration,delay:o.delay,easing:o.easing,setToFinal:!0,done:n,aborted:n})}return this},t})();function DDe(){return new ADe}var eR=st,pG=$t,gG=3,mG="label",yG="upperLabel",LDe=Fm*10,EDe=Fm*2,NDe=Fm*3,dv=Qv([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),xG=function(t){var e=dv(t);return e.stroke=e.fill=e.lineWidth=null,e},Gw=Xt(),RDe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r._state="ready",r._storage=v0(),r}return e.prototype.render=function(r,n,a,i){var o=n.findComponents({mainType:"series",subType:"treemap",query:i});if(!(Vt(o,r)<0)){this.seriesModel=r,this.api=a,this.ecModel=n;var s=["treemapZoomToNode","treemapRootToNode"],l=Hx(i,s,r),u=i&&i.type,c=r.layoutInfo,f=!this._oldTree,d=this._storage,v=u==="treemapRootToNode"&&l&&d?{rootNodeGroup:d.nodeGroup[l.node.getRawIndex()],direction:i.direction}:null,g=this._giveContainerGroup(c),y=r.get("animation"),b=this._doRender(g,r,v);y&&!f&&(!u||u==="treemapZoomToNode"||u==="treemapRootToNode")?this._doAnimation(g,b,r,v):b.renderFinally(),this._resetController(a),this._renderBreadcrumb(r,a,l)}},e.prototype._giveContainerGroup=function(r){var n=this._containerGroup;return n||(n=this._containerGroup=new eR,this._initEvents(n),this.group.add(n)),n.x=r.x,n.y=r.y,n},e.prototype._doRender=function(r,n,a){var i=n.getData().tree,o=this._oldTree,s=v0(),l=v0(),u=this._storage,c=[];function f(w,M,A,D){return PDe(n,l,u,a,s,c,w,M,A,D)}y(i.root?[i.root]:[],o&&o.root?[o.root]:[],r,i===o||!o,0);var d=b(u);if(this._oldTree=i,this._storage=l,this._controllerHost){var v=this.seriesModel.layoutInfo,g=i.root.getLayout();g.width===v.width&&g.height===v.height&&(this._controllerHost.zoom=1)}return{lastsForAnimation:s,willDeleteEls:d,renderFinally:S};function y(w,M,A,D,R){D?(M=w,Y(w,function(z,B){!z.isRemoved()&&I(B,B)})):new Sf(M,w,N,N).add(I).update(I).remove(zt(I,null)).execute();function N(z){return z.getId()}function I(z,B){var V=z!=null?w[z]:null,G=B!=null?M[B]:null,F=f(V,G,A,R);F&&y(V&&V.viewChildren||[],G&&G.viewChildren||[],F,D,R+1)}}function b(w){var M=v0();return w&&Y(w,function(A,D){var R=M[D];Y(A,function(N){N&&(R.push(N),Gw(N).willDelete=!0)})}),M}function S(){Y(d,function(w){Y(w,function(M){M.parent&&M.parent.remove(M)})}),Y(c,function(w){w.invisible=!0,w.dirty()})}},e.prototype._doAnimation=function(r,n,a,i){var o=a.get("animationDurationUpdate"),s=a.get("animationEasing"),l=(ot(o)?0:o)||0,u=(ot(s)?null:s)||"cubicOut",c=DDe();Y(n.willDeleteEls,function(f,d){Y(f,function(v,g){if(!v.invisible){var y=v.parent,b,S=Gw(y);if(i&&i.direction==="drillDown")b=y===i.rootNodeGroup?{shape:{x:0,y:0,width:S.nodeWidth,height:S.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var w=0,M=0;S.willDelete||(w=S.nodeWidth/2,M=S.nodeHeight/2),b=d==="nodeGroup"?{x:w,y:M,style:{opacity:0}}:{shape:{x:w,y:M,width:0,height:0},style:{opacity:0}}}b&&c.add(v,b,l,0,u)}})}),Y(this._storage,function(f,d){Y(f,function(v,g){var y=n.lastsForAnimation[d][g],b={};y&&(v instanceof st?y.oldX!=null&&(b.x=v.x,b.y=v.y,v.x=y.oldX,v.y=y.oldY):(y.oldShape&&(b.shape=Ae({},v.shape),v.setShape(y.oldShape)),y.fadein?(v.setStyle("opacity",0),b.style={opacity:1}):v.style.opacity!==1&&(b.style={opacity:1})),c.add(v,b,l,0,u))})},this),this._state="animating",c.finished(Ye(function(){this._state="ready",n.renderFinally()},this)).start()},e.prototype._resetController=function(r){var n=this,a=this._controller,i=this._controllerHost;i||(this._controllerHost={target:this.group},i=this._controllerHost);var o=this.seriesModel;a||(a=this._controller=new xp(r.getZr()),a.on("pan",Ye(this._onPan,this)),a.on("zoom",Ye(this._onZoom,this))),a.enable(o.get("roam"),{api:r,zInfo:{component:o},triggerInfo:{roamTrigger:o.get("roamTrigger"),isInSelf:function(s,l,u){var c=n._containerGroup;return c?c.getBoundingRect().contain(l-c.x,u-c.y):!1}}}),i.zoomLimit=o.get("scaleLimit"),i.zoom=o.get("zoom")},e.prototype._clearController=function(){var r=this._controller;this._controllerHost=null,r&&(r.dispose(),r=null)},e.prototype._onPan=function(r){if(this._state!=="animating"&&(Math.abs(r.dx)>gG||Math.abs(r.dy)>gG)){var n=this.seriesModel.getData().tree.root;if(!n)return;var a=n.getLayout();if(!a)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:a.x+r.dx,y:a.y+r.dy,width:a.width,height:a.height}})}},e.prototype._onZoom=function(r){var n=r.originX,a=r.originY,i=r.scale;if(this._state!=="animating"){var o=this.seriesModel.getData().tree.root;if(!o)return;var s=o.getLayout();if(!s)return;var l=new yt(s.x,s.y,s.width,s.height),u=null,c=this._controllerHost;u=c.zoomLimit;var f=c.zoom=c.zoom||1;if(f*=i,u){var d=u.min||0,v=u.max||1/0;f=Math.max(Math.min(v,f),d)}var g=f/c.zoom;c.zoom=f;var y=this.seriesModel.layoutInfo;n-=y.x,a-=y.y;var b=Di();mc(b,b,[-n,-a]),fk(b,b,[g,g]),mc(b,b,[n,a]),l.applyTransform(b),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:l.x,y:l.y,width:l.width,height:l.height}})}},e.prototype._initEvents=function(r){var n=this;r.on("click",function(a){if(n._state==="ready"){var i=n.seriesModel.get("nodeClick",!0);if(i){var o=n.findTarget(a.offsetX,a.offsetY);if(o){var s=o.node;if(s.getLayout().isLeafRoot)n._rootToNode(o);else if(i==="zoomToNode")n._zoomToNode(o);else if(i==="link"){var l=s.hostTree.data.getItemModel(s.dataIndex),u=l.get("link",!0),c=l.get("target",!0)||"blank";u&&_w(u,c)}}}}},this)},e.prototype._renderBreadcrumb=function(r,n,a){var i=this;a||(a=r.get("leafDepth",!0)!=null?{node:r.getViewRoot()}:this.findTarget(n.getWidth()/2,n.getHeight()/2),a||(a={node:r.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new TDe(this.group))).render(r,n,a.node,function(o){i._state!=="animating"&&(EI(r.getViewRoot(),o)?i._rootToNode({node:o}):i._zoomToNode({node:o}))})},e.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=v0(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},e.prototype.dispose=function(){this._clearController()},e.prototype._zoomToNode=function(r){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:r.node})},e.prototype._rootToNode=function(r){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:r.node})},e.prototype.findTarget=function(r,n){var a,i=this.seriesModel.getViewRoot();return i.eachNode({attr:"viewChildren",order:"preorder"},function(o){var s=this._storage.background[o.getRawIndex()];if(s){var l=s.transformCoordToLocal(r,n),u=s.shape;if(u.x<=l[0]&&l[0]<=u.x+u.width&&u.y<=l[1]&&l[1]<=u.y+u.height)a={node:o,offsetX:l[0],offsetY:l[1]};else return!1}},this),a},e.type="treemap",e})(cn);function v0(){return{nodeGroup:[],background:[],content:[]}}function PDe(t,e,r,n,a,i,o,s,l,u){if(!o)return;var c=o.getLayout(),f=t.getData(),d=o.getModel();if(f.setItemGraphicEl(o.dataIndex,null),!c||!c.isInView)return;var v=c.width,g=c.height,y=c.borderWidth,b=c.invisible,S=o.getRawIndex(),w=s&&s.getRawIndex(),M=o.viewChildren,A=c.upperHeight,D=M&&M.length,R=d.getModel("itemStyle"),N=d.getModel(["emphasis","itemStyle"]),I=d.getModel(["blur","itemStyle"]),z=d.getModel(["select","itemStyle"]),B=R.get("borderRadius")||0,V=me("nodeGroup",eR);if(!V)return;if(l.add(V),V.x=c.x||0,V.y=c.y||0,V.markRedraw(),Gw(V).nodeWidth=v,Gw(V).nodeHeight=g,c.isAboveViewRoot)return V;var G=me("background",pG,u,EDe);G&&ee(V,G,D&&c.upperLabelHeight);var F=d.getModel("emphasis"),q=F.get("focus"),Q=F.get("blurScope"),H=F.get("disabled"),X=q==="ancestor"?o.getAncestorsIndices():q==="descendant"?o.getDescendantIndices():q;if(D)Ax(V)&&Av(V,!1),G&&(Av(G,!H),f.setItemGraphicEl(o.dataIndex,G),iN(G,X,Q));else{var W=me("content",pG,u,NDe);W&&K(V,W),G.disableMorphing=!0,G&&Ax(G)&&Av(G,!1),Av(V,!H),f.setItemGraphicEl(o.dataIndex,V);var J=d.getShallow("cursor");J&&W.attr("cursor",J),iN(V,X,Q)}return V;function ee(Pe,ke,ze){var Ie=wt(ke);if(Ie.dataIndex=o.dataIndex,Ie.seriesIndex=t.seriesIndex,ke.setShape({x:0,y:0,width:v,height:g,r:B}),b)ne(ke);else{ke.invisible=!1;var Oe=o.getVisual("style"),vt=Oe.stroke,ct=xG(R);ct.fill=vt;var Ft=dv(N);Ft.fill=N.get("borderColor");var jt=dv(I);jt.fill=I.get("borderColor");var Lr=dv(z);if(Lr.fill=z.get("borderColor"),ze){var Rn=v-2*y;ie(ke,vt,Oe.opacity,{x:y,y:0,width:Rn,height:A})}else ke.removeTextContent();ke.setStyle(ct),ke.ensureState("emphasis").style=Ft,ke.ensureState("blur").style=jt,ke.ensureState("select").style=Lr,Jv(ke)}Pe.add(ke)}function K(Pe,ke){var ze=wt(ke);ze.dataIndex=o.dataIndex,ze.seriesIndex=t.seriesIndex;var Ie=Math.max(v-2*y,0),Oe=Math.max(g-2*y,0);if(ke.culling=!0,ke.setShape({x:y,y,width:Ie,height:Oe,r:B}),b)ne(ke);else{ke.invisible=!1;var vt=o.getVisual("style"),ct=vt.fill,Ft=xG(R);Ft.fill=ct,Ft.decal=vt.decal;var jt=dv(N),Lr=dv(I),Rn=dv(z);ie(ke,ct,vt.opacity,null),ke.setStyle(Ft),ke.ensureState("emphasis").style=jt,ke.ensureState("blur").style=Lr,ke.ensureState("select").style=Rn,Jv(ke)}Pe.add(ke)}function ne(Pe){!Pe.invisible&&i.push(Pe)}function ie(Pe,ke,ze,Ie){var Oe=d.getModel(Ie?yG:mG),vt=Ja(d.get("name"),null),ct=Oe.getShallow("show");xi(Pe,ri(d,Ie?yG:mG),{defaultText:ct?vt:null,inheritColor:ke,defaultOpacity:ze,labelFetcher:t,labelDataIndex:o.dataIndex});var Ft=Pe.getTextContent();if(Ft){var jt=Ft.style,Lr=tC(jt.padding||0);Ie&&(Pe.setTextConfig({layoutRect:Ie}),Ft.disableLabelLayout=!0),Ft.beforeUpdate=function(){var fn=Math.max((Ie?Ie.width:Pe.shape.width)-Lr[1]-Lr[3],0),tn=Math.max((Ie?Ie.height:Pe.shape.height)-Lr[0]-Lr[2],0);(jt.width!==fn||jt.height!==tn)&&Ft.setStyle({width:fn,height:tn})},jt.truncateMinChar=2,jt.lineOverflow="truncate",le(jt,Ie,c);var Rn=Ft.getState("emphasis");le(Rn?Rn.style:null,Ie,c)}}function le(Pe,ke,ze){var Ie=Pe?Pe.text:null;if(!ke&&ze.isLeafRoot&&Ie!=null){var Oe=t.get("drillDownIcon",!0);Pe.text=Oe?Oe+" "+Ie:Ie}}function me(Pe,ke,ze,Ie){var Oe=w!=null&&r[Pe][w],vt=a[Pe];return Oe?(r[Pe][w]=null,we(vt,Oe)):b||(Oe=new ke,Oe instanceof Al&&(Oe.z2=kDe(ze,Ie)),pe(vt,Oe)),e[Pe][S]=Oe}function we(Pe,ke){var ze=Pe[S]={};ke instanceof eR?(ze.oldX=ke.x,ze.oldY=ke.y):ze.oldShape=Ae({},ke.shape)}function pe(Pe,ke){var ze=Pe[S]={},Ie=o.parentNode,Oe=ke instanceof st;if(Ie&&(!n||n.direction==="drillDown")){var vt=0,ct=0,Ft=a.background[Ie.getRawIndex()];!n&&Ft&&Ft.oldShape&&(vt=Ft.oldShape.width,ct=Ft.oldShape.height),Oe?(ze.oldX=0,ze.oldY=ct):ze.oldShape={x:vt,y:ct,width:0,height:0}}ze.fadein=!Oe}}function kDe(t,e){return t*LDe+e}var Gx=Y,IDe=mt,Uw=-1,mi=(function(){function t(e){var r=e.mappingMethod,n=e.type,a=this.option=ut(e);this.type=n,this.mappingMethod=r,this._normalizeData=zDe[r];var i=t.visualHandlers[n];this.applyVisual=i.applyVisual,this.getColorMapper=i.getColorMapper,this._normalizedToVisual=i._normalizedToVisual[r],r==="piecewise"?(zD(a),ODe(a)):r==="category"?a.categories?jDe(a):zD(a,!0):(co(r!=="linear"||a.dataExtent),zD(a))}return t.prototype.mapValueToVisual=function(e){var r=this._normalizeData(e);return this._normalizedToVisual(r,e)},t.prototype.getNormalizer=function(){return Ye(this._normalizeData,this)},t.listVisualTypes=function(){return sr(t.visualHandlers)},t.isValidType=function(e){return t.visualHandlers.hasOwnProperty(e)},t.eachVisual=function(e,r,n){mt(e)?Y(e,r,n):r.call(n,e)},t.mapVisual=function(e,r,n){var a,i=Ee(e)?[]:mt(e)?{}:(a=!0,null);return t.eachVisual(e,function(o,s){var l=r.call(n,o,s);a?i=l:i[s]=l}),i},t.retrieveVisuals=function(e){var r={},n;return e&&Gx(t.visualHandlers,function(a,i){e.hasOwnProperty(i)&&(r[i]=e[i],n=!0)}),n?r:null},t.prepareVisualTypes=function(e){if(Ee(e))e=e.slice();else if(IDe(e)){var r=[];Gx(e,function(n,a){r.push(a)}),e=r}else return[];return e.sort(function(n,a){return a==="color"&&n!=="color"&&n.indexOf("color")===0?1:-1}),e},t.dependsOn=function(e,r){return r==="color"?!!(e&&e.indexOf(r)===0):e===r},t.findPieceIndex=function(e,r,n){for(var a,i=1/0,o=0,s=r.length;o<s;o++){var l=r[o].value;if(l!=null){if(l===e||We(l)&&l===e+"")return o;n&&d(l,o)}}for(var o=0,s=r.length;o<s;o++){var u=r[o],c=u.interval,f=u.close;if(c){if(c[0]===-1/0){if(V1(f[1],e,c[1]))return o}else if(c[1]===1/0){if(V1(f[0],c[0],e))return o}else if(V1(f[0],c[0],e)&&V1(f[1],e,c[1]))return o;n&&d(c[0],o),n&&d(c[1],o)}}if(n)return e===1/0?r.length-1:e===-1/0?0:a;function d(v,g){var y=Math.abs(v-e);y<i&&(i=y,a=g)}},t.visualHandlers={color:{applyVisual:p0("color"),getColorMapper:function(){var e=this.option;return Ye(e.mappingMethod==="category"?function(r,n){return!n&&(r=this._normalizeData(r)),H0.call(this,r)}:function(r,n,a){var i=!!a;return!n&&(r=this._normalizeData(r)),a=y2(r,e.parsedVisual,a),i?a:cc(a,"rgba")},this)},_normalizedToVisual:{linear:function(e){return cc(y2(e,this.option.parsedVisual),"rgba")},category:H0,piecewise:function(e,r){var n=rR.call(this,r);return n==null&&(n=cc(y2(e,this.option.parsedVisual),"rgba")),n},fixed:vv}},colorHue:B1(function(e,r){return Hh(e,r)}),colorSaturation:B1(function(e,r){return Hh(e,null,r)}),colorLightness:B1(function(e,r){return Hh(e,null,null,r)}),colorAlpha:B1(function(e,r){return ow(e,r)}),decal:{applyVisual:p0("decal"),_normalizedToVisual:{linear:null,category:H0,piecewise:null,fixed:null}},opacity:{applyVisual:p0("opacity"),_normalizedToVisual:tR([0,1])},liftZ:{applyVisual:p0("liftZ"),_normalizedToVisual:{linear:vv,category:vv,piecewise:vv,fixed:vv}},symbol:{applyVisual:function(e,r,n){var a=this.mapValueToVisual(e);n("symbol",a)},_normalizedToVisual:{linear:_G,category:H0,piecewise:function(e,r){var n=rR.call(this,r);return n==null&&(n=_G.call(this,e)),n},fixed:vv}},symbolSize:{applyVisual:p0("symbolSize"),_normalizedToVisual:tR([0,1])}},t})();function ODe(t){var e=t.pieceList;t.hasSpecialVisual=!1,Y(e,function(r,n){r.originIndex=n,r.visual!=null&&(t.hasSpecialVisual=!0)})}function jDe(t){var e=t.categories,r=t.categoryMap={},n=t.visual;if(Gx(e,function(o,s){r[o]=s}),!Ee(n)){var a=[];mt(n)?Gx(n,function(o,s){var l=r[s];a[l??Uw]=o}):a[Uw]=n,n=mJ(t,a)}for(var i=e.length-1;i>=0;i--)n[i]==null&&(delete r[e[i]],e.pop())}function zD(t,e){var r=t.visual,n=[];mt(r)?Gx(r,function(i){n.push(i)}):r!=null&&n.push(r);var a={color:1,symbol:1};!e&&n.length===1&&!a.hasOwnProperty(t.type)&&(n[1]=n[0]),mJ(t,n)}function B1(t){return{applyVisual:function(e,r,n){var a=this.mapValueToVisual(e);n("color",t(r("color"),a))},_normalizedToVisual:tR([0,1])}}function _G(t){var e=this.option.visual;return e[Math.round(kr(t,[0,1],[0,e.length-1],!0))]||{}}function p0(t){return function(e,r,n){n(t,this.mapValueToVisual(e))}}function H0(t){var e=this.option.visual;return e[this.option.loop&&t!==Uw?t%e.length:t]}function vv(){return this.option.visual[0]}function tR(t){return{linear:function(e){return kr(e,t,this.option.visual,!0)},category:H0,piecewise:function(e,r){var n=rR.call(this,r);return n==null&&(n=kr(e,t,this.option.visual,!0)),n},fixed:vv}}function rR(t){var e=this.option,r=e.pieceList;if(e.hasSpecialVisual){var n=mi.findPieceIndex(t,r),a=r[n];if(a&&a.visual)return a.visual[this.type]}}function mJ(t,e){return t.visual=e,t.type==="color"&&(t.parsedVisual=Re(e,function(r){var n=as(r);return n||[0,0,0,1]})),e}var zDe={linear:function(t){return kr(t,this.option.dataExtent,[0,1],!0)},piecewise:function(t){var e=this.option.pieceList,r=mi.findPieceIndex(t,e,!0);if(r!=null)return kr(r,[0,e.length-1],[0,1],!0)},category:function(t){var e=this.option.categories?this.option.categoryMap[t]:t;return e??Uw},fixed:_a};function V1(t,e,r){return t?e<=r:e<r}var BDe="itemStyle",yJ=Xt();const VDe={seriesType:"treemap",reset:function(t){var e=t.getData().tree,r=e.root;r.isRemoved()||xJ(r,{},t.getViewRoot().getAncestors(),t)}};function xJ(t,e,r,n){var a=t.getModel(),i=t.getLayout(),o=t.hostTree.data;if(!(!i||i.invisible||!i.isInView)){var s=a.getModel(BDe),l=FDe(s,e,n),u=o.ensureUniqueItemVisual(t.dataIndex,"style"),c=s.get("borderColor"),f=s.get("borderColorSaturation"),d;f!=null&&(d=bG(l),c=HDe(f,d)),u.stroke=c;var v=t.viewChildren;if(!v||!v.length)d=bG(l),u.fill=d;else{var g=GDe(t,a,i,s,l,v);Y(v,function(y,b){if(y.depth>=r.length||y===r[y.depth]){var S=UDe(a,l,y,b,g,n);xJ(y,S,r,n)}})}}}function FDe(t,e,r){var n=Ae({},e),a=r.designatedVisualItemStyle;return Y(["color","colorAlpha","colorSaturation"],function(i){a[i]=e[i];var o=t.get(i);a[i]=null,o!=null&&(n[i]=o)}),n}function bG(t){var e=BD(t,"color");if(e){var r=BD(t,"colorAlpha"),n=BD(t,"colorSaturation");return n&&(e=Hh(e,null,null,n)),r&&(e=ow(e,r)),e}}function HDe(t,e){return e!=null?Hh(e,null,null,t):null}function BD(t,e){var r=t[e];if(r!=null&&r!=="none")return r}function GDe(t,e,r,n,a,i){if(!(!i||!i.length)){var o=VD(e,"color")||a.color!=null&&a.color!=="none"&&(VD(e,"colorAlpha")||VD(e,"colorSaturation"));if(o){var s=e.get("visualMin"),l=e.get("visualMax"),u=r.dataExtent.slice();s!=null&&s<u[0]&&(u[0]=s),l!=null&&l>u[1]&&(u[1]=l);var c=e.get("colorMappingBy"),f={type:o.name,dataExtent:u,visual:o.range};f.type==="color"&&(c==="index"||c==="id")?(f.mappingMethod="category",f.loop=!0):f.mappingMethod="linear";var d=new mi(f);return yJ(d).drColorMappingBy=c,d}}}function VD(t,e){var r=t.get(e);return Ee(r)&&r.length?{name:e,range:r}:null}function UDe(t,e,r,n,a,i){var o=Ae({},e);if(a){var s=a.type,l=s==="color"&&yJ(a).drColorMappingBy,u=l==="index"?n:l==="id"?i.mapIdToIndex(r.getId()):r.getValue(t.get("visualDimension"));o[s]=a.mapValueToVisual(u)}return o}var Ux=Math.max,Ww=Math.min,SG=Wi,NI=Y,_J=["itemStyle","borderWidth"],WDe=["itemStyle","gapWidth"],YDe=["upperLabel","show"],ZDe=["upperLabel","height"];const qDe={seriesType:"treemap",reset:function(t,e,r,n){var a=t.option,i=ni(t,r).refContainer,o=Yn(t.getBoxLayoutParams(),i),s=a.size||[],l=Ue(SG(o.width,s[0]),i.width),u=Ue(SG(o.height,s[1]),i.height),c=n&&n.type,f=["treemapZoomToNode","treemapRootToNode"],d=Hx(n,f,t),v=c==="treemapRender"||c==="treemapMove"?n.rootRect:null,g=t.getViewRoot(),y=vJ(g);if(c!=="treemapMove"){var b=c==="treemapZoomToNode"?eLe(t,d,g,l,u):v?[v.width,v.height]:[l,u],S=a.sort;S&&S!=="asc"&&S!=="desc"&&(S="desc");var w={squareRatio:a.squareRatio,sort:S,leafDepth:a.leafDepth};g.hostTree.clearLayouts();var M={x:0,y:0,width:b[0],height:b[1],area:b[0]*b[1]};g.setLayout(M),bJ(g,w,!1,0),M=g.getLayout(),NI(y,function(D,R){var N=(y[R+1]||g).getValue();D.setLayout(Ae({dataExtent:[N,N],borderWidth:0,upperHeight:0},M))})}var A=t.getData().tree.root;A.setLayout(tLe(o,v,d),!0),t.setLayoutInfo(o),SJ(A,new yt(-o.x,-o.y,r.getWidth(),r.getHeight()),y,g,0)}};function bJ(t,e,r,n){var a,i;if(!t.isRemoved()){var o=t.getLayout();a=o.width,i=o.height;var s=t.getModel(),l=s.get(_J),u=s.get(WDe)/2,c=wJ(s),f=Math.max(l,c),d=l-u,v=f-u;t.setLayout({borderWidth:l,upperHeight:f,upperLabelHeight:c},!0),a=Ux(a-2*d,0),i=Ux(i-d-v,0);var g=a*i,y=$De(t,s,g,e,r,n);if(y.length){var b={x:d,y:v,width:a,height:i},S=Ww(a,i),w=1/0,M=[];M.area=0;for(var A=0,D=y.length;A<D;){var R=y[A];M.push(R),M.area+=R.getLayout().area;var N=JDe(M,S,e.squareRatio);N<=w?(A++,w=N):(M.area-=M.pop().getLayout().area,wG(M,S,b,u,!1),S=Ww(b.width,b.height),M.length=M.area=0,w=1/0)}if(M.length&&wG(M,S,b,u,!0),!r){var I=s.get("childrenVisibleMin");I!=null&&g<I&&(r=!0)}for(var A=0,D=y.length;A<D;A++)bJ(y[A],e,r,n+1)}}}function $De(t,e,r,n,a,i){var o=t.children||[],s=n.sort;s!=="asc"&&s!=="desc"&&(s=null);var l=n.leafDepth!=null&&n.leafDepth<=i;if(a&&!l)return t.viewChildren=[];o=Ir(o,function(v){return!v.isRemoved()}),KDe(o,s);var u=QDe(e,o,s);if(u.sum===0)return t.viewChildren=[];if(u.sum=XDe(e,r,u.sum,s,o),u.sum===0)return t.viewChildren=[];for(var c=0,f=o.length;c<f;c++){var d=o[c].getValue()/u.sum*r;o[c].setLayout({area:d})}return l&&(o.length&&t.setLayout({isLeafRoot:!0},!0),o.length=0),t.viewChildren=o,t.setLayout({dataExtent:u.dataExtent},!0),o}function XDe(t,e,r,n,a){if(!n)return r;for(var i=t.get("visibleMin"),o=a.length,s=o,l=o-1;l>=0;l--){var u=a[n==="asc"?o-l-1:l].getValue();u/r*e<i&&(s=l,r-=u)}return n==="asc"?a.splice(0,o-s):a.splice(s,o-s),r}function KDe(t,e){return e&&t.sort(function(r,n){var a=e==="asc"?r.getValue()-n.getValue():n.getValue()-r.getValue();return a===0?e==="asc"?r.dataIndex-n.dataIndex:n.dataIndex-r.dataIndex:a}),t}function QDe(t,e,r){for(var n=0,a=0,i=e.length;a<i;a++)n+=e[a].getValue();var o=t.get("visualDimension"),s;return!e||!e.length?s=[NaN,NaN]:o==="value"&&r?(s=[e[e.length-1].getValue(),e[0].getValue()],r==="asc"&&s.reverse()):(s=[1/0,-1/0],NI(e,function(l){var u=l.getValue(o);u<s[0]&&(s[0]=u),u>s[1]&&(s[1]=u)})),{sum:n,dataExtent:s}}function JDe(t,e,r){for(var n=0,a=1/0,i=0,o=void 0,s=t.length;i<s;i++)o=t[i].getLayout().area,o&&(o<a&&(a=o),o>n&&(n=o));var l=t.area*t.area,u=e*e*r;return l?Ux(u*n/l,l/(u*a)):1/0}function wG(t,e,r,n,a){var i=e===r.width?0:1,o=1-i,s=["x","y"],l=["width","height"],u=r[s[i]],c=e?t.area/e:0;(a||c>r[l[o]])&&(c=r[l[o]]);for(var f=0,d=t.length;f<d;f++){var v=t[f],g={},y=c?v.getLayout().area/c:0,b=g[l[o]]=Ux(c-2*n,0),S=r[s[i]]+r[l[i]]-u,w=f===d-1||S<y?S:y,M=g[l[i]]=Ux(w-2*n,0);g[s[o]]=r[s[o]]+Ww(n,b/2),g[s[i]]=u+Ww(n,M/2),u+=w,v.setLayout(g,!0)}r[s[o]]+=c,r[l[o]]-=c}function eLe(t,e,r,n,a){var i=(e||{}).node,o=[n,a];if(!i||i===r)return o;for(var s,l=n*a,u=l*t.option.zoomToNodeRatio;s=i.parentNode;){for(var c=0,f=s.children,d=0,v=f.length;d<v;d++)c+=f[d].getValue();var g=i.getValue();if(g===0)return o;u*=c/g;var y=s.getModel(),b=y.get(_J),S=Math.max(b,wJ(y));u+=4*b*b+(3*b+S)*Math.pow(u,.5),u>D4&&(u=D4),i=s}u<l&&(u=l);var w=Math.pow(u/l,.5);return[n*w,a*w]}function tLe(t,e,r){if(e)return{x:e.x,y:e.y};var n={x:0,y:0};if(!r)return n;var a=r.node,i=a.getLayout();if(!i)return n;for(var o=[i.width/2,i.height/2],s=a;s;){var l=s.getLayout();o[0]+=l.x,o[1]+=l.y,s=s.parentNode}return{x:t.width/2-o[0],y:t.height/2-o[1]}}function SJ(t,e,r,n,a){var i=t.getLayout(),o=r[a],s=o&&o===t;if(!(o&&!s||a===r.length&&t!==n)){t.setLayout({isInView:!0,invisible:!s&&!e.intersect(i),isAboveViewRoot:s},!0);var l=new yt(e.x-i.x,e.y-i.y,e.width,e.height);NI(t.viewChildren||[],function(u){SJ(u,l,r,n,a+1)})}}function wJ(t){return t.get(YDe)?t.get(ZDe):0}function rLe(t){t.registerSeriesModel(bDe),t.registerChartView(RDe),t.registerVisual(VDe),t.registerLayout(qDe),_De(t)}function nLe(t){var e=t.findComponents({mainType:"legend"});!e||!e.length||t.eachSeriesByType("graph",function(r){var n=r.getCategoriesData(),a=r.getGraph(),i=a.data,o=n.mapArray(n.getName);i.filterSelf(function(s){var l=i.getItemModel(s),u=l.getShallow("category");if(u!=null){vr(u)&&(u=o[u]);for(var c=0;c<e.length;c++)if(!e[c].isSelected(u))return!1}return!0})})}function aLe(t){var e={};t.eachSeriesByType("graph",function(r){var n=r.getCategoriesData(),a=r.getData(),i={};n.each(function(o){var s=n.getName(o);i["ec-"+s]=o;var l=n.getItemModel(o),u=l.getModel("itemStyle").getItemStyle();u.fill||(u.fill=r.getColorFromPalette(s,e)),n.setItemVisual(o,"style",u);for(var c=["symbol","symbolSize","symbolKeepAspect"],f=0;f<c.length;f++){var d=l.getShallow(c[f],!0);d!=null&&n.setItemVisual(o,c[f],d)}}),n.count()&&a.each(function(o){var s=a.getItemModel(o),l=s.getShallow("category");if(l!=null){We(l)&&(l=i["ec-"+l]);var u=n.getItemVisual(l,"style"),c=a.ensureUniqueItemVisual(o,"style");Ae(c,u);for(var f=["symbol","symbolSize","symbolKeepAspect"],d=0;d<f.length;d++)a.setItemVisual(o,f[d],n.getItemVisual(l,f[d]))}})})}function F1(t){return t instanceof Array||(t=[t,t]),t}function iLe(t){t.eachSeriesByType("graph",function(e){var r=e.getGraph(),n=e.getEdgeData(),a=F1(e.get("edgeSymbol")),i=F1(e.get("edgeSymbolSize"));n.setVisual("fromSymbol",a&&a[0]),n.setVisual("toSymbol",a&&a[1]),n.setVisual("fromSymbolSize",i&&i[0]),n.setVisual("toSymbolSize",i&&i[1]),n.setVisual("style",e.getModel("lineStyle").getLineStyle()),n.each(function(o){var s=n.getItemModel(o),l=r.getEdgeByIndex(o),u=F1(s.getShallow("symbol",!0)),c=F1(s.getShallow("symbolSize",!0)),f=s.getModel("lineStyle").getLineStyle(),d=n.ensureUniqueItemVisual(o,"style");switch(Ae(d,f),d.stroke){case"source":{var v=l.node1.getVisual("style");d.stroke=v&&v.fill;break}case"target":{var v=l.node2.getVisual("style");d.stroke=v&&v.fill;break}}u[0]&&l.setVisual("fromSymbol",u[0]),u[1]&&l.setVisual("toSymbol",u[1]),c[0]&&l.setVisual("fromSymbolSize",c[0]),c[1]&&l.setVisual("toSymbolSize",c[1])})})}var nR="-->",OC=function(t){return t.get("autoCurveness")||null},TJ=function(t,e){var r=OC(t),n=20,a=[];if(vr(r))n=r;else if(Ee(r)){t.__curvenessList=r;return}e>n&&(n=e);var i=n%2?n+2:n+3;a=[];for(var o=0;o<i;o++)a.push((o%2?o+1:o)/10*(o%2?-1:1));t.__curvenessList=a},Wx=function(t,e,r){var n=[t.id,t.dataIndex].join("."),a=[e.id,e.dataIndex].join(".");return[r.uid,n,a].join(nR)},CJ=function(t){var e=t.split(nR);return[e[0],e[2],e[1]].join(nR)},oLe=function(t,e){var r=Wx(t.node1,t.node2,e);return e.__edgeMap[r]},sLe=function(t,e){var r=aR(Wx(t.node1,t.node2,e),e),n=aR(Wx(t.node2,t.node1,e),e);return r+n},aR=function(t,e){var r=e.__edgeMap;return r[t]?r[t].length:0};function lLe(t){OC(t)&&(t.__curvenessList=[],t.__edgeMap={},TJ(t))}function uLe(t,e,r,n){if(OC(r)){var a=Wx(t,e,r),i=r.__edgeMap,o=i[CJ(a)];i[a]&&!o?i[a].isForward=!0:o&&i[a]&&(o.isForward=!0,i[a].isForward=!1),i[a]=i[a]||[],i[a].push(n)}}function RI(t,e,r,n){var a=OC(e),i=Ee(a);if(!a)return null;var o=oLe(t,e);if(!o)return null;for(var s=-1,l=0;l<o.length;l++)if(o[l]===r){s=l;break}var u=sLe(t,e);TJ(e,u),t.lineStyle=t.lineStyle||{};var c=Wx(t.node1,t.node2,e),f=e.__curvenessList,d=i||u%2?0:1;if(o.isForward)return f[d+s];var v=CJ(c),g=aR(v,e),y=f[s+g+d];return n?i?a&&a[0]===0?(g+d)%2?y:-y:((g%2?0:1)+d)%2?y:-y:(g+d)%2?y:-y:f[s+g+d]}function MJ(t){var e=t.coordinateSystem;if(!(e&&e.type!=="view")){var r=t.getGraph();r.eachNode(function(n){var a=n.getModel();n.setLayout([+a.get("x"),+a.get("y")])}),PI(r,t)}}function PI(t,e){t.eachEdge(function(r,n){var a=ks(r.getModel().get(["lineStyle","curveness"]),-RI(r,e,n,!0),0),i=cf(r.node1.getLayout()),o=cf(r.node2.getLayout()),s=[i,o];+a&&s.push([(i[0]+o[0])/2-(i[1]-o[1])*a,(i[1]+o[1])/2-(o[0]-i[0])*a]),r.setLayout(s)})}function cLe(t,e){t.eachSeriesByType("graph",function(r){var n=r.get("layout"),a=r.coordinateSystem;if(a&&a.type!=="view"){var i=r.getData(),o=[];Y(a.dimensions,function(d){o=o.concat(i.mapDimensionsAll(d))});for(var s=0;s<i.count();s++){for(var l=[],u=!1,c=0;c<o.length;c++){var f=i.get(o[c],s);isNaN(f)||(u=!0),l.push(f)}u?i.setItemLayout(s,a.dataToPoint(l)):i.setItemLayout(s,[NaN,NaN])}PI(i.graph,r)}else(!n||n==="none")&&MJ(r)})}function G0(t){var e=t.coordinateSystem;if(e.type!=="view")return 1;var r=t.option.nodeScaleRatio,n=e.scaleX,a=e.getZoom(),i=(a-1)*r+1;return i/n}function U0(t){var e=t.getVisual("symbolSize");return e instanceof Array&&(e=(e[0]+e[1])/2),+e}var TG=Math.PI,FD=[];function kI(t,e,r,n){var a=t.coordinateSystem;if(!(a&&a.type!=="view")){var i=a.getBoundingRect(),o=t.getData(),s=o.graph,l=i.width/2+i.x,u=i.height/2+i.y,c=Math.min(i.width,i.height)/2,f=o.count();if(o.setLayout({cx:l,cy:u}),!!f){if(r){var d=a.pointToData(n),v=d[0],g=d[1],y=[v-l,g-u];zm(y,y),mS(y,y,c),r.setLayout([l+y[0],u+y[1]],!0);var b=t.get(["circular","rotateLabel"]);AJ(r,b,l,u)}fLe[e](t,s,o,c,l,u,f),s.eachEdge(function(S,w){var M=ks(S.getModel().get(["lineStyle","curveness"]),RI(S,t,w),0),A=cf(S.node1.getLayout()),D=cf(S.node2.getLayout()),R,N=(A[0]+D[0])/2,I=(A[1]+D[1])/2;+M&&(M*=3,R=[l*M+N*(1-M),u*M+I*(1-M)]),S.setLayout([A,D,R])})}}}var fLe={value:function(t,e,r,n,a,i,o){var s=0,l=r.getSum("value"),u=Math.PI*2/(l||o);e.eachNode(function(c){var f=c.getValue("value"),d=u*(l?f:1)/2;s+=d,c.setLayout([n*Math.cos(s)+a,n*Math.sin(s)+i]),s+=d})},symbolSize:function(t,e,r,n,a,i,o){var s=0;FD.length=o;var l=G0(t);e.eachNode(function(f){var d=U0(f);isNaN(d)&&(d=2),d<0&&(d=0),d*=l;var v=Math.asin(d/2/n);isNaN(v)&&(v=TG/2),FD[f.dataIndex]=v,s+=v*2});var u=(2*TG-s)/o/2,c=0;e.eachNode(function(f){var d=u+FD[f.dataIndex];c+=d,(!f.getLayout()||!f.getLayout().fixed)&&f.setLayout([n*Math.cos(c)+a,n*Math.sin(c)+i]),c+=d})}};function AJ(t,e,r,n){var a=t.getGraphicEl();if(a){var i=t.getModel(),o=i.get(["label","rotate"])||0,s=a.getSymbolPath();if(e){var l=t.getLayout(),u=Math.atan2(l[1]-n,l[0]-r);u<0&&(u=Math.PI*2+u);var c=l[0]<r;c&&(u=u-Math.PI);var f=c?"left":"right";s.setTextConfig({rotation:-u,position:f,origin:"center"});var d=s.ensureState("emphasis");Ae(d.textConfig||(d.textConfig={}),{position:f})}else s.setTextConfig({rotation:o*=Math.PI/180})}}function hLe(t){t.eachSeriesByType("graph",function(e){e.get("layout")==="circular"&&kI(e,"symbolSize")})}var xg=ME;function dLe(t,e,r){for(var n=t,a=e,i=r.rect,o=i.width,s=i.height,l=[i.x+o/2,i.y+s/2],u=r.gravity==null?.1:r.gravity,c=0;c<n.length;c++){var f=n[c];f.p||(f.p=fp(o*(Math.random()-.5)+l[0],s*(Math.random()-.5)+l[1])),f.pp=cf(f.p),f.edges=null}var d=r.friction==null?.6:r.friction,v=d,g,y;return{warmUp:function(){v=d*.8},setFixed:function(b){n[b].fixed=!0},setUnfixed:function(b){n[b].fixed=!1},beforeStep:function(b){g=b},afterStep:function(b){y=b},step:function(b){g&&g(n,a);for(var S=[],w=n.length,M=0;M<a.length;M++){var A=a[M];if(!A.ignoreForceLayout){var D=A.n1,R=A.n2;Cv(S,R.p,D.p);var N=AE(S)-A.d,I=R.w/(D.w+R.w);isNaN(I)&&(I=0),zm(S,S),!D.fixed&&xg(D.p,D.p,S,I*N*v),!R.fixed&&xg(R.p,R.p,S,-(1-I)*N*v)}}for(var M=0;M<w;M++){var z=n[M];z.fixed||(Cv(S,l,z.p),xg(z.p,z.p,S,u*v))}for(var M=0;M<w;M++)for(var D=n[M],B=M+1;B<w;B++){var R=n[B];Cv(S,R.p,D.p);var N=AE(S);N===0&&(uk(S,Math.random()-.5,Math.random()-.5),N=1);var V=(D.rep+R.rep)/N/N;!D.fixed&&xg(D.pp,D.pp,S,V),!R.fixed&&xg(R.pp,R.pp,S,-V)}for(var G=[],M=0;M<w;M++){var z=n[M];z.fixed||(Cv(G,z.p,z.pp),xg(z.p,z.p,G,v),So(z.pp,z.p))}v=v*.992;var F=v<.01;y&&y(n,a,F),b&&b(F)}}}function vLe(t){t.eachSeriesByType("graph",function(e){var r=e.coordinateSystem;if(!(r&&r.type!=="view"))if(e.get("layout")==="force"){var n=e.preservedPoints||{},a=e.getGraph(),i=a.data,o=a.edgeData,s=e.getModel("force"),l=s.get("initLayout");e.preservedPoints?i.each(function(M){var A=i.getId(M);i.setItemLayout(M,n[A]||[NaN,NaN])}):!l||l==="none"?MJ(e):l==="circular"&&kI(e,"value");var u=i.getDataExtent("value"),c=o.getDataExtent("value"),f=s.get("repulsion"),d=s.get("edgeLength"),v=Ee(f)?f:[f,f],g=Ee(d)?d:[d,d];g=[g[1],g[0]];var y=i.mapArray("value",function(M,A){var D=i.getItemLayout(A),R=kr(M,u,v);return isNaN(R)&&(R=(v[0]+v[1])/2),{w:R,rep:R,fixed:i.getItemModel(A).get("fixed"),p:!D||isNaN(D[0])||isNaN(D[1])?null:D}}),b=o.mapArray("value",function(M,A){var D=a.getEdgeByIndex(A),R=kr(M,c,g);isNaN(R)&&(R=(g[0]+g[1])/2);var N=D.getModel(),I=ks(D.getModel().get(["lineStyle","curveness"]),-RI(D,e,A,!0),0);return{n1:y[D.node1.dataIndex],n2:y[D.node2.dataIndex],d:R,curveness:I,ignoreForceLayout:N.get("ignoreForceLayout")}}),S=r.getBoundingRect(),w=dLe(y,b,{rect:S,gravity:s.get("gravity"),friction:s.get("friction")});w.beforeStep(function(M,A){for(var D=0,R=M.length;D<R;D++)M[D].fixed&&So(M[D].p,a.getNodeByIndex(D).getLayout())}),w.afterStep(function(M,A,D){for(var R=0,N=M.length;R<N;R++)M[R].fixed||a.getNodeByIndex(R).setLayout(M[R].p),n[i.getId(R)]=M[R].p;for(var R=0,N=A.length;R<N;R++){var I=A[R],z=a.getEdgeByIndex(R),B=I.n1.p,V=I.n2.p,G=z.getLayout();G=G?G.slice():[],G[0]=G[0]||[],G[1]=G[1]||[],So(G[0],B),So(G[1],V),+I.curveness&&(G[2]=[(B[0]+V[0])/2-(B[1]-V[1])*I.curveness,(B[1]+V[1])/2-(V[0]-B[0])*I.curveness]),z.setLayout(G)}}),e.forceLayout=w,e.preservedPoints=n,w.step()}else e.forceLayout=null})}function pLe(t,e,r){var n=ni(t,e),a=Ae(t.getBoxLayoutParams(),{aspect:r}),i=Yn(a,n.refContainer);return oX(t,i,r)}function gLe(t,e){var r=[];return t.eachSeriesByType("graph",function(n){__({targetModel:n,coordSysType:"view",coordSysProvider:a,isDefaultDataCoordSys:!0});function a(){var i=n.getData(),o=i.mapArray(function(g){var y=i.getItemModel(g);return[+y.get("x"),+y.get("y")]}),s=[],l=[];fC(o,s,l),l[0]-s[0]===0&&(l[0]+=1,s[0]-=1),l[1]-s[1]===0&&(l[1]+=1,s[1]-=1);var u=(l[0]-s[0])/(l[1]-s[1]),c=pLe(n,e,u);isNaN(u)&&(s=[c.x,c.y],l=[c.x+c.width,c.y+c.height]);var f=l[0]-s[0],d=l[1]-s[1],v=new _p(null,{api:e,ecModel:t});return v.zoomLimit=n.get("scaleLimit"),v.setBoundingRect(s[0],s[1],f,d),v.setViewRect(c.x,c.y,c.width,c.height),v.setCenter(n.get("center")),v.setZoom(n.get("zoom")),r.push(v),v}}),r}var CG=Na.prototype,HD=p_.prototype,DJ=(function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return t})();(function(t){ye(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(DJ);function GD(t){return isNaN(+t.cpx1)||isNaN(+t.cpy1)}var LJ=(function(t){ye(e,t);function e(r){var n=t.call(this,r)||this;return n.type="ec-line",n}return e.prototype.getDefaultStyle=function(){return{stroke:ve.color.neutral99,fill:null}},e.prototype.getDefaultShape=function(){return new DJ},e.prototype.buildPath=function(r,n){GD(n)?CG.buildPath.call(this,r,n):HD.buildPath.call(this,r,n)},e.prototype.pointAt=function(r){return GD(this.shape)?CG.pointAt.call(this,r):HD.pointAt.call(this,r)},e.prototype.tangentAt=function(r){var n=this.shape,a=GD(n)?[n.x2-n.x1,n.y2-n.y1]:HD.tangentAt.call(this,r);return zm(a,a)},e})(Jt),UD=["fromSymbol","toSymbol"];function MG(t){return"_"+t+"Type"}function AG(t,e,r){var n=e.getItemVisual(r,t);if(!n||n==="none")return n;var a=e.getItemVisual(r,t+"Size"),i=e.getItemVisual(r,t+"Rotate"),o=e.getItemVisual(r,t+"Offset"),s=e.getItemVisual(r,t+"KeepAspect"),l=qm(a),u=gp(o||0,l);return n+l+u+(i||"")+(s||"")}function DG(t,e,r){var n=e.getItemVisual(r,t);if(!(!n||n==="none")){var a=e.getItemVisual(r,t+"Size"),i=e.getItemVisual(r,t+"Rotate"),o=e.getItemVisual(r,t+"Offset"),s=e.getItemVisual(r,t+"KeepAspect"),l=qm(a),u=gp(o||0,l),c=Oa(n,-l[0]/2+u[0],-l[1]/2+u[1],l[0],l[1],null,s);return c.__specifiedRotation=i==null||isNaN(i)?void 0:+i*Math.PI/180||0,c.name=t,c}}function mLe(t){var e=new LJ({name:"line",subPixelOptimize:!0});return iR(e.shape,t),e}function iR(t,e){t.x1=e[0][0],t.y1=e[0][1],t.x2=e[1][0],t.y2=e[1][1],t.percent=1;var r=e[2];r?(t.cpx1=r[0],t.cpy1=r[1]):(t.cpx1=NaN,t.cpy1=NaN)}var II=(function(t){ye(e,t);function e(r,n,a){var i=t.call(this)||this;return i._createLine(r,n,a),i}return e.prototype._createLine=function(r,n,a){var i=r.hostModel,o=r.getItemLayout(n),s=r.getItemVisual(n,"z2"),l=mLe(o);l.shape.percent=0,zn(l,{z2:et(s,0),shape:{percent:1}},i,n),this.add(l),Y(UD,function(u){var c=DG(u,r,n);this.add(c),this[MG(u)]=AG(u,r,n)},this),this._updateCommonStl(r,n,a)},e.prototype.updateData=function(r,n,a){var i=r.hostModel,o=this.childOfName("line"),s=r.getItemLayout(n),l={shape:{}};iR(l.shape,s),Sr(o,l,i,n),Y(UD,function(u){var c=AG(u,r,n),f=MG(u);if(this[f]!==c){this.remove(this.childOfName(u));var d=DG(u,r,n);this.add(d)}this[f]=c},this),this._updateCommonStl(r,n,a)},e.prototype.getLinePath=function(){return this.childAt(0)},e.prototype._updateCommonStl=function(r,n,a){var i=r.hostModel,o=this.childOfName("line"),s=a&&a.emphasisLineStyle,l=a&&a.blurLineStyle,u=a&&a.selectLineStyle,c=a&&a.labelStatesModels,f=a&&a.emphasisDisabled,d=a&&a.focus,v=a&&a.blurScope;if(!a||r.hasItemOption){var g=r.getItemModel(n),y=g.getModel("emphasis");s=y.getModel("lineStyle").getLineStyle(),l=g.getModel(["blur","lineStyle"]).getLineStyle(),u=g.getModel(["select","lineStyle"]).getLineStyle(),f=y.get("disabled"),d=y.get("focus"),v=y.get("blurScope"),c=ri(g)}var b=r.getItemVisual(n,"style"),S=b.stroke;o.useStyle(b),o.style.fill=null,o.style.strokeNoScale=!0,o.ensureState("emphasis").style=s,o.ensureState("blur").style=l,o.ensureState("select").style=u,Y(UD,function(R){var N=this.childOfName(R);if(N){N.setColor(S),N.style.opacity=b.opacity;for(var I=0;I<No.length;I++){var z=No[I],B=o.getState(z);if(B){var V=B.style||{},G=N.ensureState(z),F=G.style||(G.style={});V.stroke!=null&&(F[N.__isEmptyBrush?"stroke":"fill"]=V.stroke),V.opacity!=null&&(F.opacity=V.opacity)}}N.markRedraw()}},this);var w=i.getRawValue(n);xi(this,c,{labelDataIndex:n,labelFetcher:{getFormattedLabel:function(R,N){return i.getFormattedLabel(R,N,r.dataType)}},inheritColor:S||ve.color.neutral99,defaultOpacity:b.opacity,defaultText:(w==null?r.getName(n):isFinite(w)?Ea(w):w)+""});var M=this.getTextContent();if(M){var A=c.normal;M.__align=M.style.align,M.__verticalAlign=M.style.verticalAlign,M.__position=A.get("position")||"middle";var D=A.get("distance");Ee(D)||(D=[D,D]),M.__labelDistance=D}this.setTextConfig({position:null,local:!0,inside:!1}),Wn(this,d,v,f)},e.prototype.highlight=function(){_f(this)},e.prototype.downplay=function(){bf(this)},e.prototype.updateLayout=function(r,n){this.setLinePoints(r.getItemLayout(n))},e.prototype.setLinePoints=function(r){var n=this.childOfName("line");iR(n.shape,r),n.dirty()},e.prototype.beforeUpdate=function(){var r=this,n=r.childOfName("fromSymbol"),a=r.childOfName("toSymbol"),i=r.getTextContent();if(!n&&!a&&(!i||i.ignore))return;for(var o=1,s=this.parent;s;)s.scaleX&&(o/=s.scaleX),s=s.parent;var l=r.childOfName("line");if(!this.__dirty&&!l.__dirty)return;var u=l.shape.percent,c=l.pointAt(0),f=l.pointAt(u),d=Cv([],f,c);zm(d,d);function v(B,V){var G=B.__specifiedRotation;if(G==null){var F=l.tangentAt(V);B.attr("rotation",(V===1?-1:1)*Math.PI/2-Math.atan2(F[1],F[0]))}else B.attr("rotation",G)}if(n&&(n.setPosition(c),v(n,0),n.scaleX=n.scaleY=o*u,n.markRedraw()),a&&(a.setPosition(f),v(a,1),a.scaleX=a.scaleY=o*u,a.markRedraw()),i&&!i.ignore){i.x=i.y=0,i.originX=i.originY=0;var g=void 0,y=void 0,b=i.__labelDistance,S=b[0]*o,w=b[1]*o,M=u/2,A=l.tangentAt(M),D=[A[1],-A[0]],R=l.pointAt(M);D[1]>0&&(D[0]=-D[0],D[1]=-D[1]);var N=A[0]<0?-1:1;if(i.__position!=="start"&&i.__position!=="end"){var I=-Math.atan2(A[1],A[0]);f[0]<c[0]&&(I=Math.PI+I),i.rotation=I}var z=void 0;switch(i.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":z=-w,y="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":z=w,y="top";break;default:z=0,y="middle"}switch(i.__position){case"end":i.x=d[0]*S+f[0],i.y=d[1]*w+f[1],g=d[0]>.8?"left":d[0]<-.8?"right":"center",y=d[1]>.8?"top":d[1]<-.8?"bottom":"middle";break;case"start":i.x=-d[0]*S+c[0],i.y=-d[1]*w+c[1],g=d[0]>.8?"right":d[0]<-.8?"left":"center",y=d[1]>.8?"bottom":d[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":i.x=S*N+c[0],i.y=c[1]+z,g=A[0]<0?"right":"left",i.originX=-S*N,i.originY=-z;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":i.x=R[0],i.y=R[1]+z,g="center",i.originY=-z;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":i.x=-S*N+f[0],i.y=f[1]+z,g=A[0]>=0?"right":"left",i.originX=S*N,i.originY=-z;break}i.scaleX=i.scaleY=o,i.setStyle({verticalAlign:i.__verticalAlign||y,align:i.__align||g})}},e})(st),OI=(function(){function t(e){this.group=new st,this._LineCtor=e||II}return t.prototype.updateData=function(e){var r=this;this._progressiveEls=null;var n=this,a=n.group,i=n._lineData;n._lineData=e,i||a.removeAll();var o=LG(e);e.diff(i).add(function(s){r._doAdd(e,s,o)}).update(function(s,l){r._doUpdate(i,e,l,s,o)}).remove(function(s){a.remove(i.getItemGraphicEl(s))}).execute()},t.prototype.updateLayout=function(){var e=this._lineData;e&&e.eachItemGraphicEl(function(r,n){r.updateLayout(e,n)},this)},t.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=LG(e),this._lineData=null,this.group.removeAll()},t.prototype.incrementalUpdate=function(e,r){this._progressiveEls=[];function n(s){!s.isGroup&&!yLe(s)&&(s.incremental=!0,s.ensureState("emphasis").hoverLayer=!0)}for(var a=e.start;a<e.end;a++){var i=r.getItemLayout(a);if(WD(i)){var o=new this._LineCtor(r,a,this._seriesScope);o.traverse(n),this.group.add(o),r.setItemGraphicEl(a,o),this._progressiveEls.push(o)}}},t.prototype.remove=function(){this.group.removeAll()},t.prototype.eachRendered=function(e){cd(this._progressiveEls||this.group,e)},t.prototype._doAdd=function(e,r,n){var a=e.getItemLayout(r);if(WD(a)){var i=new this._LineCtor(e,r,n);e.setItemGraphicEl(r,i),this.group.add(i)}},t.prototype._doUpdate=function(e,r,n,a,i){var o=e.getItemGraphicEl(n);if(!WD(r.getItemLayout(a))){this.group.remove(o);return}o?o.updateData(r,a,i):o=new this._LineCtor(r,a,i),r.setItemGraphicEl(a,o),this.group.add(o)},t})();function yLe(t){return t.animators&&t.animators.length>0}function LG(t){var e=t.hostModel,r=e.getModel("emphasis");return{lineStyle:e.getModel("lineStyle").getLineStyle(),emphasisLineStyle:r.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:e.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:e.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:r.get("disabled"),blurScope:r.get("blurScope"),focus:r.get("focus"),labelStatesModels:ri(e)}}function EG(t){return isNaN(t[0])||isNaN(t[1])}function WD(t){return t&&!EG(t[0])&&!EG(t[1])}var YD=[],ZD=[],qD=[],_g=Ai,$D=Pv,NG=Math.abs;function RG(t,e,r){for(var n=t[0],a=t[1],i=t[2],o=1/0,s,l=r*r,u=.1,c=.1;c<=.9;c+=.1){YD[0]=_g(n[0],a[0],i[0],c),YD[1]=_g(n[1],a[1],i[1],c);var f=NG($D(YD,e)-l);f<o&&(o=f,s=c)}for(var d=0;d<32;d++){var v=s+u;ZD[0]=_g(n[0],a[0],i[0],s),ZD[1]=_g(n[1],a[1],i[1],s),qD[0]=_g(n[0],a[0],i[0],v),qD[1]=_g(n[1],a[1],i[1],v);var f=$D(ZD,e)-l;if(NG(f)<.01)break;var g=$D(qD,e)-l;u/=2,f<0?g>=0?s=s+u:s=s-u:g>=0?s=s-u:s=s+u}return s}function XD(t,e){var r=[],n=_x,a=[[],[],[]],i=[[],[]],o=[];e/=2,t.eachEdge(function(s,l){var u=s.getLayout(),c=s.getVisual("fromSymbol"),f=s.getVisual("toSymbol");u.__original||(u.__original=[cf(u[0]),cf(u[1])],u[2]&&u.__original.push(cf(u[2])));var d=u.__original;if(u[2]!=null){if(So(a[0],d[0]),So(a[1],d[2]),So(a[2],d[1]),c&&c!=="none"){var v=U0(s.node1),g=RG(a,d[0],v*e);n(a[0][0],a[1][0],a[2][0],g,r),a[0][0]=r[3],a[1][0]=r[4],n(a[0][1],a[1][1],a[2][1],g,r),a[0][1]=r[3],a[1][1]=r[4]}if(f&&f!=="none"){var v=U0(s.node2),g=RG(a,d[1],v*e);n(a[0][0],a[1][0],a[2][0],g,r),a[1][0]=r[1],a[2][0]=r[2],n(a[0][1],a[1][1],a[2][1],g,r),a[1][1]=r[1],a[2][1]=r[2]}So(u[0],a[0]),So(u[1],a[2]),So(u[2],a[1])}else{if(So(i[0],d[0]),So(i[1],d[1]),Cv(o,i[1],i[0]),zm(o,o),c&&c!=="none"){var v=U0(s.node1);ME(i[0],i[0],o,v*e)}if(f&&f!=="none"){var v=U0(s.node2);ME(i[1],i[1],o,-v*e)}So(u[0],i[0]),So(u[1],i[1])}})}var EJ=Xt();function xLe(t){if(t)return EJ(t).bridge}function PG(t,e){t&&(EJ(t).bridge=e)}function kG(t){return t.type==="view"}var _Le=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.init=function(r,n){var a=new C_,i=new OI,o=this.group,s=new st;this._controller=new xp(n.getZr()),this._controllerHost={target:s},s.add(a.group),s.add(i.group),o.add(s),this._symbolDraw=a,this._lineDraw=i,this._mainGroup=s,this._firstRender=!0},e.prototype.render=function(r,n,a){var i=this,o=r.coordinateSystem,s=!1;this._model=r,this._api=a,this._active=!0;var l=this._getThumbnailInfo();l&&l.bridge.reset(a);var u=this._symbolDraw,c=this._lineDraw;if(kG(o)){var f={x:o.x,y:o.y,scaleX:o.scaleX,scaleY:o.scaleY};this._firstRender?this._mainGroup.attr(f):Sr(this._mainGroup,f,r)}XD(r.getGraph(),G0(r));var d=r.getData();u.updateData(d);var v=r.getEdgeData();c.updateData(v),this._updateNodeAndLinkScale(),this._updateController(null,r,a),clearTimeout(this._layoutTimeout);var g=r.forceLayout,y=r.get(["force","layoutAnimation"]);g&&(s=!0,this._startForceLayoutIteration(g,a,y));var b=r.get("layout");d.graph.eachNode(function(A){var D=A.dataIndex,R=A.getGraphicEl(),N=A.getModel();if(R){R.off("drag").off("dragend");var I=N.get("draggable");I&&R.on("drag",function(B){switch(b){case"force":g.warmUp(),!i._layouting&&i._startForceLayoutIteration(g,a,y),g.setFixed(D),d.setItemLayout(D,[R.x,R.y]);break;case"circular":d.setItemLayout(D,[R.x,R.y]),A.setLayout({fixed:!0},!0),kI(r,"symbolSize",A,[B.offsetX,B.offsetY]),i.updateLayout(r);break;default:d.setItemLayout(D,[R.x,R.y]),PI(r.getGraph(),r),i.updateLayout(r);break}}).on("dragend",function(){g&&g.setUnfixed(D)}),R.setDraggable(I,!!N.get("cursor"));var z=N.get(["emphasis","focus"]);z==="adjacency"&&(wt(R).focus=A.getAdjacentDataIndices())}}),d.graph.eachEdge(function(A){var D=A.getGraphicEl(),R=A.getModel().get(["emphasis","focus"]);D&&R==="adjacency"&&(wt(D).focus={edge:[A.dataIndex],node:[A.node1.dataIndex,A.node2.dataIndex]})});var S=r.get("layout")==="circular"&&r.get(["circular","rotateLabel"]),w=d.getLayout("cx"),M=d.getLayout("cy");d.graph.eachNode(function(A){AJ(A,S,w,M)}),this._firstRender=!1,s||this._renderThumbnail(r,a,this._symbolDraw,this._lineDraw)},e.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype._startForceLayoutIteration=function(r,n,a){var i=this,o=!1;(function s(){r.step(function(l){i.updateLayout(i._model),(l||!o)&&(o=!0,i._renderThumbnail(i._model,n,i._symbolDraw,i._lineDraw)),(i._layouting=!l)&&(a?i._layoutTimeout=setTimeout(s,16):s())})})()},e.prototype._updateController=function(r,n,a){var i=this._controller,o=this._controllerHost,s=n.coordinateSystem;if(!kG(s)){i.disable();return}i.enable(n.get("roam"),{api:a,zInfo:{component:n},triggerInfo:{roamTrigger:n.get("roamTrigger"),isInSelf:function(l,u,c){return s.containPoint([u,c])},isInClip:function(l,u,c){return!r||r.contain(u,c)}}}),o.zoomLimit=n.get("scaleLimit"),o.zoom=s.getZoom(),i.off("pan").off("zoom").on("pan",function(l){a.dispatchAction({seriesId:n.id,type:"graphRoam",dx:l.dx,dy:l.dy})}).on("zoom",function(l){a.dispatchAction({seriesId:n.id,type:"graphRoam",zoom:l.scale,originX:l.originX,originY:l.originY})})},e.prototype.updateViewOnPan=function(r,n,a){this._active&&(TI(this._controllerHost,a.dx,a.dy),this._updateThumbnailWindow())},e.prototype.updateViewOnZoom=function(r,n,a){this._active&&(CI(this._controllerHost,a.zoom,a.originX,a.originY),this._updateNodeAndLinkScale(),XD(r.getGraph(),G0(r)),this._lineDraw.updateLayout(),n.updateLabelLayout(),this._updateThumbnailWindow())},e.prototype._updateNodeAndLinkScale=function(){var r=this._model,n=r.getData(),a=G0(r);n.eachItemGraphicEl(function(i,o){i&&i.setSymbolScale(a)})},e.prototype.updateLayout=function(r){this._active&&(XD(r.getGraph(),G0(r)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout())},e.prototype.remove=function(){this._active=!1,clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove(),this._controller&&this._controller.disable()},e.prototype._getThumbnailInfo=function(){var r=this._model,n=r.coordinateSystem;if(n.type==="view"){var a=xLe(r);if(a)return{bridge:a,coordSys:n}}},e.prototype._updateThumbnailWindow=function(){var r=this._getThumbnailInfo();r&&r.bridge.updateWindow(r.coordSys.transform,this._api)},e.prototype._renderThumbnail=function(r,n,a,i){var o=this._getThumbnailInfo();if(o){var s=new st,l=a.group.children(),u=i.group.children(),c=new st,f=new st;s.add(f),s.add(c);for(var d=0;d<l.length;d++){var v=l[d],g=v.children()[0],y=v.x,b=v.y,S=ut(g.shape),w=Ae(S,{width:g.scaleX,height:g.scaleY,x:y-g.scaleX/2,y:b-g.scaleY/2}),M=ut(g.style),A=new g.constructor({shape:w,style:M,z2:151});f.add(A)}for(var d=0;d<u.length;d++){var v=u[d],D=v.children()[0],M=ut(D.style),w=ut(D.shape),R=new LJ({style:M,shape:w,z2:151});c.add(R)}o.bridge.renderContent({api:n,roamType:r.get("roam"),viewportRect:null,group:s,targetTrans:o.coordSys.transform})}},e.type="graph",e})(cn);function bg(t){return"_EC_"+t}var bLe=(function(){function t(e){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=e||!1}return t.prototype.isDirected=function(){return this._directed},t.prototype.addNode=function(e,r){e=e==null?""+r:""+e;var n=this._nodesMap;if(!n[bg(e)]){var a=new pv(e,r);return a.hostGraph=this,this.nodes.push(a),n[bg(e)]=a,a}},t.prototype.getNodeByIndex=function(e){var r=this.data.getRawIndex(e);return this.nodes[r]},t.prototype.getNodeById=function(e){return this._nodesMap[bg(e)]},t.prototype.addEdge=function(e,r,n){var a=this._nodesMap,i=this._edgesMap;if(vr(e)&&(e=this.nodes[e]),vr(r)&&(r=this.nodes[r]),e instanceof pv||(e=a[bg(e)]),r instanceof pv||(r=a[bg(r)]),!(!e||!r)){var o=e.id+"-"+r.id,s=new NJ(e,r,n);return s.hostGraph=this,this._directed&&(e.outEdges.push(s),r.inEdges.push(s)),e.edges.push(s),e!==r&&r.edges.push(s),this.edges.push(s),i[o]=s,s}},t.prototype.getEdgeByIndex=function(e){var r=this.edgeData.getRawIndex(e);return this.edges[r]},t.prototype.getEdge=function(e,r){e instanceof pv&&(e=e.id),r instanceof pv&&(r=r.id);var n=this._edgesMap;return this._directed?n[e+"-"+r]:n[e+"-"+r]||n[r+"-"+e]},t.prototype.eachNode=function(e,r){for(var n=this.nodes,a=n.length,i=0;i<a;i++)n[i].dataIndex>=0&&e.call(r,n[i],i)},t.prototype.eachEdge=function(e,r){for(var n=this.edges,a=n.length,i=0;i<a;i++)n[i].dataIndex>=0&&n[i].node1.dataIndex>=0&&n[i].node2.dataIndex>=0&&e.call(r,n[i],i)},t.prototype.breadthFirstTraverse=function(e,r,n,a){if(r instanceof pv||(r=this._nodesMap[bg(r)]),!!r){for(var i=n==="out"?"outEdges":n==="in"?"inEdges":"edges",o=0;o<this.nodes.length;o++)this.nodes[o].__visited=!1;if(!e.call(a,r,null))for(var s=[r];s.length;)for(var l=s.shift(),u=l[i],o=0;o<u.length;o++){var c=u[o],f=c.node1===l?c.node2:c.node1;if(!f.__visited){if(e.call(a,f,l))return;s.push(f),f.__visited=!0}}}},t.prototype.update=function(){for(var e=this.data,r=this.edgeData,n=this.nodes,a=this.edges,i=0,o=n.length;i<o;i++)n[i].dataIndex=-1;for(var i=0,o=e.count();i<o;i++)n[e.getRawIndex(i)].dataIndex=i;r.filterSelf(function(s){var l=a[r.getRawIndex(s)];return l.node1.dataIndex>=0&&l.node2.dataIndex>=0});for(var i=0,o=a.length;i<o;i++)a[i].dataIndex=-1;for(var i=0,o=r.count();i<o;i++)a[r.getRawIndex(i)].dataIndex=i},t.prototype.clone=function(){for(var e=new t(this._directed),r=this.nodes,n=this.edges,a=0;a<r.length;a++)e.addNode(r[a].id,r[a].dataIndex);for(var a=0;a<n.length;a++){var i=n[a];e.addEdge(i.node1.id,i.node2.id,i.dataIndex)}return e},t})(),pv=(function(){function t(e,r){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=e??"",this.dataIndex=r??-1}return t.prototype.degree=function(){return this.edges.length},t.prototype.inDegree=function(){return this.inEdges.length},t.prototype.outDegree=function(){return this.outEdges.length},t.prototype.getModel=function(e){if(!(this.dataIndex<0)){var r=this.hostGraph,n=r.data.getItemModel(this.dataIndex);return n.getModel(e)}},t.prototype.getAdjacentDataIndices=function(){for(var e={edge:[],node:[]},r=0;r<this.edges.length;r++){var n=this.edges[r];n.dataIndex<0||(e.edge.push(n.dataIndex),e.node.push(n.node1.dataIndex,n.node2.dataIndex))}return e},t.prototype.getTrajectoryDataIndices=function(){for(var e=Qe(),r=Qe(),n=0,a=this.edges.length;n<a;n++){var i=this.edges[n];if(!(i.dataIndex<0)){e.set(i.dataIndex,!0);for(var o=[i.node1],s=[i.node2],l=0;l<o.length;){var u=o[l];l++,r.set(u.dataIndex,!0);for(var c=u.inEdges,f=0,d=c.length,v=void 0,g=void 0;f<d;f++)v=c[f],g=v.dataIndex,g>=0&&!e.hasKey(g)&&(e.set(g,!0),o.push(v.node1))}for(l=0;l<s.length;){var y=s[l];l++,r.set(y.dataIndex,!0);for(var b=y.outEdges,f=0,S=b.length,w=void 0,M=void 0;f<S;f++)w=b[f],M=w.dataIndex,M>=0&&!e.hasKey(M)&&(e.set(M,!0),s.push(w.node2))}}}return{edge:e.keys(),node:r.keys()}},t})(),NJ=(function(){function t(e,r,n){this.dataIndex=-1,this.node1=e,this.node2=r,this.dataIndex=n??-1}return t.prototype.getModel=function(e){if(!(this.dataIndex<0)){var r=this.hostGraph,n=r.edgeData.getItemModel(this.dataIndex);return n.getModel(e)}},t.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},t.prototype.getTrajectoryDataIndices=function(){var e=Qe(),r=Qe();e.set(this.dataIndex,!0);for(var n=[this.node1],a=[this.node2],i=0;i<n.length;){var o=n[i];i++,r.set(o.dataIndex,!0);for(var s=o.inEdges,l=0,u=s.length,c=void 0,f=void 0;l<u;l++)c=o.inEdges[l],f=c.dataIndex,f>=0&&!e.hasKey(f)&&(e.set(f,!0),n.push(c.node1))}for(i=0;i<a.length;){var d=a[i];i++,r.set(d.dataIndex,!0);for(var v=d.outEdges,l=0,u=v.length,g=void 0,y=void 0;l<u;l++)g=d.outEdges[l],y=g.dataIndex,y>=0&&!e.hasKey(y)&&(e.set(y,!0),a.push(g.node2))}return{edge:e.keys(),node:r.keys()}},t})();function RJ(t,e){return{getValue:function(r){var n=this[t][e];return n.getStore().get(n.getDimensionIndex(r||"value"),this.dataIndex)},setVisual:function(r,n){this.dataIndex>=0&&this[t][e].setItemVisual(this.dataIndex,r,n)},getVisual:function(r){return this[t][e].getItemVisual(this.dataIndex,r)},setLayout:function(r,n){this.dataIndex>=0&&this[t][e].setItemLayout(this.dataIndex,r,n)},getLayout:function(){return this[t][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[t][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[t][e].getRawIndex(this.dataIndex)}}}ja(pv,RJ("hostGraph","data"));ja(NJ,RJ("hostGraph","edgeData"));function jI(t,e,r,n,a){for(var i=new bLe(n),o=0;o<t.length;o++)i.addNode(Wi(t[o].id,t[o].name,o),o);for(var s=[],l=[],u=0,o=0;o<e.length;o++){var c=e[o],f=c.source,d=c.target;i.addEdge(f,d,u)&&(l.push(c),s.push(Wi(Ja(c.id,null),f+" > "+d)),u++)}var v=r.get("coordinateSystem"),g;if(v==="cartesian2d"||v==="polar"||v==="matrix")g=Rf(t,r);else{var y=x_.get(v),b=y?y.dimensions||[]:[];Vt(b,"value")<0&&b.concat(["value"]);var S=S_(t,{coordDimensions:b,encodeDefine:r.getEncode()}).dimensions;g=new Lo(S,r),g.initData(t)}var w=new Lo(["value"],r);return w.initData(l,s),a&&a(g,w),hJ({mainData:g,struct:i,structAttr:"graph",datas:{node:g,edge:w},datasAttr:{node:"data",edge:"edgeData"}}),i.update(),i}var SLe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.hasSymbolVisual=!0,r}return e.prototype.init=function(r){t.prototype.init.apply(this,arguments);var n=this;function a(){return n._categoriesData}this.legendVisualProvider=new Qm(a,a),this.fillDataTextStyle(r.edges||r.links),this._updateCategoriesData()},e.prototype.mergeOption=function(r){t.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(r.edges||r.links),this._updateCategoriesData()},e.prototype.mergeDefaultAndTheme=function(r){t.prototype.mergeDefaultAndTheme.apply(this,arguments),Xv(r,"edgeLabel",["show"])},e.prototype.getInitialData=function(r,n){var a=r.edges||r.links||[],i=r.data||r.nodes||[],o=this;if(i&&a){lLe(this);var s=jI(i,a,this,!0,l);return Y(s.edges,function(u){uLe(u.node1,u.node2,this,u.dataIndex)},this),s.data}function l(u,c){u.wrapMethod("getItemModel",function(g){var y=o._categoriesModels,b=g.getShallow("category"),S=y[b];return S&&(S.parentModel=g.parentModel,g.parentModel=S),g});var f=ar.prototype.getModel;function d(g,y){var b=f.call(this,g,y);return b.resolveParentPath=v,b}c.wrapMethod("getItemModel",function(g){return g.resolveParentPath=v,g.getModel=d,g});function v(g){if(g&&(g[0]==="label"||g[1]==="label")){var y=g.slice();return g[0]==="label"?y[0]="edgeLabel":g[1]==="label"&&(y[1]="edgeLabel"),y}return g}}},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.getCategoriesData=function(){return this._categoriesData},e.prototype.formatTooltip=function(r,n,a){if(a==="edge"){var i=this.getData(),o=this.getDataParams(r,a),s=i.graph.getEdgeByIndex(r),l=i.getName(s.node1.dataIndex),u=i.getName(s.node2.dataIndex),c=[];return l!=null&&c.push(l),u!=null&&c.push(u),Ia("nameValue",{name:c.join(" > "),value:o.value,noValue:o.value==null})}var f=VX({series:this,dataIndex:r,multipleSeries:n});return f},e.prototype._updateCategoriesData=function(){var r=Re(this.option.categories||[],function(a){return a.value!=null?a:Ae({value:0},a)}),n=new Lo(["value"],this);n.initData(r),this._categoriesData=n,this._categoriesModels=n.mapArray(function(a){return n.getItemModel(a)})},e.prototype.setZoom=function(r){this.option.zoom=r},e.prototype.setCenter=function(r){this.option.center=r},e.prototype.isAnimationEnabled=function(){return t.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))},e.type="series.graph",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:ve.color.neutral50,width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:ve.color.primary}}},e})(Sn);function wLe(t){t.registerChartView(_Le),t.registerSeriesModel(SLe),t.registerProcessor(nLe),t.registerVisual(aLe),t.registerVisual(iLe),t.registerLayout(cLe),t.registerLayout(t.PRIORITY.VISUAL.POST_CHART_LAYOUT,hLe),t.registerLayout(vLe),t.registerCoordinateSystem("graphView",{dimensions:_p.dimensions,create:gLe}),t.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},_a),t.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},_a),t.registerAction({type:"graphRoam",event:"graphRoam",update:"none"},function(e,r,n){r.eachComponent({mainType:"series",query:e},function(a){var i=n.getViewOfSeriesModel(a);i&&(e.dx!=null&&e.dy!=null&&i.updateViewOnPan(a,n,e),e.zoom!=null&&e.originX!=null&&e.originY!=null&&i.updateViewOnZoom(a,n,e));var o=a.coordinateSystem,s=PC(o,e,a.get("scaleLimit"));a.setCenter&&a.setCenter(s.center),a.setZoom&&a.setZoom(s.zoom)})})}var IG=(function(t){ye(e,t);function e(r,n,a){var i=t.call(this)||this;wt(i).dataType="node",i.z2=2;var o=new xr;return i.setTextContent(o),i.updateData(r,n,a,!0),i}return e.prototype.updateData=function(r,n,a,i){var o=this,s=r.graph.getNodeByIndex(n),l=r.hostModel,u=s.getModel(),c=u.getModel("emphasis"),f=r.getItemLayout(n),d=Ae(oc(u.getModel("itemStyle"),f,!0),f),v=this;if(isNaN(d.startAngle)){v.setShape(d);return}i?v.setShape(d):Sr(v,{shape:d},l,n);var g=Ae(oc(u.getModel("itemStyle"),f,!0),f);o.setShape(g),o.useStyle(r.getItemVisual(n,"style")),ti(o,u),this._updateLabel(l,u,s),r.setItemGraphicEl(n,v),ti(v,u,"itemStyle");var y=c.get("focus");Wn(this,y==="adjacency"?s.getAdjacentDataIndices():y,c.get("blurScope"),c.get("disabled"))},e.prototype._updateLabel=function(r,n,a){var i=this.getTextContent(),o=a.getLayout(),s=(o.startAngle+o.endAngle)/2,l=Math.cos(s),u=Math.sin(s),c=n.getModel("label");i.ignore=!c.get("show");var f=ri(n),d=a.getVisual("style");xi(i,f,{labelFetcher:{getFormattedLabel:function(w,M,A,D,R,N){return r.getFormattedLabel(w,M,"node",D,ks(R,f.normal&&f.normal.get("formatter"),n.get("name")),N)}},labelDataIndex:a.dataIndex,defaultText:a.dataIndex+"",inheritColor:d.fill,defaultOpacity:d.opacity,defaultOutsidePosition:"startArc"});var v=c.get("position")||"outside",g=c.get("distance")||0,y;v==="outside"?y=o.r+g:y=(o.r+o.r0)/2,this.textConfig={inside:v!=="outside"};var b=v!=="outside"?c.get("align")||"center":l>0?"left":"right",S=v!=="outside"?c.get("verticalAlign")||"middle":u>0?"top":"bottom";i.attr({x:l*y+o.cx,y:u*y+o.cy,rotation:0,style:{align:b,verticalAlign:S}})},e})(fo),TLe=(function(t){ye(e,t);function e(r,n,a,i){var o=t.call(this)||this;return wt(o).dataType="edge",o.updateData(r,n,a,i,!0),o}return e.prototype.buildPath=function(r,n){r.moveTo(n.s1[0],n.s1[1]);var a=.7,i=n.clockwise;r.arc(n.cx,n.cy,n.r,n.sStartAngle,n.sEndAngle,!i),r.bezierCurveTo((n.cx-n.s2[0])*a+n.s2[0],(n.cy-n.s2[1])*a+n.s2[1],(n.cx-n.t1[0])*a+n.t1[0],(n.cy-n.t1[1])*a+n.t1[1],n.t1[0],n.t1[1]),r.arc(n.cx,n.cy,n.r,n.tStartAngle,n.tEndAngle,!i),r.bezierCurveTo((n.cx-n.t2[0])*a+n.t2[0],(n.cy-n.t2[1])*a+n.t2[1],(n.cx-n.s1[0])*a+n.s1[0],(n.cy-n.s1[1])*a+n.s1[1],n.s1[0],n.s1[1]),r.closePath()},e.prototype.updateData=function(r,n,a,i,o){var s=r.hostModel,l=n.graph.getEdgeByIndex(a),u=l.getLayout(),c=l.node1.getModel(),f=n.getItemModel(l.dataIndex),d=f.getModel("lineStyle"),v=f.getModel("emphasis"),g=v.get("focus"),y=Ae(oc(c.getModel("itemStyle"),u,!0),u),b=this;if(isNaN(y.sStartAngle)||isNaN(y.tStartAngle)){b.setShape(y);return}o?(b.setShape(y),OG(b,l,r,d)):(Dl(b),OG(b,l,r,d),Sr(b,{shape:y},s,a)),Wn(this,g==="adjacency"?l.getAdjacentDataIndices():g,v.get("blurScope"),v.get("disabled")),ti(b,f,"lineStyle"),n.setItemGraphicEl(l.dataIndex,b)},e})(Jt);function OG(t,e,r,n){var a=e.node1,i=e.node2,o=t.style;t.setStyle(n.getLineStyle());var s=n.get("color");switch(s){case"source":o.fill=r.getItemVisual(a.dataIndex,"style").fill,o.decal=a.getVisual("style").decal;break;case"target":o.fill=r.getItemVisual(i.dataIndex,"style").fill,o.decal=i.getVisual("style").decal;break;case"gradient":var l=r.getItemVisual(a.dataIndex,"style").fill,u=r.getItemVisual(i.dataIndex,"style").fill;if(We(l)&&We(u)){var c=t.shape,f=(c.s1[0]+c.s2[0])/2,d=(c.s1[1]+c.s2[1])/2,v=(c.t1[0]+c.t2[0])/2,g=(c.t1[1]+c.t2[1])/2;o.fill=new Hm(f,d,v,g,[{offset:0,color:l},{offset:1,color:u}],!0)}break}}var CLe=Math.PI/180,MLe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.init=function(r,n){},e.prototype.render=function(r,n,a){var i=r.getData(),o=this._data,s=this.group,l=-r.get("startAngle")*CLe;if(i.diff(o).add(function(c){var f=i.getItemLayout(c);if(f){var d=new IG(i,c,l);wt(d).dataIndex=c,s.add(d)}}).update(function(c,f){var d=o.getItemGraphicEl(f),v=i.getItemLayout(c);if(!v){d&&ff(d,r,f);return}d?d.updateData(i,c,l):d=new IG(i,c,l),s.add(d)}).remove(function(c){var f=o.getItemGraphicEl(c);f&&ff(f,r,c)}).execute(),!o){var u=r.get("center");this.group.scaleX=.01,this.group.scaleY=.01,this.group.originX=Ue(u[0],a.getWidth()),this.group.originY=Ue(u[1],a.getHeight()),zn(this.group,{scaleX:1,scaleY:1},r)}this._data=i,this.renderEdges(r,l)},e.prototype.renderEdges=function(r,n){var a=r.getData(),i=r.getEdgeData(),o=this._edgeData,s=this.group;i.diff(o).add(function(l){var u=new TLe(a,i,l,n);wt(u).dataIndex=l,s.add(u)}).update(function(l,u){var c=o.getItemGraphicEl(u);c.updateData(a,i,l,n),s.add(c)}).remove(function(l){var u=o.getItemGraphicEl(l);u&&ff(u,r,l)}).execute(),this._edgeData=i},e.prototype.dispose=function(){},e.type="chord",e})(cn),ALe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.init=function(r){t.prototype.init.apply(this,arguments),this.fillDataTextStyle(r.edges||r.links),this.legendVisualProvider=new Qm(Ye(this.getData,this),Ye(this.getRawData,this))},e.prototype.mergeOption=function(r){t.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(r.edges||r.links)},e.prototype.getInitialData=function(r,n){var a=r.edges||r.links||[],i=r.data||r.nodes||[];if(i&&a){var o=jI(i,a,this,!0,s);return o.data}function s(l,u){var c=ar.prototype.getModel;function f(v,g){var y=c.call(this,v,g);return y.resolveParentPath=d,y}u.wrapMethod("getItemModel",function(v){return v.resolveParentPath=d,v.getModel=f,v});function d(v){if(v&&(v[0]==="label"||v[1]==="label")){var g=v.slice();return v[0]==="label"?g[0]="edgeLabel":v[1]==="label"&&(g[1]="edgeLabel"),g}return v}}},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.formatTooltip=function(r,n,a){var i=this.getDataParams(r,a);if(a==="edge"){var o=this.getData(),s=o.graph.getEdgeByIndex(r),l=o.getName(s.node1.dataIndex),u=o.getName(s.node2.dataIndex),c=[];return l!=null&&c.push(l),u!=null&&c.push(u),Ia("nameValue",{name:c.join(" > "),value:i.value,noValue:i.value==null})}return Ia("nameValue",{name:i.name,value:i.value,noValue:i.value==null})},e.prototype.getDataParams=function(r,n){var a=t.prototype.getDataParams.call(this,r,n);if(n==="node"){var i=this.getData(),o=this.getGraph().getNodeByIndex(r);if(a.name==null&&(a.name=i.getName(r)),a.value==null){var s=o.getLayout().value;a.value=s}}return a},e.type="series.chord",e.defaultOption={z:2,coordinateSystem:"none",legendHoverLink:!0,colorBy:"data",left:0,top:0,right:0,bottom:0,width:null,height:null,center:["50%","50%"],radius:["70%","80%"],clockwise:!0,startAngle:90,endAngle:"auto",minAngle:0,padAngle:3,itemStyle:{borderRadius:[0,0,5,5]},lineStyle:{width:0,color:"source",opacity:.2},label:{show:!0,position:"outside",distance:5},emphasis:{focus:"adjacency",lineStyle:{opacity:.5}}},e})(Sn),KD=Math.PI/180;function DLe(t,e){t.eachSeriesByType("chord",function(r){LLe(r,e)})}function LLe(t,e){var r=t.getData(),n=r.graph,a=t.getEdgeData(),i=a.count();if(i){var o=iX(t,e),s=o.cx,l=o.cy,u=o.r,c=o.r0,f=Math.max((t.get("padAngle")||0)*KD,0),d=Math.max((t.get("minAngle")||0)*KD,0),v=-t.get("startAngle")*KD,g=v+Math.PI*2,y=t.get("clockwise"),b=y?1:-1,S=[v,g];hC(S,!y);var w=S[0],M=S[1],A=M-w,D=r.getSum("value")===0&&a.getSum("value")===0,R=[],N=0;n.eachEdge(function(W){var J=D?1:W.getValue("value");D&&(J>0||d)&&(N+=2);var ee=W.node1.dataIndex,K=W.node2.dataIndex;R[ee]=(R[ee]||0)+J,R[K]=(R[K]||0)+J});var I=0;if(n.eachNode(function(W){var J=W.getValue("value");isNaN(J)||(R[W.dataIndex]=Math.max(J,R[W.dataIndex]||0)),!D&&(R[W.dataIndex]>0||d)&&N++,I+=R[W.dataIndex]||0}),!(N===0||I===0)){f*N>=Math.abs(A)&&(f=Math.max(0,(Math.abs(A)-d*N)/N)),(f+d)*N>=Math.abs(A)&&(d=(Math.abs(A)-f*N)/N);var z=(A-f*N*b)/I,B=0,V=0,G=0;n.eachNode(function(W){var J=R[W.dataIndex]||0,ee=z*(I?J:1)*b;Math.abs(ee)<d?B+=d-Math.abs(ee):(V+=Math.abs(ee)-d,G+=Math.abs(ee)),W.setLayout({angle:ee,value:J})});var F=!1;if(B>V){var q=B/V;n.eachNode(function(W){var J=W.getLayout().angle;Math.abs(J)>=d?W.setLayout({angle:J*q,ratio:q},!0):W.setLayout({angle:d,ratio:d===0?1:J/d},!0)})}else n.eachNode(function(W){if(!F){var J=W.getLayout().angle,ee=Math.min(J/G,1),K=ee*B;J-K<d&&(F=!0)}});var Q=B;n.eachNode(function(W){if(!(Q<=0)){var J=W.getLayout().angle;if(J>d&&d>0){var ee=F?1:Math.min(J/G,1),K=J-d,ne=Math.min(K,Math.min(Q,B*ee));Q-=ne,W.setLayout({angle:J-ne,ratio:(J-ne)/J},!0)}else d>0&&W.setLayout({angle:d,ratio:J===0?1:d/J},!0)}});var H=w,X=[];n.eachNode(function(W){var J=Math.max(W.getLayout().angle,d);W.setLayout({cx:s,cy:l,r0:c,r:u,startAngle:H,endAngle:H+J*b,clockwise:y},!0),X[W.dataIndex]=H,H+=(J+f)*b}),n.eachEdge(function(W){var J=D?1:W.getValue("value"),ee=z*(I?J:1)*b,K=W.node1.dataIndex,ne=X[K]||0,ie=Math.abs((W.node1.getLayout().ratio||1)*ee),le=ne+ie*b,me=[s+c*Math.cos(ne),l+c*Math.sin(ne)],we=[s+c*Math.cos(le),l+c*Math.sin(le)],pe=W.node2.dataIndex,Pe=X[pe]||0,ke=Math.abs((W.node2.getLayout().ratio||1)*ee),ze=Pe+ke*b,Ie=[s+c*Math.cos(Pe),l+c*Math.sin(Pe)],Oe=[s+c*Math.cos(ze),l+c*Math.sin(ze)];W.setLayout({s1:me,s2:we,sStartAngle:ne,sEndAngle:le,t1:Ie,t2:Oe,tStartAngle:Pe,tEndAngle:ze,cx:s,cy:l,r:c,value:J,clockwise:y}),X[K]=le,X[pe]=ze})}}}function ELe(t){t.registerChartView(MLe),t.registerSeriesModel(ALe),t.registerLayout(t.PRIORITY.VISUAL.POST_CHART_LAYOUT,DLe),t.registerProcessor(Xm("chord"))}var NLe=(function(){function t(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return t})(),RLe=(function(t){ye(e,t);function e(r){var n=t.call(this,r)||this;return n.type="pointer",n}return e.prototype.getDefaultShape=function(){return new NLe},e.prototype.buildPath=function(r,n){var a=Math.cos,i=Math.sin,o=n.r,s=n.width,l=n.angle,u=n.x-a(l)*s*(s>=o/3?1:2),c=n.y-i(l)*s*(s>=o/3?1:2);l=n.angle-Math.PI/2,r.moveTo(u,c),r.lineTo(n.x+a(l)*s,n.y+i(l)*s),r.lineTo(n.x+a(n.angle)*o,n.y+i(n.angle)*o),r.lineTo(n.x-a(l)*s,n.y-i(l)*s),r.lineTo(u,c)},e})(Jt);function PLe(t,e){var r=t.get("center"),n=e.getWidth(),a=e.getHeight(),i=Math.min(n,a),o=Ue(r[0],e.getWidth()),s=Ue(r[1],e.getHeight()),l=Ue(t.get("radius"),i/2);return{cx:o,cy:s,r:l}}function H1(t,e){var r=t==null?"":t+"";return e&&(We(e)?r=e.replace("{value}",r):ot(e)&&(r=e(t))),r}var kLe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.render=function(r,n,a){this.group.removeAll();var i=r.get(["axisLine","lineStyle","color"]),o=PLe(r,a);this._renderMain(r,n,a,i,o),this._data=r.getData()},e.prototype.dispose=function(){},e.prototype._renderMain=function(r,n,a,i,o){var s=this.group,l=r.get("clockwise"),u=-r.get("startAngle")/180*Math.PI,c=-r.get("endAngle")/180*Math.PI,f=r.getModel("axisLine"),d=f.get("roundCap"),v=d?zw:fo,g=f.get("show"),y=f.getModel("lineStyle"),b=y.get("width"),S=[u,c];hC(S,!l),u=S[0],c=S[1];for(var w=c-u,M=u,A=[],D=0;g&&D<i.length;D++){var R=Math.min(Math.max(i[D][0],0),1);c=u+w*R;var N=new v({shape:{startAngle:M,endAngle:c,cx:o.cx,cy:o.cy,clockwise:l,r0:o.r-b,r:o.r},silent:!0});N.setStyle({fill:i[D][1]}),N.setStyle(y.getLineStyle(["color","width"])),A.push(N),M=c}A.reverse(),Y(A,function(z){return s.add(z)});var I=function(z){if(z<=0)return i[0][1];var B;for(B=0;B<i.length;B++)if(i[B][0]>=z&&(B===0?0:i[B-1][0])<z)return i[B][1];return i[B-1][1]};this._renderTicks(r,n,a,I,o,u,c,l,b),this._renderTitleAndDetail(r,n,a,I,o),this._renderAnchor(r,o),this._renderPointer(r,n,a,I,o,u,c,l,b)},e.prototype._renderTicks=function(r,n,a,i,o,s,l,u,c){for(var f=this.group,d=o.cx,v=o.cy,g=o.r,y=+r.get("min"),b=+r.get("max"),S=r.getModel("splitLine"),w=r.getModel("axisTick"),M=r.getModel("axisLabel"),A=r.get("splitNumber"),D=w.get("splitNumber"),R=Ue(S.get("length"),g),N=Ue(w.get("length"),g),I=s,z=(l-s)/A,B=z/D,V=S.getModel("lineStyle").getLineStyle(),G=w.getModel("lineStyle").getLineStyle(),F=S.get("distance"),q,Q,H=0;H<=A;H++){if(q=Math.cos(I),Q=Math.sin(I),S.get("show")){var X=F?F+c:c,W=new Na({shape:{x1:q*(g-X)+d,y1:Q*(g-X)+v,x2:q*(g-R-X)+d,y2:Q*(g-R-X)+v},style:V,silent:!0});V.stroke==="auto"&&W.setStyle({stroke:i(H/A)}),f.add(W)}if(M.get("show")){var X=M.get("distance")+F,J=H1(Ea(H/A*(b-y)+y),M.get("formatter")),ee=i(H/A),K=q*(g-R-X)+d,ne=Q*(g-R-X)+v,ie=M.get("rotate"),le=0;ie==="radial"?(le=-I+2*Math.PI,le>Math.PI/2&&(le+=Math.PI)):ie==="tangential"?le=-I-Math.PI/2:vr(ie)&&(le=ie*Math.PI/180),le===0?f.add(new xr({style:bn(M,{text:J,x:K,y:ne,verticalAlign:Q<-.8?"top":Q>.8?"bottom":"middle",align:q<-.4?"left":q>.4?"right":"center"},{inheritColor:ee}),silent:!0})):f.add(new xr({style:bn(M,{text:J,x:K,y:ne,verticalAlign:"middle",align:"center"},{inheritColor:ee}),silent:!0,originX:K,originY:ne,rotation:le}))}if(w.get("show")&&H!==A){var X=w.get("distance");X=X?X+c:c;for(var me=0;me<=D;me++){q=Math.cos(I),Q=Math.sin(I);var we=new Na({shape:{x1:q*(g-X)+d,y1:Q*(g-X)+v,x2:q*(g-N-X)+d,y2:Q*(g-N-X)+v},silent:!0,style:G});G.stroke==="auto"&&we.setStyle({stroke:i((H+me/D)/A)}),f.add(we),I+=B}I-=B}else I+=z}},e.prototype._renderPointer=function(r,n,a,i,o,s,l,u,c){var f=this.group,d=this._data,v=this._progressEls,g=[],y=r.get(["pointer","show"]),b=r.getModel("progress"),S=b.get("show"),w=r.getData(),M=w.mapDimension("value"),A=+r.get("min"),D=+r.get("max"),R=[A,D],N=[s,l];function I(B,V){var G=w.getItemModel(B),F=G.getModel("pointer"),q=Ue(F.get("width"),o.r),Q=Ue(F.get("length"),o.r),H=r.get(["pointer","icon"]),X=F.get("offsetCenter"),W=Ue(X[0],o.r),J=Ue(X[1],o.r),ee=F.get("keepAspect"),K;return H?K=Oa(H,W-q/2,J-Q,q,Q,null,ee):K=new RLe({shape:{angle:-Math.PI/2,width:q,r:Q,x:W,y:J}}),K.rotation=-(V+Math.PI/2),K.x=o.cx,K.y=o.cy,K}function z(B,V){var G=b.get("roundCap"),F=G?zw:fo,q=b.get("overlap"),Q=q?b.get("width"):c/w.count(),H=q?o.r-Q:o.r-(B+1)*Q,X=q?o.r:o.r-B*Q,W=new F({shape:{startAngle:s,endAngle:V,cx:o.cx,cy:o.cy,clockwise:u,r0:H,r:X}});return q&&(W.z2=kr(w.get(M,B),[A,D],[100,0],!0)),W}(S||y)&&(w.diff(d).add(function(B){var V=w.get(M,B);if(y){var G=I(B,s);zn(G,{rotation:-((isNaN(+V)?N[0]:kr(V,R,N,!0))+Math.PI/2)},r),f.add(G),w.setItemGraphicEl(B,G)}if(S){var F=z(B,s),q=b.get("clip");zn(F,{shape:{endAngle:kr(V,R,N,q)}},r),f.add(F),tN(r.seriesIndex,w.dataType,B,F),g[B]=F}}).update(function(B,V){var G=w.get(M,B);if(y){var F=d.getItemGraphicEl(V),q=F?F.rotation:s,Q=I(B,q);Q.rotation=q,Sr(Q,{rotation:-((isNaN(+G)?N[0]:kr(G,R,N,!0))+Math.PI/2)},r),f.add(Q),w.setItemGraphicEl(B,Q)}if(S){var H=v[V],X=H?H.shape.endAngle:s,W=z(B,X),J=b.get("clip");Sr(W,{shape:{endAngle:kr(G,R,N,J)}},r),f.add(W),tN(r.seriesIndex,w.dataType,B,W),g[B]=W}}).execute(),w.each(function(B){var V=w.getItemModel(B),G=V.getModel("emphasis"),F=G.get("focus"),q=G.get("blurScope"),Q=G.get("disabled");if(y){var H=w.getItemGraphicEl(B),X=w.getItemVisual(B,"style"),W=X.fill;if(H instanceof Ni){var J=H.style;H.useStyle(Ae({image:J.image,x:J.x,y:J.y,width:J.width,height:J.height},X))}else H.useStyle(X),H.type!=="pointer"&&H.setColor(W);H.setStyle(V.getModel(["pointer","itemStyle"]).getItemStyle()),H.style.fill==="auto"&&H.setStyle("fill",i(kr(w.get(M,B),R,[0,1],!0))),H.z2EmphasisLift=0,ti(H,V),Wn(H,F,q,Q)}if(S){var ee=g[B];ee.useStyle(w.getItemVisual(B,"style")),ee.setStyle(V.getModel(["progress","itemStyle"]).getItemStyle()),ee.z2EmphasisLift=0,ti(ee,V),Wn(ee,F,q,Q)}}),this._progressEls=g)},e.prototype._renderAnchor=function(r,n){var a=r.getModel("anchor"),i=a.get("show");if(i){var o=a.get("size"),s=a.get("icon"),l=a.get("offsetCenter"),u=a.get("keepAspect"),c=Oa(s,n.cx-o/2+Ue(l[0],n.r),n.cy-o/2+Ue(l[1],n.r),o,o,null,u);c.z2=a.get("showAbove")?1:0,c.setStyle(a.getModel("itemStyle").getItemStyle()),this.group.add(c)}},e.prototype._renderTitleAndDetail=function(r,n,a,i,o){var s=this,l=r.getData(),u=l.mapDimension("value"),c=+r.get("min"),f=+r.get("max"),d=new st,v=[],g=[],y=r.isAnimationEnabled(),b=r.get(["pointer","showAbove"]);l.diff(this._data).add(function(S){v[S]=new xr({silent:!0}),g[S]=new xr({silent:!0})}).update(function(S,w){v[S]=s._titleEls[w],g[S]=s._detailEls[w]}).execute(),l.each(function(S){var w=l.getItemModel(S),M=l.get(u,S),A=new st,D=i(kr(M,[c,f],[0,1],!0)),R=w.getModel("title");if(R.get("show")){var N=R.get("offsetCenter"),I=o.cx+Ue(N[0],o.r),z=o.cy+Ue(N[1],o.r),B=v[S];B.attr({z2:b?0:2,style:bn(R,{x:I,y:z,text:l.getName(S),align:"center",verticalAlign:"middle"},{inheritColor:D})}),A.add(B)}var V=w.getModel("detail");if(V.get("show")){var G=V.get("offsetCenter"),F=o.cx+Ue(G[0],o.r),q=o.cy+Ue(G[1],o.r),Q=Ue(V.get("width"),o.r),H=Ue(V.get("height"),o.r),X=r.get(["progress","show"])?l.getItemVisual(S,"style").fill:D,B=g[S],W=V.get("formatter");B.attr({z2:b?0:2,style:bn(V,{x:F,y:q,text:H1(M,W),width:isNaN(Q)?null:Q,height:isNaN(H)?null:H,align:"center",verticalAlign:"middle"},{inheritColor:X})}),z$(B,{normal:V},M,function(ee){return H1(ee,W)}),y&&B$(B,S,l,r,{getFormattedLabel:function(ee,K,ne,ie,le,me){return H1(me?me.interpolatedValue:M,W)}}),A.add(B)}d.add(A)}),this.group.add(d),this._titleEls=v,this._detailEls=g},e.type="gauge",e})(cn),ILe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.visualStyleAccessPath="itemStyle",r}return e.prototype.getInitialData=function(r,n){return Km(this,["value"])},e.type="series.gauge",e.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,ve.color.neutral10]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:ve.color.axisTick,width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:ve.color.axisTickMinor,width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:ve.color.axisLabel,fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:ve.color.neutral00,borderWidth:0,borderColor:ve.color.theme[0]}},title:{show:!0,offsetCenter:[0,"20%"],color:ve.color.secondary,fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:ve.color.transparent,borderWidth:0,borderColor:ve.color.neutral40,width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:ve.color.primary,fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},e})(Sn);function OLe(t){t.registerChartView(kLe),t.registerSeriesModel(ILe)}var jLe=["itemStyle","opacity"],zLe=(function(t){ye(e,t);function e(r,n){var a=t.call(this)||this,i=a,o=new Yi,s=new xr;return i.setTextContent(s),a.setTextGuideLine(o),a.updateData(r,n,!0),a}return e.prototype.updateData=function(r,n,a){var i=this,o=r.hostModel,s=r.getItemModel(n),l=r.getItemLayout(n),u=s.getModel("emphasis"),c=s.get(jLe);c=c??1,a||Dl(i),i.useStyle(r.getItemVisual(n,"style")),i.style.lineJoin="round",a?(i.setShape({points:l.points}),i.style.opacity=0,zn(i,{style:{opacity:c}},o,n)):Sr(i,{style:{opacity:c},shape:{points:l.points}},o,n),ti(i,s),this._updateLabel(r,n),Wn(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},e.prototype._updateLabel=function(r,n){var a=this,i=this.getTextGuideLine(),o=a.getTextContent(),s=r.hostModel,l=r.getItemModel(n),u=r.getItemLayout(n),c=u.label,f=r.getItemVisual(n,"style"),d=f.fill;xi(o,ri(l),{labelFetcher:r.hostModel,labelDataIndex:n,defaultOpacity:f.opacity,defaultText:r.getName(n)},{normal:{align:c.textAlign,verticalAlign:c.verticalAlign}});var v=l.getModel("label"),g=v.get("color"),y=g==="inherit"?d:null;a.setTextConfig({local:!0,inside:!!c.inside,insideStroke:y,outsideFill:y});var b=c.linePoints;i.setShape({points:b}),a.textGuideLineConfig={anchor:b?new ht(b[0][0],b[0][1]):null},Sr(o,{style:{x:c.x,y:c.y}},s,n),o.attr({rotation:c.rotation,originX:c.x,originY:c.y,z2:10}),cI(a,fI(l),{stroke:d})},e})(ho),BLe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.ignoreLabelLineUpdate=!0,r}return e.prototype.render=function(r,n,a){var i=r.getData(),o=this._data,s=this.group;i.diff(o).add(function(l){var u=new zLe(i,l);i.setItemGraphicEl(l,u),s.add(u)}).update(function(l,u){var c=o.getItemGraphicEl(u);c.updateData(i,l),s.add(c),i.setItemGraphicEl(l,c)}).remove(function(l){var u=o.getItemGraphicEl(l);ff(u,r,l)}).execute(),this._data=i},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.prototype.dispose=function(){},e.type="funnel",e})(cn),VLe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.init=function(r){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new Qm(Ye(this.getData,this),Ye(this.getRawData,this)),this._defaultLabelLine(r)},e.prototype.getInitialData=function(r,n){return Km(this,{coordDimensions:["value"],encodeDefaulter:zt(Gk,this)})},e.prototype._defaultLabelLine=function(r){Xv(r,"labelLine",["show"]);var n=r.labelLine,a=r.emphasis.labelLine;n.show=n.show&&r.label.show,a.show=a.show&&r.emphasis.label.show},e.prototype.getDataParams=function(r){var n=this.getData(),a=t.prototype.getDataParams.call(this,r),i=n.mapDimension("value"),o=n.getSum(i);return a.percent=o?+(n.get(i,r)/o*100).toFixed(2):0,a.$vars.push("percent"),a},e.type="series.funnel",e.defaultOption={coordinateSystemUsage:"box",z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:65,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:ve.color.neutral00,borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:ve.color.primary}}},e})(Sn);function FLe(t,e){for(var r=t.mapDimension("value"),n=t.mapArray(r,function(l){return l}),a=[],i=e==="ascending",o=0,s=t.count();o<s;o++)a[o]=o;return ot(e)?a.sort(e):e!=="none"&&a.sort(function(l,u){return i?n[l]-n[u]:n[u]-n[l]}),a}function HLe(t){var e=t.hostModel,r=e.get("orient");t.each(function(n){var a=t.getItemModel(n),i=a.getModel("label"),o=i.get("position"),s=a.getModel("labelLine"),l=t.getItemLayout(n),u=l.points,c=o==="inner"||o==="inside"||o==="center"||o==="insideLeft"||o==="insideRight",f,d,v,g;if(c)o==="insideLeft"?(d=(u[0][0]+u[3][0])/2+5,v=(u[0][1]+u[3][1])/2,f="left"):o==="insideRight"?(d=(u[1][0]+u[2][0])/2-5,v=(u[1][1]+u[2][1])/2,f="right"):(d=(u[0][0]+u[1][0]+u[2][0]+u[3][0])/4,v=(u[0][1]+u[1][1]+u[2][1]+u[3][1])/4,f="center"),g=[[d,v],[d,v]];else{var y=void 0,b=void 0,S=void 0,w=void 0,M=s.get("length");o==="left"?(y=(u[3][0]+u[0][0])/2,b=(u[3][1]+u[0][1])/2,S=y-M,d=S-5,f="right"):o==="right"?(y=(u[1][0]+u[2][0])/2,b=(u[1][1]+u[2][1])/2,S=y+M,d=S+5,f="left"):o==="top"?(y=(u[3][0]+u[0][0])/2,b=(u[3][1]+u[0][1])/2,w=b-M,v=w-5,f="center"):o==="bottom"?(y=(u[1][0]+u[2][0])/2,b=(u[1][1]+u[2][1])/2,w=b+M,v=w+5,f="center"):o==="rightTop"?(y=r==="horizontal"?u[3][0]:u[1][0],b=r==="horizontal"?u[3][1]:u[1][1],r==="horizontal"?(w=b-M,v=w-5,f="center"):(S=y+M,d=S+5,f="top")):o==="rightBottom"?(y=u[2][0],b=u[2][1],r==="horizontal"?(w=b+M,v=w+5,f="center"):(S=y+M,d=S+5,f="bottom")):o==="leftTop"?(y=u[0][0],b=r==="horizontal"?u[0][1]:u[1][1],r==="horizontal"?(w=b-M,v=w-5,f="center"):(S=y-M,d=S-5,f="right")):o==="leftBottom"?(y=r==="horizontal"?u[1][0]:u[3][0],b=r==="horizontal"?u[1][1]:u[2][1],r==="horizontal"?(w=b+M,v=w+5,f="center"):(S=y-M,d=S-5,f="right")):(y=(u[1][0]+u[2][0])/2,b=(u[1][1]+u[2][1])/2,r==="horizontal"?(w=b+M,v=w+5,f="center"):(S=y+M,d=S+5,f="left")),r==="horizontal"?(S=y,d=S):(w=b,v=w),g=[[y,b],[S,w]]}l.label={linePoints:g,x:d,y:v,verticalAlign:"middle",textAlign:f,inside:c}})}function GLe(t,e){t.eachSeriesByType("funnel",function(r){var n=r.getData(),a=n.mapDimension("value"),i=r.get("sort"),o=ni(r,e),s=Yn(r.getBoxLayoutParams(),o.refContainer),l=r.get("orient"),u=s.width,c=s.height,f=FLe(n,i),d=s.x,v=s.y,g=l==="horizontal"?[Ue(r.get("minSize"),c),Ue(r.get("maxSize"),c)]:[Ue(r.get("minSize"),u),Ue(r.get("maxSize"),u)],y=n.getDataExtent(a),b=r.get("min"),S=r.get("max");b==null&&(b=Math.min(y[0],0)),S==null&&(S=y[1]);var w=r.get("funnelAlign"),M=r.get("gap"),A=l==="horizontal"?u:c,D=(A-M*(n.count()-1))/n.count(),R=function(Q,H){if(l==="horizontal"){var X=n.get(a,Q)||0,W=kr(X,[b,S],g,!0),J=void 0;switch(w){case"top":J=v;break;case"center":J=v+(c-W)/2;break;case"bottom":J=v+(c-W);break}return[[H,J],[H,J+W]]}var ee=n.get(a,Q)||0,K=kr(ee,[b,S],g,!0),ne;switch(w){case"left":ne=d;break;case"center":ne=d+(u-K)/2;break;case"right":ne=d+u-K;break}return[[ne,H],[ne+K,H]]};i==="ascending"&&(D=-D,M=-M,l==="horizontal"?d+=u:v+=c,f=f.reverse());for(var N=0;N<f.length;N++){var I=f[N],z=f[N+1],B=n.getItemModel(I);if(l==="horizontal"){var V=B.get(["itemStyle","width"]);V==null?V=D:(V=Ue(V,u),i==="ascending"&&(V=-V));var G=R(I,d),F=R(z,d+V);d+=V+M,n.setItemLayout(I,{points:G.concat(F.slice().reverse())})}else{var q=B.get(["itemStyle","height"]);q==null?q=D:(q=Ue(q,c),i==="ascending"&&(q=-q));var G=R(I,v),F=R(z,v+q);v+=q+M,n.setItemLayout(I,{points:G.concat(F.slice().reverse())})}}HLe(n)})}function ULe(t){t.registerChartView(BLe),t.registerSeriesModel(VLe),t.registerLayout(GLe),t.registerProcessor(Xm("funnel"))}var WLe=.3,YLe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r._dataGroup=new st,r._initialized=!1,r}return e.prototype.init=function(){this.group.add(this._dataGroup)},e.prototype.render=function(r,n,a,i){this._progressiveEls=null;var o=this._dataGroup,s=r.getData(),l=this._data,u=r.coordinateSystem,c=u.dimensions,f=zG(r);s.diff(l).add(d).update(v).remove(g).execute();function d(b){var S=jG(s,o,b,c,u);QD(S,s,b,f)}function v(b,S){var w=l.getItemGraphicEl(S),M=PJ(s,b,c,u);s.setItemGraphicEl(b,w),Sr(w,{shape:{points:M}},r,b),Dl(w),QD(w,s,b,f)}function g(b){var S=l.getItemGraphicEl(b);o.remove(S)}if(!this._initialized){this._initialized=!0;var y=ZLe(u,r,function(){setTimeout(function(){o.removeClipPath()})});o.setClipPath(y)}this._data=s},e.prototype.incrementalPrepareRender=function(r,n,a){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},e.prototype.incrementalRender=function(r,n,a){for(var i=n.getData(),o=n.coordinateSystem,s=o.dimensions,l=zG(n),u=this._progressiveEls=[],c=r.start;c<r.end;c++){var f=jG(i,this._dataGroup,c,s,o);f.incremental=!0,QD(f,i,c,l),u.push(f)}},e.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},e.type="parallel",e})(cn);function ZLe(t,e,r){var n=t.model,a=t.getRect(),i=new $t({shape:{x:a.x,y:a.y,width:a.width,height:a.height}}),o=n.get("layout")==="horizontal"?"width":"height";return i.setShape(o,0),zn(i,{shape:{width:a.width,height:a.height}},e,r),i}function PJ(t,e,r,n){for(var a=[],i=0;i<r.length;i++){var o=r[i],s=t.get(t.mapDimension(o),e);qLe(s,n.getAxis(o).type)||a.push(n.dataToPoint(s,o))}return a}function jG(t,e,r,n,a){var i=PJ(t,r,n,a),o=new Yi({shape:{points:i},z2:10});return e.add(o),t.setItemGraphicEl(r,o),o}function zG(t){var e=t.get("smooth",!0);return e===!0&&(e=WLe),e=xf(e),so(e)&&(e=0),{smooth:e}}function QD(t,e,r,n){t.useStyle(e.getItemVisual(r,"style")),t.style.fill=null,t.setShape("smooth",n.smooth);var a=e.getItemModel(r),i=a.getModel("emphasis");ti(t,a,"lineStyle"),Wn(t,i.get("focus"),i.get("blurScope"),i.get("disabled"))}function qLe(t,e){return e==="category"?t==null:t==null||isNaN(t)}var $Le=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.visualStyleAccessPath="lineStyle",r.visualDrawType="stroke",r}return e.prototype.getInitialData=function(r,n){return Rf(null,this,{useEncodeDefaulter:Ye(XLe,null,this)})},e.prototype.getRawIndicesByActiveState=function(r){var n=this.coordinateSystem,a=this.getData(),i=[];return n.eachActiveState(a,function(o,s){r===o&&i.push(a.getRawIndex(s))}),i},e.type="series.parallel",e.dependencies=["parallel"],e.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},e})(Sn);function XLe(t){var e=t.ecModel.getComponent("parallel",t.get("parallelIndex"));if(e){var r={};return Y(e.dimensions,function(n){var a=KLe(n);r[n]=a}),r}}function KLe(t){return+t.replace("dim","")}var QLe=["lineStyle","opacity"],JLe={seriesType:"parallel",reset:function(t,e){var r=t.coordinateSystem,n={normal:t.get(["lineStyle","opacity"]),active:t.get("activeOpacity"),inactive:t.get("inactiveOpacity")};return{progress:function(a,i){r.eachActiveState(i,function(o,s){var l=n[o];if(o==="normal"&&i.hasItemOption){var u=i.getItemModel(s).get(QLe,!0);u!=null&&(l=u)}var c=i.ensureUniqueItemVisual(s,"style");c.opacity=l},a.start,a.end)}}}};function eEe(t){tEe(t),rEe(t)}function tEe(t){if(!t.parallel){var e=!1;Y(t.series,function(r){r&&r.type==="parallel"&&(e=!0)}),e&&(t.parallel=[{}])}}function rEe(t){var e=gn(t.parallelAxis);Y(e,function(r){if(mt(r)){var n=r.parallelIndex||0,a=gn(t.parallel)[n];a&&a.parallelAxisDefault&&Gt(r,a.parallelAxisDefault,!1)}})}var nEe=5,aEe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.render=function(r,n,a){this._model=r,this._api=a,this._handlers||(this._handlers={},Y(iEe,function(i,o){a.getZr().on(o,this._handlers[o]=Ye(i,this))},this)),Zm(this,"_throttledDispatchExpand",r.get("axisExpandRate"),"fixRate")},e.prototype.dispose=function(r,n){Rx(this,"_throttledDispatchExpand"),Y(this._handlers,function(a,i){n.getZr().off(i,a)}),this._handlers=null},e.prototype._throttledDispatchExpand=function(r){this._dispatchExpand(r)},e.prototype._dispatchExpand=function(r){r&&this._api.dispatchAction(Ae({type:"parallelAxisExpand"},r))},e.type="parallel",e})(Vn),iEe={mousedown:function(t){JD(this,"click")&&(this._mouseDownPoint=[t.offsetX,t.offsetY])},mouseup:function(t){var e=this._mouseDownPoint;if(JD(this,"click")&&e){var r=[t.offsetX,t.offsetY],n=Math.pow(e[0]-r[0],2)+Math.pow(e[1]-r[1],2);if(n>nEe)return;var a=this._model.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]);a.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:a.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(t){if(!(this._mouseDownPoint||!JD(this,"mousemove"))){var e=this._model,r=e.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]),n=r.behavior;n==="jump"&&this._throttledDispatchExpand.debounceNextCall(e.get("axisExpandDebounce")),this._throttledDispatchExpand(n==="none"?null:{axisExpandWindow:r.axisExpandWindow,animation:n==="jump"?null:{duration:0}})}}};function JD(t,e){var r=t._model;return r.get("axisExpandable")&&r.get("axisExpandTriggerOn")===e}var oEe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.init=function(){t.prototype.init.apply(this,arguments),this.mergeOption({})},e.prototype.mergeOption=function(r){var n=this.option;r&&Gt(n,r,!0),this._initDimensions()},e.prototype.contains=function(r,n){var a=r.get("parallelIndex");return a!=null&&n.getComponent("parallel",a)===this},e.prototype.setAxisExpand=function(r){Y(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(n){r.hasOwnProperty(n)&&(this.option[n]=r[n])},this)},e.prototype._initDimensions=function(){var r=this.dimensions=[],n=this.parallelAxisIndex=[],a=Ir(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(i){return(i.get("parallelIndex")||0)===this.componentIndex},this);Y(a,function(i){r.push("dim"+i.get("dim")),n.push(i.componentIndex)})},e.type="parallel",e.dependencies=["parallelAxis"],e.layoutMode="box",e.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},e})(er),sEe=(function(t){ye(e,t);function e(r,n,a,i,o){var s=t.call(this,r,n,a)||this;return s.type=i||"value",s.axisIndex=o,s}return e.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"},e})(xu);function rd(t,e,r,n,a,i){t=t||0;var o=r[1]-r[0];if(a!=null&&(a=Sg(a,[0,o])),i!=null&&(i=Math.max(i,a??0)),n==="all"){var s=Math.abs(e[1]-e[0]);s=Sg(s,[0,o]),a=i=Sg(s,[a,i]),n=0}e[0]=Sg(e[0],r),e[1]=Sg(e[1],r);var l=eL(e,n);e[n]+=t;var u=a||0,c=r.slice();l.sign<0?c[0]+=u:c[1]-=u,e[n]=Sg(e[n],c);var f;return f=eL(e,n),a!=null&&(f.sign!==l.sign||f.span<a)&&(e[1-n]=e[n]+l.sign*a),f=eL(e,n),i!=null&&f.span>i&&(e[1-n]=e[n]+f.sign*i),e}function eL(t,e){var r=t[e]-t[1-e];return{span:Math.abs(r),sign:r>0?-1:r<0?1:e?-1:1}}function Sg(t,e){return Math.min(e[1]!=null?e[1]:1/0,Math.max(e[0]!=null?e[0]:-1/0,t))}var tL=Y,kJ=Math.min,IJ=Math.max,BG=Math.floor,lEe=Math.ceil,VG=Ea,uEe=Math.PI,cEe=(function(){function t(e,r,n){this.type="parallel",this._axesMap=Qe(),this._axesLayout={},this.dimensions=e.dimensions,this._model=e,this._init(e,r,n)}return t.prototype._init=function(e,r,n){var a=e.dimensions,i=e.parallelAxisIndex;tL(a,function(o,s){var l=i[s],u=r.getComponent("parallelAxis",l),c=this._axesMap.set(o,new sEe(o,DC(u),[0,0],u.get("type"),l)),f=c.type==="category";c.onBand=f&&u.get("boundaryGap"),c.inverse=u.get("inverse"),u.axis=c,c.model=u,c.coordinateSystem=u.coordinateSystem=this},this)},t.prototype.update=function(e,r){this._updateAxesFromSeries(this._model,e)},t.prototype.containPoint=function(e){var r=this._makeLayoutInfo(),n=r.axisBase,a=r.layoutBase,i=r.pixelDimIndex,o=e[1-i],s=e[i];return o>=n&&o<=n+r.axisLength&&s>=a&&s<=a+r.layoutLength},t.prototype.getModel=function(){return this._model},t.prototype._updateAxesFromSeries=function(e,r){r.eachSeries(function(n){if(e.contains(n,r)){var a=n.getData();tL(this.dimensions,function(i){var o=this._axesMap.get(i);o.scale.unionExtentFromData(a,a.mapDimension(i)),mm(o.scale,o.model)},this)}},this)},t.prototype.resize=function(e,r){var n=ni(e,r).refContainer;this._rect=Yn(e.getBoxLayoutParams(),n),this._layoutAxes()},t.prototype.getRect=function(){return this._rect},t.prototype._makeLayoutInfo=function(){var e=this._model,r=this._rect,n=["x","y"],a=["width","height"],i=e.get("layout"),o=i==="horizontal"?0:1,s=r[a[o]],l=[0,s],u=this.dimensions.length,c=G1(e.get("axisExpandWidth"),l),f=G1(e.get("axisExpandCount")||0,[0,u]),d=e.get("axisExpandable")&&u>3&&u>f&&f>1&&c>0&&s>0,v=e.get("axisExpandWindow"),g;if(v)g=G1(v[1]-v[0],l),v[1]=v[0]+g;else{g=G1(c*(f-1),l);var y=e.get("axisExpandCenter")||BG(u/2);v=[c*y-g/2],v[1]=v[0]+g}var b=(s-g)/(u-f);b<3&&(b=0);var S=[BG(VG(v[0]/c,1))+1,lEe(VG(v[1]/c,1))-1],w=b/c*v[0];return{layout:i,pixelDimIndex:o,layoutBase:r[n[o]],layoutLength:s,axisBase:r[n[1-o]],axisLength:r[a[1-o]],axisExpandable:d,axisExpandWidth:c,axisCollapseWidth:b,axisExpandWindow:v,axisCount:u,winInnerIndices:S,axisExpandWindow0Pos:w}},t.prototype._layoutAxes=function(){var e=this._rect,r=this._axesMap,n=this.dimensions,a=this._makeLayoutInfo(),i=a.layout;r.each(function(o){var s=[0,a.axisLength],l=o.inverse?1:0;o.setExtent(s[l],s[1-l])}),tL(n,function(o,s){var l=(a.axisExpandable?hEe:fEe)(s,a),u={horizontal:{x:l.position,y:a.axisLength},vertical:{x:0,y:l.position}},c={horizontal:uEe/2,vertical:0},f=[u[i].x+e.x,u[i].y+e.y],d=c[i],v=Di();ud(v,v,d),mc(v,v,f),this._axesLayout[o]={position:f,rotation:d,transform:v,axisNameAvailableWidth:l.axisNameAvailableWidth,axisLabelShow:l.axisLabelShow,nameTruncateMaxWidth:l.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},t.prototype.getAxis=function(e){return this._axesMap.get(e)},t.prototype.dataToPoint=function(e,r){return this.axisCoordToPoint(this._axesMap.get(r).dataToCoord(e),r)},t.prototype.eachActiveState=function(e,r,n,a){n==null&&(n=0),a==null&&(a=e.count());var i=this._axesMap,o=this.dimensions,s=[],l=[];Y(o,function(b){s.push(e.mapDimension(b)),l.push(i.get(b).model)});for(var u=this.hasAxisBrushed(),c=n;c<a;c++){var f=void 0;if(!u)f="normal";else{f="active";for(var d=e.getValues(s,c),v=0,g=o.length;v<g;v++){var y=l[v].getActiveState(d[v]);if(y==="inactive"){f="inactive";break}}}r(f,c)}},t.prototype.hasAxisBrushed=function(){for(var e=this.dimensions,r=this._axesMap,n=!1,a=0,i=e.length;a<i;a++)r.get(e[a]).model.getActiveState()!=="normal"&&(n=!0);return n},t.prototype.axisCoordToPoint=function(e,r){var n=this._axesLayout[r];return iu([e,0],n.transform)},t.prototype.getAxisLayout=function(e){return ut(this._axesLayout[e])},t.prototype.getSlidedAxisExpandWindow=function(e){var r=this._makeLayoutInfo(),n=r.pixelDimIndex,a=r.axisExpandWindow.slice(),i=a[1]-a[0],o=[0,r.axisExpandWidth*(r.axisCount-1)];if(!this.containPoint(e))return{behavior:"none",axisExpandWindow:a};var s=e[n]-r.layoutBase-r.axisExpandWindow0Pos,l,u="slide",c=r.axisCollapseWidth,f=this._model.get("axisExpandSlideTriggerArea"),d=f[0]!=null;if(c)d&&c&&s<i*f[0]?(u="jump",l=s-i*f[2]):d&&c&&s>i*(1-f[0])?(u="jump",l=s-i*(1-f[2])):(l=s-i*f[1])>=0&&(l=s-i*(1-f[1]))<=0&&(l=0),l*=r.axisExpandWidth/c,l?rd(l,a,o,"all"):u="none";else{var v=a[1]-a[0],g=o[1]*s/v;a=[IJ(0,g-v/2)],a[1]=kJ(o[1],a[0]+v),a[0]=a[1]-v}return{axisExpandWindow:a,behavior:u}},t})();function G1(t,e){return kJ(IJ(t,e[0]),e[1])}function fEe(t,e){var r=e.layoutLength/(e.axisCount-1);return{position:r*t,axisNameAvailableWidth:r,axisLabelShow:!0}}function hEe(t,e){var r=e.layoutLength,n=e.axisExpandWidth,a=e.axisCount,i=e.axisCollapseWidth,o=e.winInnerIndices,s,l=i,u=!1,c;return t<o[0]?(s=t*i,c=i):t<=o[1]?(s=e.axisExpandWindow0Pos+t*n-e.axisExpandWindow[0],l=n,u=!0):(s=r-(a-1-t)*i,c=i),{position:s,axisNameAvailableWidth:l,axisLabelShow:u,nameTruncateMaxWidth:c}}function dEe(t,e){var r=[];return t.eachComponent("parallel",function(n,a){var i=new cEe(n,t,e);i.name="parallel_"+a,i.resize(n,e),n.coordinateSystem=i,i.model=n,r.push(i)}),t.eachSeries(function(n){if(n.get("coordinateSystem")==="parallel"){var a=n.getReferringComponents("parallel",na).models[0];n.coordinateSystem=a.coordinateSystem}}),r}var vEe={create:dEe},oR=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.activeIntervals=[],r}return e.prototype.getAreaSelectStyle=function(){return Qv([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},e.prototype.setActiveIntervals=function(r){var n=this.activeIntervals=ut(r);if(n)for(var a=n.length-1;a>=0;a--)yl(n[a])},e.prototype.getActiveState=function(r){var n=this.activeIntervals;if(!n.length)return"normal";if(r==null||isNaN(+r))return"inactive";if(n.length===1){var a=n[0];if(a[0]<=r&&r<=a[1])return"active"}else for(var i=0,o=n.length;i<o;i++)if(n[i][0]<=r&&r<=n[i][1])return"active";return"inactive"},e})(er);ja(oR,w_);var np=!0,Yx=Math.min,Sm=Math.max,pEe=Math.pow,gEe=1e4,mEe=6,yEe=6,FG="globalPan",xEe={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},_Ee={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},HG={brushStyle:{lineWidth:2,stroke:ve.color.backgroundTint,fill:ve.color.borderTint},transformable:!0,brushMode:"single",removeOnClick:!1},bEe=0,zI=(function(t){ye(e,t);function e(r){var n=t.call(this)||this;return n._track=[],n._covers=[],n._handlers={},n._zr=r,n.group=new st,n._uid="brushController_"+bEe++,Y(DEe,function(a,i){this._handlers[i]=Ye(a,this)},n),n}return e.prototype.enableBrush=function(r){return this._brushType&&this._doDisableBrush(),r.brushType&&this._doEnableBrush(r),this},e.prototype._doEnableBrush=function(r){var n=this._zr;this._enableGlobalPan||a2e(n,FG,this._uid),Y(this._handlers,function(a,i){n.on(i,a)}),this._brushType=r.brushType,this._brushOption=Gt(ut(HG),r,!0)},e.prototype._doDisableBrush=function(){var r=this._zr;i2e(r,FG,this._uid),Y(this._handlers,function(n,a){r.off(a,n)}),this._brushType=this._brushOption=null},e.prototype.setPanels=function(r){if(r&&r.length){var n=this._panels={};Y(r,function(a){n[a.panelId]=ut(a)})}else this._panels=null;return this},e.prototype.mount=function(r){r=r||{},this._enableGlobalPan=r.enableGlobalPan;var n=this.group;return this._zr.add(n),n.attr({x:r.x||0,y:r.y||0,rotation:r.rotation||0,scaleX:r.scaleX||1,scaleY:r.scaleY||1}),this._transform=n.getLocalTransform(),this},e.prototype.updateCovers=function(r){r=Re(r,function(d){return Gt(ut(HG),d,!0)});var n="\0-brush-index-",a=this._covers,i=this._covers=[],o=this,s=this._creatingCover;return new Sf(a,r,u,l).add(c).update(c).remove(f).execute(),this;function l(d,v){return(d.id!=null?d.id:n+v)+"-"+d.brushType}function u(d,v){return l(d.__brushOption,v)}function c(d,v){var g=r[d];if(v!=null&&a[v]===s)i[d]=a[v];else{var y=i[d]=v!=null?(a[v].__brushOption=g,a[v]):jJ(o,OJ(o,g));BI(o,y)}}function f(d){a[d]!==s&&o.group.remove(a[d])}},e.prototype.unmount=function(){return this.enableBrush(!1),sR(this),this._zr.remove(this.group),this},e.prototype.dispose=function(){this.unmount(),this.off()},e})(Nl);function OJ(t,e){var r=jC[e.brushType].createCover(t,e);return r.__brushOption=e,BJ(r,e),t.group.add(r),r}function jJ(t,e){var r=VI(e);return r.endCreating&&(r.endCreating(t,e),BJ(e,e.__brushOption)),e}function zJ(t,e){var r=e.__brushOption;VI(e).updateCoverShape(t,e,r.range,r)}function BJ(t,e){var r=e.z;r==null&&(r=gEe),t.traverse(function(n){n.z=r,n.z2=r})}function BI(t,e){VI(e).updateCommon(t,e),zJ(t,e)}function VI(t){return jC[t.__brushOption.brushType]}function FI(t,e,r){var n=t._panels;if(!n)return np;var a,i=t._transform;return Y(n,function(o){o.isTargetByCursor(e,r,i)&&(a=o)}),a}function VJ(t,e){var r=t._panels;if(!r)return np;var n=e.__brushOption.panelId;return n!=null?r[n]:np}function sR(t){var e=t._covers,r=e.length;return Y(e,function(n){t.group.remove(n)},t),e.length=0,!!r}function ap(t,e){var r=Re(t._covers,function(n){var a=n.__brushOption,i=ut(a.range);return{brushType:a.brushType,panelId:a.panelId,range:i}});t.trigger("brush",{areas:r,isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function SEe(t){var e=t._track;if(!e.length)return!1;var r=e[e.length-1],n=e[0],a=r[0]-n[0],i=r[1]-n[1],o=pEe(a*a+i*i,.5);return o>mEe}function FJ(t){var e=t.length-1;return e<0&&(e=0),[t[0],t[e]]}function HJ(t,e,r,n){var a=new st;return a.add(new $t({name:"main",style:HI(r),silent:!0,draggable:!0,cursor:"move",drift:zt(GG,t,e,a,["n","s","w","e"]),ondragend:zt(ap,e,{isEnd:!0})})),Y(n,function(i){a.add(new $t({name:i.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:zt(GG,t,e,a,i),ondragend:zt(ap,e,{isEnd:!0})}))}),a}function GJ(t,e,r,n){var a=n.brushStyle.lineWidth||0,i=Sm(a,yEe),o=r[0][0],s=r[1][0],l=o-a/2,u=s-a/2,c=r[0][1],f=r[1][1],d=c-i+a/2,v=f-i+a/2,g=c-o,y=f-s,b=g+a,S=y+a;ef(t,e,"main",o,s,g,y),n.transformable&&(ef(t,e,"w",l,u,i,S),ef(t,e,"e",d,u,i,S),ef(t,e,"n",l,u,b,i),ef(t,e,"s",l,v,b,i),ef(t,e,"nw",l,u,i,i),ef(t,e,"ne",d,u,i,i),ef(t,e,"sw",l,v,i,i),ef(t,e,"se",d,v,i,i))}function lR(t,e){var r=e.__brushOption,n=r.transformable,a=e.childAt(0);a.useStyle(HI(r)),a.attr({silent:!n,cursor:n?"move":"default"}),Y([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(i){var o=e.childOfName(i.join("")),s=i.length===1?uR(t,i[0]):TEe(t,i);o&&o.attr({silent:!n,invisible:!n,cursor:n?_Ee[s]+"-resize":null})})}function ef(t,e,r,n,a,i,o){var s=e.childOfName(r);s&&s.setShape(MEe(GI(t,e,[[n,a],[n+i,a+o]])))}function HI(t){return gt({strokeNoScale:!0},t.brushStyle)}function UJ(t,e,r,n){var a=[Yx(t,r),Yx(e,n)],i=[Sm(t,r),Sm(e,n)];return[[a[0],i[0]],[a[1],i[1]]]}function wEe(t){return zv(t.group)}function uR(t,e){var r={w:"left",e:"right",n:"top",s:"bottom"},n={left:"w",right:"e",top:"n",bottom:"s"},a=xC(r[e],wEe(t));return n[a]}function TEe(t,e){var r=[uR(t,e[0]),uR(t,e[1])];return(r[0]==="e"||r[0]==="w")&&r.reverse(),r.join("")}function GG(t,e,r,n,a,i){var o=r.__brushOption,s=t.toRectRange(o.range),l=WJ(e,a,i);Y(n,function(u){var c=xEe[u];s[c[0]][c[1]]+=l[c[0]]}),o.range=t.fromRectRange(UJ(s[0][0],s[1][0],s[0][1],s[1][1])),BI(e,r),ap(e,{isEnd:!1})}function CEe(t,e,r,n){var a=e.__brushOption.range,i=WJ(t,r,n);Y(a,function(o){o[0]+=i[0],o[1]+=i[1]}),BI(t,e),ap(t,{isEnd:!1})}function WJ(t,e,r){var n=t.group,a=n.transformCoordToLocal(e,r),i=n.transformCoordToLocal(0,0);return[a[0]-i[0],a[1]-i[1]]}function GI(t,e,r){var n=VJ(t,e);return n&&n!==np?n.clipPath(r,t._transform):ut(r)}function MEe(t){var e=Yx(t[0][0],t[1][0]),r=Yx(t[0][1],t[1][1]),n=Sm(t[0][0],t[1][0]),a=Sm(t[0][1],t[1][1]);return{x:e,y:r,width:n-e,height:a-r}}function AEe(t,e,r){if(!(!t._brushType||LEe(t,e.offsetX,e.offsetY))){var n=t._zr,a=t._covers,i=FI(t,e,r);if(!t._dragging)for(var o=0;o<a.length;o++){var s=a[o].__brushOption;if(i&&(i===np||s.panelId===i.panelId)&&jC[s.brushType].contain(a[o],r[0],r[1]))return}i&&n.setCursorStyle("crosshair")}}function cR(t){var e=t.event;e.preventDefault&&e.preventDefault()}function fR(t,e,r){return t.childOfName("main").contain(e,r)}function YJ(t,e,r,n){var a=t._creatingCover,i=t._creatingPanel,o=t._brushOption,s;if(t._track.push(r.slice()),SEe(t)||a){if(i&&!a){o.brushMode==="single"&&sR(t);var l=ut(o);l.brushType=UG(l.brushType,i),l.panelId=i===np?null:i.panelId,a=t._creatingCover=OJ(t,l),t._covers.push(a)}if(a){var u=jC[UG(t._brushType,i)],c=a.__brushOption;c.range=u.getCreatingRange(GI(t,a,t._track)),n&&(jJ(t,a),u.updateCommon(t,a)),zJ(t,a),s={isEnd:n}}}else n&&o.brushMode==="single"&&o.removeOnClick&&FI(t,e,r)&&sR(t)&&(s={isEnd:n,removeOnClick:!0});return s}function UG(t,e){return t==="auto"?e.defaultBrushType:t}var DEe={mousedown:function(t){if(this._dragging)WG(this,t);else if(!t.target||!t.target.draggable){cR(t);var e=this.group.transformCoordToLocal(t.offsetX,t.offsetY);this._creatingCover=null;var r=this._creatingPanel=FI(this,t,e);r&&(this._dragging=!0,this._track=[e.slice()])}},mousemove:function(t){var e=t.offsetX,r=t.offsetY,n=this.group.transformCoordToLocal(e,r);if(AEe(this,t,n),this._dragging){cR(t);var a=YJ(this,t,n,!1);a&&ap(this,a)}},mouseup:function(t){WG(this,t)}};function WG(t,e){if(t._dragging){cR(e);var r=e.offsetX,n=e.offsetY,a=t.group.transformCoordToLocal(r,n),i=YJ(t,e,a,!0);t._dragging=!1,t._track=[],t._creatingCover=null,i&&ap(t,i)}}function LEe(t,e,r){var n=t._zr;return e<0||e>n.getWidth()||r<0||r>n.getHeight()}var jC={lineX:YG(0),lineY:YG(1),rect:{createCover:function(t,e){function r(n){return n}return HJ({toRectRange:r,fromRectRange:r},t,e,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(t){var e=FJ(t);return UJ(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(t,e,r,n){GJ(t,e,r,n)},updateCommon:lR,contain:fR},polygon:{createCover:function(t,e){var r=new st;return r.add(new Yi({name:"main",style:HI(e),silent:!0})),r},getCreatingRange:function(t){return t},endCreating:function(t,e){e.remove(e.childAt(0)),e.add(new ho({name:"main",draggable:!0,drift:zt(CEe,t,e),ondragend:zt(ap,t,{isEnd:!0})}))},updateCoverShape:function(t,e,r,n){e.childAt(0).setShape({points:GI(t,e,r)})},updateCommon:lR,contain:fR}};function YG(t){return{createCover:function(e,r){return HJ({toRectRange:function(n){var a=[n,[0,100]];return t&&a.reverse(),a},fromRectRange:function(n){return n[t]}},e,r,[[["w"],["e"]],[["n"],["s"]]][t])},getCreatingRange:function(e){var r=FJ(e),n=Yx(r[0][t],r[1][t]),a=Sm(r[0][t],r[1][t]);return[n,a]},updateCoverShape:function(e,r,n,a){var i,o=VJ(e,r);if(o!==np&&o.getLinearBrushOtherExtent)i=o.getLinearBrushOtherExtent(t);else{var s=e._zr;i=[0,[s.getWidth(),s.getHeight()][1-t]]}var l=[n,i];t&&l.reverse(),GJ(e,r,l,a)},updateCommon:lR,contain:fR}}function ZJ(t){return t=UI(t),function(e){return P$(e,t)}}function qJ(t,e){return t=UI(t),function(r){var n=e??r,a=n?t.width:t.height,i=n?t.x:t.y;return[i,i+(a||0)]}}function $J(t,e,r){var n=UI(t);return function(a,i){return n.contain(i[0],i[1])&&!eJ(a,e,r)}}function UI(t){return yt.create(t)}var EEe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.init=function(r,n){t.prototype.init.apply(this,arguments),(this._brushController=new zI(n.getZr())).on("brush",Ye(this._onBrush,this))},e.prototype.render=function(r,n,a,i){if(!NEe(r,n,i)){this.axisModel=r,this.api=a,this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new st,this.group.add(this._axisGroup),!!r.get("show")){var s=PEe(r,n),l=s.coordinateSystem,u=r.getAreaSelectStyle(),c=u.width,f=r.axis.dim,d=l.getAxisLayout(f),v=Ae({strokeContainThreshold:c},d),g=new Eo(r,a,v);g.build(),this._axisGroup.add(g.group),this._refreshBrushController(v,u,r,s,c,a),g_(o,this._axisGroup,r)}}},e.prototype._refreshBrushController=function(r,n,a,i,o,s){var l=a.axis.getExtent(),u=l[1]-l[0],c=Math.min(30,Math.abs(u)*.1),f=yt.create({x:l[0],y:-o/2,width:u,height:o});f.x-=c,f.width+=2*c,this._brushController.mount({enableGlobalPan:!0,rotation:r.rotation,x:r.position[0],y:r.position[1]}).setPanels([{panelId:"pl",clipPath:ZJ(f),isTargetByCursor:$J(f,s,i),getLinearBrushOtherExtent:qJ(f,0)}]).enableBrush({brushType:"lineX",brushStyle:n,removeOnClick:!0}).updateCovers(REe(a))},e.prototype._onBrush=function(r){var n=r.areas,a=this.axisModel,i=a.axis,o=Re(n,function(s){return[i.coordToData(s.range[0],!0),i.coordToData(s.range[1],!0)]});(!a.option.realtime===r.isEnd||r.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:a.id,intervals:o})},e.prototype.dispose=function(){this._brushController.dispose()},e.type="parallelAxis",e})(Vn);function NEe(t,e,r){return r&&r.type==="axisAreaSelect"&&e.findComponents({mainType:"parallelAxis",query:r})[0]===t}function REe(t){var e=t.axis;return Re(t.activeIntervals,function(r){return{brushType:"lineX",panelId:"pl",range:[e.dataToCoord(r[0],!0),e.dataToCoord(r[1],!0)]}})}function PEe(t,e){return e.getComponent("parallel",t.get("parallelIndex"))}var kEe={type:"axisAreaSelect",event:"axisAreaSelected"};function IEe(t){t.registerAction(kEe,function(e,r){r.eachComponent({mainType:"parallelAxis",query:e},function(n){n.axis.model.setActiveIntervals(e.intervals)})}),t.registerAction("parallelAxisExpand",function(e,r){r.eachComponent({mainType:"parallel",query:e},function(n){n.setAxisExpand(e)})})}var OEe={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function XJ(t){t.registerComponentView(aEe),t.registerComponentModel(oEe),t.registerCoordinateSystem("parallel",vEe),t.registerPreprocessor(eEe),t.registerComponentModel(oR),t.registerComponentView(EEe),_m(t,"parallel",oR,OEe),IEe(t)}function jEe(t){Ut(XJ),t.registerChartView(YLe),t.registerSeriesModel($Le),t.registerVisual(t.PRIORITY.VISUAL.BRUSH,JLe)}var zEe=(function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return t})(),BEe=(function(t){ye(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultShape=function(){return new zEe},e.prototype.buildPath=function(r,n){var a=n.extent;r.moveTo(n.x1,n.y1),r.bezierCurveTo(n.cpx1,n.cpy1,n.cpx2,n.cpy2,n.x2,n.y2),n.orient==="vertical"?(r.lineTo(n.x2+a,n.y2),r.bezierCurveTo(n.cpx2+a,n.cpy2,n.cpx1+a,n.cpy1,n.x1+a,n.y1)):(r.lineTo(n.x2,n.y2+a),r.bezierCurveTo(n.cpx2,n.cpy2+a,n.cpx1,n.cpy1+a,n.x1,n.y1+a)),r.closePath()},e.prototype.highlight=function(){_f(this)},e.prototype.downplay=function(){bf(this)},e})(Jt),VEe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r._mainGroup=new st,r._focusAdjacencyDisabled=!1,r}return e.prototype.init=function(r,n){this._controller=new xp(n.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},e.prototype.render=function(r,n,a){var i=this,o=r.getGraph(),s=this._mainGroup,l=r.layoutInfo,u=l.width,c=l.height,f=r.getData(),d=r.getData("edge"),v=r.get("orient");this._model=r,s.removeAll(),s.x=l.x,s.y=l.y,this._updateViewCoordSys(r,a),tJ(r,a,s,this._controller,this._controllerHost,null),o.eachEdge(function(g){var y=new BEe,b=wt(y);b.dataIndex=g.dataIndex,b.seriesIndex=r.seriesIndex,b.dataType="edge";var S=g.getModel(),w=S.getModel("lineStyle"),M=w.get("curveness"),A=g.node1.getLayout(),D=g.node1.getModel(),R=D.get("localX"),N=D.get("localY"),I=g.node2.getLayout(),z=g.node2.getModel(),B=z.get("localX"),V=z.get("localY"),G=g.getLayout(),F,q,Q,H,X,W,J,ee;y.shape.extent=Math.max(1,G.dy),y.shape.orient=v,v==="vertical"?(F=(R!=null?R*u:A.x)+G.sy,q=(N!=null?N*c:A.y)+A.dy,Q=(B!=null?B*u:I.x)+G.ty,H=V!=null?V*c:I.y,X=F,W=q*(1-M)+H*M,J=Q,ee=q*M+H*(1-M)):(F=(R!=null?R*u:A.x)+A.dx,q=(N!=null?N*c:A.y)+G.sy,Q=B!=null?B*u:I.x,H=(V!=null?V*c:I.y)+G.ty,X=F*(1-M)+Q*M,W=q,J=F*M+Q*(1-M),ee=H),y.setShape({x1:F,y1:q,x2:Q,y2:H,cpx1:X,cpy1:W,cpx2:J,cpy2:ee}),y.useStyle(w.getItemStyle()),ZG(y.style,v,g);var K=""+S.get("value"),ne=ri(S,"edgeLabel");xi(y,ne,{labelFetcher:{getFormattedLabel:function(me,we,pe,Pe,ke,ze){return r.getFormattedLabel(me,we,"edge",Pe,ks(ke,ne.normal&&ne.normal.get("formatter"),K),ze)}},labelDataIndex:g.dataIndex,defaultText:K}),y.setTextConfig({position:"inside"});var ie=S.getModel("emphasis");ti(y,S,"lineStyle",function(me){var we=me.getItemStyle();return ZG(we,v,g),we}),s.add(y),d.setItemGraphicEl(g.dataIndex,y);var le=ie.get("focus");Wn(y,le==="adjacency"?g.getAdjacentDataIndices():le==="trajectory"?g.getTrajectoryDataIndices():le,ie.get("blurScope"),ie.get("disabled"))}),o.eachNode(function(g){var y=g.getLayout(),b=g.getModel(),S=b.get("localX"),w=b.get("localY"),M=b.getModel("emphasis"),A=b.get(["itemStyle","borderRadius"])||0,D=new $t({shape:{x:S!=null?S*u:y.x,y:w!=null?w*c:y.y,width:y.dx,height:y.dy,r:A},style:b.getModel("itemStyle").getItemStyle(),z2:10});xi(D,ri(b),{labelFetcher:{getFormattedLabel:function(N,I){return r.getFormattedLabel(N,I,"node")}},labelDataIndex:g.dataIndex,defaultText:g.id}),D.disableLabelAnimation=!0,D.setStyle("fill",g.getVisual("color")),D.setStyle("decal",g.getVisual("style").decal),ti(D,b),s.add(D),f.setItemGraphicEl(g.dataIndex,D),wt(D).dataType="node";var R=M.get("focus");Wn(D,R==="adjacency"?g.getAdjacentDataIndices():R==="trajectory"?g.getTrajectoryDataIndices():R,M.get("blurScope"),M.get("disabled"))}),f.eachItemGraphicEl(function(g,y){var b=f.getItemModel(y);b.get("draggable")&&(g.drift=function(S,w){i._focusAdjacencyDisabled=!0,this.shape.x+=S,this.shape.y+=w,this.dirty(),a.dispatchAction({type:"dragNode",seriesId:r.id,dataIndex:f.getRawIndex(y),localX:this.shape.x/u,localY:this.shape.y/c})},g.ondragend=function(){i._focusAdjacencyDisabled=!1},g.draggable=!0,g.cursor="move")}),!this._data&&r.isAnimationEnabled()&&s.setClipPath(FEe(s.getBoundingRect(),r,function(){s.removeClipPath()})),this._data=r.getData()},e.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype._updateViewCoordSys=function(r,n){var a=r.layoutInfo,i=a.width,o=a.height,s=r.coordinateSystem=new _p(null,{api:n,ecModel:r.ecModel});s.zoomLimit=r.get("scaleLimit"),s.setBoundingRect(0,0,i,o),s.setCenter(r.get("center")),s.setZoom(r.get("zoom")),this._controllerHost.target.attr({x:s.x,y:s.y,scaleX:s.scaleX,scaleY:s.scaleY})},e.type="sankey",e})(cn);function ZG(t,e,r){switch(t.fill){case"source":t.fill=r.node1.getVisual("color"),t.decal=r.node1.getVisual("style").decal;break;case"target":t.fill=r.node2.getVisual("color"),t.decal=r.node2.getVisual("style").decal;break;case"gradient":var n=r.node1.getVisual("color"),a=r.node2.getVisual("color");We(n)&&We(a)&&(t.fill=new Hm(0,0,+(e==="horizontal"),+(e==="vertical"),[{color:n,offset:0},{color:a,offset:1}]))}}function FEe(t,e,r){var n=new $t({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return zn(n,{shape:{width:t.width+20}},e,r),n}var HEe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.getInitialData=function(r,n){var a=r.edges||r.links||[],i=r.data||r.nodes||[],o=r.levels||[];this.levelModels=[];for(var s=this.levelModels,l=0;l<o.length;l++)o[l].depth!=null&&o[l].depth>=0&&(s[o[l].depth]=new ar(o[l],this,n));var u=jI(i,a,this,!0,c);return u.data;function c(f,d){f.wrapMethod("getItemModel",function(v,g){var y=v.parentModel,b=y.getData().getItemLayout(g);if(b){var S=b.depth,w=y.levelModels[S];w&&(v.parentModel=w)}return v}),d.wrapMethod("getItemModel",function(v,g){var y=v.parentModel,b=y.getGraph().getEdgeByIndex(g),S=b.node1.getLayout();if(S){var w=S.depth,M=y.levelModels[w];M&&(v.parentModel=M)}return v})}},e.prototype.setNodePosition=function(r,n){var a=this.option.data||this.option.nodes,i=a[r];i.localX=n[0],i.localY=n[1]},e.prototype.setCenter=function(r){this.option.center=r},e.prototype.setZoom=function(r){this.option.zoom=r},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.formatTooltip=function(r,n,a){function i(v){return isNaN(v)||v==null}if(a==="edge"){var o=this.getDataParams(r,a),s=o.data,l=o.value,u=s.source+" -- "+s.target;return Ia("nameValue",{name:u,value:l,noValue:i(l)})}else{var c=this.getGraph().getNodeByIndex(r),f=c.getLayout().value,d=this.getDataParams(r,a).data.name;return Ia("nameValue",{name:d!=null?d+"":null,value:f,noValue:i(f)})}},e.prototype.optionUpdated=function(){},e.prototype.getDataParams=function(r,n){var a=t.prototype.getDataParams.call(this,r,n);if(a.value==null&&n==="node"){var i=this.getGraph().getNodeByIndex(r),o=i.getLayout().value;a.value=o}return a},e.type="series.sankey",e.layoutMode="box",e.defaultOption={z:2,coordinateSystemUsage:"box",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,roam:!1,roamTrigger:"global",center:null,zoom:1,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:ve.color.neutral50,opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:ve.color.primary}},animationEasing:"linear",animationDuration:1e3},e})(Sn);function GEe(t,e){t.eachSeriesByType("sankey",function(r){var n=r.get("nodeWidth"),a=r.get("nodeGap"),i=ni(r,e).refContainer,o=Yn(r.getBoxLayoutParams(),i);r.layoutInfo=o;var s=o.width,l=o.height,u=r.getGraph(),c=u.nodes,f=u.edges;WEe(c);var d=Ir(c,function(b){return b.getLayout().value===0}),v=d.length!==0?0:r.get("layoutIterations"),g=r.get("orient"),y=r.get("nodeAlign");UEe(c,f,n,a,s,l,v,g,y)})}function UEe(t,e,r,n,a,i,o,s,l){YEe(t,e,r,a,i,s,l),XEe(t,e,i,a,n,o,s),iNe(t,s)}function WEe(t){Y(t,function(e){var r=Yh(e.outEdges,Yw),n=Yh(e.inEdges,Yw),a=e.getValue()||0,i=Math.max(r,n,a);e.setLayout({value:i},!0)})}function YEe(t,e,r,n,a,i,o){for(var s=[],l=[],u=[],c=[],f=0,d=0;d<e.length;d++)s[d]=1;for(var d=0;d<t.length;d++)l[d]=t[d].inEdges.length,l[d]===0&&u.push(t[d]);for(var v=-1;u.length;){for(var g=0;g<u.length;g++){var y=u[g],b=y.hostGraph.data.getRawDataItem(y.dataIndex),S=b.depth!=null&&b.depth>=0;S&&b.depth>v&&(v=b.depth),y.setLayout({depth:S?b.depth:f},!0),i==="vertical"?y.setLayout({dy:r},!0):y.setLayout({dx:r},!0);for(var w=0;w<y.outEdges.length;w++){var M=y.outEdges[w],A=e.indexOf(M);s[A]=0;var D=M.node2,R=t.indexOf(D);--l[R]===0&&c.indexOf(D)<0&&c.push(D)}}++f,u=c,c=[]}for(var d=0;d<s.length;d++)if(s[d]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var N=v>f-1?v:f-1;o&&o!=="left"&&ZEe(t,o,i,N);var I=i==="vertical"?(a-r)/N:(n-r)/N;$Ee(t,I,i)}function KJ(t){var e=t.hostGraph.data.getRawDataItem(t.dataIndex);return e.depth!=null&&e.depth>=0}function ZEe(t,e,r,n){if(e==="right"){for(var a=[],i=t,o=0;i.length;){for(var s=0;s<i.length;s++){var l=i[s];l.setLayout({skNodeHeight:o},!0);for(var u=0;u<l.inEdges.length;u++){var c=l.inEdges[u];a.indexOf(c.node1)<0&&a.push(c.node1)}}i=a,a=[],++o}Y(t,function(f){KJ(f)||f.setLayout({depth:Math.max(0,n-f.getLayout().skNodeHeight)},!0)})}else e==="justify"&&qEe(t,n)}function qEe(t,e){Y(t,function(r){!KJ(r)&&!r.outEdges.length&&r.setLayout({depth:e},!0)})}function $Ee(t,e,r){Y(t,function(n){var a=n.getLayout().depth*e;r==="vertical"?n.setLayout({y:a},!0):n.setLayout({x:a},!0)})}function XEe(t,e,r,n,a,i,o){var s=KEe(t,o);QEe(s,e,r,n,a,o),rL(s,a,r,n,o);for(var l=1;i>0;i--)l*=.99,JEe(s,l,o),rL(s,a,r,n,o),aNe(s,l,o),rL(s,a,r,n,o)}function KEe(t,e){var r=[],n=e==="vertical"?"y":"x",a=XE(t,function(i){return i.getLayout()[n]});return a.keys.sort(function(i,o){return i-o}),Y(a.keys,function(i){r.push(a.buckets.get(i))}),r}function QEe(t,e,r,n,a,i){var o=1/0;Y(t,function(s){var l=s.length,u=0;Y(s,function(f){u+=f.getLayout().value});var c=i==="vertical"?(n-(l-1)*a)/u:(r-(l-1)*a)/u;c<o&&(o=c)}),Y(t,function(s){Y(s,function(l,u){var c=l.getLayout().value*o;i==="vertical"?(l.setLayout({x:u},!0),l.setLayout({dx:c},!0)):(l.setLayout({y:u},!0),l.setLayout({dy:c},!0))})}),Y(e,function(s){var l=+s.getValue()*o;s.setLayout({dy:l},!0)})}function rL(t,e,r,n,a){var i=a==="vertical"?"x":"y";Y(t,function(o){o.sort(function(y,b){return y.getLayout()[i]-b.getLayout()[i]});for(var s,l,u,c=0,f=o.length,d=a==="vertical"?"dx":"dy",v=0;v<f;v++)l=o[v],u=c-l.getLayout()[i],u>0&&(s=l.getLayout()[i]+u,a==="vertical"?l.setLayout({x:s},!0):l.setLayout({y:s},!0)),c=l.getLayout()[i]+l.getLayout()[d]+e;var g=a==="vertical"?n:r;if(u=c-e-g,u>0){s=l.getLayout()[i]-u,a==="vertical"?l.setLayout({x:s},!0):l.setLayout({y:s},!0),c=s;for(var v=f-2;v>=0;--v)l=o[v],u=l.getLayout()[i]+l.getLayout()[d]+e-c,u>0&&(s=l.getLayout()[i]-u,a==="vertical"?l.setLayout({x:s},!0):l.setLayout({y:s},!0)),c=l.getLayout()[i]}})}function JEe(t,e,r){Y(t.slice().reverse(),function(n){Y(n,function(a){if(a.outEdges.length){var i=Yh(a.outEdges,eNe,r)/Yh(a.outEdges,Yw);if(isNaN(i)){var o=a.outEdges.length;i=o?Yh(a.outEdges,tNe,r)/o:0}if(r==="vertical"){var s=a.getLayout().x+(i-nd(a,r))*e;a.setLayout({x:s},!0)}else{var l=a.getLayout().y+(i-nd(a,r))*e;a.setLayout({y:l},!0)}}})})}function eNe(t,e){return nd(t.node2,e)*t.getValue()}function tNe(t,e){return nd(t.node2,e)}function rNe(t,e){return nd(t.node1,e)*t.getValue()}function nNe(t,e){return nd(t.node1,e)}function nd(t,e){return e==="vertical"?t.getLayout().x+t.getLayout().dx/2:t.getLayout().y+t.getLayout().dy/2}function Yw(t){return t.getValue()}function Yh(t,e,r){for(var n=0,a=t.length,i=-1;++i<a;){var o=+e(t[i],r);isNaN(o)||(n+=o)}return n}function aNe(t,e,r){Y(t,function(n){Y(n,function(a){if(a.inEdges.length){var i=Yh(a.inEdges,rNe,r)/Yh(a.inEdges,Yw);if(isNaN(i)){var o=a.inEdges.length;i=o?Yh(a.inEdges,nNe,r)/o:0}if(r==="vertical"){var s=a.getLayout().x+(i-nd(a,r))*e;a.setLayout({x:s},!0)}else{var l=a.getLayout().y+(i-nd(a,r))*e;a.setLayout({y:l},!0)}}})})}function iNe(t,e){var r=e==="vertical"?"x":"y";Y(t,function(n){n.outEdges.sort(function(a,i){return a.node2.getLayout()[r]-i.node2.getLayout()[r]}),n.inEdges.sort(function(a,i){return a.node1.getLayout()[r]-i.node1.getLayout()[r]})}),Y(t,function(n){var a=0,i=0;Y(n.outEdges,function(o){o.setLayout({sy:a},!0),a+=o.getLayout().dy}),Y(n.inEdges,function(o){o.setLayout({ty:i},!0),i+=o.getLayout().dy})})}function oNe(t){t.eachSeriesByType("sankey",function(e){var r=e.getGraph(),n=r.nodes,a=r.edges;if(n.length){var i=1/0,o=-1/0;Y(n,function(s){var l=s.getLayout().value;l<i&&(i=l),l>o&&(o=l)}),Y(n,function(s){var l=new mi({type:"color",mappingMethod:"linear",dataExtent:[i,o],visual:e.get("color")}),u=l.mapValueToVisual(s.getLayout().value),c=s.getModel().get(["itemStyle","color"]);c!=null?(s.setVisual("color",c),s.setVisual("style",{fill:c})):(s.setVisual("color",u),s.setVisual("style",{fill:u}))})}a.length&&Y(a,function(s){var l=s.getModel().get("lineStyle");s.setVisual("style",l)})})}function sNe(t){t.registerChartView(VEe),t.registerSeriesModel(HEe),t.registerLayout(GEe),t.registerVisual(oNe),t.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(e,r){r.eachComponent({mainType:"series",subType:"sankey",query:e},function(n){n.setNodePosition(e.dataIndex,[e.localX,e.localY])})}),t.registerAction({type:"sankeyRoam",event:"sankeyRoam",update:"none"},function(e,r,n){r.eachComponent({mainType:"series",subType:"sankey",query:e},function(a){var i=a.coordinateSystem,o=PC(i,e,a.get("scaleLimit"));a.setCenter(o.center),a.setZoom(o.zoom)})})}var QJ=(function(){function t(){}return t.prototype._hasEncodeRule=function(e){var r=this.getEncode();return r&&r.get(e)!=null},t.prototype.getInitialData=function(e,r){var n,a=r.getComponent("xAxis",this.get("xAxisIndex")),i=r.getComponent("yAxis",this.get("yAxisIndex")),o=a.get("type"),s=i.get("type"),l;o==="category"?(e.layout="horizontal",n=a.getOrdinalMeta(),l=!this._hasEncodeRule("x")):s==="category"?(e.layout="vertical",n=i.getOrdinalMeta(),l=!this._hasEncodeRule("y")):e.layout=e.layout||"horizontal";var u=["x","y"],c=e.layout==="horizontal"?0:1,f=this._baseAxisDim=u[c],d=u[1-c],v=[a,i],g=v[c].get("type"),y=v[1-c].get("type"),b=e.data;if(b&&l){var S=[];Y(b,function(A,D){var R;Ee(A)?(R=A.slice(),A.unshift(D)):Ee(A.value)?(R=Ae({},A),R.value=R.value.slice(),A.value.unshift(D)):R=A,S.push(R)}),e.data=S}var w=this.defaultValueDimensions,M=[{name:f,type:Lw(g),ordinalMeta:n,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:d,type:Lw(y),dimsDef:w.slice()}];return Km(this,{coordDimensions:M,dimensionsCount:w.length+1,encodeDefaulter:zt(dX,M,this)})},t.prototype.getBaseAxis=function(){var e=this._baseAxisDim;return this.ecModel.getComponent(e+"Axis",this.get(e+"AxisIndex")).axis},t})(),JJ=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],r.visualDrawType="stroke",r}return e.type="series.boxplot",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:ve.color.neutral00,borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:ve.color.shadow}},animationDuration:800},e})(Sn);ja(JJ,QJ,!0);var lNe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.render=function(r,n,a){var i=r.getData(),o=this.group,s=this._data;this._data||o.removeAll();var l=r.get("layout")==="horizontal"?1:0;i.diff(s).add(function(u){if(i.hasValue(u)){var c=i.getItemLayout(u),f=qG(c,i,u,l,!0);i.setItemGraphicEl(u,f),o.add(f)}}).update(function(u,c){var f=s.getItemGraphicEl(c);if(!i.hasValue(u)){o.remove(f);return}var d=i.getItemLayout(u);f?(Dl(f),eee(d,f,i,u)):f=qG(d,i,u,l),o.add(f),i.setItemGraphicEl(u,f)}).remove(function(u){var c=s.getItemGraphicEl(u);c&&o.remove(c)}).execute(),this._data=i},e.prototype.remove=function(r){var n=this.group,a=this._data;this._data=null,a&&a.eachItemGraphicEl(function(i){i&&n.remove(i)})},e.type="boxplot",e})(cn),uNe=(function(){function t(){}return t})(),cNe=(function(t){ye(e,t);function e(r){var n=t.call(this,r)||this;return n.type="boxplotBoxPath",n}return e.prototype.getDefaultShape=function(){return new uNe},e.prototype.buildPath=function(r,n){var a=n.points,i=0;for(r.moveTo(a[i][0],a[i][1]),i++;i<4;i++)r.lineTo(a[i][0],a[i][1]);for(r.closePath();i<a.length;i++)r.moveTo(a[i][0],a[i][1]),i++,r.lineTo(a[i][0],a[i][1])},e})(Jt);function qG(t,e,r,n,a){var i=t.ends,o=new cNe({shape:{points:a?fNe(i,n,t):i}});return eee(t,o,e,r,a),o}function eee(t,e,r,n,a){var i=r.hostModel,o=dp[a?"initProps":"updateProps"];o(e,{shape:{points:t.ends}},i,n),e.useStyle(r.getItemVisual(n,"style")),e.style.strokeNoScale=!0,e.z2=100;var s=r.getItemModel(n),l=s.getModel("emphasis");ti(e,s),Wn(e,l.get("focus"),l.get("blurScope"),l.get("disabled"))}function fNe(t,e,r){return Re(t,function(n){return n=n.slice(),n[e]=r.initBaseline,n})}var lx=Y;function hNe(t){var e=dNe(t);lx(e,function(r){var n=r.seriesModels;n.length&&(vNe(r),lx(n,function(a,i){pNe(a,r.boxOffsetList[i],r.boxWidthList[i])}))})}function dNe(t){var e=[],r=[];return t.eachSeriesByType("boxplot",function(n){var a=n.getBaseAxis(),i=Vt(r,a);i<0&&(i=r.length,r[i]=a,e[i]={axis:a,seriesModels:[]}),e[i].seriesModels.push(n)}),e}function vNe(t){var e=t.axis,r=t.seriesModels,n=r.length,a=t.boxWidthList=[],i=t.boxOffsetList=[],o=[],s;if(e.type==="category")s=e.getBandWidth();else{var l=0;lx(r,function(g){l=Math.max(l,g.getData().count())});var u=e.getExtent();s=Math.abs(u[1]-u[0])/l}lx(r,function(g){var y=g.get("boxWidth");Ee(y)||(y=[y,y]),o.push([Ue(y[0],s)||0,Ue(y[1],s)||0])});var c=s*.8-2,f=c/n*.3,d=(c-f*(n-1))/n,v=d/2-c/2;lx(r,function(g,y){i.push(v),v+=f+d,a.push(Math.min(Math.max(d,o[y][0]),o[y][1]))})}function pNe(t,e,r){var n=t.coordinateSystem,a=t.getData(),i=r/2,o=t.get("layout")==="horizontal"?0:1,s=1-o,l=["x","y"],u=a.mapDimension(l[o]),c=a.mapDimensionsAll(l[s]);if(u==null||c.length<5)return;for(var f=0;f<a.count();f++){var d=a.get(u,f),v=M(d,c[2],f),g=M(d,c[0],f),y=M(d,c[1],f),b=M(d,c[3],f),S=M(d,c[4],f),w=[];A(w,y,!1),A(w,b,!0),w.push(g,y,S,b),D(w,g),D(w,S),D(w,v),a.setItemLayout(f,{initBaseline:v[s],ends:w})}function M(R,N,I){var z=a.get(N,I),B=[];B[o]=R,B[s]=z;var V;return isNaN(R)||isNaN(z)?V=[NaN,NaN]:(V=n.dataToPoint(B),V[o]+=e),V}function A(R,N,I){var z=N.slice(),B=N.slice();z[o]+=i,B[o]-=i,I?R.push(z,B):R.push(B,z)}function D(R,N){var I=N.slice(),z=N.slice();I[o]-=i,z[o]+=i,R.push(I,z)}}function gNe(t,e){e=e||{};for(var r=[],n=[],a=e.boundIQR,i=a==="none"||a===0,o=0;o<t.length;o++){var s=yl(t[o].slice()),l=N2(s,.25),u=N2(s,.5),c=N2(s,.75),f=s[0],d=s[s.length-1],v=(a??1.5)*(c-l),g=i?f:Math.max(f,l-v),y=i?d:Math.min(d,c+v),b=e.itemNameFormatter,S=ot(b)?b({value:o}):We(b)?b.replace("{value}",o+""):o+"";r.push([S,g,l,u,c,y]);for(var w=0;w<s.length;w++){var M=s[w];if(M<g||M>y){var A=[S,M];n.push(A)}}}return{boxData:r,outliers:n}}var mNe={type:"echarts:boxplot",transform:function(e){var r=e.upstream;if(r.sourceFormat!==Li){var n="";Dr(n)}var a=gNe(r.getRawData(),e.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:a.boxData},{data:a.outliers}]}};function yNe(t){t.registerSeriesModel(JJ),t.registerChartView(lNe),t.registerLayout(hNe),t.registerTransform(mNe)}var xNe=["itemStyle","borderColor"],_Ne=["itemStyle","borderColor0"],bNe=["itemStyle","borderColorDoji"],SNe=["itemStyle","color"],wNe=["itemStyle","color0"];function WI(t,e){return e.get(t>0?SNe:wNe)}function YI(t,e){return e.get(t===0?bNe:t>0?xNe:_Ne)}var TNe={seriesType:"candlestick",plan:Ym(),performRawSeries:!0,reset:function(t,e){if(!e.isSeriesFiltered(t)){var r=t.pipelineContext.large;return!r&&{progress:function(n,a){for(var i;(i=n.next())!=null;){var o=a.getItemModel(i),s=a.getItemLayout(i).sign,l=o.getItemStyle();l.fill=WI(s,o),l.stroke=YI(s,o)||l.fill;var u=a.ensureUniqueItemVisual(i,"style");Ae(u,l)}}}}}},CNe=["color","borderColor"],MNe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.render=function(r,n,a){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(r),this._isLargeDraw?this._renderLarge(r):this._renderNormal(r)},e.prototype.incrementalPrepareRender=function(r,n,a){this._clear(),this._updateDrawMode(r)},e.prototype.incrementalRender=function(r,n,a,i){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(r,n):this._incrementalRenderNormal(r,n)},e.prototype.eachRendered=function(r){cd(this._progressiveEls||this.group,r)},e.prototype._updateDrawMode=function(r){var n=r.pipelineContext.large;(this._isLargeDraw==null||n!==this._isLargeDraw)&&(this._isLargeDraw=n,this._clear())},e.prototype._renderNormal=function(r){var n=r.getData(),a=this._data,i=this.group,o=n.getLayout("isSimpleBox"),s=r.get("clip",!0),l=r.coordinateSystem,u=l.getArea&&l.getArea();this._data||i.removeAll(),n.diff(a).add(function(c){if(n.hasValue(c)){var f=n.getItemLayout(c);if(s&&$G(u,f))return;var d=nL(f,c,!0);zn(d,{shape:{points:f.ends}},r,c),aL(d,n,c,o),i.add(d),n.setItemGraphicEl(c,d)}}).update(function(c,f){var d=a.getItemGraphicEl(f);if(!n.hasValue(c)){i.remove(d);return}var v=n.getItemLayout(c);if(s&&$G(u,v)){i.remove(d);return}d?(Sr(d,{shape:{points:v.ends}},r,c),Dl(d)):d=nL(v),aL(d,n,c,o),i.add(d),n.setItemGraphicEl(c,d)}).remove(function(c){var f=a.getItemGraphicEl(c);f&&i.remove(f)}).execute(),this._data=n},e.prototype._renderLarge=function(r){this._clear(),XG(r,this.group);var n=r.get("clip",!0)?M_(r.coordinateSystem,!1,r):null;n?this.group.setClipPath(n):this.group.removeClipPath()},e.prototype._incrementalRenderNormal=function(r,n){for(var a=n.getData(),i=a.getLayout("isSimpleBox"),o;(o=r.next())!=null;){var s=a.getItemLayout(o),l=nL(s);aL(l,a,o,i),l.incremental=!0,this.group.add(l),this._progressiveEls.push(l)}},e.prototype._incrementalRenderLarge=function(r,n){XG(n,this.group,this._progressiveEls,!0)},e.prototype.remove=function(r){this._clear()},e.prototype._clear=function(){this.group.removeAll(),this._data=null},e.type="candlestick",e})(cn),ANe=(function(){function t(){}return t})(),DNe=(function(t){ye(e,t);function e(r){var n=t.call(this,r)||this;return n.type="normalCandlestickBox",n}return e.prototype.getDefaultShape=function(){return new ANe},e.prototype.buildPath=function(r,n){var a=n.points;this.__simpleBox?(r.moveTo(a[4][0],a[4][1]),r.lineTo(a[6][0],a[6][1])):(r.moveTo(a[0][0],a[0][1]),r.lineTo(a[1][0],a[1][1]),r.lineTo(a[2][0],a[2][1]),r.lineTo(a[3][0],a[3][1]),r.closePath(),r.moveTo(a[4][0],a[4][1]),r.lineTo(a[5][0],a[5][1]),r.moveTo(a[6][0],a[6][1]),r.lineTo(a[7][0],a[7][1]))},e})(Jt);function nL(t,e,r){var n=t.ends;return new DNe({shape:{points:r?LNe(n,t):n},z2:100})}function $G(t,e){for(var r=!0,n=0;n<e.ends.length;n++)if(t.contain(e.ends[n][0],e.ends[n][1])){r=!1;break}return r}function aL(t,e,r,n){var a=e.getItemModel(r);t.useStyle(e.getItemVisual(r,"style")),t.style.strokeNoScale=!0,t.__simpleBox=n,ti(t,a);var i=e.getItemLayout(r).sign;Y(t.states,function(s,l){var u=a.getModel(l),c=WI(i,u),f=YI(i,u)||c,d=s.style||(s.style={});c&&(d.fill=c),f&&(d.stroke=f)});var o=a.getModel("emphasis");Wn(t,o.get("focus"),o.get("blurScope"),o.get("disabled"))}function LNe(t,e){return Re(t,function(r){return r=r.slice(),r[1]=e.initBaseline,r})}var ENe=(function(){function t(){}return t})(),iL=(function(t){ye(e,t);function e(r){var n=t.call(this,r)||this;return n.type="largeCandlestickBox",n}return e.prototype.getDefaultShape=function(){return new ENe},e.prototype.buildPath=function(r,n){for(var a=n.points,i=0;i<a.length;)if(this.__sign===a[i++]){var o=a[i++];r.moveTo(o,a[i++]),r.lineTo(o,a[i++])}else i+=3},e})(Jt);function XG(t,e,r,n){var a=t.getData(),i=a.getLayout("largePoints"),o=new iL({shape:{points:i},__sign:1,ignoreCoarsePointer:!0});e.add(o);var s=new iL({shape:{points:i},__sign:-1,ignoreCoarsePointer:!0});e.add(s);var l=new iL({shape:{points:i},__sign:0,ignoreCoarsePointer:!0});e.add(l),oL(1,o,t),oL(-1,s,t),oL(0,l,t),n&&(o.incremental=!0,s.incremental=!0),r&&r.push(o,s)}function oL(t,e,r,n){var a=YI(t,r)||WI(t,r),i=r.getModel("itemStyle").getItemStyle(CNe);e.useStyle(i),e.style.fill=null,e.style.stroke=a}var tee=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],r}return e.prototype.getShadowDim=function(){return"open"},e.prototype.brushSelector=function(r,n,a){var i=n.getItemLayout(r);return i&&a.rect(i.brushRect)},e.type="series.candlestick",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},e})(Sn);ja(tee,QJ,!0);function NNe(t){!t||!Ee(t.series)||Y(t.series,function(e){mt(e)&&e.type==="k"&&(e.type="candlestick")})}var RNe={seriesType:"candlestick",plan:Ym(),reset:function(t){var e=t.coordinateSystem,r=t.getData(),n=PNe(t,r),a=0,i=1,o=["x","y"],s=r.getDimensionIndex(r.mapDimension(o[a])),l=Re(r.mapDimensionsAll(o[i]),r.getDimensionIndex,r),u=l[0],c=l[1],f=l[2],d=l[3];if(r.setLayout({candleWidth:n,isSimpleBox:n<=1.3}),s<0||l.length<4)return;return{progress:t.pipelineContext.large?g:v};function v(y,b){for(var S,w=b.getStore();(S=y.next())!=null;){var M=w.get(s,S),A=w.get(u,S),D=w.get(c,S),R=w.get(f,S),N=w.get(d,S),I=Math.min(A,D),z=Math.max(A,D),B=X(I,M),V=X(z,M),G=X(R,M),F=X(N,M),q=[];W(q,V,0),W(q,B,1),q.push(ee(F),ee(V),ee(G),ee(B));var Q=b.getItemModel(S),H=!!Q.get(["itemStyle","borderColorDoji"]);b.setItemLayout(S,{sign:KG(w,S,A,D,c,H),initBaseline:A>D?V[i]:B[i],ends:q,brushRect:J(R,N,M)})}function X(K,ne){var ie=[];return ie[a]=ne,ie[i]=K,isNaN(ne)||isNaN(K)?[NaN,NaN]:e.dataToPoint(ie)}function W(K,ne,ie){var le=ne.slice(),me=ne.slice();le[a]=CS(le[a]+n/2,1,!1),me[a]=CS(me[a]-n/2,1,!0),ie?K.push(le,me):K.push(me,le)}function J(K,ne,ie){var le=X(K,ie),me=X(ne,ie);return le[a]-=n/2,me[a]-=n/2,{x:le[0],y:le[1],width:n,height:me[1]-le[1]}}function ee(K){return K[a]=CS(K[a],1),K}}function g(y,b){for(var S=ac(y.count*4),w=0,M,A=[],D=[],R,N=b.getStore(),I=!!t.get(["itemStyle","borderColorDoji"]);(R=y.next())!=null;){var z=N.get(s,R),B=N.get(u,R),V=N.get(c,R),G=N.get(f,R),F=N.get(d,R);if(isNaN(z)||isNaN(G)||isNaN(F)){S[w++]=NaN,w+=3;continue}S[w++]=KG(N,R,B,V,c,I),A[a]=z,A[i]=G,M=e.dataToPoint(A,null,D),S[w++]=M?M[0]:NaN,S[w++]=M?M[1]:NaN,A[i]=F,M=e.dataToPoint(A,null,D),S[w++]=M?M[1]:NaN}b.setLayout("largePoints",S)}}};function KG(t,e,r,n,a,i){var o;return r>n?o=-1:r<n?o=1:o=i?0:e>0?t.get(a,e-1)<=n?1:-1:1,o}function PNe(t,e){var r=t.getBaseAxis(),n,a=r.type==="category"?r.getBandWidth():(n=r.getExtent(),Math.abs(n[1]-n[0])/e.count()),i=Ue(et(t.get("barMaxWidth"),a),a),o=Ue(et(t.get("barMinWidth"),1),a),s=t.get("barWidth");return s!=null?Ue(s,a):Math.max(Math.min(a/2,i),o)}function kNe(t){t.registerChartView(MNe),t.registerSeriesModel(tee),t.registerPreprocessor(NNe),t.registerVisual(TNe),t.registerLayout(RNe)}function QG(t,e){var r=e.rippleEffectColor||e.color;t.eachChild(function(n){n.attr({z:e.z,zlevel:e.zlevel,style:{stroke:e.brushType==="stroke"?r:null,fill:e.brushType==="fill"?r:null}})})}var INe=(function(t){ye(e,t);function e(r,n){var a=t.call(this)||this,i=new T_(r,n),o=new st;return a.add(i),a.add(o),a.updateData(r,n),a}return e.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},e.prototype.startEffectAnimation=function(r){for(var n=r.symbolType,a=r.color,i=r.rippleNumber,o=this.childAt(1),s=0;s<i;s++){var l=Oa(n,-1,-1,2,2,a);l.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var u=-s/i*r.period+r.effectOffset;l.animate("",!0).when(r.period,{scaleX:r.rippleScale/2,scaleY:r.rippleScale/2}).delay(u).start(),l.animateStyle(!0).when(r.period,{opacity:0}).delay(u).start(),o.add(l)}QG(o,r)},e.prototype.updateEffectAnimation=function(r){for(var n=this._effectCfg,a=this.childAt(1),i=["symbolType","period","rippleScale","rippleNumber"],o=0;o<i.length;o++){var s=i[o];if(n[s]!==r[s]){this.stopEffectAnimation(),this.startEffectAnimation(r);return}}QG(a,r)},e.prototype.highlight=function(){_f(this)},e.prototype.downplay=function(){bf(this)},e.prototype.getSymbolType=function(){var r=this.childAt(0);return r&&r.getSymbolType()},e.prototype.updateData=function(r,n){var a=this,i=r.hostModel;this.childAt(0).updateData(r,n);var o=this.childAt(1),s=r.getItemModel(n),l=r.getItemVisual(n,"symbol"),u=qm(r.getItemVisual(n,"symbolSize")),c=r.getItemVisual(n,"style"),f=c&&c.fill,d=s.getModel("emphasis");o.setScale(u),o.traverse(function(b){b.setStyle("fill",f)});var v=gp(r.getItemVisual(n,"symbolOffset"),u);v&&(o.x=v[0],o.y=v[1]);var g=r.getItemVisual(n,"symbolRotate");o.rotation=(g||0)*Math.PI/180||0;var y={};y.showEffectOn=i.get("showEffectOn"),y.rippleScale=s.get(["rippleEffect","scale"]),y.brushType=s.get(["rippleEffect","brushType"]),y.period=s.get(["rippleEffect","period"])*1e3,y.effectOffset=n/r.count(),y.z=i.getShallow("z")||0,y.zlevel=i.getShallow("zlevel")||0,y.symbolType=l,y.color=f,y.rippleEffectColor=s.get(["rippleEffect","color"]),y.rippleNumber=s.get(["rippleEffect","number"]),y.showEffectOn==="render"?(this._effectCfg?this.updateEffectAnimation(y):this.startEffectAnimation(y),this._effectCfg=y):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(b){b==="emphasis"?y.showEffectOn!=="render"&&a.startEffectAnimation(y):b==="normal"&&y.showEffectOn!=="render"&&a.stopEffectAnimation()}),this._effectCfg=y,Wn(this,d.get("focus"),d.get("blurScope"),d.get("disabled"))},e.prototype.fadeOut=function(r){r&&r()},e})(st),ONe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.init=function(){this._symbolDraw=new C_(INe)},e.prototype.render=function(r,n,a){var i=r.getData(),o=this._symbolDraw;o.updateData(i,{clipShape:this._getClipShape(r)}),this.group.add(o.group)},e.prototype._getClipShape=function(r){var n=r.coordinateSystem,a=n&&n.getArea&&n.getArea();return r.get("clip",!0)?a:null},e.prototype.updateTransform=function(r,n,a){var i=r.getData();this.group.dirty();var o=A_("").reset(r,n,a);o.progress&&o.progress({start:0,end:i.count(),count:i.count()},i),this._symbolDraw.updateLayout()},e.prototype._updateGroupTransform=function(r){var n=r.coordinateSystem;n&&n.getRoamTransform&&(this.group.transform=a0e(n.getRoamTransform()),this.group.decomposeTransform())},e.prototype.remove=function(r,n){this._symbolDraw&&this._symbolDraw.remove(!0)},e.type="effectScatter",e})(cn),jNe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.hasSymbolVisual=!0,r}return e.prototype.getInitialData=function(r,n){return Rf(null,this,{useEncodeDefaulter:!0})},e.prototype.brushSelector=function(r,n,a){return a.point(n.getItemLayout(r))},e.type="series.effectScatter",e.dependencies=["grid","polar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},e})(Sn);function zNe(t){t.registerChartView(ONe),t.registerSeriesModel(jNe),t.registerLayout(A_("effectScatter"))}var ree=(function(t){ye(e,t);function e(r,n,a){var i=t.call(this)||this;return i.add(i.createLine(r,n,a)),i._updateEffectSymbol(r,n),i}return e.prototype.createLine=function(r,n,a){return new II(r,n,a)},e.prototype._updateEffectSymbol=function(r,n){var a=r.getItemModel(n),i=a.getModel("effect"),o=i.get("symbolSize"),s=i.get("symbol");Ee(o)||(o=[o,o]);var l=r.getItemVisual(n,"style"),u=i.get("color")||l&&l.stroke,c=this.childAt(1);this._symbolType!==s&&(this.remove(c),c=Oa(s,-.5,-.5,1,1,u),c.z2=100,c.culling=!0,this.add(c)),c&&(c.setStyle("shadowColor",u),c.setStyle(i.getItemStyle(["color"])),c.scaleX=o[0],c.scaleY=o[1],c.setColor(u),this._symbolType=s,this._symbolScale=o,this._updateEffectAnimation(r,i,n))},e.prototype._updateEffectAnimation=function(r,n,a){var i=this.childAt(1);if(i){var o=r.getItemLayout(a),s=n.get("period")*1e3,l=n.get("loop"),u=n.get("roundTrip"),c=n.get("constantSpeed"),f=Wi(n.get("delay"),function(v){return v/r.count()*s/3});if(i.ignore=!0,this._updateAnimationPoints(i,o),c>0&&(s=this._getLineLength(i)/c*1e3),s!==this._period||l!==this._loop||u!==this._roundTrip){i.stopAnimation();var d=void 0;ot(f)?d=f(a):d=f,i.__t>0&&(d=-s*i.__t),this._animateSymbol(i,s,d,l,u)}this._period=s,this._loop=l,this._roundTrip=u}},e.prototype._animateSymbol=function(r,n,a,i,o){if(n>0){r.__t=0;var s=this,l=r.animate("",i).when(o?n*2:n,{__t:o?2:1}).delay(a).during(function(){s._updateSymbolPosition(r)});i||l.done(function(){s.remove(r)}),l.start()}},e.prototype._getLineLength=function(r){return Eh(r.__p1,r.__cp1)+Eh(r.__cp1,r.__p2)},e.prototype._updateAnimationPoints=function(r,n){r.__p1=n[0],r.__p2=n[1],r.__cp1=n[2]||[(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]},e.prototype.updateData=function(r,n,a){this.childAt(0).updateData(r,n,a),this._updateEffectSymbol(r,n)},e.prototype._updateSymbolPosition=function(r){var n=r.__p1,a=r.__p2,i=r.__cp1,o=r.__t<1?r.__t:2-r.__t,s=[r.x,r.y],l=s.slice(),u=Ai,c=IE;s[0]=u(n[0],i[0],a[0],o),s[1]=u(n[1],i[1],a[1],o);var f=r.__t<1?c(n[0],i[0],a[0],o):c(a[0],i[0],n[0],1-o),d=r.__t<1?c(n[1],i[1],a[1],o):c(a[1],i[1],n[1],1-o);r.rotation=-Math.atan2(d,f)-Math.PI/2,(this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")&&(r.__lastT!==void 0&&r.__lastT<r.__t?(r.scaleY=Eh(l,s)*1.05,o===1&&(s[0]=l[0]+(s[0]-l[0])/2,s[1]=l[1]+(s[1]-l[1])/2)):r.__lastT===1?r.scaleY=2*Eh(n,s):r.scaleY=this._symbolScale[1]),r.__lastT=r.__t,r.ignore=!1,r.x=s[0],r.y=s[1]},e.prototype.updateLayout=function(r,n){this.childAt(0).updateLayout(r,n);var a=r.getItemModel(n).getModel("effect");this._updateEffectAnimation(r,a,n)},e})(st),nee=(function(t){ye(e,t);function e(r,n,a){var i=t.call(this)||this;return i._createPolyline(r,n,a),i}return e.prototype._createPolyline=function(r,n,a){var i=r.getItemLayout(n),o=new Yi({shape:{points:i}});this.add(o),this._updateCommonStl(r,n,a)},e.prototype.updateData=function(r,n,a){var i=r.hostModel,o=this.childAt(0),s={shape:{points:r.getItemLayout(n)}};Sr(o,s,i,n),this._updateCommonStl(r,n,a)},e.prototype._updateCommonStl=function(r,n,a){var i=this.childAt(0),o=r.getItemModel(n),s=a&&a.emphasisLineStyle,l=a&&a.focus,u=a&&a.blurScope,c=a&&a.emphasisDisabled;if(!a||r.hasItemOption){var f=o.getModel("emphasis");s=f.getModel("lineStyle").getLineStyle(),c=f.get("disabled"),l=f.get("focus"),u=f.get("blurScope")}i.useStyle(r.getItemVisual(n,"style")),i.style.fill=null,i.style.strokeNoScale=!0;var d=i.ensureState("emphasis");d.style=s,Wn(this,l,u,c)},e.prototype.updateLayout=function(r,n){var a=this.childAt(0);a.setShape("points",r.getItemLayout(n))},e})(st),BNe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r._lastFrame=0,r._lastFramePercent=0,r}return e.prototype.createLine=function(r,n,a){return new nee(r,n,a)},e.prototype._updateAnimationPoints=function(r,n){this._points=n;for(var a=[0],i=0,o=1;o<n.length;o++){var s=n[o-1],l=n[o];i+=Eh(s,l),a.push(i)}if(i===0){this._length=0;return}for(var o=0;o<a.length;o++)a[o]/=i;this._offsets=a,this._length=i},e.prototype._getLineLength=function(){return this._length},e.prototype._updateSymbolPosition=function(r){var n=r.__t<1?r.__t:2-r.__t,a=this._points,i=this._offsets,o=a.length;if(i){var s=this._lastFrame,l;if(n<this._lastFramePercent){var u=Math.min(s+1,o-1);for(l=u;l>=0&&!(i[l]<=n);l--);l=Math.min(l,o-2)}else{for(l=s;l<o&&!(i[l]>n);l++);l=Math.min(l-1,o-2)}var c=(n-i[l])/(i[l+1]-i[l]),f=a[l],d=a[l+1];r.x=f[0]*(1-c)+c*d[0],r.y=f[1]*(1-c)+c*d[1];var v=r.__t<1?d[0]-f[0]:f[0]-d[0],g=r.__t<1?d[1]-f[1]:f[1]-d[1];r.rotation=-Math.atan2(g,v)-Math.PI/2,this._lastFrame=l,this._lastFramePercent=n,r.ignore=!1}},e})(ree),VNe=(function(){function t(){this.polyline=!1,this.curveness=0,this.segs=[]}return t})(),FNe=(function(t){ye(e,t);function e(r){var n=t.call(this,r)||this;return n._off=0,n.hoverDataIdx=-1,n}return e.prototype.reset=function(){this.notClear=!1,this._off=0},e.prototype.getDefaultStyle=function(){return{stroke:ve.color.neutral99,fill:null}},e.prototype.getDefaultShape=function(){return new VNe},e.prototype.buildPath=function(r,n){var a=n.segs,i=n.curveness,o;if(n.polyline)for(o=this._off;o<a.length;){var s=a[o++];if(s>0){r.moveTo(a[o++],a[o++]);for(var l=1;l<s;l++)r.lineTo(a[o++],a[o++])}}else for(o=this._off;o<a.length;){var u=a[o++],c=a[o++],f=a[o++],d=a[o++];if(r.moveTo(u,c),i>0){var v=(u+f)/2-(c-d)*i,g=(c+d)/2-(f-u)*i;r.quadraticCurveTo(v,g,f,d)}else r.lineTo(f,d)}this.incremental&&(this._off=o,this.notClear=!0)},e.prototype.findDataIndex=function(r,n){var a=this.shape,i=a.segs,o=a.curveness,s=this.style.lineWidth;if(a.polyline)for(var l=0,u=0;u<i.length;){var c=i[u++];if(c>0)for(var f=i[u++],d=i[u++],v=1;v<c;v++){var g=i[u++],y=i[u++];if(Ch(f,d,g,y,s,r,n))return l}l++}else for(var l=0,u=0;u<i.length;){var f=i[u++],d=i[u++],g=i[u++],y=i[u++];if(o>0){var b=(f+g)/2-(d-y)*o,S=(d+y)/2-(g-f)*o;if(i$(f,d,b,S,g,y,s,r,n))return l}else if(Ch(f,d,g,y,s,r,n))return l;l++}return-1},e.prototype.contain=function(r,n){var a=this.transformCoordToLocal(r,n),i=this.getBoundingRect();if(r=a[0],n=a[1],i.contain(r,n)){var o=this.hoverDataIdx=this.findDataIndex(r,n);return o>=0}return this.hoverDataIdx=-1,!1},e.prototype.getBoundingRect=function(){var r=this._rect;if(!r){for(var n=this.shape,a=n.segs,i=1/0,o=1/0,s=-1/0,l=-1/0,u=0;u<a.length;){var c=a[u++],f=a[u++];i=Math.min(c,i),s=Math.max(c,s),o=Math.min(f,o),l=Math.max(f,l)}r=this._rect=new yt(i,o,s,l)}return r},e})(Jt),HNe=(function(){function t(){this.group=new st}return t.prototype.updateData=function(e){this._clear();var r=this._create();r.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(r,e)},t.prototype.incrementalPrepareUpdate=function(e){this.group.removeAll(),this._clear()},t.prototype.incrementalUpdate=function(e,r){var n=this._newAdded[0],a=r.getLayout("linesPoints"),i=n&&n.shape.segs;if(i&&i.length<2e4){var o=i.length,s=new Float32Array(o+a.length);s.set(i),s.set(a,o),n.setShape({segs:s})}else{this._newAdded=[];var l=this._create();l.incremental=!0,l.setShape({segs:a}),this._setCommon(l,r),l.__startIndex=e.start}},t.prototype.remove=function(){this._clear()},t.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},t.prototype._create=function(){var e=new FNe({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(e),this.group.add(e),e},t.prototype._setCommon=function(e,r,n){var a=r.hostModel;e.setShape({polyline:a.get("polyline"),curveness:a.get(["lineStyle","curveness"])}),e.useStyle(a.getModel("lineStyle").getLineStyle()),e.style.strokeNoScale=!0;var i=r.getVisual("style");i&&i.stroke&&e.setStyle("stroke",i.stroke),e.setStyle("fill",null);var o=wt(e);o.seriesIndex=a.seriesIndex,e.on("mousemove",function(s){o.dataIndex=null;var l=e.hoverDataIdx;l>0&&(o.dataIndex=l+e.__startIndex)})},t.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},t})(),aee={seriesType:"lines",plan:Ym(),reset:function(t){var e=t.coordinateSystem;if(e){var r=t.get("polyline"),n=t.pipelineContext.large;return{progress:function(a,i){var o=[];if(n){var s=void 0,l=a.end-a.start;if(r){for(var u=0,c=a.start;c<a.end;c++)u+=t.getLineCoordsCount(c);s=new Float32Array(l+u*2)}else s=new Float32Array(l*4);for(var f=0,d=[],c=a.start;c<a.end;c++){var v=t.getLineCoords(c,o);r&&(s[f++]=v);for(var g=0;g<v;g++)d=e.dataToPoint(o[g],!1,d),s[f++]=d[0],s[f++]=d[1]}i.setLayout("linesPoints",s)}else for(var c=a.start;c<a.end;c++){var y=i.getItemModel(c),v=t.getLineCoords(c,o),b=[];if(r)for(var S=0;S<v;S++)b.push(e.dataToPoint(o[S]));else{b[0]=e.dataToPoint(o[0]),b[1]=e.dataToPoint(o[1]);var w=y.get(["lineStyle","curveness"]);+w&&(b[2]=[(b[0][0]+b[1][0])/2-(b[0][1]-b[1][1])*w,(b[0][1]+b[1][1])/2-(b[1][0]-b[0][0])*w])}i.setItemLayout(c,b)}}}}}},GNe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.render=function(r,n,a){var i=r.getData(),o=this._updateLineDraw(i,r),s=r.get("zlevel"),l=r.get(["effect","trailLength"]),u=a.getZr(),c=u.painter.getType()==="svg";c||u.painter.getLayer(s).clear(!0),this._lastZlevel!=null&&!c&&u.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(r)&&l>0&&(c||u.configLayer(s,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(l/10+.9,1),0)})),o.updateData(i);var f=r.get("clip",!0)&&M_(r.coordinateSystem,!1,r);f?this.group.setClipPath(f):this.group.removeClipPath(),this._lastZlevel=s,this._finished=!0},e.prototype.incrementalPrepareRender=function(r,n,a){var i=r.getData(),o=this._updateLineDraw(i,r);o.incrementalPrepareUpdate(i),this._clearLayer(a),this._finished=!1},e.prototype.incrementalRender=function(r,n,a){this._lineDraw.incrementalUpdate(r,n.getData()),this._finished=r.end===n.getData().count()},e.prototype.eachRendered=function(r){this._lineDraw&&this._lineDraw.eachRendered(r)},e.prototype.updateTransform=function(r,n,a){var i=r.getData(),o=r.pipelineContext;if(!this._finished||o.large||o.progressiveRender)return{update:!0};var s=aee.reset(r,n,a);s.progress&&s.progress({start:0,end:i.count(),count:i.count()},i),this._lineDraw.updateLayout(),this._clearLayer(a)},e.prototype._updateLineDraw=function(r,n){var a=this._lineDraw,i=this._showEffect(n),o=!!n.get("polyline"),s=n.pipelineContext,l=s.large;return(!a||i!==this._hasEffet||o!==this._isPolyline||l!==this._isLargeDraw)&&(a&&a.remove(),a=this._lineDraw=l?new HNe:new OI(o?i?BNe:nee:i?ree:II),this._hasEffet=i,this._isPolyline=o,this._isLargeDraw=l),this.group.add(a.group),a},e.prototype._showEffect=function(r){return!!r.get(["effect","show"])},e.prototype._clearLayer=function(r){var n=r.getZr(),a=n.painter.getType()==="svg";!a&&this._lastZlevel!=null&&n.painter.getLayer(this._lastZlevel).clear(!0)},e.prototype.remove=function(r,n){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(n)},e.prototype.dispose=function(r,n){this.remove(r,n)},e.type="lines",e})(cn),UNe=typeof Uint32Array>"u"?Array:Uint32Array,WNe=typeof Float64Array>"u"?Array:Float64Array;function JG(t){var e=t.data;e&&e[0]&&e[0][0]&&e[0][0].coord&&(t.data=Re(e,function(r){var n=[r[0].coord,r[1].coord],a={coords:n};return r[0].name&&(a.fromName=r[0].name),r[1].name&&(a.toName=r[1].name),sk([a,r[0],r[1]])}))}var YNe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.visualStyleAccessPath="lineStyle",r.visualDrawType="stroke",r}return e.prototype.init=function(r){r.data=r.data||[],JG(r);var n=this._processFlatCoordsArray(r.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(r.data=new Float32Array(n.count)),t.prototype.init.apply(this,arguments)},e.prototype.mergeOption=function(r){if(JG(r),r.data){var n=this._processFlatCoordsArray(r.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(r.data=new Float32Array(n.count))}t.prototype.mergeOption.apply(this,arguments)},e.prototype.appendData=function(r){var n=this._processFlatCoordsArray(r.data);n.flatCoords&&(this._flatCoords?(this._flatCoords=xx(this._flatCoords,n.flatCoords),this._flatCoordsOffset=xx(this._flatCoordsOffset,n.flatCoordsOffset)):(this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset),r.data=new Float32Array(n.count)),this.getRawData().appendData(r.data)},e.prototype._getCoordsFromItemModel=function(r){var n=this.getData().getItemModel(r),a=n.option instanceof Array?n.option:n.getShallow("coords");return a},e.prototype.getLineCoordsCount=function(r){return this._flatCoordsOffset?this._flatCoordsOffset[r*2+1]:this._getCoordsFromItemModel(r).length},e.prototype.getLineCoords=function(r,n){if(this._flatCoordsOffset){for(var a=this._flatCoordsOffset[r*2],i=this._flatCoordsOffset[r*2+1],o=0;o<i;o++)n[o]=n[o]||[],n[o][0]=this._flatCoords[a+o*2],n[o][1]=this._flatCoords[a+o*2+1];return i}else{for(var s=this._getCoordsFromItemModel(r),o=0;o<s.length;o++)n[o]=n[o]||[],n[o][0]=s[o][0],n[o][1]=s[o][1];return s.length}},e.prototype._processFlatCoordsArray=function(r){var n=0;if(this._flatCoords&&(n=this._flatCoords.length),vr(r[0])){for(var a=r.length,i=new UNe(a),o=new WNe(a),s=0,l=0,u=0,c=0;c<a;){u++;var f=r[c++];i[l++]=s+n,i[l++]=f;for(var d=0;d<f;d++){var v=r[c++],g=r[c++];o[s++]=v,o[s++]=g}}return{flatCoordsOffset:new Uint32Array(i.buffer,0,l),flatCoords:o,count:u}}return{flatCoordsOffset:null,flatCoords:null,count:r.length}},e.prototype.getInitialData=function(r,n){var a=new Lo(["value"],this);return a.hasItemOption=!1,a.initData(r.data,[],function(i,o,s,l){if(i instanceof Array)return NaN;a.hasItemOption=!0;var u=i.value;if(u!=null)return u instanceof Array?u[l]:u}),a},e.prototype.formatTooltip=function(r,n,a){var i=this.getData(),o=i.getItemModel(r),s=o.get("name");if(s)return s;var l=o.get("fromName"),u=o.get("toName"),c=[];return l!=null&&c.push(l),u!=null&&c.push(u),Ia("nameValue",{name:c.join(" > ")})},e.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},e.prototype.getProgressive=function(){var r=this.option.progressive;return r??(this.option.large?1e4:this.get("progressive"))},e.prototype.getProgressiveThreshold=function(){var r=this.option.progressiveThreshold;return r??(this.option.large?2e4:this.get("progressiveThreshold"))},e.prototype.getZLevelKey=function(){var r=this.getModel("effect"),n=r.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:r.get("show")&&n>0?n+"":""},e.type="series.lines",e.dependencies=["grid","polar","geo","calendar"],e.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},e})(Sn);function U1(t){return t instanceof Array||(t=[t,t]),t}var ZNe={seriesType:"lines",reset:function(t){var e=U1(t.get("symbol")),r=U1(t.get("symbolSize")),n=t.getData();n.setVisual("fromSymbol",e&&e[0]),n.setVisual("toSymbol",e&&e[1]),n.setVisual("fromSymbolSize",r&&r[0]),n.setVisual("toSymbolSize",r&&r[1]);function a(i,o){var s=i.getItemModel(o),l=U1(s.getShallow("symbol",!0)),u=U1(s.getShallow("symbolSize",!0));l[0]&&i.setItemVisual(o,"fromSymbol",l[0]),l[1]&&i.setItemVisual(o,"toSymbol",l[1]),u[0]&&i.setItemVisual(o,"fromSymbolSize",u[0]),u[1]&&i.setItemVisual(o,"toSymbolSize",u[1])}return{dataEach:n.hasItemOption?a:null}}};function qNe(t){t.registerChartView(GNe),t.registerSeriesModel(YNe),t.registerLayout(aee),t.registerVisual(ZNe)}var $Ne=256,XNe=(function(){function t(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var e=cu.createCanvas();this.canvas=e}return t.prototype.update=function(e,r,n,a,i,o){var s=this._getBrush(),l=this._getGradient(i,"inRange"),u=this._getGradient(i,"outOfRange"),c=this.pointSize+this.blurSize,f=this.canvas,d=f.getContext("2d"),v=e.length;f.width=r,f.height=n;for(var g=0;g<v;++g){var y=e[g],b=y[0],S=y[1],w=y[2],M=a(w);d.globalAlpha=M,d.drawImage(s,b-c,S-c)}if(!f.width||!f.height)return f;for(var A=d.getImageData(0,0,f.width,f.height),D=A.data,R=0,N=D.length,I=this.minOpacity,z=this.maxOpacity,B=z-I;R<N;){var M=D[R+3]/256,V=Math.floor(M*($Ne-1))*4;if(M>0){var G=o(M)?l:u;M>0&&(M=M*B+I),D[R++]=G[V],D[R++]=G[V+1],D[R++]=G[V+2],D[R++]=G[V+3]*M*256}else R+=4}return d.putImageData(A,0,0),f},t.prototype._getBrush=function(){var e=this._brushCanvas||(this._brushCanvas=cu.createCanvas()),r=this.pointSize+this.blurSize,n=r*2;e.width=n,e.height=n;var a=e.getContext("2d");return a.clearRect(0,0,n,n),a.shadowOffsetX=n,a.shadowBlur=this.blurSize,a.shadowColor=ve.color.neutral99,a.beginPath(),a.arc(-r,r,this.pointSize,0,Math.PI*2,!0),a.closePath(),a.fill(),e},t.prototype._getGradient=function(e,r){for(var n=this._gradientPixels,a=n[r]||(n[r]=new Uint8ClampedArray(256*4)),i=[0,0,0,0],o=0,s=0;s<256;s++)e[r](s/255,!0,i),a[o++]=i[0],a[o++]=i[1],a[o++]=i[2],a[o++]=i[3];return a},t})();function KNe(t,e,r){var n=t[1]-t[0];e=Re(e,function(o){return{interval:[(o.interval[0]-t[0])/n,(o.interval[1]-t[0])/n]}});var a=e.length,i=0;return function(o){var s;for(s=i;s<a;s++){var l=e[s].interval;if(l[0]<=o&&o<=l[1]){i=s;break}}if(s===a)for(s=i-1;s>=0;s--){var l=e[s].interval;if(l[0]<=o&&o<=l[1]){i=s;break}}return s>=0&&s<a&&r[s]}}function QNe(t,e){var r=t[1]-t[0];return e=[(e[0]-t[0])/r,(e[1]-t[0])/r],function(n){return n>=e[0]&&n<=e[1]}}function eU(t){var e=t.dimensions;return e[0]==="lng"&&e[1]==="lat"}var JNe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.render=function(r,n,a){var i;n.eachComponent("visualMap",function(s){s.eachTargetSeries(function(l){l===r&&(i=s)})}),this._progressiveEls=null,this.group.removeAll();var o=r.coordinateSystem;o.type==="cartesian2d"||o.type==="calendar"||o.type==="matrix"?this._renderOnGridLike(r,a,0,r.getData().count()):eU(o)&&this._renderOnGeo(o,r,i,a)},e.prototype.incrementalPrepareRender=function(r,n,a){this.group.removeAll()},e.prototype.incrementalRender=function(r,n,a,i){var o=n.coordinateSystem;o&&(eU(o)?this.render(n,a,i):(this._progressiveEls=[],this._renderOnGridLike(n,i,r.start,r.end,!0)))},e.prototype.eachRendered=function(r){cd(this._progressiveEls||this.group,r)},e.prototype._renderOnGridLike=function(r,n,a,i,o){var s=r.coordinateSystem,l=td(s,"cartesian2d"),u=td(s,"matrix"),c,f,d,v;if(l){var g=s.getAxis("x"),y=s.getAxis("y");c=g.getBandWidth()+.5,f=y.getBandWidth()+.5,d=g.scale.getExtent(),v=y.scale.getExtent()}for(var b=this.group,S=r.getData(),w=r.getModel(["emphasis","itemStyle"]).getItemStyle(),M=r.getModel(["blur","itemStyle"]).getItemStyle(),A=r.getModel(["select","itemStyle"]).getItemStyle(),D=r.get(["itemStyle","borderRadius"]),R=ri(r),N=r.getModel("emphasis"),I=N.get("focus"),z=N.get("blurScope"),B=N.get("disabled"),V=l||u?[S.mapDimension("x"),S.mapDimension("y"),S.mapDimension("value")]:[S.mapDimension("time"),S.mapDimension("value")],G=a;G<i;G++){var F=void 0,q=S.getItemVisual(G,"style");if(l){var Q=S.get(V[0],G),H=S.get(V[1],G);if(isNaN(S.get(V[2],G))||isNaN(Q)||isNaN(H)||Q<d[0]||Q>d[1]||H<v[0]||H>v[1])continue;var X=s.dataToPoint([Q,H]);F=new $t({shape:{x:X[0]-c/2,y:X[1]-f/2,width:c,height:f},style:q})}else if(u){var W=s.dataToLayout([S.get(V[0],G),S.get(V[1],G)]).rect;if(so(W.x))continue;F=new $t({z2:1,shape:W,style:q})}else{if(isNaN(S.get(V[1],G)))continue;var J=s.dataToLayout([S.get(V[0],G)]),W=J.contentRect||J.rect;if(so(W.x)||so(W.y))continue;F=new $t({z2:1,shape:W,style:q})}if(S.hasItemOption){var ee=S.getItemModel(G),K=ee.getModel("emphasis");w=K.getModel("itemStyle").getItemStyle(),M=ee.getModel(["blur","itemStyle"]).getItemStyle(),A=ee.getModel(["select","itemStyle"]).getItemStyle(),D=ee.get(["itemStyle","borderRadius"]),I=K.get("focus"),z=K.get("blurScope"),B=K.get("disabled"),R=ri(ee)}F.shape.r=D;var ne=r.getRawValue(G),ie="-";ne&&ne[2]!=null&&(ie=ne[2]+""),xi(F,R,{labelFetcher:r,labelDataIndex:G,defaultOpacity:q.opacity,defaultText:ie}),F.ensureState("emphasis").style=w,F.ensureState("blur").style=M,F.ensureState("select").style=A,Wn(F,I,z,B),F.incremental=o,o&&(F.states.emphasis.hoverLayer=!0),b.add(F),S.setItemGraphicEl(G,F),this._progressiveEls&&this._progressiveEls.push(F)}},e.prototype._renderOnGeo=function(r,n,a,i){var o=a.targetVisuals.inRange,s=a.targetVisuals.outOfRange,l=n.getData(),u=this._hmLayer||this._hmLayer||new XNe;u.blurSize=n.get("blurSize"),u.pointSize=n.get("pointSize"),u.minOpacity=n.get("minOpacity"),u.maxOpacity=n.get("maxOpacity");var c=r.getViewRect().clone(),f=r.getRoamTransform();c.applyTransform(f);var d=Math.max(c.x,0),v=Math.max(c.y,0),g=Math.min(c.width+c.x,i.getWidth()),y=Math.min(c.height+c.y,i.getHeight()),b=g-d,S=y-v,w=[l.mapDimension("lng"),l.mapDimension("lat"),l.mapDimension("value")],M=l.mapArray(w,function(N,I,z){var B=r.dataToPoint([N,I]);return B[0]-=d,B[1]-=v,B.push(z),B}),A=a.getExtent(),D=a.type==="visualMap.continuous"?QNe(A,a.option.range):KNe(A,a.getPieceList(),a.option.selected);u.update(M,b,S,o.color.getNormalizer(),{inRange:o.color.getColorMapper(),outOfRange:s.color.getColorMapper()},D);var R=new Ni({style:{width:b,height:S,x:d,y:v,image:u.canvas},silent:!0});this.group.add(R)},e.type="heatmap",e})(cn),eRe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.getInitialData=function(r,n){return Rf(null,this,{generateCoord:"value"})},e.prototype.preventIncremental=function(){var r=x_.get(this.get("coordinateSystem"));if(r&&r.dimensions)return r.dimensions[0]==="lng"&&r.dimensions[1]==="lat"},e.type="series.heatmap",e.dependencies=["grid","geo","calendar","matrix"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:ve.color.primary}}},e})(Sn);function tRe(t){t.registerChartView(JNe),t.registerSeriesModel(eRe)}var rRe=["itemStyle","borderWidth"],tU=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],sL=new Ef,nRe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.render=function(r,n,a){var i=this.group,o=r.getData(),s=this._data,l=r.coordinateSystem,u=l.getBaseAxis(),c=u.isHorizontal(),f=l.master.getRect(),d={ecSize:{width:a.getWidth(),height:a.getHeight()},seriesModel:r,coordSys:l,coordSysExtent:[[f.x,f.x+f.width],[f.y,f.y+f.height]],isHorizontal:c,valueDim:tU[+c],categoryDim:tU[1-+c]};o.diff(s).add(function(g){if(o.hasValue(g)){var y=nU(o,g),b=rU(o,g,y,d),S=aU(o,d,b);o.setItemGraphicEl(g,S),i.add(S),oU(S,d,b)}}).update(function(g,y){var b=s.getItemGraphicEl(y);if(!o.hasValue(g)){i.remove(b);return}var S=nU(o,g),w=rU(o,g,S,d),M=cee(o,w);b&&M!==b.__pictorialShapeStr&&(i.remove(b),o.setItemGraphicEl(g,null),b=null),b?cRe(b,d,w):b=aU(o,d,w,!0),o.setItemGraphicEl(g,b),b.__pictorialSymbolMeta=w,i.add(b),oU(b,d,w)}).remove(function(g){var y=s.getItemGraphicEl(g);y&&iU(s,g,y.__pictorialSymbolMeta.animationModel,y)}).execute();var v=r.get("clip",!0)?M_(r.coordinateSystem,!1,r):null;return v?i.setClipPath(v):i.removeClipPath(),this._data=o,this.group},e.prototype.remove=function(r,n){var a=this.group,i=this._data;r.get("animation")?i&&i.eachItemGraphicEl(function(o){iU(i,wt(o).dataIndex,r,o)}):a.removeAll()},e.type="pictorialBar",e})(cn);function rU(t,e,r,n){var a=t.getItemLayout(e),i=r.get("symbolRepeat"),o=r.get("symbolClip"),s=r.get("symbolPosition")||"start",l=r.get("symbolRotate"),u=(l||0)*Math.PI/180||0,c=r.get("symbolPatternSize")||2,f=r.isAnimationEnabled(),d={dataIndex:e,layout:a,itemModel:r,symbolType:t.getItemVisual(e,"symbol")||"circle",style:t.getItemVisual(e,"style"),symbolClip:o,symbolRepeat:i,symbolRepeatDirection:r.get("symbolRepeatDirection"),symbolPatternSize:c,rotation:u,animationModel:f?r:null,hoverScale:f&&r.get(["emphasis","scale"]),z2:r.getShallow("z",!0)||0};aRe(r,i,a,n,d),iRe(t,e,a,i,o,d.boundingLength,d.pxSign,c,n,d),oRe(r,d.symbolScale,u,n,d);var v=d.symbolSize,g=gp(r.get("symbolOffset"),v);return sRe(r,v,a,i,o,g,s,d.valueLineWidth,d.boundingLength,d.repeatCutLength,n,d),d}function aRe(t,e,r,n,a){var i=n.valueDim,o=t.get("symbolBoundingData"),s=n.coordSys.getOtherAxis(n.coordSys.getBaseAxis()),l=s.toGlobalCoord(s.dataToCoord(0)),u=1-+(r[i.wh]<=0),c;if(Ee(o)){var f=[lL(s,o[0])-l,lL(s,o[1])-l];f[1]<f[0]&&f.reverse(),c=f[u]}else o!=null?c=lL(s,o)-l:e?c=n.coordSysExtent[i.index][u]-l:c=r[i.wh];a.boundingLength=c,e&&(a.repeatCutLength=r[i.wh]);var d=i.xy==="x",v=s.inverse;a.pxSign=d&&!v||!d&&v?c>=0?1:-1:c>0?1:-1}function lL(t,e){return t.toGlobalCoord(t.dataToCoord(t.scale.parse(e)))}function iRe(t,e,r,n,a,i,o,s,l,u){var c=l.valueDim,f=l.categoryDim,d=Math.abs(r[f.wh]),v=t.getItemVisual(e,"symbolSize"),g;Ee(v)?g=v.slice():v==null?g=["100%","100%"]:g=[v,v],g[f.index]=Ue(g[f.index],d),g[c.index]=Ue(g[c.index],n?d:Math.abs(i)),u.symbolSize=g;var y=u.symbolScale=[g[0]/s,g[1]/s];y[c.index]*=(l.isHorizontal?-1:1)*o}function oRe(t,e,r,n,a){var i=t.get(rRe)||0;i&&(sL.attr({scaleX:e[0],scaleY:e[1],rotation:r}),sL.updateTransform(),i/=sL.getLineScale(),i*=e[n.valueDim.index]),a.valueLineWidth=i||0}function sRe(t,e,r,n,a,i,o,s,l,u,c,f){var d=c.categoryDim,v=c.valueDim,g=f.pxSign,y=Math.max(e[v.index]+s,0),b=y;if(n){var S=Math.abs(l),w=Wi(t.get("symbolMargin"),"15%")+"",M=!1;w.lastIndexOf("!")===w.length-1&&(M=!0,w=w.slice(0,w.length-1));var A=Ue(w,e[v.index]),D=Math.max(y+A*2,0),R=M?0:A*2,N=Gq(n),I=N?n:sU((S+R)/D),z=S-I*y;A=z/2/(M?I:Math.max(I-1,1)),D=y+A*2,R=M?0:A*2,!N&&n!=="fixed"&&(I=u?sU((Math.abs(u)+R)/D):0),b=I*D-R,f.repeatTimes=I,f.symbolMargin=A}var B=g*(b/2),V=f.pathPosition=[];V[d.index]=r[d.wh]/2,V[v.index]=o==="start"?B:o==="end"?l-B:l/2,i&&(V[0]+=i[0],V[1]+=i[1]);var G=f.bundlePosition=[];G[d.index]=r[d.xy],G[v.index]=r[v.xy];var F=f.barRectShape=Ae({},r);F[v.wh]=g*Math.max(Math.abs(r[v.wh]),Math.abs(V[v.index]+B)),F[d.wh]=r[d.wh];var q=f.clipShape={};q[d.xy]=-r[d.xy],q[d.wh]=c.ecSize[d.wh],q[v.xy]=0,q[v.wh]=r[v.wh]}function iee(t){var e=t.symbolPatternSize,r=Oa(t.symbolType,-e/2,-e/2,e,e);return r.attr({culling:!0}),r.type!=="image"&&r.setStyle({strokeNoScale:!0}),r}function oee(t,e,r,n){var a=t.__pictorialBundle,i=r.symbolSize,o=r.valueLineWidth,s=r.pathPosition,l=e.valueDim,u=r.repeatTimes||0,c=0,f=i[e.valueDim.index]+o+r.symbolMargin*2;for(ZI(t,function(y){y.__pictorialAnimationIndex=c,y.__pictorialRepeatTimes=u,c<u?em(y,null,g(c),r,n):em(y,null,{scaleX:0,scaleY:0},r,n,function(){a.remove(y)}),c++});c<u;c++){var d=iee(r);d.__pictorialAnimationIndex=c,d.__pictorialRepeatTimes=u,a.add(d);var v=g(c);em(d,{x:v.x,y:v.y,scaleX:0,scaleY:0},{scaleX:v.scaleX,scaleY:v.scaleY,rotation:v.rotation},r,n)}function g(y){var b=s.slice(),S=r.pxSign,w=y;return(r.symbolRepeatDirection==="start"?S>0:S<0)&&(w=u-1-y),b[l.index]=f*(w-u/2+.5)+s[l.index],{x:b[0],y:b[1],scaleX:r.symbolScale[0],scaleY:r.symbolScale[1],rotation:r.rotation}}}function see(t,e,r,n){var a=t.__pictorialBundle,i=t.__pictorialMainPath;i?em(i,null,{x:r.pathPosition[0],y:r.pathPosition[1],scaleX:r.symbolScale[0],scaleY:r.symbolScale[1],rotation:r.rotation},r,n):(i=t.__pictorialMainPath=iee(r),a.add(i),em(i,{x:r.pathPosition[0],y:r.pathPosition[1],scaleX:0,scaleY:0,rotation:r.rotation},{scaleX:r.symbolScale[0],scaleY:r.symbolScale[1]},r,n))}function lee(t,e,r){var n=Ae({},e.barRectShape),a=t.__pictorialBarRect;a?em(a,null,{shape:n},e,r):(a=t.__pictorialBarRect=new $t({z2:2,shape:n,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),a.disableMorphing=!0,t.add(a))}function uee(t,e,r,n){if(r.symbolClip){var a=t.__pictorialClipPath,i=Ae({},r.clipShape),o=e.valueDim,s=r.animationModel,l=r.dataIndex;if(a)Sr(a,{shape:i},s,l);else{i[o.wh]=0,a=new $t({shape:i}),t.__pictorialBundle.setClipPath(a),t.__pictorialClipPath=a;var u={};u[o.wh]=r.clipShape[o.wh],dp[n?"updateProps":"initProps"](a,{shape:u},s,l)}}}function nU(t,e){var r=t.getItemModel(e);return r.getAnimationDelayParams=lRe,r.isAnimationEnabled=uRe,r}function lRe(t){return{index:t.__pictorialAnimationIndex,count:t.__pictorialRepeatTimes}}function uRe(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function aU(t,e,r,n){var a=new st,i=new st;return a.add(i),a.__pictorialBundle=i,i.x=r.bundlePosition[0],i.y=r.bundlePosition[1],r.symbolRepeat?oee(a,e,r):see(a,e,r),lee(a,r,n),uee(a,e,r,n),a.__pictorialShapeStr=cee(t,r),a.__pictorialSymbolMeta=r,a}function cRe(t,e,r){var n=r.animationModel,a=r.dataIndex,i=t.__pictorialBundle;Sr(i,{x:r.bundlePosition[0],y:r.bundlePosition[1]},n,a),r.symbolRepeat?oee(t,e,r,!0):see(t,e,r,!0),lee(t,r,!0),uee(t,e,r,!0)}function iU(t,e,r,n){var a=n.__pictorialBarRect;a&&a.removeTextContent();var i=[];ZI(n,function(o){i.push(o)}),n.__pictorialMainPath&&i.push(n.__pictorialMainPath),n.__pictorialClipPath&&(r=null),Y(i,function(o){Jh(o,{scaleX:0,scaleY:0},r,e,function(){n.parent&&n.parent.remove(n)})}),t.setItemGraphicEl(e,null)}function cee(t,e){return[t.getItemVisual(e.dataIndex,"symbol")||"none",!!e.symbolRepeat,!!e.symbolClip].join(":")}function ZI(t,e,r){Y(t.__pictorialBundle.children(),function(n){n!==t.__pictorialBarRect&&e.call(r,n)})}function em(t,e,r,n,a,i){e&&t.attr(e),n.symbolClip&&!a?r&&t.attr(r):r&&dp[a?"updateProps":"initProps"](t,r,n.animationModel,n.dataIndex,i)}function oU(t,e,r){var n=r.dataIndex,a=r.itemModel,i=a.getModel("emphasis"),o=i.getModel("itemStyle").getItemStyle(),s=a.getModel(["blur","itemStyle"]).getItemStyle(),l=a.getModel(["select","itemStyle"]).getItemStyle(),u=a.getShallow("cursor"),c=i.get("focus"),f=i.get("blurScope"),d=i.get("scale");ZI(t,function(y){if(y instanceof Ni){var b=y.style;y.useStyle(Ae({image:b.image,x:b.x,y:b.y,width:b.width,height:b.height},r.style))}else y.useStyle(r.style);var S=y.ensureState("emphasis");S.style=o,d&&(S.scaleX=y.scaleX*1.1,S.scaleY=y.scaleY*1.1),y.ensureState("blur").style=s,y.ensureState("select").style=l,u&&(y.cursor=u),y.z2=r.z2});var v=e.valueDim.posDesc[+(r.boundingLength>0)],g=t.__pictorialBarRect;g.ignoreClip=!0,xi(g,ri(a),{labelFetcher:e.seriesModel,labelDataIndex:n,defaultText:xm(e.seriesModel.getData(),n),inheritColor:r.style.fill,defaultOpacity:r.style.opacity,defaultOutsidePosition:v}),Wn(t,c,f,i.get("disabled"))}function sU(t){var e=Math.round(t);return Math.abs(t-e)<1e-4?e:Math.ceil(t)}var fRe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.hasSymbolVisual=!0,r.defaultSymbol="roundRect",r}return e.prototype.getInitialData=function(r){return r.stack=null,t.prototype.getInitialData.apply(this,arguments)},e.type="series.pictorialBar",e.dependencies=["grid"],e.defaultOption=fd(Vx.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:ve.color.primary}}}),e})(Vx);function hRe(t){t.registerChartView(nRe),t.registerSeriesModel(fRe),t.registerLayout(t.PRIORITY.VISUAL.LAYOUT,zt(EK,"pictorialBar")),t.registerLayout(t.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,NK("pictorialBar"))}var dRe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r._layers=[],r}return e.prototype.render=function(r,n,a){var i=r.getData(),o=this,s=this.group,l=r.getLayerSeries(),u=i.getLayout("layoutInfo"),c=u.rect,f=u.boundaryGap;s.x=0,s.y=c.y+f[0];function d(b){return b.name}var v=new Sf(this._layersSeries||[],l,d,d),g=[];v.add(Ye(y,this,"add")).update(Ye(y,this,"update")).remove(Ye(y,this,"remove")).execute();function y(b,S,w){var M=o._layers;if(b==="remove"){s.remove(M[S]);return}for(var A=[],D=[],R,N=l[S].indices,I=0;I<N.length;I++){var z=i.getItemLayout(N[I]),B=z.x,V=z.y0,G=z.y;A.push(B,V),D.push(B,V+G),R=i.getItemVisual(N[I],"style")}var F,q=i.getItemLayout(N[0]),Q=r.getModel("label"),H=Q.get("margin"),X=r.getModel("emphasis");if(b==="add"){var W=g[S]=new st;F=new bQ({shape:{points:A,stackedOnPoints:D,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),W.add(F),s.add(W),r.isAnimationEnabled()&&F.setClipPath(vRe(F.getBoundingRect(),r,function(){F.removeClipPath()}))}else{var W=M[w];F=W.childAt(0),s.add(W),g[S]=W,Sr(F,{shape:{points:A,stackedOnPoints:D}},r),Dl(F)}xi(F,ri(r),{labelDataIndex:N[I-1],defaultText:i.getName(N[I-1]),inheritColor:R.fill},{normal:{verticalAlign:"middle"}}),F.setTextConfig({position:null,local:!0});var J=F.getTextContent();J&&(J.x=q.x-H,J.y=q.y0+q.y/2),F.useStyle(R),i.setItemGraphicEl(S,F),ti(F,r),Wn(F,X.get("focus"),X.get("blurScope"),X.get("disabled"))}this._layersSeries=l,this._layers=g},e.type="themeRiver",e})(cn);function vRe(t,e,r){var n=new $t({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return zn(n,{shape:{x:t.x-50,width:t.width+100,height:t.height+20}},e,r),n}var uL=2,pRe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.init=function(r){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new Qm(Ye(this.getData,this),Ye(this.getRawData,this))},e.prototype.fixData=function(r){var n=r.length,a={},i=XE(r,function(d){return a.hasOwnProperty(d[0]+"")||(a[d[0]+""]=-1),d[2]}),o=[];i.buckets.each(function(d,v){o.push({name:v,dataList:d})});for(var s=o.length,l=0;l<s;++l){for(var u=o[l].name,c=0;c<o[l].dataList.length;++c){var f=o[l].dataList[c][0]+"";a[f]=l}for(var f in a)a.hasOwnProperty(f)&&a[f]!==l&&(a[f]=l,r[n]=[f,0,u],n++)}return r},e.prototype.getInitialData=function(r,n){for(var a=this.getReferringComponents("singleAxis",na).models[0],i=a.get("type"),o=Ir(r.data,function(g){return g[2]!==void 0}),s=this.fixData(o||[]),l=[],u=this.nameMap=Qe(),c=0,f=0;f<s.length;++f)l.push(s[f][uL]),u.get(s[f][uL])||(u.set(s[f][uL],c),c++);var d=S_(s,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:Lw(i)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,v=new Lo(d,this);return v.initData(s),v},e.prototype.getLayerSeries=function(){for(var r=this.getData(),n=r.count(),a=[],i=0;i<n;++i)a[i]=i;var o=r.mapDimension("single"),s=XE(a,function(u){return r.get("name",u)}),l=[];return s.buckets.each(function(u,c){u.sort(function(f,d){return r.get(o,f)-r.get(o,d)}),l.push({name:c,indices:u})}),l},e.prototype.getAxisTooltipData=function(r,n,a){Ee(r)||(r=r?[r]:[]);for(var i=this.getData(),o=this.getLayerSeries(),s=[],l=o.length,u,c=0;c<l;++c){for(var f=Number.MAX_VALUE,d=-1,v=o[c].indices.length,g=0;g<v;++g){var y=i.get(r[0],o[c].indices[g]),b=Math.abs(y-n);b<=f&&(u=y,f=b,d=o[c].indices[g])}s.push(d)}return{dataIndices:s,nestestValue:u}},e.prototype.formatTooltip=function(r,n,a){var i=this.getData(),o=i.getName(r),s=i.get(i.mapDimension("value"),r);return Ia("nameValue",{name:o,value:s})},e.type="series.themeRiver",e.dependencies=["singleAxis"],e.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},e})(Sn);function gRe(t,e){t.eachSeriesByType("themeRiver",function(r){var n=r.getData(),a=r.coordinateSystem,i={},o=a.getRect();i.rect=o;var s=r.get("boundaryGap"),l=a.getAxis();if(i.boundaryGap=s,l.orient==="horizontal"){s[0]=Ue(s[0],o.height),s[1]=Ue(s[1],o.height);var u=o.height-s[0]-s[1];lU(n,r,u)}else{s[0]=Ue(s[0],o.width),s[1]=Ue(s[1],o.width);var c=o.width-s[0]-s[1];lU(n,r,c)}n.setLayout("layoutInfo",i)})}function lU(t,e,r){if(t.count())for(var n=e.coordinateSystem,a=e.getLayerSeries(),i=t.mapDimension("single"),o=t.mapDimension("value"),s=Re(a,function(b){return Re(b.indices,function(S){var w=n.dataToPoint(t.get(i,S));return w[1]=t.get(o,S),w})}),l=mRe(s),u=l.y0,c=r/l.max,f=a.length,d=a[0].indices.length,v,g=0;g<d;++g){v=u[g]*c,t.setItemLayout(a[0].indices[g],{layerIndex:0,x:s[0][g][0],y0:v,y:s[0][g][1]*c});for(var y=1;y<f;++y)v+=s[y-1][g][1]*c,t.setItemLayout(a[y].indices[g],{layerIndex:y,x:s[y][g][0],y0:v,y:s[y][g][1]*c})}}function mRe(t){for(var e=t.length,r=t[0].length,n=[],a=[],i=0,o=0;o<r;++o){for(var s=0,l=0;l<e;++l)s+=t[l][o][1];s>i&&(i=s),n.push(s)}for(var u=0;u<r;++u)a[u]=(i-n[u])/2;i=0;for(var c=0;c<r;++c){var f=n[c]+a[c];f>i&&(i=f)}return{y0:a,max:i}}function yRe(t){t.registerChartView(dRe),t.registerSeriesModel(pRe),t.registerLayout(gRe),t.registerProcessor(Xm("themeRiver"))}var xRe=2,_Re=4,uU=(function(t){ye(e,t);function e(r,n,a,i){var o=t.call(this)||this;o.z2=xRe,o.textConfig={inside:!0},wt(o).seriesIndex=n.seriesIndex;var s=new xr({z2:_Re,silent:r.getModel().get(["label","silent"])});return o.setTextContent(s),o.updateData(!0,r,n,a,i),o}return e.prototype.updateData=function(r,n,a,i,o){this.node=n,n.piece=this,a=a||this._seriesModel,i=i||this._ecModel;var s=this;wt(s).dataIndex=n.dataIndex;var l=n.getModel(),u=l.getModel("emphasis"),c=n.getLayout(),f=Ae({},c);f.label=null;var d=n.getVisual("style");d.lineJoin="bevel";var v=n.getVisual("decal");v&&(d.decal=pm(v,o));var g=oc(l.getModel("itemStyle"),f,!0);Ae(f,g),Y(No,function(w){var M=s.ensureState(w),A=l.getModel([w,"itemStyle"]);M.style=A.getItemStyle();var D=oc(A,f);D&&(M.shape=D)}),r?(s.setShape(f),s.shape.r=c.r0,zn(s,{shape:{r:c.r}},a,n.dataIndex)):(Sr(s,{shape:f},a),Dl(s)),s.useStyle(d),this._updateLabel(a);var y=l.getShallow("cursor");y&&s.attr("cursor",y),this._seriesModel=a||this._seriesModel,this._ecModel=i||this._ecModel;var b=u.get("focus"),S=b==="relative"?xx(n.getAncestorsIndices(),n.getDescendantIndices()):b==="ancestor"?n.getAncestorsIndices():b==="descendant"?n.getDescendantIndices():b;Wn(this,S,u.get("blurScope"),u.get("disabled"))},e.prototype._updateLabel=function(r){var n=this,a=this.node.getModel(),i=a.getModel("label"),o=this.node.getLayout(),s=o.endAngle-o.startAngle,l=(o.startAngle+o.endAngle)/2,u=Math.cos(l),c=Math.sin(l),f=this,d=f.getTextContent(),v=this.node.dataIndex,g=i.get("minAngle")/180*Math.PI,y=i.get("show")&&!(g!=null&&Math.abs(s)<g);d.ignore=!y,Y(Mx,function(S){var w=S==="normal"?a.getModel("label"):a.getModel([S,"label"]),M=S==="normal",A=M?d:d.ensureState(S),D=r.getFormattedLabel(v,S);M&&(D=D||n.node.name),A.style=bn(w,{},null,S!=="normal",!0),D&&(A.style.text=D);var R=w.get("show");R!=null&&!M&&(A.ignore=!R);var N=b(w,"position"),I=M?f:f.states[S],z=I.style.fill;I.textConfig={outsideFill:w.get("color")==="inherit"?z:null,inside:N!=="outside"};var B,V=b(w,"distance")||0,G=b(w,"align"),F=b(w,"rotate"),q=Math.PI*.5,Q=Math.PI*1.5,H=Es(F==="tangential"?Math.PI/2-l:l),X=H>q&&!Tx(H-q)&&H<Q;N==="outside"?(B=o.r+V,G=X?"right":"left"):!G||G==="center"?(s===2*Math.PI&&o.r0===0?B=0:B=(o.r+o.r0)/2,G="center"):G==="left"?(B=o.r0+V,G=X?"right":"left"):G==="right"&&(B=o.r-V,G=X?"left":"right"),A.style.align=G,A.style.verticalAlign=b(w,"verticalAlign")||"middle",A.x=B*u+o.cx,A.y=B*c+o.cy;var W=0;F==="radial"?W=Es(-l)+(X?Math.PI:0):F==="tangential"?W=Es(Math.PI/2-l)+(X?Math.PI:0):vr(F)&&(W=F*Math.PI/180),A.rotation=Es(W)});function b(S,w){var M=S.get(w);return M??i.get(w)}d.dirtyStyle()},e})(fo),hR="sunburstRootToNode",cU="sunburstHighlight",bRe="sunburstUnhighlight";function SRe(t){t.registerAction({type:hR,update:"updateView"},function(e,r){r.eachComponent({mainType:"series",subType:"sunburst",query:e},n);function n(a,i){var o=Hx(e,[hR],a);if(o){var s=a.getViewRoot();s&&(e.direction=EI(s,o.node)?"rollUp":"drillDown"),a.resetViewRoot(o.node)}}}),t.registerAction({type:cU,update:"none"},function(e,r,n){e=Ae({},e),r.eachComponent({mainType:"series",subType:"sunburst",query:e},a);function a(i){var o=Hx(e,[cU],i);o&&(e.dataIndex=o.node.dataIndex)}n.dispatchAction(Ae(e,{type:"highlight"}))}),t.registerAction({type:bRe,update:"updateView"},function(e,r,n){e=Ae({},e),n.dispatchAction(Ae(e,{type:"downplay"}))})}var wRe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.render=function(r,n,a,i){var o=this;this.seriesModel=r,this.api=a,this.ecModel=n;var s=r.getData(),l=s.tree.root,u=r.getViewRoot(),c=this.group,f=r.get("renderLabelForZeroData"),d=[];u.eachNode(function(w){d.push(w)});var v=this._oldChildren||[];g(d,v),S(l,u),this._initEvents(),this._oldChildren=d;function g(w,M){if(w.length===0&&M.length===0)return;new Sf(M,w,A,A).add(D).update(D).remove(zt(D,null)).execute();function A(R){return R.getId()}function D(R,N){var I=R==null?null:w[R],z=N==null?null:M[N];y(I,z)}}function y(w,M){if(!f&&w&&!w.getValue()&&(w=null),w!==l&&M!==l){if(M&&M.piece)w?(M.piece.updateData(!1,w,r,n,a),s.setItemGraphicEl(w.dataIndex,M.piece)):b(M);else if(w){var A=new uU(w,r,n,a);c.add(A),s.setItemGraphicEl(w.dataIndex,A)}}}function b(w){w&&w.piece&&(c.remove(w.piece),w.piece=null)}function S(w,M){M.depth>0?(o.virtualPiece?o.virtualPiece.updateData(!1,w,r,n,a):(o.virtualPiece=new uU(w,r,n,a),c.add(o.virtualPiece)),M.piece.off("click"),o.virtualPiece.on("click",function(A){o._rootToNode(M.parentNode)})):o.virtualPiece&&(c.remove(o.virtualPiece),o.virtualPiece=null)}},e.prototype._initEvents=function(){var r=this;this.group.off("click"),this.group.on("click",function(n){var a=!1,i=r.seriesModel.getViewRoot();i.eachNode(function(o){if(!a&&o.piece&&o.piece===n.target){var s=o.getModel().get("nodeClick");if(s==="rootToNode")r._rootToNode(o);else if(s==="link"){var l=o.getModel(),u=l.get("link");if(u){var c=l.get("target",!0)||"_blank";_w(u,c)}}a=!0}})})},e.prototype._rootToNode=function(r){r!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:hR,from:this.uid,seriesId:this.seriesModel.id,targetNode:r})},e.prototype.containPoint=function(r,n){var a=n.getData(),i=a.getItemLayout(0);if(i){var o=r[0]-i.cx,s=r[1]-i.cy,l=Math.sqrt(o*o+s*s);return l<=i.r&&l>=i.r0}},e.type="sunburst",e})(cn),TRe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.ignoreStyleOnData=!0,r}return e.prototype.getInitialData=function(r,n){var a={name:r.name,children:r.data};fee(a);var i=this._levelModels=Re(r.levels||[],function(l){return new ar(l,this,n)},this),o=LI.createTree(a,this,s);function s(l){l.wrapMethod("getItemModel",function(u,c){var f=o.getNodeByDataIndex(c),d=i[f.depth];return d&&(u.parentModel=d),u})}return o.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.getDataParams=function(r){var n=t.prototype.getDataParams.apply(this,arguments),a=this.getData().tree.getNodeByDataIndex(r);return n.treePathInfo=IC(a,this),n},e.prototype.getLevelModel=function(r){return this._levelModels&&this._levelModels[r.depth]},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(r){r?this._viewRoot=r:r=this._viewRoot;var n=this.getRawData().tree.root;(!r||r!==n&&!n.contains(r))&&(this._viewRoot=n)},e.prototype.enableAriaDecal=function(){pJ(this)},e.type="series.sunburst",e.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},e})(Sn);function fee(t){var e=0;Y(t.children,function(n){fee(n);var a=n.value;Ee(a)&&(a=a[0]),e+=a});var r=t.value;Ee(r)&&(r=r[0]),(r==null||isNaN(r))&&(r=e),r<0&&(r=0),Ee(t.value)?t.value[0]=r:t.value=r}var fU=Math.PI/180;function CRe(t,e,r){e.eachSeriesByType(t,function(n){var a=n.get("center"),i=n.get("radius");Ee(i)||(i=[0,i]),Ee(a)||(a=[a,a]);var o=r.getWidth(),s=r.getHeight(),l=Math.min(o,s),u=Ue(a[0],o),c=Ue(a[1],s),f=Ue(i[0],l/2),d=Ue(i[1],l/2),v=-n.get("startAngle")*fU,g=n.get("minAngle")*fU,y=n.getData().tree.root,b=n.getViewRoot(),S=b.depth,w=n.get("sort");w!=null&&hee(b,w);var M=0;Y(b.children,function(H){!isNaN(H.getValue())&&M++});var A=b.getValue(),D=Math.PI/(A||M)*2,R=b.depth>0,N=b.height-(R?-1:1),I=(d-f)/(N||1),z=n.get("clockwise"),B=n.get("stillShowZeroSum"),V=z?1:-1,G=function(H,X){if(H){var W=X;if(H!==y){var J=H.getValue(),ee=A===0&&B?D:J*D;ee<g&&(ee=g),W=X+V*ee;var K=H.depth-S-(R?-1:1),ne=f+I*K,ie=f+I*(K+1),le=n.getLevelModel(H);if(le){var me=le.get("r0",!0),we=le.get("r",!0),pe=le.get("radius",!0);pe!=null&&(me=pe[0],we=pe[1]),me!=null&&(ne=Ue(me,l/2)),we!=null&&(ie=Ue(we,l/2))}H.setLayout({angle:ee,startAngle:X,endAngle:W,clockwise:z,cx:u,cy:c,r0:ne,r:ie})}if(H.children&&H.children.length){var Pe=0;Y(H.children,function(ke){Pe+=G(ke,X+Pe)})}return W-X}};if(R){var F=f,q=f+I,Q=Math.PI*2;y.setLayout({angle:Q,startAngle:v,endAngle:v+Q,clockwise:z,cx:u,cy:c,r0:F,r:q})}G(b,v)})}function hee(t,e){var r=t.children||[];t.children=MRe(r,e),r.length&&Y(t.children,function(n){hee(n,e)})}function MRe(t,e){if(ot(e)){var r=Re(t,function(a,i){var o=a.getValue();return{params:{depth:a.depth,height:a.height,dataIndex:a.dataIndex,getValue:function(){return o}},index:i}});return r.sort(function(a,i){return e(a.params,i.params)}),Re(r,function(a){return t[a.index]})}else{var n=e==="asc";return t.sort(function(a,i){var o=(a.getValue()-i.getValue())*(n?1:-1);return o===0?(a.dataIndex-i.dataIndex)*(n?-1:1):o})}}function ARe(t){var e={};function r(n,a,i){if(n.depth===0)return ve.color.neutral50;for(var o=n;o&&o.depth>1;)o=o.parentNode;var s=a.getColorFromPalette(o.name||o.dataIndex+"",e);return n.depth>1&&We(s)&&(s=zE(s,(n.depth-1)/(i-1)*.5)),s}t.eachSeriesByType("sunburst",function(n){var a=n.getData(),i=a.tree;i.eachNode(function(o){var s=o.getModel(),l=s.getModel("itemStyle").getItemStyle();l.fill||(l.fill=r(o,n,i.root.height));var u=a.ensureUniqueItemVisual(o.dataIndex,"style");Ae(u,l)})})}function DRe(t){t.registerChartView(wRe),t.registerSeriesModel(TRe),t.registerLayout(zt(CRe,"sunburst")),t.registerProcessor(zt(Xm,"sunburst")),t.registerVisual(ARe),SRe(t)}var hU={color:"fill",borderColor:"stroke"},LRe={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},hf=Xt(),ERe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},e.prototype.getInitialData=function(r,n){return Rf(null,this)},e.prototype.getDataParams=function(r,n,a){var i=t.prototype.getDataParams.call(this,r,n);return a&&(i.info=hf(a).info),i},e.type="series.custom",e.dependencies=["grid","polar","geo","singleAxis","calendar","matrix"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},e})(Sn);function NRe(t,e){return e=e||[0,0],Re(["x","y"],function(r,n){var a=this.getAxis(r),i=e[n],o=t[n]/2;return a.type==="category"?a.getBandWidth():Math.abs(a.dataToCoord(i-o)-a.dataToCoord(i+o))},this)}function RRe(t){var e=t.master.getRect();return{coordSys:{type:"cartesian2d",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(r){return t.dataToPoint(r)},size:Ye(NRe,t)}}}function PRe(t,e){return e=e||[0,0],Re([0,1],function(r){var n=e[r],a=t[r]/2,i=[],o=[];return i[r]=n-a,o[r]=n+a,i[1-r]=o[1-r]=e[1-r],Math.abs(this.dataToPoint(i)[r]-this.dataToPoint(o)[r])},this)}function kRe(t){var e=t.getBoundingRect();return{coordSys:{type:"geo",x:e.x,y:e.y,width:e.width,height:e.height,zoom:t.getZoom()},api:{coord:function(r){return t.dataToPoint(r)},size:Ye(PRe,t)}}}function IRe(t,e){var r=this.getAxis(),n=e instanceof Array?e[0]:e,a=(t instanceof Array?t[0]:t)/2;return r.type==="category"?r.getBandWidth():Math.abs(r.dataToCoord(n-a)-r.dataToCoord(n+a))}function ORe(t){var e=t.getRect();return{coordSys:{type:"singleAxis",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(r){return t.dataToPoint(r)},size:Ye(IRe,t)}}}function jRe(t,e){return e=e||[0,0],Re(["Radius","Angle"],function(r,n){var a="get"+r+"Axis",i=this[a](),o=e[n],s=t[n]/2,l=i.type==="category"?i.getBandWidth():Math.abs(i.dataToCoord(o-s)-i.dataToCoord(o+s));return r==="Angle"&&(l=l*Math.PI/180),l},this)}function zRe(t){var e=t.getRadiusAxis(),r=t.getAngleAxis(),n=e.getExtent();return n[0]>n[1]&&n.reverse(),{coordSys:{type:"polar",cx:t.cx,cy:t.cy,r:n[1],r0:n[0]},api:{coord:function(a){var i=e.dataToRadius(a[0]),o=r.dataToAngle(a[1]),s=t.coordToPoint([i,o]);return s.push(i,o*Math.PI/180),s},size:Ye(jRe,t)}}}function BRe(t){var e=t.getRect(),r=t.getRangeInfo();return{coordSys:{type:"calendar",x:e.x,y:e.y,width:e.width,height:e.height,cellWidth:t.getCellWidth(),cellHeight:t.getCellHeight(),rangeInfo:{start:r.start,end:r.end,weeks:r.weeks,dayCount:r.allDay}},api:{coord:function(n,a){return t.dataToPoint(n,a)},layout:function(n,a){return t.dataToLayout(n,a)}}}}function VRe(t){var e=t.getRect();return{coordSys:{type:"matrix",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(r,n){return t.dataToPoint(r,n)},layout:function(r,n){return t.dataToLayout(r,n)}}}}function dee(t,e,r,n){return t&&(t.legacy||t.legacy!==!1&&!r&&!n&&e!=="tspan"&&(e==="text"||Xe(t,"text")))}function vee(t,e,r){var n=t,a,i,o;if(e==="text")o=n;else{o={},Xe(n,"text")&&(o.text=n.text),Xe(n,"rich")&&(o.rich=n.rich),Xe(n,"textFill")&&(o.fill=n.textFill),Xe(n,"textStroke")&&(o.stroke=n.textStroke),Xe(n,"fontFamily")&&(o.fontFamily=n.fontFamily),Xe(n,"fontSize")&&(o.fontSize=n.fontSize),Xe(n,"fontStyle")&&(o.fontStyle=n.fontStyle),Xe(n,"fontWeight")&&(o.fontWeight=n.fontWeight),i={type:"text",style:o,silent:!0},a={};var s=Xe(n,"textPosition");r?a.position=s?n.textPosition:"inside":s&&(a.position=n.textPosition),Xe(n,"textPosition")&&(a.position=n.textPosition),Xe(n,"textOffset")&&(a.offset=n.textOffset),Xe(n,"textRotation")&&(a.rotation=n.textRotation),Xe(n,"textDistance")&&(a.distance=n.textDistance)}return dU(o,t),Y(o.rich,function(l){dU(l,l)}),{textConfig:a,textContent:i}}function dU(t,e){e&&(e.font=e.textFont||e.font,Xe(e,"textStrokeWidth")&&(t.lineWidth=e.textStrokeWidth),Xe(e,"textAlign")&&(t.align=e.textAlign),Xe(e,"textVerticalAlign")&&(t.verticalAlign=e.textVerticalAlign),Xe(e,"textLineHeight")&&(t.lineHeight=e.textLineHeight),Xe(e,"textWidth")&&(t.width=e.textWidth),Xe(e,"textHeight")&&(t.height=e.textHeight),Xe(e,"textBackgroundColor")&&(t.backgroundColor=e.textBackgroundColor),Xe(e,"textPadding")&&(t.padding=e.textPadding),Xe(e,"textBorderColor")&&(t.borderColor=e.textBorderColor),Xe(e,"textBorderWidth")&&(t.borderWidth=e.textBorderWidth),Xe(e,"textBorderRadius")&&(t.borderRadius=e.textBorderRadius),Xe(e,"textBoxShadowColor")&&(t.shadowColor=e.textBoxShadowColor),Xe(e,"textBoxShadowBlur")&&(t.shadowBlur=e.textBoxShadowBlur),Xe(e,"textBoxShadowOffsetX")&&(t.shadowOffsetX=e.textBoxShadowOffsetX),Xe(e,"textBoxShadowOffsetY")&&(t.shadowOffsetY=e.textBoxShadowOffsetY))}function vU(t,e,r){var n=t;n.textPosition=n.textPosition||r.position||"inside",r.offset!=null&&(n.textOffset=r.offset),r.rotation!=null&&(n.textRotation=r.rotation),r.distance!=null&&(n.textDistance=r.distance);var a=n.textPosition.indexOf("inside")>=0,i=t.fill||ve.color.neutral99;pU(n,e);var o=n.textFill==null;return a?o&&(n.textFill=r.insideFill||ve.color.neutral00,!n.textStroke&&r.insideStroke&&(n.textStroke=r.insideStroke),!n.textStroke&&(n.textStroke=i),n.textStrokeWidth==null&&(n.textStrokeWidth=2)):(o&&(n.textFill=t.fill||r.outsideFill||ve.color.neutral00),!n.textStroke&&r.outsideStroke&&(n.textStroke=r.outsideStroke)),n.text=e.text,n.rich=e.rich,Y(e.rich,function(s){pU(s,s)}),n}function pU(t,e){e&&(Xe(e,"fill")&&(t.textFill=e.fill),Xe(e,"stroke")&&(t.textStroke=e.fill),Xe(e,"lineWidth")&&(t.textStrokeWidth=e.lineWidth),Xe(e,"font")&&(t.font=e.font),Xe(e,"fontStyle")&&(t.fontStyle=e.fontStyle),Xe(e,"fontWeight")&&(t.fontWeight=e.fontWeight),Xe(e,"fontSize")&&(t.fontSize=e.fontSize),Xe(e,"fontFamily")&&(t.fontFamily=e.fontFamily),Xe(e,"align")&&(t.textAlign=e.align),Xe(e,"verticalAlign")&&(t.textVerticalAlign=e.verticalAlign),Xe(e,"lineHeight")&&(t.textLineHeight=e.lineHeight),Xe(e,"width")&&(t.textWidth=e.width),Xe(e,"height")&&(t.textHeight=e.height),Xe(e,"backgroundColor")&&(t.textBackgroundColor=e.backgroundColor),Xe(e,"padding")&&(t.textPadding=e.padding),Xe(e,"borderColor")&&(t.textBorderColor=e.borderColor),Xe(e,"borderWidth")&&(t.textBorderWidth=e.borderWidth),Xe(e,"borderRadius")&&(t.textBorderRadius=e.borderRadius),Xe(e,"shadowColor")&&(t.textBoxShadowColor=e.shadowColor),Xe(e,"shadowBlur")&&(t.textBoxShadowBlur=e.shadowBlur),Xe(e,"shadowOffsetX")&&(t.textBoxShadowOffsetX=e.shadowOffsetX),Xe(e,"shadowOffsetY")&&(t.textBoxShadowOffsetY=e.shadowOffsetY),Xe(e,"textShadowColor")&&(t.textShadowColor=e.textShadowColor),Xe(e,"textShadowBlur")&&(t.textShadowBlur=e.textShadowBlur),Xe(e,"textShadowOffsetX")&&(t.textShadowOffsetX=e.textShadowOffsetX),Xe(e,"textShadowOffsetY")&&(t.textShadowOffsetY=e.textShadowOffsetY))}var pee={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},gU=sr(pee);gc(yc,function(t,e){return t[e]=1,t},{});yc.join(", ");var Zw=["","style","shape","extra"],wm=Xt();function qI(t,e,r,n,a){var i=t+"Animation",o=Gm(t,n,a)||{},s=wm(e).userDuring;return o.duration>0&&(o.during=s?Ye(WRe,{el:e,userDuring:s}):null,o.setToFinal=!0,o.scope=t),Ae(o,r[i]),o}function PS(t,e,r,n){n=n||{};var a=n.dataIndex,i=n.isInit,o=n.clearStyle,s=r.isAnimationEnabled(),l=wm(t),u=e.style;l.userDuring=e.during;var c={},f={};if(ZRe(t,e,f),t.type==="compound")for(var d=t.shape.paths,v=e.shape.paths,g=0;g<v.length;g++){var y=v[g];cL("shape",y,d[g])}else cL("shape",e,f),cL("extra",e,f);if(!i&&s&&(YRe(t,e,c),mU("shape",t,e,c),mU("extra",t,e,c),qRe(t,e,u,c)),f.style=u,FRe(t,f,o),GRe(t,e),s)if(i){var b={};Y(Zw,function(w){var M=w?e[w]:e;M&&M.enterFrom&&(w&&(b[w]=b[w]||{}),Ae(w?b[w]:b,M.enterFrom))});var S=qI("enter",t,e,r,a);S.duration>0&&t.animateFrom(b,S)}else HRe(t,e,a||0,r,c);gee(t,e),u?t.dirty():t.markRedraw()}function gee(t,e){for(var r=wm(t).leaveToProps,n=0;n<Zw.length;n++){var a=Zw[n],i=a?e[a]:e;i&&i.leaveTo&&(r||(r=wm(t).leaveToProps={}),a&&(r[a]=r[a]||{}),Ae(a?r[a]:r,i.leaveTo))}}function zC(t,e,r,n){if(t){var a=t.parent,i=wm(t).leaveToProps;if(i){var o=qI("update",t,e,r,0);o.done=function(){a&&a.remove(t)},t.animateTo(i,o)}else a&&a.remove(t)}}function Fv(t){return t==="all"}function FRe(t,e,r){var n=e.style;if(!t.isGroup&&n){if(r){t.useStyle({});for(var a=t.animators,i=0;i<a.length;i++){var o=a[i];o.targetName==="style"&&o.changeTarget(t.style)}}t.setStyle(n)}e&&(e.style=null,e&&t.attr(e),e.style=n)}function HRe(t,e,r,n,a){if(a){var i=qI("update",t,e,n,r);i.duration>0&&t.animateFrom(a,i)}}function GRe(t,e){Xe(e,"silent")&&(t.silent=e.silent),Xe(e,"ignore")&&(t.ignore=e.ignore),t instanceof Al&&Xe(e,"invisible")&&(t.invisible=e.invisible),t instanceof Jt&&Xe(e,"autoBatch")&&(t.autoBatch=e.autoBatch)}var Wu={},URe={setTransform:function(t,e){return Wu.el[t]=e,this},getTransform:function(t){return Wu.el[t]},setShape:function(t,e){var r=Wu.el,n=r.shape||(r.shape={});return n[t]=e,r.dirtyShape&&r.dirtyShape(),this},getShape:function(t){var e=Wu.el.shape;if(e)return e[t]},setStyle:function(t,e){var r=Wu.el,n=r.style;return n&&(n[t]=e,r.dirtyStyle&&r.dirtyStyle()),this},getStyle:function(t){var e=Wu.el.style;if(e)return e[t]},setExtra:function(t,e){var r=Wu.el.extra||(Wu.el.extra={});return r[t]=e,this},getExtra:function(t){var e=Wu.el.extra;if(e)return e[t]}};function WRe(){var t=this,e=t.el;if(e){var r=wm(e).userDuring,n=t.userDuring;if(r!==n){t.el=t.userDuring=null;return}Wu.el=e,n(URe)}}function mU(t,e,r,n){var a=r[t];if(a){var i=e[t],o;if(i){var s=r.transition,l=a.transition;if(l)if(!o&&(o=n[t]={}),Fv(l))Ae(o,i);else for(var u=gn(l),c=0;c<u.length;c++){var f=u[c],d=i[f];o[f]=d}else if(Fv(s)||Vt(s,t)>=0){!o&&(o=n[t]={});for(var v=sr(i),c=0;c<v.length;c++){var f=v[c],d=i[f];$Re(a[f],d)&&(o[f]=d)}}}}}function cL(t,e,r){var n=e[t];if(n)for(var a=r[t]={},i=sr(n),o=0;o<i.length;o++){var s=i[o];a[s]=ex(n[s])}}function YRe(t,e,r){for(var n=e.transition,a=Fv(n)?yc:gn(n||[]),i=0;i<a.length;i++){var o=a[i];if(!(o==="style"||o==="shape"||o==="extra")){var s=t[o];r[o]=s}}}function ZRe(t,e,r){for(var n=0;n<gU.length;n++){var a=gU[n],i=pee[a],o=e[a];o&&(r[i[0]]=o[0],r[i[1]]=o[1])}for(var n=0;n<yc.length;n++){var s=yc[n];e[s]!=null&&(r[s]=e[s])}}function qRe(t,e,r,n){if(r){var a=t.style,i;if(a){var o=r.transition,s=e.transition;if(o&&!Fv(o)){var l=gn(o);!i&&(i=n.style={});for(var u=0;u<l.length;u++){var c=l[u],f=a[c];i[c]=f}}else if(t.getAnimationStyleProps&&(Fv(s)||Fv(o)||Vt(s,"style")>=0)){var d=t.getAnimationStyleProps(),v=d?d.style:null;if(v){!i&&(i=n.style={});for(var g=sr(r),u=0;u<g.length;u++){var c=g[u];if(v[c]){var f=a[c];i[c]=f}}}}}}}function $Re(t,e){return uo(t)?t!==e:t!=null&&isFinite(t)}var mee=Xt(),XRe=["percent","easing","shape","style","extra"];function yee(t){t.stopAnimation("keyframe"),t.attr(mee(t))}function qw(t,e,r){if(!(!r.isAnimationEnabled()||!e)){if(Ee(e)){Y(e,function(s){qw(t,s,r)});return}var n=e.keyframes,a=e.duration;if(r&&a==null){var i=Gm("enter",r,0);a=i&&i.duration}if(!(!n||!a)){var o=mee(t);Y(Zw,function(s){if(!(s&&!t[s])){var l;n.sort(function(u,c){return u.percent-c.percent}),Y(n,function(u){var c=t.animators,f=s?u[s]:u;if(f){var d=sr(f);if(s||(d=Ir(d,function(y){return Vt(XRe,y)<0})),!!d.length){l||(l=t.animate(s,e.loop,!0),l.scope="keyframe");for(var v=0;v<c.length;v++)c[v]!==l&&c[v].targetName===l.targetName&&c[v].stopTracks(d);s&&(o[s]=o[s]||{});var g=s?o[s]:o;Y(d,function(y){g[y]=((s?t[s]:t)||{})[y]}),l.whenWithKeys(a*u.percent,f,d,u.easing)}}}),l&&l.delay(e.delay||0).duration(a).start(e.easing)}})}}}var df="emphasis",jh="normal",$I="blur",XI="select",ad=[jh,df,$I,XI],fL={normal:["itemStyle"],emphasis:[df,"itemStyle"],blur:[$I,"itemStyle"],select:[XI,"itemStyle"]},hL={normal:["label"],emphasis:[df,"label"],blur:[$I,"label"],select:[XI,"label"]},KRe=["x","y"],QRe="e\0\0",nl={normal:{},emphasis:{},blur:{},select:{}},JRe={cartesian2d:RRe,geo:kRe,single:ORe,polar:zRe,calendar:BRe,matrix:VRe};function dR(t){return t instanceof Jt}function vR(t){return t instanceof Al}function ePe(t,e){e.copyTransform(t),vR(e)&&vR(t)&&(e.setStyle(t.style),e.z=t.z,e.z2=t.z2,e.zlevel=t.zlevel,e.invisible=t.invisible,e.ignore=t.ignore,dR(e)&&dR(t)&&e.setShape(t.shape))}var tPe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.render=function(r,n,a,i){this._progressiveEls=null;var o=this._data,s=r.getData(),l=this.group,u=yU(r,s,n,a);o||l.removeAll(),s.diff(o).add(function(f){dL(a,null,f,u(f,i),r,l,s)}).remove(function(f){var d=o.getItemGraphicEl(f);d&&zC(d,hf(d).option,r)}).update(function(f,d){var v=o.getItemGraphicEl(d);dL(a,v,f,u(f,i),r,l,s)}).execute();var c=r.get("clip",!0)?M_(r.coordinateSystem,!1,r):null;c?l.setClipPath(c):l.removeClipPath(),this._data=s},e.prototype.incrementalPrepareRender=function(r,n,a){this.group.removeAll(),this._data=null},e.prototype.incrementalRender=function(r,n,a,i,o){var s=n.getData(),l=yU(n,s,a,i),u=this._progressiveEls=[];function c(v){v.isGroup||(v.incremental=!0,v.ensureState("emphasis").hoverLayer=!0)}for(var f=r.start;f<r.end;f++){var d=dL(null,null,f,l(f,o),n,this.group,s);d&&(d.traverse(c),u.push(d))}},e.prototype.eachRendered=function(r){cd(this._progressiveEls||this.group,r)},e.prototype.filterForExposedEvent=function(r,n,a,i){var o=n.element;if(o==null||a.name===o)return!0;for(;(a=a.__hostTarget||a.parent)&&a!==this.group;)if(a.name===o)return!0;return!1},e.type="custom",e})(cn);function KI(t){var e=t.type,r;if(e==="path"){var n=t.shape,a=n.width!=null&&n.height!=null?{x:n.x||0,y:n.y||0,width:n.width,height:n.height}:null,i=bee(n);r=Dx(i,null,a,n.layout||"center"),hf(r).customPathData=i}else if(e==="image")r=new Ni({}),hf(r).customImagePath=t.style.image;else if(e==="text")r=new xr({});else if(e==="group")r=new st;else if(e==="compoundPath"){var n=t.shape;if(!n||!n.paths){var o="";Dr(o)}var s=Re(n.paths,function(c){if(c.type==="path")return Dx(c.shape.pathData,c,null);var f=mw(c.type);if(!f){var d="";Dr(d)}return new f});r=new yC({shape:{paths:s}})}else{var l=mw(e);if(!l){var o="";Dr(o)}r=new l}return hf(r).customGraphicType=e,r.name=t.name,r.z2EmphasisLift=1,r.z2SelectLift=1,r}function QI(t,e,r,n,a,i,o){yee(e);var s=a&&a.normal.cfg;s&&e.setTextConfig(s),n&&n.transition==null&&(n.transition=KRe);var l=n&&n.style;if(l){if(e.type==="text"){var u=l;Xe(u,"textFill")&&(u.fill=u.textFill),Xe(u,"textStroke")&&(u.stroke=u.textStroke)}var c=void 0,f=dR(e)?l.decal:null;t&&f&&(f.dirty=!0,c=pm(f,t)),l.__decalPattern=c}if(vR(e)&&l){var c=l.__decalPattern;c&&(l.decal=c)}PS(e,n,i,{dataIndex:r,isInit:o,clearStyle:!0}),qw(e,n.keyframeAnimation,i)}function xee(t,e,r,n,a){var i=e.isGroup?null:e,o=a&&a[t].cfg;if(i){var s=i.ensureState(t);if(n===!1){var l=i.getState(t);l&&(l.style=null)}else s.style=n||null;o&&(s.textConfig=o),Jv(i)}}function rPe(t,e,r){if(!t.isGroup){var n=t,a=r.currentZ,i=r.currentZLevel;n.z=a,n.zlevel=i;var o=e.z2;o!=null&&(n.z2=o||0);for(var s=0;s<ad.length;s++)nPe(n,e,ad[s])}}function nPe(t,e,r){var n=r===jh,a=n?e:$w(e,r),i=a?a.z2:null,o;i!=null&&(o=n?t:t.ensureState(r),o.z2=i||0)}function yU(t,e,r,n){var a=t.get("renderItem");if(typeof a=="string"){var i=vwe(a);i&&(a=i)}var o=t.coordinateSystem,s={};o&&(s=o.prepareCustoms?o.prepareCustoms(o):JRe[o.type](o));for(var l=gt({getWidth:n.getWidth,getHeight:n.getHeight,getZr:n.getZr,getDevicePixelRatio:n.getDevicePixelRatio,value:D,style:N,ordinalRawValue:R,styleEmphasis:I,visual:V,barLayout:G,currentSeriesIndices:F,font:q},s.api||{}),u={context:{},seriesId:t.id,seriesName:t.name,seriesIndex:t.seriesIndex,coordSys:s.coordSys,dataInsideLength:e.count(),encode:aPe(t.getData()),itemPayload:t.get("itemPayload")||{}},c,f,d={},v={},g={},y={},b=0;b<ad.length;b++){var S=ad[b];g[S]=t.getModel(fL[S]),y[S]=t.getModel(hL[S])}function w(Q){return Q===c?f||(f=e.getItemModel(Q)):e.getItemModel(Q)}function M(Q,H){return e.hasItemOption?Q===c?d[H]||(d[H]=w(Q).getModel(fL[H])):w(Q).getModel(fL[H]):g[H]}function A(Q,H){return e.hasItemOption?Q===c?v[H]||(v[H]=w(Q).getModel(hL[H])):w(Q).getModel(hL[H]):y[H]}return function(Q,H){return c=Q,f=null,d={},v={},a&&a(gt({dataIndexInside:Q,dataIndex:e.getRawIndex(Q),actionType:H?H.type:null},u),l)};function D(Q,H){return H==null&&(H=c),e.getStore().get(e.getDimensionIndex(Q||0),H)}function R(Q,H){H==null&&(H=c),Q=Q||0;var X=e.getDimensionInfo(Q);if(!X){var W=e.getDimensionIndex(Q);return W>=0?e.getStore().get(W,H):void 0}var J=e.get(X.name,H),ee=X&&X.ordinalMeta;return ee?ee.categories[J]:J}function N(Q,H){H==null&&(H=c);var X=e.getItemVisual(H,"style"),W=X&&X.fill,J=X&&X.opacity,ee=M(H,jh).getItemStyle();W!=null&&(ee.fill=W),J!=null&&(ee.opacity=J);var K={inheritColor:We(W)?W:ve.color.neutral99},ne=A(H,jh),ie=bn(ne,null,K,!1,!0);ie.text=ne.getShallow("show")?et(t.getFormattedLabel(H,jh),xm(e,H)):null;var le=yw(ne,K,!1);return B(Q,ee),ee=vU(ee,ie,le),Q&&z(ee,Q),ee.legacy=!0,ee}function I(Q,H){H==null&&(H=c);var X=M(H,df).getItemStyle(),W=A(H,df),J=bn(W,null,null,!0,!0);J.text=W.getShallow("show")?ks(t.getFormattedLabel(H,df),t.getFormattedLabel(H,jh),xm(e,H)):null;var ee=yw(W,null,!0);return B(Q,X),X=vU(X,J,ee),Q&&z(X,Q),X.legacy=!0,X}function z(Q,H){for(var X in H)Xe(H,X)&&(Q[X]=H[X])}function B(Q,H){Q&&(Q.textFill&&(H.textFill=Q.textFill),Q.textPosition&&(H.textPosition=Q.textPosition))}function V(Q,H){if(H==null&&(H=c),Xe(hU,Q)){var X=e.getItemVisual(H,"style");return X?X[hU[Q]]:null}if(Xe(LRe,Q))return e.getItemVisual(H,Q)}function G(Q){if(o.type==="cartesian2d"){var H=o.getBaseAxis();return dTe(gt({axis:H},Q))}}function F(){return r.getCurrentSeriesIndices()}function q(Q){return Nk(Q,r)}}function aPe(t){var e={};return Y(t.dimensions,function(r){var n=t.getDimensionInfo(r);if(!n.isExtraCoord){var a=n.coordDim,i=e[a]=e[a]||[];i[n.coordDimIndex]=t.getDimensionIndex(r)}}),e}function dL(t,e,r,n,a,i,o){if(!n){i.remove(e);return}var s=JI(t,e,r,n,a,i);return s&&o.setItemGraphicEl(r,s),s&&Wn(s,n.focus,n.blurScope,n.emphasisDisabled),s}function JI(t,e,r,n,a,i){var o=-1,s=e;e&&_ee(e,n,a)&&(o=Vt(i.childrenRef(),e),e=null);var l=!e,u=e;u?u.clearStates():(u=KI(n),s&&ePe(s,u)),n.morph===!1?u.disableMorphing=!0:u.disableMorphing&&(u.disableMorphing=!1),n.tooltipDisabled&&(u.tooltipDisabled=!0),nl.normal.cfg=nl.normal.conOpt=nl.emphasis.cfg=nl.emphasis.conOpt=nl.blur.cfg=nl.blur.conOpt=nl.select.cfg=nl.select.conOpt=null,nl.isLegacy=!1,oPe(u,r,n,a,l,nl),iPe(u,r,n,a,l),QI(t,u,r,n,nl,a,l),Xe(n,"info")&&(hf(u).info=n.info);for(var c=0;c<ad.length;c++){var f=ad[c];if(f!==jh){var d=$w(n,f),v=eO(n,d,f);xee(f,u,d,v,nl)}}return rPe(u,n,a),n.type==="group"&&sPe(t,u,r,n,a),o>=0?i.replaceAt(u,o):i.add(u),u}function _ee(t,e,r){var n=hf(t),a=e.type,i=e.shape,o=e.style;return r.isUniversalTransitionEnabled()||a!=null&&a!==n.customGraphicType||a==="path"&&fPe(i)&&bee(i)!==n.customPathData||a==="image"&&Xe(o,"image")&&o.image!==n.customImagePath}function iPe(t,e,r,n,a){var i=r.clipPath;if(i===!1)t&&t.getClipPath()&&t.removeClipPath();else if(i){var o=t.getClipPath();o&&_ee(o,i,n)&&(o=null),o||(o=KI(i),t.setClipPath(o)),QI(null,o,e,i,null,n,a)}}function oPe(t,e,r,n,a,i){if(!(t.isGroup||t.type==="compoundPath")){xU(r,null,i),xU(r,df,i);var o=i.normal.conOpt,s=i.emphasis.conOpt,l=i.blur.conOpt,u=i.select.conOpt;if(o!=null||s!=null||u!=null||l!=null){var c=t.getTextContent();if(o===!1)c&&t.removeTextContent();else{o=i.normal.conOpt=o||{type:"text"},c?c.clearStates():(c=KI(o),t.setTextContent(c)),QI(null,c,e,o,null,n,a);for(var f=o&&o.style,d=0;d<ad.length;d++){var v=ad[d];if(v!==jh){var g=i[v].conOpt;xee(v,c,g,eO(o,g,v),null)}}f?c.dirty():c.markRedraw()}}}}function xU(t,e,r){var n=e?$w(t,e):t,a=e?eO(t,n,df):t.style,i=t.type,o=n?n.textConfig:null,s=t.textContent,l=s?e?$w(s,e):s:null;if(a&&(r.isLegacy||dee(a,i,!!o,!!l))){r.isLegacy=!0;var u=vee(a,i,!e);!o&&u.textConfig&&(o=u.textConfig),!l&&u.textContent&&(l=u.textContent)}if(!e&&l){var c=l;!c.type&&(c.type="text")}var f=e?r[e]:r.normal;f.cfg=o,f.conOpt=l}function $w(t,e){return e?t?t[e]:null:t}function eO(t,e,r){var n=e&&e.style;return n==null&&r===df&&t&&(n=t.styleEmphasis),n}function sPe(t,e,r,n,a){var i=n.children,o=i?i.length:0,s=n.$mergeChildren,l=s==="byName"||n.diffChildrenByName,u=s===!1;if(!(!o&&!l&&!u)){if(l){uPe({api:t,oldChildren:e.children()||[],newChildren:i||[],dataIndex:r,seriesModel:a,group:e});return}u&&e.removeAll();for(var c=0;c<o;c++){var f=i[c],d=e.childAt(c);f?(f.ignore==null&&(f.ignore=!1),JI(t,d,r,f,a,e)):d.ignore=!0}for(var v=e.childCount()-1;v>=c;v--){var g=e.childAt(v);lPe(e,g,a)}}}function lPe(t,e,r){e&&zC(e,hf(t).option,r)}function uPe(t){new Sf(t.oldChildren,t.newChildren,_U,_U,t).add(bU).update(bU).remove(cPe).execute()}function _U(t,e){var r=t&&t.name;return r??QRe+e}function bU(t,e){var r=this.context,n=t!=null?r.newChildren[t]:null,a=e!=null?r.oldChildren[e]:null;JI(r.api,a,r.dataIndex,n,r.seriesModel,r.group)}function cPe(t){var e=this.context,r=e.oldChildren[t];r&&zC(r,hf(r).option,e.seriesModel)}function bee(t){return t&&(t.pathData||t.d)}function fPe(t){return t&&(Xe(t,"pathData")||Xe(t,"d"))}function hPe(t){t.registerChartView(tPe),t.registerSeriesModel(ERe)}var bv=Xt(),SU=ut,vL=Ye,tO=(function(){function t(){this._dragging=!1,this.animationThreshold=15}return t.prototype.render=function(e,r,n,a){var i=r.get("value"),o=r.get("status");if(this._axisModel=e,this._axisPointerModel=r,this._api=n,!(!a&&this._lastValue===i&&this._lastStatus===o)){this._lastValue=i,this._lastStatus=o;var s=this._group,l=this._handle;if(!o||o==="hide"){s&&s.hide(),l&&l.hide();return}s&&s.show(),l&&l.show();var u={};this.makeElOption(u,i,e,r,n);var c=u.graphicKey;c!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=c;var f=this._moveAnimation=this.determineAnimation(e,r);if(!s)s=this._group=new st,this.createPointerEl(s,u,e,r),this.createLabelEl(s,u,e,r),n.getZr().add(s);else{var d=zt(wU,r,f);this.updatePointerEl(s,u,d),this.updateLabelEl(s,u,d,r)}CU(s,r,!0),this._renderHandle(i)}},t.prototype.remove=function(e){this.clear(e)},t.prototype.dispose=function(e){this.clear(e)},t.prototype.determineAnimation=function(e,r){var n=r.get("animation"),a=e.axis,i=a.type==="category",o=r.get("snap");if(!o&&!i)return!1;if(n==="auto"||n==null){var s=this.animationThreshold;if(i&&a.getBandWidth()>s)return!0;if(o){var l=SI(e).seriesDataCount,u=a.getExtent();return Math.abs(u[0]-u[1])/l>s}return!1}return n===!0},t.prototype.makeElOption=function(e,r,n,a,i){},t.prototype.createPointerEl=function(e,r,n,a){var i=r.pointer;if(i){var o=bv(e).pointerEl=new dp[i.type](SU(r.pointer));e.add(o)}},t.prototype.createLabelEl=function(e,r,n,a){if(r.label){var i=bv(e).labelEl=new xr(SU(r.label));e.add(i),TU(i,a)}},t.prototype.updatePointerEl=function(e,r,n){var a=bv(e).pointerEl;a&&r.pointer&&(a.setStyle(r.pointer.style),n(a,{shape:r.pointer.shape}))},t.prototype.updateLabelEl=function(e,r,n,a){var i=bv(e).labelEl;i&&(i.setStyle(r.label.style),n(i,{x:r.label.x,y:r.label.y}),TU(i,a))},t.prototype._renderHandle=function(e){if(!(this._dragging||!this.updateHandleTransform)){var r=this._axisPointerModel,n=this._api.getZr(),a=this._handle,i=r.getModel("handle"),o=r.get("status");if(!i.get("show")||!o||o==="hide"){a&&n.remove(a),this._handle=null;return}var s;this._handle||(s=!0,a=this._handle=m_(i.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(u){yf(u.event)},onmousedown:vL(this._onHandleDragMove,this,0,0),drift:vL(this._onHandleDragMove,this),ondragend:vL(this._onHandleDragEnd,this)}),n.add(a)),CU(a,r,!1),a.setStyle(i.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=i.get("size");Ee(l)||(l=[l,l]),a.scaleX=l[0]/2,a.scaleY=l[1]/2,Zm(this,"_doDispatchAxisPointer",i.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,s)}},t.prototype._moveHandleToValue=function(e,r){wU(this._axisPointerModel,!r&&this._moveAnimation,this._handle,pL(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},t.prototype._onHandleDragMove=function(e,r){var n=this._handle;if(n){this._dragging=!0;var a=this.updateHandleTransform(pL(n),[e,r],this._axisModel,this._axisPointerModel);this._payloadInfo=a,n.stopAnimation(),n.attr(pL(a)),bv(n).lastProp=null,this._doDispatchAxisPointer()}},t.prototype._doDispatchAxisPointer=function(){var e=this._handle;if(e){var r=this._payloadInfo,n=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:r.cursorPoint[0],y:r.cursorPoint[1],tooltipOption:r.tooltipOption,axesInfo:[{axisDim:n.axis.dim,axisIndex:n.componentIndex}]})}},t.prototype._onHandleDragEnd=function(){this._dragging=!1;var e=this._handle;if(e){var r=this._axisPointerModel.get("value");this._moveHandleToValue(r),this._api.dispatchAction({type:"hideTip"})}},t.prototype.clear=function(e){this._lastValue=null,this._lastStatus=null;var r=e.getZr(),n=this._group,a=this._handle;r&&n&&(this._lastGraphicKey=null,n&&r.remove(n),a&&r.remove(a),this._group=null,this._handle=null,this._payloadInfo=null),Rx(this,"_doDispatchAxisPointer")},t.prototype.doClear=function(){},t.prototype.buildLabel=function(e,r,n){return n=n||0,{x:e[n],y:e[1-n],width:r[n],height:r[1-n]}},t})();function wU(t,e,r,n){See(bv(r).lastProp,n)||(bv(r).lastProp=n,e?Sr(r,n,t):(r.stopAnimation(),r.attr(n)))}function See(t,e){if(mt(t)&&mt(e)){var r=!0;return Y(e,function(n,a){r=r&&See(t[a],n)}),!!r}else return t===e}function TU(t,e){t[e.get(["label","show"])?"show":"hide"]()}function pL(t){return{x:t.x||0,y:t.y||0,rotation:t.rotation||0}}function CU(t,e,r){var n=e.get("z"),a=e.get("zlevel");t&&t.traverse(function(i){i.type!=="group"&&(n!=null&&(i.z=n),a!=null&&(i.zlevel=a),i.silent=r)})}function rO(t){var e=t.get("type"),r=t.getModel(e+"Style"),n;return e==="line"?(n=r.getLineStyle(),n.fill=null):e==="shadow"&&(n=r.getAreaStyle(),n.stroke=null),n}function wee(t,e,r,n,a){var i=r.get("value"),o=Tee(i,e.axis,e.ecModel,r.get("seriesDataIndices"),{precision:r.get(["label","precision"]),formatter:r.get(["label","formatter"])}),s=r.getModel("label"),l=y_(s.get("padding")||0),u=s.getFont(),c=oC(o,u),f=a.position,d=c.width+l[1]+l[3],v=c.height+l[0]+l[2],g=a.align;g==="right"&&(f[0]-=d),g==="center"&&(f[0]-=d/2);var y=a.verticalAlign;y==="bottom"&&(f[1]-=v),y==="middle"&&(f[1]-=v/2),dPe(f,d,v,n);var b=s.get("backgroundColor");(!b||b==="auto")&&(b=e.get(["axisLine","lineStyle","color"])),t.label={x:f[0],y:f[1],style:bn(s,{text:o,font:u,fill:s.getTextColor(),padding:l,backgroundColor:b}),z2:10}}function dPe(t,e,r,n){var a=n.getWidth(),i=n.getHeight();t[0]=Math.min(t[0]+e,a)-e,t[1]=Math.min(t[1]+r,i)-r,t[0]=Math.max(t[0],0),t[1]=Math.max(t[1],0)}function Tee(t,e,r,n,a){t=e.scale.parse(t);var i=e.scale.getLabel({value:t},{precision:a.precision}),o=a.formatter;if(o){var s={value:Ew(e,{value:t}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};Y(n,function(l){var u=r.getSeriesByIndex(l.seriesIndex),c=l.dataIndexInside,f=u&&u.getDataParams(c);f&&s.seriesData.push(f)}),We(o)?i=o.replace("{value}",i):ot(o)&&(i=o(s))}return i}function nO(t,e,r){var n=Di();return ud(n,n,r.rotation),mc(n,n,r.position),iu([t.dataToCoord(e),(r.labelOffset||0)+(r.labelDirection||1)*(r.labelMargin||0)],n)}function Cee(t,e,r,n,a,i){var o=Eo.innerTextLayout(r.rotation,0,r.labelDirection);r.labelMargin=a.get(["label","margin"]),wee(e,n,a,i,{position:nO(n.axis,t,r),align:o.textAlign,verticalAlign:o.textVerticalAlign})}function aO(t,e,r){return r=r||0,{x1:t[r],y1:t[1-r],x2:e[r],y2:e[1-r]}}function Mee(t,e,r){return r=r||0,{x:t[r],y:t[1-r],width:e[r],height:e[1-r]}}function MU(t,e,r,n,a,i){return{cx:t,cy:e,r0:r,r:n,startAngle:a,endAngle:i,clockwise:!0}}var vPe=(function(t){ye(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.makeElOption=function(r,n,a,i,o){var s=a.axis,l=s.grid,u=i.get("type"),c=AU(l,s).getOtherAxis(s).getGlobalExtent(),f=s.toGlobalCoord(s.dataToCoord(n,!0));if(u&&u!=="none"){var d=rO(i),v=pPe[u](s,f,c);v.style=d,r.graphicKey=v.type,r.pointer=v}var g=Vw(l.getRect(),a);Cee(n,r,g,a,i,o)},e.prototype.getHandleTransform=function(r,n,a){var i=Vw(n.axis.grid.getRect(),n,{labelInside:!1});i.labelMargin=a.get(["handle","margin"]);var o=nO(n.axis,r,i);return{x:o[0],y:o[1],rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(r,n,a,i){var o=a.axis,s=o.grid,l=o.getGlobalExtent(!0),u=AU(s,o).getOtherAxis(o).getGlobalExtent(),c=o.dim==="x"?0:1,f=[r.x,r.y];f[c]+=n[c],f[c]=Math.min(l[1],f[c]),f[c]=Math.max(l[0],f[c]);var d=(u[1]+u[0])/2,v=[d,d];v[c]=f[c];var g=[{verticalAlign:"middle"},{align:"center"}];return{x:f[0],y:f[1],rotation:r.rotation,cursorPoint:v,tooltipOption:g[c]}},e})(tO);function AU(t,e){var r={};return r[e.dim+"AxisIndex"]=e.index,t.getCartesian(r)}var pPe={line:function(t,e,r){var n=aO([e,r[0]],[e,r[1]],DU(t));return{type:"Line",subPixelOptimize:!0,shape:n}},shadow:function(t,e,r){var n=Math.max(1,t.getBandWidth()),a=r[1]-r[0];return{type:"Rect",shape:Mee([e-n/2,r[0]],[n,a],DU(t))}}};function DU(t){return t.dim==="x"?0:1}var gPe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.type="axisPointer",e.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:ve.color.border,width:1,type:"dashed"},shadowStyle:{color:ve.color.shadowTint},label:{show:!0,formatter:null,precision:"auto",margin:3,color:ve.color.neutral00,padding:[5,7,5,7],backgroundColor:ve.color.accent60,borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:ve.color.accent40,throttle:40}},e})(er),sf=Xt(),mPe=Y;function Aee(t,e,r){if(!nr.node){var n=e.getZr();sf(n).records||(sf(n).records={}),yPe(n,e);var a=sf(n).records[t]||(sf(n).records[t]={});a.handler=r}}function yPe(t,e){if(sf(t).initialized)return;sf(t).initialized=!0,r("click",zt(LU,"click")),r("mousemove",zt(LU,"mousemove")),r("globalout",_Pe);function r(n,a){t.on(n,function(i){var o=bPe(e);mPe(sf(t).records,function(s){s&&a(s,i,o.dispatchAction)}),xPe(o.pendings,e)})}}function xPe(t,e){var r=t.showTip.length,n=t.hideTip.length,a;r?a=t.showTip[r-1]:n&&(a=t.hideTip[n-1]),a&&(a.dispatchAction=null,e.dispatchAction(a))}function _Pe(t,e,r){t.handler("leave",null,r)}function LU(t,e,r,n){e.handler(t,r,n)}function bPe(t){var e={showTip:[],hideTip:[]},r=function(n){var a=e[n.type];a?a.push(n):(n.dispatchAction=r,t.dispatchAction(n))};return{dispatchAction:r,pendings:e}}function pR(t,e){if(!nr.node){var r=e.getZr(),n=(sf(r).records||{})[t];n&&(sf(r).records[t]=null)}}var SPe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.render=function(r,n,a){var i=n.getComponent("tooltip"),o=r.get("triggerOn")||i&&i.get("triggerOn")||"mousemove|click";Aee("axisPointer",a,function(s,l,u){o!=="none"&&(s==="leave"||o.indexOf(s)>=0)&&u({type:"updateAxisPointer",currTrigger:s,x:l&&l.offsetX,y:l&&l.offsetY})})},e.prototype.remove=function(r,n){pR("axisPointer",n)},e.prototype.dispose=function(r,n){pR("axisPointer",n)},e.type="axisPointer",e})(Vn);function Dee(t,e){var r=[],n=t.seriesIndex,a;if(n==null||!(a=e.getSeriesByIndex(n)))return{point:[]};var i=a.getData(),o=Kv(i,t);if(o==null||o<0||Ee(o))return{point:[]};var s=i.getItemGraphicEl(o),l=a.coordinateSystem;if(a.getTooltipPosition)r=a.getTooltipPosition(o)||[];else if(l&&l.dataToPoint)if(t.isStacked){var u=l.getBaseAxis(),c=l.getOtherAxis(u),f=c.dim,d=u.dim,v=f==="x"||f==="radius"?1:0,g=i.mapDimension(d),y=[];y[v]=i.get(g,o),y[1-v]=i.get(i.getCalculationInfo("stackResultDimension"),o),r=l.dataToPoint(y)||[]}else r=l.dataToPoint(i.getValues(Re(l.dimensions,function(S){return i.mapDimension(S)}),o))||[];else if(s){var b=s.getBoundingRect().clone();b.applyTransform(s.transform),r=[b.x+b.width/2,b.y+b.height/2]}return{point:r,el:s}}var EU=Xt();function wPe(t,e,r){var n=t.currTrigger,a=[t.x,t.y],i=t,o=t.dispatchAction||Ye(r.dispatchAction,r),s=e.getComponent("axisPointer").coordSysAxesInfo;if(s){kS(a)&&(a=Dee({seriesIndex:i.seriesIndex,dataIndex:i.dataIndex},e).point);var l=kS(a),u=i.axesInfo,c=s.axesInfo,f=n==="leave"||kS(a),d={},v={},g={list:[],map:{}},y={showPointer:zt(CPe,v),showTooltip:zt(MPe,g)};Y(s.coordSysMap,function(S,w){var M=l||S.containPoint(a);Y(s.coordSysAxesInfo[w],function(A,D){var R=A.axis,N=EPe(u,A);if(!f&&M&&(!u||N)){var I=N&&N.value;I==null&&!l&&(I=R.pointToData(a)),I!=null&&NU(A,I,y,!1,d)}})});var b={};return Y(c,function(S,w){var M=S.linkGroup;M&&!v[w]&&Y(M.axesInfo,function(A,D){var R=v[D];if(A!==S&&R){var N=R.value;M.mapper&&(N=S.axis.scale.parse(M.mapper(N,RU(A),RU(S)))),b[S.key]=N}})}),Y(b,function(S,w){NU(c[w],S,y,!0,d)}),APe(v,c,d),DPe(g,a,t,o),LPe(c,o,r),d}}function NU(t,e,r,n,a){var i=t.axis;if(!(i.scale.isBlank()||!i.containData(e))){if(!t.involveSeries){r.showPointer(t,e);return}var o=TPe(e,t),s=o.payloadBatch,l=o.snapToValue;s[0]&&a.seriesIndex==null&&Ae(a,s[0]),!n&&t.snap&&i.containData(l)&&l!=null&&(e=l),r.showPointer(t,e,s),r.showTooltip(t,o,l)}}function TPe(t,e){var r=e.axis,n=r.dim,a=t,i=[],o=Number.MAX_VALUE,s=-1;return Y(e.seriesModels,function(l,u){var c=l.getData().mapDimensionsAll(n),f,d;if(l.getAxisTooltipData){var v=l.getAxisTooltipData(c,t,r);d=v.dataIndices,f=v.nestestValue}else{if(d=l.indicesOfNearest(n,c[0],t,r.type==="category"?.5:null),!d.length)return;f=l.getData().get(c[0],d[0])}if(!(f==null||!isFinite(f))){var g=t-f,y=Math.abs(g);y<=o&&((y<o||g>=0&&s<0)&&(o=y,s=g,a=f,i.length=0),Y(d,function(b){i.push({seriesIndex:l.seriesIndex,dataIndexInside:b,dataIndex:l.getData().getRawIndex(b)})}))}}),{payloadBatch:i,snapToValue:a}}function CPe(t,e,r,n){t[e.key]={value:r,payloadBatch:n}}function MPe(t,e,r,n){var a=r.payloadBatch,i=e.axis,o=i.model,s=e.axisPointerModel;if(!(!e.triggerTooltip||!a.length)){var l=e.coordSys.model,u=Fx(l),c=t.map[u];c||(c=t.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},t.list.push(c)),c.dataByAxis.push({axisDim:i.dim,axisIndex:o.componentIndex,axisType:o.type,axisId:o.id,value:n,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:a.slice()})}}function APe(t,e,r){var n=r.axesInfo=[];Y(e,function(a,i){var o=a.axisPointerModel.option,s=t[i];s?(!a.useHandle&&(o.status="show"),o.value=s.value,o.seriesDataIndices=(s.payloadBatch||[]).slice()):!a.useHandle&&(o.status="hide"),o.status==="show"&&n.push({axisDim:a.axis.dim,axisIndex:a.axis.model.componentIndex,value:o.value})})}function DPe(t,e,r,n){if(kS(e)||!t.list.length){n({type:"hideTip"});return}var a=((t.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};n({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:r.tooltipOption,position:r.position,dataIndexInside:a.dataIndexInside,dataIndex:a.dataIndex,seriesIndex:a.seriesIndex,dataByCoordSys:t.list})}function LPe(t,e,r){var n=r.getZr(),a="axisPointerLastHighlights",i=EU(n)[a]||{},o=EU(n)[a]={};Y(t,function(u,c){var f=u.axisPointerModel.option;f.status==="show"&&u.triggerEmphasis&&Y(f.seriesDataIndices,function(d){var v=d.seriesIndex+" | "+d.dataIndex;o[v]=d})});var s=[],l=[];Y(i,function(u,c){!o[c]&&l.push(u)}),Y(o,function(u,c){!i[c]&&s.push(u)}),l.length&&r.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),s.length&&r.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:s})}function EPe(t,e){for(var r=0;r<(t||[]).length;r++){var n=t[r];if(e.axis.dim===n.axisDim&&e.axis.model.componentIndex===n.axisIndex)return n}}function RU(t){var e=t.axis.model,r={},n=r.axisDim=t.axis.dim;return r.axisIndex=r[n+"AxisIndex"]=e.componentIndex,r.axisName=r[n+"AxisName"]=e.name,r.axisId=r[n+"AxisId"]=e.id,r}function kS(t){return!t||t[0]==null||isNaN(t[0])||t[1]==null||isNaN(t[1])}function L_(t){yp.registerAxisPointerClass("CartesianAxisPointer",vPe),t.registerComponentModel(gPe),t.registerComponentView(SPe),t.registerPreprocessor(function(e){if(e){(!e.axisPointer||e.axisPointer.length===0)&&(e.axisPointer={});var r=e.axisPointer.link;r&&!Ee(r)&&(e.axisPointer.link=[r])}}),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,function(e,r){e.getComponent("axisPointer").coordSysAxesInfo=NAe(e,r)}),t.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},wPe)}function NPe(t){Ut(QQ),Ut(L_)}var RPe=(function(t){ye(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.makeElOption=function(r,n,a,i,o){var s=a.axis;s.dim==="angle"&&(this.animationThreshold=Math.PI/18);var l=s.polar,u=l.getOtherAxis(s),c=u.getExtent(),f=s.dataToCoord(n),d=i.get("type");if(d&&d!=="none"){var v=rO(i),g=kPe[d](s,l,f,c);g.style=v,r.graphicKey=g.type,r.pointer=g}var y=i.get(["label","margin"]),b=PPe(n,a,i,l,y);wee(r,a,i,o,b)},e})(tO);function PPe(t,e,r,n,a){var i=e.axis,o=i.dataToCoord(t),s=n.getAngleAxis().getExtent()[0];s=s/180*Math.PI;var l=n.getRadiusAxis().getExtent(),u,c,f;if(i.dim==="radius"){var d=Di();ud(d,d,s),mc(d,d,[n.cx,n.cy]),u=iu([o,-a],d);var v=e.getModel("axisLabel").get("rotate")||0,g=Eo.innerTextLayout(s,v*Math.PI/180,-1);c=g.textAlign,f=g.textVerticalAlign}else{var y=l[1];u=n.coordToPoint([y+a,o]);var b=n.cx,S=n.cy;c=Math.abs(u[0]-b)/y<.3?"center":u[0]>b?"left":"right",f=Math.abs(u[1]-S)/y<.3?"middle":u[1]>S?"top":"bottom"}return{position:u,align:c,verticalAlign:f}}var kPe={line:function(t,e,r,n){return t.dim==="angle"?{type:"Line",shape:aO(e.coordToPoint([n[0],r]),e.coordToPoint([n[1],r]))}:{type:"Circle",shape:{cx:e.cx,cy:e.cy,r}}},shadow:function(t,e,r,n){var a=Math.max(1,t.getBandWidth()),i=Math.PI/180;return t.dim==="angle"?{type:"Sector",shape:MU(e.cx,e.cy,n[0],n[1],(-r-a/2)*i,(-r+a/2)*i)}:{type:"Sector",shape:MU(e.cx,e.cy,r-a/2,r+a/2,0,Math.PI*2)}}},IPe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.findAxisModel=function(r){var n,a=this.ecModel;return a.eachComponent(r,function(i){i.getCoordSysModel()===this&&(n=i)},this),n},e.type="polar",e.dependencies=["radiusAxis","angleAxis"],e.defaultOption={z:0,center:["50%","50%"],radius:"80%"},e})(er),iO=(function(t){ye(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",na).models[0]},e.type="polarAxis",e})(er);ja(iO,w_);var OPe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.type="angleAxis",e})(iO),jPe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.type="radiusAxis",e})(iO),oO=(function(t){ye(e,t);function e(r,n){return t.call(this,"radius",r,n)||this}return e.prototype.pointToData=function(r,n){return this.polar.pointToData(r,n)[this.dim==="radius"?0:1]},e})(xu);oO.prototype.dataToRadius=xu.prototype.dataToCoord;oO.prototype.radiusToData=xu.prototype.coordToData;var zPe=Xt(),sO=(function(t){ye(e,t);function e(r,n){return t.call(this,"angle",r,n||[0,360])||this}return e.prototype.pointToData=function(r,n){return this.polar.pointToData(r,n)[this.dim==="radius"?0:1]},e.prototype.calculateCategoryInterval=function(){var r=this,n=r.getLabelModel(),a=r.scale,i=a.getExtent(),o=a.count();if(i[1]-i[0]<1)return 0;var s=i[0],l=r.dataToCoord(s+1)-r.dataToCoord(s),u=Math.abs(l),c=oC(s==null?"":s+"",n.getFont(),"center","top"),f=Math.max(c.height,7),d=f/u;isNaN(d)&&(d=1/0);var v=Math.max(0,Math.floor(d)),g=zPe(r.model),y=g.lastAutoInterval,b=g.lastTickCount;return y!=null&&b!=null&&Math.abs(y-v)<=1&&Math.abs(b-o)<=1&&y>v?v=y:(g.lastTickCount=o,g.lastAutoInterval=v),v},e})(xu);sO.prototype.dataToAngle=xu.prototype.dataToCoord;sO.prototype.angleToData=xu.prototype.coordToData;var Lee=["radius","angle"],BPe=(function(){function t(e){this.dimensions=Lee,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new oO,this._angleAxis=new sO,this.axisPointerEnabled=!0,this.name=e||"",this._radiusAxis.polar=this._angleAxis.polar=this}return t.prototype.containPoint=function(e){var r=this.pointToCoord(e);return this._radiusAxis.contain(r[0])&&this._angleAxis.contain(r[1])},t.prototype.containData=function(e){return this._radiusAxis.containData(e[0])&&this._angleAxis.containData(e[1])},t.prototype.getAxis=function(e){var r="_"+e+"Axis";return this[r]},t.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},t.prototype.getAxesByScale=function(e){var r=[],n=this._angleAxis,a=this._radiusAxis;return n.scale.type===e&&r.push(n),a.scale.type===e&&r.push(a),r},t.prototype.getAngleAxis=function(){return this._angleAxis},t.prototype.getRadiusAxis=function(){return this._radiusAxis},t.prototype.getOtherAxis=function(e){var r=this._angleAxis;return e===r?this._radiusAxis:r},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},t.prototype.getTooltipAxes=function(e){var r=e!=null&&e!=="auto"?this.getAxis(e):this.getBaseAxis();return{baseAxes:[r],otherAxes:[this.getOtherAxis(r)]}},t.prototype.dataToPoint=function(e,r,n){return this.coordToPoint([this._radiusAxis.dataToRadius(e[0],r),this._angleAxis.dataToAngle(e[1],r)],n)},t.prototype.pointToData=function(e,r,n){n=n||[];var a=this.pointToCoord(e);return n[0]=this._radiusAxis.radiusToData(a[0],r),n[1]=this._angleAxis.angleToData(a[1],r),n},t.prototype.pointToCoord=function(e){var r=e[0]-this.cx,n=e[1]-this.cy,a=this.getAngleAxis(),i=a.getExtent(),o=Math.min(i[0],i[1]),s=Math.max(i[0],i[1]);a.inverse?o=s-360:s=o+360;var l=Math.sqrt(r*r+n*n);r/=l,n/=l;for(var u=Math.atan2(-n,r)/Math.PI*180,c=u<o?1:-1;u<o||u>s;)u+=c*360;return[l,u]},t.prototype.coordToPoint=function(e,r){r=r||[];var n=e[0],a=e[1]/180*Math.PI;return r[0]=Math.cos(a)*n+this.cx,r[1]=-Math.sin(a)*n+this.cy,r},t.prototype.getArea=function(){var e=this.getAngleAxis(),r=this.getRadiusAxis(),n=r.getExtent().slice();n[0]>n[1]&&n.reverse();var a=e.getExtent(),i=Math.PI/180,o=1e-4;return{cx:this.cx,cy:this.cy,r0:n[0],r:n[1],startAngle:-a[0]*i,endAngle:-a[1]*i,clockwise:e.inverse,contain:function(s,l){var u=s-this.cx,c=l-this.cy,f=u*u+c*c,d=this.r,v=this.r0;return d!==v&&f-o<=d*d&&f+o>=v*v},x:this.cx-n[1],y:this.cy-n[1],width:n[1]*2,height:n[1]*2}},t.prototype.convertToPixel=function(e,r,n){var a=PU(r);return a===this?this.dataToPoint(n):null},t.prototype.convertFromPixel=function(e,r,n){var a=PU(r);return a===this?this.pointToData(n):null},t})();function PU(t){var e=t.seriesModel,r=t.polarModel;return r&&r.coordinateSystem||e&&e.coordinateSystem}function VPe(t,e,r){var n=e.get("center"),a=ni(e,r).refContainer;t.cx=Ue(n[0],a.width)+a.x,t.cy=Ue(n[1],a.height)+a.y;var i=t.getRadiusAxis(),o=Math.min(a.width,a.height)/2,s=e.get("radius");s==null?s=[0,"100%"]:Ee(s)||(s=[0,s]);var l=[Ue(s[0],o),Ue(s[1],o)];i.inverse?i.setExtent(l[1],l[0]):i.setExtent(l[0],l[1])}function FPe(t,e){var r=this,n=r.getAngleAxis(),a=r.getRadiusAxis();if(n.scale.setExtent(1/0,-1/0),a.scale.setExtent(1/0,-1/0),t.eachSeries(function(s){if(s.coordinateSystem===r){var l=s.getData();Y(Nw(l,"radius"),function(u){a.scale.unionExtentFromData(l,u)}),Y(Nw(l,"angle"),function(u){n.scale.unionExtentFromData(l,u)})}}),mm(n.scale,n.model),mm(a.scale,a.model),n.type==="category"&&!n.onBand){var i=n.getExtent(),o=360/n.scale.count();n.inverse?i[1]+=o:i[1]-=o,n.setExtent(i[0],i[1])}}function HPe(t){return t.mainType==="angleAxis"}function kU(t,e){var r;if(t.type=e.get("type"),t.scale=DC(e),t.onBand=e.get("boundaryGap")&&t.type==="category",t.inverse=e.get("inverse"),HPe(e)){t.inverse=t.inverse!==e.get("clockwise");var n=e.get("startAngle"),a=(r=e.get("endAngle"))!==null&&r!==void 0?r:n+(t.inverse?-360:360);t.setExtent(n,a)}e.axis=t,t.model=e}var GPe={dimensions:Lee,create:function(t,e){var r=[];return t.eachComponent("polar",function(n,a){var i=new BPe(a+"");i.update=FPe;var o=i.getRadiusAxis(),s=i.getAngleAxis(),l=n.findAxisModel("radiusAxis"),u=n.findAxisModel("angleAxis");kU(o,l),kU(s,u),VPe(i,n,e),r.push(i),n.coordinateSystem=i,i.model=n}),t.eachSeries(function(n){if(n.get("coordinateSystem")==="polar"){var a=n.getReferringComponents("polar",na).models[0];n.coordinateSystem=a.coordinateSystem}}),r}},UPe=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function W1(t,e,r){e[1]>e[0]&&(e=e.slice().reverse());var n=t.coordToPoint([e[0],r]),a=t.coordToPoint([e[1],r]);return{x1:n[0],y1:n[1],x2:a[0],y2:a[1]}}function Y1(t){var e=t.getRadiusAxis();return e.inverse?0:1}function IU(t){var e=t[0],r=t[t.length-1];e&&r&&Math.abs(Math.abs(e.coord-r.coord)-360)<1e-4&&t.pop()}var WPe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.axisPointerClass="PolarAxisPointer",r}return e.prototype.render=function(r,n){if(this.group.removeAll(),!!r.get("show")){var a=r.axis,i=a.polar,o=i.getRadiusAxis().getExtent(),s=a.getTicksCoords({breakTicks:"none"}),l=a.getMinorTicksCoords(),u=Re(a.getViewLabels(),function(c){c=ut(c);var f=a.scale,d=f.type==="ordinal"?f.getRawOrdinalNumber(c.tickValue):c.tickValue;return c.coord=a.dataToCoord(d),c});IU(u),IU(s),Y(UPe,function(c){r.get([c,"show"])&&(!a.scale.isBlank()||c==="axisLine")&&YPe[c](this.group,r,i,s,l,o,u)},this)}},e.type="angleAxis",e})(yp),YPe={axisLine:function(t,e,r,n,a,i){var o=e.getModel(["axisLine","lineStyle"]),s=r.getAngleAxis(),l=Math.PI/180,u=s.getExtent(),c=Y1(r),f=c?0:1,d,v=Math.abs(u[1]-u[0])===360?"Circle":"Arc";i[f]===0?d=new dp[v]({shape:{cx:r.cx,cy:r.cy,r:i[c],startAngle:-u[0]*l,endAngle:-u[1]*l,clockwise:s.inverse},style:o.getLineStyle(),z2:1,silent:!0}):d=new v_({shape:{cx:r.cx,cy:r.cy,r:i[c],r0:i[f]},style:o.getLineStyle(),z2:1,silent:!0}),d.style.fill=null,t.add(d)},axisTick:function(t,e,r,n,a,i){var o=e.getModel("axisTick"),s=(o.get("inside")?-1:1)*o.get("length"),l=i[Y1(r)],u=Re(n,function(c){return new Na({shape:W1(r,[l,l+s],c.coord)})});t.add(pl(u,{style:gt(o.getModel("lineStyle").getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])})}))},minorTick:function(t,e,r,n,a,i){if(a.length){for(var o=e.getModel("axisTick"),s=e.getModel("minorTick"),l=(o.get("inside")?-1:1)*s.get("length"),u=i[Y1(r)],c=[],f=0;f<a.length;f++)for(var d=0;d<a[f].length;d++)c.push(new Na({shape:W1(r,[u,u+l],a[f][d].coord)}));t.add(pl(c,{style:gt(s.getModel("lineStyle").getLineStyle(),gt(o.getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(t,e,r,n,a,i,o){var s=e.getCategories(!0),l=e.getModel("axisLabel"),u=l.get("margin"),c=e.get("triggerEvent");Y(o,function(f,d){var v=l,g=f.tickValue,y=i[Y1(r)],b=r.coordToPoint([y+u,f.coord]),S=r.cx,w=r.cy,M=Math.abs(b[0]-S)/y<.3?"center":b[0]>S?"left":"right",A=Math.abs(b[1]-w)/y<.3?"middle":b[1]>w?"top":"bottom";if(s&&s[g]){var D=s[g];mt(D)&&D.textStyle&&(v=new ar(D.textStyle,l,l.ecModel))}var R=new xr({silent:Eo.isLabelSilent(e),style:bn(v,{x:b[0],y:b[1],fill:v.getTextColor()||e.get(["axisLine","lineStyle","color"]),text:f.formattedLabel,align:M,verticalAlign:A})});if(t.add(R),Nf({el:R,componentModel:e,itemName:f.formattedLabel,formatterParamsExtra:{isTruncated:function(){return R.isTruncated},value:f.rawLabel,tickIndex:d}}),c){var N=Eo.makeAxisEventDataBase(e);N.targetType="axisLabel",N.value=f.rawLabel,wt(R).eventData=N}},this)},splitLine:function(t,e,r,n,a,i){var o=e.getModel("splitLine"),s=o.getModel("lineStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],f=0;f<n.length;f++){var d=u++%l.length;c[d]=c[d]||[],c[d].push(new Na({shape:W1(r,i,n[f].coord)}))}for(var f=0;f<c.length;f++)t.add(pl(c[f],{style:gt({stroke:l[f%l.length]},s.getLineStyle()),silent:!0,z:e.get("z")}))},minorSplitLine:function(t,e,r,n,a,i){if(a.length){for(var o=e.getModel("minorSplitLine"),s=o.getModel("lineStyle"),l=[],u=0;u<a.length;u++)for(var c=0;c<a[u].length;c++)l.push(new Na({shape:W1(r,i,a[u][c].coord)}));t.add(pl(l,{style:s.getLineStyle(),silent:!0,z:e.get("z")}))}},splitArea:function(t,e,r,n,a,i){if(n.length){var o=e.getModel("splitArea"),s=o.getModel("areaStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],f=Math.PI/180,d=-n[0].coord*f,v=Math.min(i[0],i[1]),g=Math.max(i[0],i[1]),y=e.get("clockwise"),b=1,S=n.length;b<=S;b++){var w=b===S?n[0].coord:n[b].coord,M=u++%l.length;c[M]=c[M]||[],c[M].push(new fo({shape:{cx:r.cx,cy:r.cy,r0:v,r:g,startAngle:d,endAngle:-w*f,clockwise:y},silent:!0})),d=-w*f}for(var b=0;b<c.length;b++)t.add(pl(c[b],{style:gt({fill:l[b%l.length]},s.getAreaStyle()),silent:!0}))}}},ZPe=["splitLine","splitArea","minorSplitLine"],qPe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.axisPointerClass="PolarAxisPointer",r}return e.prototype.render=function(r,n,a){if(this.group.removeAll(),!!r.get("show")){var i=this._axisGroup,o=this._axisGroup=new st;this.group.add(o);var s=r.axis,l=s.polar,u=l.getAngleAxis(),c=s.getTicksCoords(),f=s.getMinorTicksCoords(),d=u.getExtent()[0],v=s.getExtent(),g=XPe(l,r,d),y=new Eo(r,a,g);y.build(),o.add(y.group),g_(i,o,r),Y(ZPe,function(b){r.get([b,"show"])&&!s.scale.isBlank()&&$Pe[b](this.group,r,l,d,v,c,f)},this)}},e.type="radiusAxis",e})(yp),$Pe={splitLine:function(t,e,r,n,a,i){var o=e.getModel("splitLine"),s=o.getModel("lineStyle"),l=s.get("color"),u=0,c=r.getAngleAxis(),f=Math.PI/180,d=c.getExtent(),v=Math.abs(d[1]-d[0])===360?"Circle":"Arc";l=l instanceof Array?l:[l];for(var g=[],y=0;y<i.length;y++){var b=u++%l.length;g[b]=g[b]||[],g[b].push(new dp[v]({shape:{cx:r.cx,cy:r.cy,r:Math.max(i[y].coord,0),startAngle:-d[0]*f,endAngle:-d[1]*f,clockwise:c.inverse}}))}for(var y=0;y<g.length;y++)t.add(pl(g[y],{style:gt({stroke:l[y%l.length],fill:null},s.getLineStyle()),silent:!0}))},minorSplitLine:function(t,e,r,n,a,i,o){if(o.length){for(var s=e.getModel("minorSplitLine"),l=s.getModel("lineStyle"),u=[],c=0;c<o.length;c++)for(var f=0;f<o[c].length;f++)u.push(new Ef({shape:{cx:r.cx,cy:r.cy,r:o[c][f].coord}}));t.add(pl(u,{style:gt({fill:null},l.getLineStyle()),silent:!0}))}},splitArea:function(t,e,r,n,a,i){if(i.length){var o=e.getModel("splitArea"),s=o.getModel("areaStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],f=i[0].coord,d=1;d<i.length;d++){var v=u++%l.length;c[v]=c[v]||[],c[v].push(new fo({shape:{cx:r.cx,cy:r.cy,r0:f,r:i[d].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),f=i[d].coord}for(var d=0;d<c.length;d++)t.add(pl(c[d],{style:gt({fill:l[d%l.length]},s.getAreaStyle()),silent:!0}))}}};function XPe(t,e,r){return{position:[t.cx,t.cy],rotation:r/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1}}function Eee(t){return t.get("stack")||"__ec_stack_"+t.seriesIndex}function Nee(t,e){return e.dim+t.model.componentIndex}function KPe(t,e,r){var n={},a=QPe(Ir(e.getSeriesByType(t),function(i){return!e.isSeriesFiltered(i)&&i.coordinateSystem&&i.coordinateSystem.type==="polar"}));e.eachSeriesByType(t,function(i){if(i.coordinateSystem.type==="polar"){var o=i.getData(),s=i.coordinateSystem,l=s.getBaseAxis(),u=Nee(s,l),c=Eee(i),f=a[u][c],d=f.offset,v=f.width,g=s.getOtherAxis(l),y=i.coordinateSystem.cx,b=i.coordinateSystem.cy,S=i.get("barMinHeight")||0,w=i.get("barMinAngle")||0;n[c]=n[c]||[];for(var M=o.mapDimension(g.dim),A=o.mapDimension(l.dim),D=ed(o,M),R=l.dim!=="radius"||!i.get("roundCap",!0),N=g.model,I=N.get("startValue"),z=g.dataToCoord(I||0),B=0,V=o.count();B<V;B++){var G=o.get(M,B),F=o.get(A,B),q=G>=0?"p":"n",Q=z;D&&(n[c][F]||(n[c][F]={p:z,n:z}),Q=n[c][F][q]);var H=void 0,X=void 0,W=void 0,J=void 0;if(g.dim==="radius"){var ee=g.dataToCoord(G)-z,K=l.dataToCoord(F);Math.abs(ee)<S&&(ee=(ee<0?-1:1)*S),H=Q,X=Q+ee,W=K-d,J=W-v,D&&(n[c][F][q]=X)}else{var ne=g.dataToCoord(G,R)-z,ie=l.dataToCoord(F);Math.abs(ne)<w&&(ne=(ne<0?-1:1)*w),H=ie+d,X=H+v,W=Q,J=Q+ne,D&&(n[c][F][q]=J)}o.setItemLayout(B,{cx:y,cy:b,r0:H,r:X,startAngle:-W*Math.PI/180,endAngle:-J*Math.PI/180,clockwise:W>=J})}}})}function QPe(t){var e={};Y(t,function(n,a){var i=n.getData(),o=n.coordinateSystem,s=o.getBaseAxis(),l=Nee(o,s),u=s.getExtent(),c=s.type==="category"?s.getBandWidth():Math.abs(u[1]-u[0])/i.count(),f=e[l]||{bandWidth:c,remainedWidth:c,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},d=f.stacks;e[l]=f;var v=Eee(n);d[v]||f.autoWidthCount++,d[v]=d[v]||{width:0,maxWidth:0};var g=Ue(n.get("barWidth"),c),y=Ue(n.get("barMaxWidth"),c),b=n.get("barGap"),S=n.get("barCategoryGap");g&&!d[v].width&&(g=Math.min(f.remainedWidth,g),d[v].width=g,f.remainedWidth-=g),y&&(d[v].maxWidth=y),b!=null&&(f.gap=b),S!=null&&(f.categoryGap=S)});var r={};return Y(e,function(n,a){r[a]={};var i=n.stacks,o=n.bandWidth,s=Ue(n.categoryGap,o),l=Ue(n.gap,1),u=n.remainedWidth,c=n.autoWidthCount,f=(u-s)/(c+(c-1)*l);f=Math.max(f,0),Y(i,function(y,b){var S=y.maxWidth;S&&S<f&&(S=Math.min(S,u),y.width&&(S=Math.min(S,y.width)),u-=S,y.width=S,c--)}),f=(u-s)/(c+(c-1)*l),f=Math.max(f,0);var d=0,v;Y(i,function(y,b){y.width||(y.width=f),v=y,d+=y.width*(1+l)}),v&&(d-=v.width*l);var g=-d/2;Y(i,function(y,b){r[a][b]=r[a][b]||{offset:g,width:y.width},g+=y.width*(1+l)})}),r}var JPe={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},eke={splitNumber:5},tke=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.type="polar",e})(Vn);function rke(t){Ut(L_),yp.registerAxisPointerClass("PolarAxisPointer",RPe),t.registerCoordinateSystem("polar",GPe),t.registerComponentModel(IPe),t.registerComponentView(tke),_m(t,"angle",OPe,JPe),_m(t,"radius",jPe,eke),t.registerComponentView(WPe),t.registerComponentView(qPe),t.registerLayout(zt(KPe,"bar"))}function gR(t,e){e=e||{};var r=t.coordinateSystem,n=t.axis,a={},i=n.position,o=n.orient,s=r.getRect(),l=[s.x,s.x+s.width,s.y,s.y+s.height],u={horizontal:{top:l[2],bottom:l[3]},vertical:{left:l[0],right:l[1]}};a.position=[o==="vertical"?u.vertical[i]:l[0],o==="horizontal"?u.horizontal[i]:l[3]];var c={horizontal:0,vertical:1};a.rotation=Math.PI/2*c[o];var f={top:-1,bottom:1,right:1,left:-1};a.labelDirection=a.tickDirection=a.nameDirection=f[i],t.get(["axisTick","inside"])&&(a.tickDirection=-a.tickDirection),Wi(e.labelInside,t.get(["axisLabel","inside"]))&&(a.labelDirection=-a.labelDirection);var d=t.get(["axisLabel","rotate"]);return a.labelRotate=i==="top"?-d:d,a.z2=1,a}var nke=["splitArea","splitLine","breakArea"],ake=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.axisPointerClass="SingleAxisPointer",r}return e.prototype.render=function(r,n,a,i){var o=this.group;o.removeAll();var s=this._axisGroup;this._axisGroup=new st;var l=gR(r),u=new Eo(r,a,l);u.build(),o.add(this._axisGroup),o.add(u.group),Y(nke,function(c){r.get([c,"show"])&&ike[c](this,this.group,this._axisGroup,r,a)},this),g_(s,this._axisGroup,r),t.prototype.render.call(this,r,n,a,i)},e.prototype.remove=function(){$Q(this)},e.type="singleAxis",e})(yp),ike={splitLine:function(t,e,r,n,a){var i=n.axis;if(!i.scale.isBlank()){var o=n.getModel("splitLine"),s=o.getModel("lineStyle"),l=s.get("color");l=l instanceof Array?l:[l];for(var u=s.get("width"),c=n.coordinateSystem.getRect(),f=i.isHorizontal(),d=[],v=0,g=i.getTicksCoords({tickModel:o,breakTicks:"none",pruneByBreak:"preserve_extent_bound"}),y=[],b=[],S=0;S<g.length;++S){var w=i.toGlobalCoord(g[S].coord);f?(y[0]=w,y[1]=c.y,b[0]=w,b[1]=c.y+c.height):(y[0]=c.x,y[1]=w,b[0]=c.x+c.width,b[1]=w);var M=new Na({shape:{x1:y[0],y1:y[1],x2:b[0],y2:b[1]},silent:!0});dm(M.shape,u);var A=v++%l.length;d[A]=d[A]||[],d[A].push(M)}for(var D=s.getLineStyle(["color"]),S=0;S<d.length;++S)e.add(pl(d[S],{style:gt({stroke:l[S%l.length]},D),silent:!0}))}},splitArea:function(t,e,r,n,a){qQ(t,r,n,n)},breakArea:function(t,e,r,n,a){var i=D_(),o=n.axis.scale;i&&o.type!=="ordinal"&&i.rectCoordBuildBreakAxis(e,t,n,n.coordinateSystem.getRect(),a)}},IS=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.getCoordSysModel=function(){return this},e.type="singleAxis",e.layoutMode="box",e.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}},jitter:0,jitterOverlap:!0,jitterMargin:2},e})(er);ja(IS,w_.prototype);var oke=(function(t){ye(e,t);function e(r,n,a,i,o){var s=t.call(this,r,n,a)||this;return s.type=i||"value",s.position=o||"bottom",s}return e.prototype.isHorizontal=function(){var r=this.position;return r==="top"||r==="bottom"},e.prototype.pointToData=function(r,n){return this.coordinateSystem.pointToData(r)[0]},e})(xu),Ree=["single"],ske=(function(){function t(e,r,n){this.type="single",this.dimension="single",this.dimensions=Ree,this.axisPointerEnabled=!0,this.model=e,this._init(e,r,n)}return t.prototype._init=function(e,r,n){var a=this.dimension,i=new oke(a,DC(e),[0,0],e.get("type"),e.get("position")),o=i.type==="category";i.onBand=o&&e.get("boundaryGap"),i.inverse=e.get("inverse"),i.orient=e.get("orient"),e.axis=i,i.model=e,i.coordinateSystem=this,this._axis=i},t.prototype.update=function(e,r){e.eachSeries(function(n){if(n.coordinateSystem===this){var a=n.getData();Y(a.mapDimensionsAll(this.dimension),function(i){this._axis.scale.unionExtentFromData(a,i)},this),mm(this._axis.scale,this._axis.model)}},this)},t.prototype.resize=function(e,r){var n=ni(e,r).refContainer;this._rect=Yn(e.getBoxLayoutParams(),n),this._adjustAxis()},t.prototype.getRect=function(){return this._rect},t.prototype._adjustAxis=function(){var e=this._rect,r=this._axis,n=r.isHorizontal(),a=n?[0,e.width]:[0,e.height],i=r.inverse?1:0;r.setExtent(a[i],a[1-i]),this._updateAxisTransform(r,n?e.x:e.y)},t.prototype._updateAxisTransform=function(e,r){var n=e.getExtent(),a=n[0]+n[1],i=e.isHorizontal();e.toGlobalCoord=i?function(o){return o+r}:function(o){return a-o+r},e.toLocalCoord=i?function(o){return o-r}:function(o){return a-o+r}},t.prototype.getAxis=function(){return this._axis},t.prototype.getBaseAxis=function(){return this._axis},t.prototype.getAxes=function(){return[this._axis]},t.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},t.prototype.containPoint=function(e){var r=this.getRect(),n=this.getAxis(),a=n.orient;return a==="horizontal"?n.contain(n.toLocalCoord(e[0]))&&e[1]>=r.y&&e[1]<=r.y+r.height:n.contain(n.toLocalCoord(e[1]))&&e[0]>=r.y&&e[0]<=r.y+r.height},t.prototype.pointToData=function(e,r,n){n=n||[];var a=this.getAxis();return n[0]=a.coordToData(a.toLocalCoord(e[a.orient==="horizontal"?0:1])),n},t.prototype.dataToPoint=function(e,r,n){var a=this.getAxis(),i=this.getRect();n=n||[];var o=a.orient==="horizontal"?0:1;return e instanceof Array&&(e=e[0]),n[o]=a.toGlobalCoord(a.dataToCoord(+e)),n[1-o]=o===0?i.y+i.height/2:i.x+i.width/2,n},t.prototype.convertToPixel=function(e,r,n){var a=OU(r);return a===this?this.dataToPoint(n):null},t.prototype.convertFromPixel=function(e,r,n){var a=OU(r);return a===this?this.pointToData(n):null},t})();function OU(t){var e=t.seriesModel,r=t.singleAxisModel;return r&&r.coordinateSystem||e&&e.coordinateSystem}function lke(t,e){var r=[];return t.eachComponent("singleAxis",function(n,a){var i=new ske(n,t,e);i.name="single_"+a,i.resize(n,e),n.coordinateSystem=i,r.push(i)}),t.eachSeries(function(n){if(n.get("coordinateSystem")==="singleAxis"){var a=n.getReferringComponents("singleAxis",na).models[0];n.coordinateSystem=a&&a.coordinateSystem}}),r}var uke={create:lke,dimensions:Ree},jU=["x","y"],cke=["width","height"],fke=(function(t){ye(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.makeElOption=function(r,n,a,i,o){var s=a.axis,l=s.coordinateSystem,u=gL(l,1-Xw(s)),c=l.dataToPoint(n)[0],f=i.get("type");if(f&&f!=="none"){var d=rO(i),v=hke[f](s,c,u);v.style=d,r.graphicKey=v.type,r.pointer=v}var g=gR(a);Cee(n,r,g,a,i,o)},e.prototype.getHandleTransform=function(r,n,a){var i=gR(n,{labelInside:!1});i.labelMargin=a.get(["handle","margin"]);var o=nO(n.axis,r,i);return{x:o[0],y:o[1],rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(r,n,a,i){var o=a.axis,s=o.coordinateSystem,l=Xw(o),u=gL(s,l),c=[r.x,r.y];c[l]+=n[l],c[l]=Math.min(u[1],c[l]),c[l]=Math.max(u[0],c[l]);var f=gL(s,1-l),d=(f[1]+f[0])/2,v=[d,d];return v[l]=c[l],{x:c[0],y:c[1],rotation:r.rotation,cursorPoint:v,tooltipOption:{verticalAlign:"middle"}}},e})(tO),hke={line:function(t,e,r){var n=aO([e,r[0]],[e,r[1]],Xw(t));return{type:"Line",subPixelOptimize:!0,shape:n}},shadow:function(t,e,r){var n=t.getBandWidth(),a=r[1]-r[0];return{type:"Rect",shape:Mee([e-n/2,r[0]],[n,a],Xw(t))}}};function Xw(t){return t.isHorizontal()?0:1}function gL(t,e){var r=t.getRect();return[r[jU[e]],r[jU[e]]+r[cke[e]]]}var dke=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.type="single",e})(Vn);function vke(t){Ut(L_),yp.registerAxisPointerClass("SingleAxisPointer",fke),t.registerComponentView(dke),t.registerComponentView(ake),t.registerComponentModel(IS),_m(t,"single",IS,IS.defaultOption),t.registerCoordinateSystem("single",uke)}var pke=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.init=function(r,n,a){var i=vp(r);t.prototype.init.apply(this,arguments),zU(r,i)},e.prototype.mergeOption=function(r){t.prototype.mergeOption.apply(this,arguments),zU(this.option,r)},e.prototype.getCellSize=function(){return this.option.cellSize},e.type="calendar",e.layoutMode="box",e.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:ve.color.axisLine,width:1,type:"solid"}},itemStyle:{color:ve.color.neutral00,borderWidth:1,borderColor:ve.color.neutral10},dayLabel:{show:!0,firstDay:0,position:"start",margin:ve.size.s,color:ve.color.secondary},monthLabel:{show:!0,position:"start",margin:ve.size.s,align:"center",formatter:null,color:ve.color.secondary},yearLabel:{show:!0,position:null,margin:ve.size.xl,formatter:null,color:ve.color.quaternary,fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},e})(er);function zU(t,e){var r=t.cellSize,n;Ee(r)?n=r:n=t.cellSize=[r,r],n.length===1&&(n[1]=n[0]);var a=Re([0,1],function(i){return Jbe(e,i)&&(n[i]="auto"),n[i]!=null&&n[i]!=="auto"});_c(t,e,{type:"box",ignoreSize:a})}var gke=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.render=function(r,n,a){var i=this.group;i.removeAll();var o=r.coordinateSystem,s=o.getRangeInfo(),l=o.getOrient(),u=n.getLocaleModel();this._renderDayRect(r,s,i),this._renderLines(r,s,l,i),this._renderYearText(r,s,l,i),this._renderMonthText(r,u,l,i),this._renderWeekText(r,u,s,l,i)},e.prototype._renderDayRect=function(r,n,a){for(var i=r.coordinateSystem,o=r.getModel("itemStyle").getItemStyle(),s=i.getCellWidth(),l=i.getCellHeight(),u=n.start.time;u<=n.end.time;u=i.getNextNDay(u,1).time){var c=i.dataToCalendarLayout([u],!1).tl,f=new $t({shape:{x:c[0],y:c[1],width:s,height:l},cursor:"default",style:o});a.add(f)}},e.prototype._renderLines=function(r,n,a,i){var o=this,s=r.coordinateSystem,l=r.getModel(["splitLine","lineStyle"]).getLineStyle(),u=r.get(["splitLine","show"]),c=l.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var f=n.start,d=0;f.time<=n.end.time;d++){g(f.formatedDate),d===0&&(f=s.getDateInfo(n.start.y+"-"+n.start.m));var v=f.date;v.setMonth(v.getMonth()+1),f=s.getDateInfo(v)}g(s.getNextNDay(n.end.time,1).formatedDate);function g(y){o._firstDayOfMonth.push(s.getDateInfo(y)),o._firstDayPoints.push(s.dataToCalendarLayout([y],!1).tl);var b=o._getLinePointsOfOneWeek(r,y,a);o._tlpoints.push(b[0]),o._blpoints.push(b[b.length-1]),u&&o._drawSplitline(b,l,i)}u&&this._drawSplitline(o._getEdgesPoints(o._tlpoints,c,a),l,i),u&&this._drawSplitline(o._getEdgesPoints(o._blpoints,c,a),l,i)},e.prototype._getEdgesPoints=function(r,n,a){var i=[r[0].slice(),r[r.length-1].slice()],o=a==="horizontal"?0:1;return i[0][o]=i[0][o]-n/2,i[1][o]=i[1][o]+n/2,i},e.prototype._drawSplitline=function(r,n,a){var i=new Yi({z2:20,shape:{points:r},style:n});a.add(i)},e.prototype._getLinePointsOfOneWeek=function(r,n,a){for(var i=r.coordinateSystem,o=i.getDateInfo(n),s=[],l=0;l<7;l++){var u=i.getNextNDay(o.time,l),c=i.dataToCalendarLayout([u.time],!1);s[2*u.day]=c.tl,s[2*u.day+1]=c[a==="horizontal"?"bl":"tr"]}return s},e.prototype._formatterLabel=function(r,n){return We(r)&&r?Zbe(r,n):ot(r)?r(n):n.nameMap},e.prototype._yearTextPositionControl=function(r,n,a,i,o){var s=n[0],l=n[1],u=["center","bottom"];i==="bottom"?(l+=o,u=["center","top"]):i==="left"?s-=o:i==="right"?(s+=o,u=["center","top"]):l-=o;var c=0;return(i==="left"||i==="right")&&(c=Math.PI/2),{rotation:c,x:s,y:l,style:{align:u[0],verticalAlign:u[1]}}},e.prototype._renderYearText=function(r,n,a,i){var o=r.getModel("yearLabel");if(o.get("show")){var s=o.get("margin"),l=o.get("position");l||(l=a!=="horizontal"?"top":"left");var u=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],c=(u[0][0]+u[1][0])/2,f=(u[0][1]+u[1][1])/2,d=a==="horizontal"?0:1,v={top:[c,u[d][1]],bottom:[c,u[1-d][1]],left:[u[1-d][0],f],right:[u[d][0],f]},g=n.start.y;+n.end.y>+n.start.y&&(g=g+"-"+n.end.y);var y=o.get("formatter"),b={start:n.start.y,end:n.end.y,nameMap:g},S=this._formatterLabel(y,b),w=new xr({z2:30,style:bn(o,{text:S}),silent:o.get("silent")});w.attr(this._yearTextPositionControl(w,v[l],a,l,s)),i.add(w)}},e.prototype._monthTextPositionControl=function(r,n,a,i,o){var s="left",l="top",u=r[0],c=r[1];return a==="horizontal"?(c=c+o,n&&(s="center"),i==="start"&&(l="bottom")):(u=u+o,n&&(l="middle"),i==="start"&&(s="right")),{x:u,y:c,align:s,verticalAlign:l}},e.prototype._renderMonthText=function(r,n,a,i){var o=r.getModel("monthLabel");if(o.get("show")){var s=o.get("nameMap"),l=o.get("margin"),u=o.get("position"),c=o.get("align"),f=[this._tlpoints,this._blpoints];(!s||We(s))&&(s&&(n=fN(s)||n),s=n.get(["time","monthAbbr"])||[]);var d=u==="start"?0:1,v=a==="horizontal"?0:1;l=u==="start"?-l:l;for(var g=c==="center",y=o.get("silent"),b=0;b<f[d].length-1;b++){var S=f[d][b].slice(),w=this._firstDayOfMonth[b];if(g){var M=this._firstDayPoints[b];S[v]=(M[v]+f[0][b+1][v])/2}var A=o.get("formatter"),D=s[+w.m-1],R={yyyy:w.y,yy:(w.y+"").slice(2),MM:w.m,M:+w.m,nameMap:D},N=this._formatterLabel(A,R),I=new xr({z2:30,style:Ae(bn(o,{text:N}),this._monthTextPositionControl(S,g,a,u,l)),silent:y});i.add(I)}}},e.prototype._weekTextPositionControl=function(r,n,a,i,o){var s="center",l="middle",u=r[0],c=r[1],f=a==="start";return n==="horizontal"?(u=u+i+(f?1:-1)*o[0]/2,s=f?"right":"left"):(c=c+i+(f?1:-1)*o[1]/2,l=f?"bottom":"top"),{x:u,y:c,align:s,verticalAlign:l}},e.prototype._renderWeekText=function(r,n,a,i,o){var s=r.getModel("dayLabel");if(s.get("show")){var l=r.coordinateSystem,u=s.get("position"),c=s.get("nameMap"),f=s.get("margin"),d=l.getFirstDayOfWeek();if(!c||We(c)){c&&(n=fN(c)||n);var v=n.get(["time","dayOfWeekShort"]);c=v||Re(n.get(["time","dayOfWeekAbbr"]),function(R){return R[0]})}var g=l.getNextNDay(a.end.time,7-a.lweek).time,y=[l.getCellWidth(),l.getCellHeight()];f=Ue(f,Math.min(y[1],y[0])),u==="start"&&(g=l.getNextNDay(a.start.time,-(7+a.fweek)).time,f=-f);for(var b=s.get("silent"),S=0;S<7;S++){var w=l.getNextNDay(g,S),M=l.dataToCalendarLayout([w.time],!1).center,A=S;A=Math.abs((S+d)%7);var D=new xr({z2:30,style:Ae(bn(s,{text:c[A]}),this._weekTextPositionControl(M,i,u,f,y)),silent:b});o.add(D)}}},e.type="calendar",e})(Vn),mL=864e5,mke=(function(){function t(e,r,n){this.type="calendar",this.dimensions=t.dimensions,this.getDimensionsInfo=t.getDimensionsInfo,this._model=e,this._update(r,n)}return t.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},t.prototype.getRangeInfo=function(){return this._rangeInfo},t.prototype.getModel=function(){return this._model},t.prototype.getRect=function(){return this._rect},t.prototype.getCellWidth=function(){return this._sw},t.prototype.getCellHeight=function(){return this._sh},t.prototype.getOrient=function(){return this._orient},t.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},t.prototype.getDateInfo=function(e){e=hp(e);var r=e.getFullYear(),n=e.getMonth()+1,a=n<10?"0"+n:""+n,i=e.getDate(),o=i<10?"0"+i:""+i,s=e.getDay();return s=Math.abs((s+7-this.getFirstDayOfWeek())%7),{y:r+"",m:a,d:o,day:s,time:e.getTime(),formatedDate:r+"-"+a+"-"+o,date:e}},t.prototype.getNextNDay=function(e,r){return r=r||0,r===0?this.getDateInfo(e):(e=new Date(this.getDateInfo(e).time),e.setDate(e.getDate()+r),this.getDateInfo(e))},t.prototype._update=function(e,r){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var n=this._rangeInfo.weeks||1,a=["width","height"],i=this._model.getCellSize().slice(),o=this._model.getBoxLayoutParams(),s=this._orient==="horizontal"?[n,7]:[7,n];Y([0,1],function(f){c(i,f)&&(o[a[f]]=i[f]*s[f])});var l={width:r.getWidth(),height:r.getHeight()},u=this._rect=Yn(o,l);Y([0,1],function(f){c(i,f)||(i[f]=u[a[f]]/s[f])});function c(f,d){return f[d]!=null&&f[d]!=="auto"}this._sw=i[0],this._sh=i[1]},t.prototype.dataToPoint=function(e,r,n){n=n||[],Ee(e)&&(e=e[0]),r==null&&(r=!0);var a=this.getDateInfo(e),i=this._rangeInfo,o=a.formatedDate;if(r&&!(a.time>=i.start.time&&a.time<i.end.time+mL))return n[0]=n[1]=NaN,n;var s=a.day,l=this._getRangeInfo([i.start.time,o]).nthWeek;return this._orient==="vertical"?(n[0]=this._rect.x+s*this._sw+this._sw/2,n[1]=this._rect.y+l*this._sh+this._sh/2):(n[0]=this._rect.x+l*this._sw+this._sw/2,n[1]=this._rect.y+s*this._sh+this._sh/2),n},t.prototype.pointToData=function(e){var r=this.pointToDate(e);return r&&r.time},t.prototype.dataToLayout=function(e,r,n){n=n||{};var a=n.rect=n.rect||{},i=n.contentRect=n.contentRect||{},o=this.dataToPoint(e,r);return a.x=o[0]-this._sw/2,a.y=o[1]-this._sh/2,a.width=this._sw,a.height=this._sh,yt.copy(i,a),ep(i,this._lineWidth/2,!0,!0),n},t.prototype.dataToCalendarLayout=function(e,r){var n=this.dataToPoint(e,r);return{center:n,tl:[n[0]-this._sw/2,n[1]-this._sh/2],tr:[n[0]+this._sw/2,n[1]-this._sh/2],br:[n[0]+this._sw/2,n[1]+this._sh/2],bl:[n[0]-this._sw/2,n[1]+this._sh/2]}},t.prototype.pointToDate=function(e){var r=Math.floor((e[0]-this._rect.x)/this._sw)+1,n=Math.floor((e[1]-this._rect.y)/this._sh)+1,a=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(n,r-1,a):this._getDateByWeeksAndDay(r,n-1,a)},t.prototype.convertToPixel=function(e,r,n){var a=yL(r);return a===this?a.dataToPoint(n):null},t.prototype.convertToLayout=function(e,r,n){var a=yL(r);return a===this?a.dataToLayout(n):null},t.prototype.convertFromPixel=function(e,r,n){var a=yL(r);return a===this?a.pointToData(n):null},t.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},t.prototype._initRangeOption=function(){var e=this._model.get("range"),r;if(Ee(e)&&e.length===1&&(e=e[0]),Ee(e))r=e;else{var n=e.toString();if(/^\d{4}$/.test(n)&&(r=[n+"-01-01",n+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(n)){var a=this.getDateInfo(n),i=a.date;i.setMonth(i.getMonth()+1);var o=this.getNextNDay(i,-1);r=[a.formatedDate,o.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(n)&&(r=[n,n])}if(!r)return e;var s=this._getRangeInfo(r);return s.start.time>s.end.time&&r.reverse(),r},t.prototype._getRangeInfo=function(e){var r=[this.getDateInfo(e[0]),this.getDateInfo(e[1])],n;r[0].time>r[1].time&&(n=!0,r.reverse());var a=Math.floor(r[1].time/mL)-Math.floor(r[0].time/mL)+1,i=new Date(r[0].time),o=i.getDate(),s=r[1].date.getDate();i.setDate(o+a-1);var l=i.getDate();if(l!==s)for(var u=i.getTime()-r[1].time>0?1:-1;(l=i.getDate())!==s&&(i.getTime()-r[1].time)*u>0;)a-=u,i.setDate(l-u);var c=Math.floor((a+r[0].day+6)/7),f=n?-c+1:c-1;return n&&r.reverse(),{range:[r[0].formatedDate,r[1].formatedDate],start:r[0],end:r[1],allDay:a,weeks:c,nthWeek:f,fweek:r[0].day,lweek:r[1].day}},t.prototype._getDateByWeeksAndDay=function(e,r,n){var a=this._getRangeInfo(n);if(e>a.weeks||e===0&&r<a.fweek||e===a.weeks&&r>a.lweek)return null;var i=(e-1)*7-a.fweek+r,o=new Date(a.start.time);return o.setDate(+a.start.d+i),this.getDateInfo(o)},t.create=function(e,r){var n=[];return e.eachComponent("calendar",function(a){var i=new t(a,e,r);n.push(i),a.coordinateSystem=i}),e.eachComponent(function(a,i){__({targetModel:i,coordSysType:"calendar",coordSysProvider:rX})}),n},t.dimensions=["time","value"],t})();function yL(t){var e=t.calendarModel,r=t.seriesModel,n=e?e.coordinateSystem:r?r.coordinateSystem:null;return n}function yke(t){t.registerComponentModel(pke),t.registerComponentView(gke),t.registerCoordinateSystem("calendar",mke)}var af={level:1,leaf:2,nonLeaf:3},vf={none:0,all:1,body:2,corner:3};function mR(t,e,r){var n=e[Rt[r]].getCell(t);return!n&&vr(t)&&t<0&&(n=e[Rt[1-r]].getUnitLayoutInfo(r,Math.round(t))),n}function Pee(t){var e=t||[];return e[0]=e[0]||[],e[1]=e[1]||[],e[0][0]=e[0][1]=e[1][0]=e[1][1]=NaN,e}function kee(t,e,r,n,a){BU(t[0],e,a,r,n,0),BU(t[1],e,a,r,n,1)}function BU(t,e,r,n,a,i){t[0]=1/0,t[1]=-1/0;var o=n[i],s=Ee(o)?o:[o],l=s.length,u=!!r;if(l>=1?(VU(t,e,s,u,a,i,0),l>1&&VU(t,e,s,u,a,i,l-1)):t[0]=t[1]=NaN,u){var c=-a[Rt[1-i]].getLocatorCount(i),f=a[Rt[i]].getLocatorCount(i)-1;r===vf.body?c=xa(0,c):r===vf.corner&&(f=Is(-1,f)),f<c&&(c=f=NaN),so(t[0])&&(t[0]=c),so(t[1])&&(t[1]=f),t[0]=xa(Is(t[0],f),c),t[1]=xa(Is(t[1],f),c)}}function VU(t,e,r,n,a,i,o){var s=mR(r[o],a,i);if(!s){t[0]=t[1]=NaN;return}var l=s.id[Rt[i]],u=l,c=Ske(s);c&&(u+=c.span[Rt[i]]-1),t[0]=Is(t[0],l,u),t[1]=xa(t[1],l,u)}function Z1(t,e){return so(t[e][0])||so(t[e][1])}function FU(t,e,r,n){e=e||xke;for(var a=0;a<n;a++)e[a]=!1;for(;;){for(var i=!1,a=0;a<n;a++){var o=r[a];!e[a]&&o.cellMergeOwner&&_ke(t,o.locatorRange)&&(e[a]=!0,i=!0)}if(!i)break}}var xke=[];function _ke(t,e){return!HU(t[0],e[0])||!HU(t[1],e[1])?!1:(t[0][0]=Is(t[0][0],e[0][0]),t[0][1]=xa(t[0][1],e[0][1]),t[1][0]=Is(t[1][0],e[1][0]),t[1][1]=xa(t[1][1],e[1][1]),!0)}function HU(t,e){return t[1]>=e[0]&&t[0]<=e[1]}function GU(t,e){t.id.set(e[0][0],e[1][0]),t.span.set(e[0][1]-t.id.x+1,e[1][1]-t.id.y+1)}function bke(t,e){t[0][0]=e[0][0],t[0][1]=e[0][1],t[1][0]=e[1][0],t[1][1]=e[1][1]}function UU(t,e,r,n){var a=mR(e[n][0],r,n),i=mR(e[n][1],r,n);t[Rt[n]]=t[ka[n]]=NaN,a&&i&&(t[Rt[n]]=a.xy,t[ka[n]]=i.xy+i.wh-a.xy)}function g0(t,e,r,n){return t[Rt[e]]=r,t[Rt[1-e]]=n,t}function Ske(t){return t&&(t.type===af.leaf||t.type===af.nonLeaf)?t:null}function Kw(){return{x:NaN,y:NaN,width:NaN,height:NaN}}var WU=(function(){function t(e,r){this._cells=[],this._levels=[],this.dim=e,this.dimIdx=e==="x"?0:1,this._model=r,this._uniqueValueGen=wke(e);var n=r.get("data",!0);n!=null&&!Ee(n)&&(n=[]),n?this._initByDimModelData(n):this._initBySeriesData()}return t.prototype._initByDimModelData=function(e){var r=this,n=r._cells,a=r._levels,i=[],o=0;r._leavesCount=s(e,0,0),l();return;function s(u,c,f){var d=0;return u&&Y(u,function(v,g){var y;We(v)?y={value:v}:mt(v)?(y=v,v.value!=null&&!We(v.value)&&(y={value:null})):y={value:null};var b={type:af.nonLeaf,ordinal:NaN,level:f,firstLeafLocator:c,id:new ht,span:g0(new ht,r.dimIdx,1,1),option:y,xy:NaN,wh:NaN,dim:r,rect:Kw()};o++,(i[c]||(i[c]=[])).push(b),a[f]||(a[f]={type:af.level,xy:NaN,wh:NaN,option:null,id:new ht,dim:r});var S=s(y.children,c,f+1),w=Math.max(1,S);b.span[Rt[r.dimIdx]]=w,d+=w,c+=w}),d}function l(){for(var u=[];n.length<o;)for(var c=0;c<i.length;c++){var f=i[c].pop();if(f){f.ordinal=u.length;var d=f.option.value;u.push(d),n.push(f),r._uniqueValueGen.calcDupBase(d)}}r._uniqueValueGen.ensureValueUnique(u,n);var v=r._ordinalMeta=new Ox({categories:u,needCollect:!1,deduplication:!1});r._scale=new gm({ordinalMeta:v});for(var g=0;g<r._leavesCount;g++){var y=r._cells[g];y.type=af.leaf,y.span[Rt[1-r.dimIdx]]=r._levels.length-y.level}r._initCellsId(),r._initLevelIdOptions()}},t.prototype._initBySeriesData=function(){var e=this;e._leavesCount=0,e._levels=[{type:af.level,xy:NaN,wh:NaN,option:null,id:new ht,dim:e}],e._initLevelIdOptions();var r=e._ordinalMeta=new Ox({needCollect:!0,deduplication:!0,onCollect:function(n,a){var i=e._cells[a]={type:af.leaf,ordinal:a,level:0,firstLeafLocator:a,id:new ht,span:g0(new ht,e.dimIdx,1,1),option:{value:n+""},xy:NaN,wh:NaN,dim:e,rect:Kw()};e._leavesCount++,e._setCellId(i)}});e._scale=new gm({ordinalMeta:r})},t.prototype._setCellId=function(e){var r=this._levels.length,n=this.dimIdx;g0(e.id,n,e.firstLeafLocator,e.level-r)},t.prototype._initCellsId=function(){var e=this._levels.length,r=this.dimIdx;Y(this._cells,function(n){g0(n.id,r,n.firstLeafLocator,n.level-e)})},t.prototype._initLevelIdOptions=function(){var e=this._levels.length,r=this.dimIdx,n=this._model.get("levels",!0);n=Ee(n)?n:[],Y(this._levels,function(a,i){g0(a.id,r,0,i-e),a.option=n[i]})},t.prototype.shouldShow=function(){return!!this._model.getShallow("show",!0)},t.prototype.resetLayoutIterator=function(e,r,n,a){if(e=e||new Gh,r===this.dimIdx){var i=this._leavesCount,o=n!=null?Math.max(0,n):0;a=a!=null?Math.min(a,i):i,e.reset(this._cells,o,o+a)}else{var i=this._levels.length,o=n!=null?Math.max(0,n+i):0;a=a!=null?Math.min(a,i):i,e.reset(this._levels,o,o+a)}return e},t.prototype.resetCellIterator=function(e){return(e||new Gh).reset(this._cells,0)},t.prototype.resetLevelIterator=function(e){return(e||new Gh).reset(this._levels,0)},t.prototype.getLayout=function(e,r,n){var a=this.getUnitLayoutInfo(r,n);e[Rt[r]]=a?a.xy:NaN,e[ka[r]]=a?a.wh:NaN},t.prototype.getUnitLayoutInfo=function(e,r){return e===this.dimIdx?r<this._leavesCount?this._cells[r]:void 0:this._levels[r+this._levels.length]},t.prototype.getCell=function(e){var r=this._scale.parse(e);return so(r)?void 0:this._cells[r]},t.prototype.getLocatorCount=function(e){return e===this.dimIdx?this._leavesCount:this._levels.length},t.prototype.getOrdinalMeta=function(){return this._ordinalMeta},t})();function wke(t){var e=t.toUpperCase(),r=new RegExp("^"+e+"([0-9]+)$"),n=0;function a(s){var l;s!=null&&(l=s.match(r))&&(n=xa(n,+l[1]+1))}function i(){return""+e+n++}function o(s,l){for(var u=Qe(),c=0;c<s.length;c++){var f=s[c];(f==null||u.get(f)!=null)&&(s[c]=f=i(),l[c].option=gt({value:f},l[c].option)),u.set(f,!0)}}return{calcDupBase:a,ensureValueUnique:o}}var YU=(function(){function t(e,r,n){this._model=r,this._dims=n,this._kind=e,this._cellMergeOwnerList=[]}return t.prototype._ensureCellMap=function(){var e=this,r=e._cellMap;return r||(r=e._cellMap=Qe(),n()),r;function n(){var i=[],o=e._model.getShallow("data");o&&!Ee(o)&&(o=null),Y(o,function(g,y){if(!(!mt(g)||!Ee(g.coord))){var b=Pee([]),S=null;if(kee(b,S,g.coord,e._dims,g.coordClamp?vf[e._kind]:vf.none),!(Z1(b,0)||Z1(b,1))){var w=g&&g.mergeCells,M={id:new ht,span:new ht,locatorRange:b,option:g,cellMergeOwner:w};GU(M,b),i.push(M)}}});for(var s=[],l=0;l<i.length;l++){var u=i[l];if(u.cellMergeOwner){var c=u.locatorRange;FU(c,s,i,l);for(var f=0;f<l;f++)s[f]&&(i[f].cellMergeOwner=!1);if(c[0][0]!==u.id.x||c[1][0]!==u.id.y){u.cellMergeOwner=!1;var d=Ae({},u.option);d.coord=null;var v={id:new ht,span:new ht,locatorRange:c,option:d,cellMergeOwner:!0};GU(v,c),i.push(v)}}}Y(i,function(g){var y=a(g.id.x,g.id.y);if(g.cellMergeOwner&&(y.cellMergeOwner=!0,y.span=g.span,y.locatorRange=g.locatorRange,y.spanRect=Kw(),e._cellMergeOwnerList.push(y)),!(!g.cellMergeOwner&&!g.option))for(var b=0;b<g.span.y;b++)for(var S=0;S<g.span.x;S++){var w=a(g.id.x+S,g.id.y+b);w.option=g.option,g.cellMergeOwner&&(w.inSpanOf=y)}})}function a(i,o){var s=ZU(i,o),l=r.get(s);return l||(l=r.set(s,{id:new ht(i,o),option:null,inSpanOf:null,span:null,spanRect:null,locatorRange:null,cellMergeOwner:!1})),l}},t.prototype.getCell=function(e){return this._ensureCellMap().get(ZU(e[0],e[1]))},t.prototype.travelExistingCells=function(e){this._ensureCellMap().each(e)},t.prototype.expandRangeByCellMerge=function(e){if(!Z1(e,0)&&!Z1(e,1)&&e[0][0]===e[0][1]&&e[1][0]===e[1][1]){xL[0]=e[0][0],xL[1]=e[1][0];var r=this.getCell(xL),n=r&&r.inSpanOf;if(n){bke(e,n.locatorRange);return}}var a=this._cellMergeOwnerList;FU(e,null,a,a.length)},t})(),xL=[];function ZU(t,e){return t+"|"+e}var lO={show:!0,color:ve.color.secondary,overflow:"break",lineOverflow:"truncate",padding:[2,3,2,3],distance:0};function uO(t){return{color:"none",borderWidth:1,borderColor:t?"none":ve.color.borderTint}}var qU={show:!0,label:lO,itemStyle:uO(!1),silent:void 0,dividerLineStyle:{width:1,color:ve.color.border}},Tke={label:lO,itemStyle:uO(!1),silent:void 0},Cke={label:lO,itemStyle:uO(!0),silent:void 0},Mke={z:-50,left:"10%",top:"10%",right:"10%",bottom:"10%",x:qU,y:qU,body:Tke,corner:Cke,backgroundStyle:{color:"none",borderColor:ve.color.axisLine,borderWidth:1}},Ake=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.optionUpdated=function(){var r=this._dimModels={x:new $U(this.get("x",!0)||{}),y:new $U(this.get("y",!0)||{})};r.x.option.type=r.y.option.type="category";var n=r.x.dim=new WU("x",r.x),a=r.y.dim=new WU("y",r.y),i={x:n,y:a};this._body=new YU("body",new ar(this.getShallow("body")),i),this._corner=new YU("corner",new ar(this.getShallow("corner")),i)},e.prototype.getDimensionModel=function(r){return this._dimModels[r]},e.prototype.getBody=function(){return this._body},e.prototype.getCorner=function(){return this._corner},e.type="matrix",e.layoutMode="box",e.defaultOption=Mke,e})(er),$U=(function(t){ye(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getOrdinalMeta=function(){return this.dim.getOrdinalMeta()},e})(ar),q1=Math.round,Dke=0,Lke=99,Eke={normal:25,special:100},Nke={normal:50,special:125},Rke=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.render=function(r,n){this.group.removeAll();var a=this.group,i=r.coordinateSystem,o=i.getRect(),s=r.getDimensionModel("x"),l=r.getDimensionModel("y"),u=s.dim,c=l.dim;Pke(a,r,n),kke(a,r,u,c,n);var f=r.getShallow("borderZ2",!0),d=et(f,Lke),v=d-1,g=r.getModel("backgroundStyle").getItemStyle(["borderWidth"]);g.lineWidth=0;var y=r.getModel("backgroundStyle").getItemStyle(["color","decal","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]);y.fill="none";var b=yR(o.clone(),g,Dke),S=yR(o.clone(),y,d);b.silent=!0,S.silent=!0,a.add(b),a.add(S);var w=u.getUnitLayoutInfo(0,0),M=c.getUnitLayoutInfo(1,0);w&&M&&(u.shouldShow()&&a.add(XU({x1:o.x,y1:M.xy,x2:o.x+o.width,y2:M.xy},s.getModel("dividerLineStyle").getLineStyle(),v)),c.shouldShow()&&a.add(XU({x1:w.xy,y1:o.y,x2:w.xy,y2:o.y+o.height},l.getModel("dividerLineStyle").getLineStyle(),v)))},e.type="matrix",e})(Vn);function Pke(t,e,r){n(0),n(1);function n(a){var i=e.getDimensionModel(Rt[a]),o=i.dim;if(o.shouldShow())for(var s=i.getModel("itemStyle"),l=i.getModel("label"),u=e.getShallow("tooltip",!0),c=[],f=o.resetCellIterator();f.next();){var d=f.item,v={};yt.copy(v,d.rect),uk(c,d.id.x,d.id.y),Iee(c,e,t,r,d.option,s,l,i,v,d.option.value,Nke,u)}}}function kke(t,e,r,n,a){i("body",e.getBody(),r,n),r.shouldShow()&&n.shouldShow()&&i("corner",e.getCorner(),n,r);function i(o,s,l,u){var c=new ar(e.getShallow(o,!0)),f=c.getModel("itemStyle"),d=c.getModel("label"),v=new Gh,g=new Gh,y=[],b=e.getShallow("tooltip",!0);for(u.resetLayoutIterator(g,1);g.next();)for(l.resetLayoutIterator(v,0);v.next();){var S=v.item,w=g.item;uk(y,S.id.x,w.id.y);var M=s.getCell(y);if(!(M&&M.inSpanOf&&M.inSpanOf!==M)){var A={};M&&M.span?yt.copy(A,M.spanRect):(S.dim.getLayout(A,0,y[0]),w.dim.getLayout(A,1,y[1]));var D=M?M.option:null;Iee(y,e,t,a,D,f,d,c,A,D?D.value:null,Eke,b)}}}}function Iee(t,e,r,n,a,i,o,s,l,u,c,f){var d;$1.option=a?a.itemStyle:null,$1.parentModel=i,wg.option=a,wg.parentModel=s;var v=et(wg.getShallow("z2"),a&&a.itemStyle?c.special:c.normal),g=f&&f.show,y=yR(l,$1.getItemStyle(),v);r.add(y);var b=wg.get("cursor");b!=null&&y.attr("cursor",b);var S;if(u!=null){var w=u+"";if(Tg.option=a?a.label:null,Tg.parentModel=o,Tg.ecModel=n,xi(y,{normal:Tg},{defaultText:w,autoOverflowArea:!0,layoutRect:ut(y.shape)}),S=y.getTextContent(),S){S.z2=v+1;var M=S.style;if(M&&M.overflow&&M.overflow!=="none"&&M.lineOverflow){var A={};yt.copy(A,l),ep(A,(((d=y.style)===null||d===void 0?void 0:d.lineWidth)||0)/2,!0,!0),y.updateInnerText(),S.getLocalTransform(X1),fu(X1,X1),yt.applyTransform(A,A,X1),S.setClipPath(new $t({shape:A}))}}Nf({el:y,componentModel:e,itemName:w,itemTooltipOption:f,formatterParamsExtra:{xyLocator:t.slice()}})}if(S){var D=Tg.get("silent");D==null&&(D=!g),S.silent=D,S.ignoreHostSilent=!0}var R=wg.get("silent");R==null&&(R=!y.style||y.style.fill==="none"||!y.style.fill),y.silent=R,R2(wg),R2($1),R2(Tg)}var wg=new ar,$1=new ar,Tg=new ar,X1=[];function yR(t,e,r){var n=e.lineWidth;if(n){var a=t.x+t.width,i=t.y+t.height;t.x=Ns(t.x,n,!0),t.y=Ns(t.y,n,!0),t.width=Ns(a,n,!0)-t.x,t.height=Ns(i,n,!0)-t.y}return new $t({shape:t,style:e,z2:r})}function XU(t,e,r){var n=e.lineWidth;return n&&(q1(t.x1*2)===q1(t.x2*2)&&(t.x1=t.x2=Ns(t.x1,n,!0)),q1(t.y1*2)===q1(t.y2*2)&&(t.y1=t.y2=Ns(t.y1,n,!0))),new Na({shape:t,style:e,silent:!0,z2:r})}var Ike=(function(){function t(e,r,n){this.dimensions=t.dimensions,this.type="matrix",this._model=e;var a=this._dimModels={x:e.getDimensionModel("x"),y:e.getDimensionModel("y")};this._dims={x:a.x.dim,y:a.y.dim},this._resize(e,n)}return t.getDimensionsInfo=function(){return[{name:"x",type:"ordinal"},{name:"y",type:"ordinal"},{name:"value"}]},t.create=function(e,r){var n=[];return e.eachComponent("matrix",function(a){var i=new t(a,e,r);n.push(i),a.coordinateSystem=i}),e.eachComponent(function(a,i){__({targetModel:i,coordSysType:"matrix",coordSysProvider:rX})}),n},t.prototype.getRect=function(){return this._rect},t.prototype._resize=function(e,r){var n=this._dims,a=this._dimModels,i=this._rect=Yn(e.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()});KU(a,n,i,0),KU(a,n,i,1),QU(0,n),QU(1,n),JU(this._model.getBody(),n),JU(this._model.getCorner(),n)},t.prototype.dataToPoint=function(e,r,n){return n=n||[],this.dataToLayout(e,r,m0),n[0]=m0.rect.x+m0.rect.width/2,n[1]=m0.rect.y+m0.rect.height/2,n},t.prototype.dataToLayout=function(e,r,n){var a=this._dims;n=n||{};var i=n.rect=n.rect||{};i.x=i.y=i.width=i.height=NaN;var o=n.matrixXYLocatorRange=Pee(n.matrixXYLocatorRange);return Ee(e)&&(kee(o,null,e,a,et(r&&r.clamp,vf.none)),(!r||!r.ignoreMergeCells)&&((!r||r.clamp!==vf.corner)&&this._model.getBody().expandRangeByCellMerge(o),(!r||r.clamp!==vf.body)&&this._model.getCorner().expandRangeByCellMerge(o)),UU(i,o,a,0),UU(i,o,a,1)),n},t.prototype.pointToData=function(e,r,n){var a=this._dims;return e6(Gu,0,a,e,r&&r.clamp),e6(Gu,1,a,e,r&&r.clamp),n=n||[],n[0]=n[1]=NaN,Gu.y===Gi.inCorner&&Gu.x===Gi.inBody?t6(Gu,n,0,a):Gu.x===Gi.inCorner&&Gu.y===Gi.inBody?t6(Gu,n,1,a):(r6(Gu,n,0,a),r6(Gu,n,1,a)),n},t.prototype.convertToPixel=function(e,r,n,a){var i=bL(r);return i===this?i.dataToPoint(n,a):void 0},t.prototype.convertToLayout=function(e,r,n,a){var i=bL(r);return i===this?i.dataToLayout(n,a):void 0},t.prototype.convertFromPixel=function(e,r,n,a){var i=bL(r);return i===this?i.pointToData(n,a):void 0},t.prototype.containPoint=function(e){return this._rect.contain(e[0],e[1])},t.dimensions=["x","y","value"],t})(),m0={rect:Kw()},K1=new Gh,_L=new Gh;function KU(t,e,r,n){for(var a=1-n,i=e[Rt[n]],o=e[Rt[a]],s=o.shouldShow(),l=i.resetCellIterator();l.next();)l.item.wh=l.item.xy=NaN;for(var u=o.resetLayoutIterator(null,n);u.next();)u.item.wh=u.item.xy=NaN;for(var c=r[ka[n]],f=i.getLocatorCount(n)+o.getLocatorCount(n),d=new ar,v=o.resetLevelIterator();v.next();)d.option=v.item.option,d.parentModel=t[Rt[a]],b(v.item,s?d.get("levelSize"):0);for(var g=new ar,y=i.resetCellIterator();y.next();)y.item.type===af.leaf&&(g.option=y.item.option,g.parentModel=void 0,b(y.item,g.get("size")));function b(N,I){var z=Oke(I,n,r);so(z)||(N.wh=xR(z,c),c=xR(c-N.wh),f--)}var S=f?c/f:0,w=!f&&c>=1,M=r[Rt[n]],A=i.getLocatorCount(n)-1,D=new Gh;for(o.resetLayoutIterator(D,n);D.next();)R(D.item);for(i.resetLayoutIterator(D,n);D.next();)R(D.item);function R(N){so(N.wh)&&(N.wh=S),N.xy=M,N.id[Rt[n]]===A&&!w&&(N.wh=r[Rt[n]]+r[ka[n]]-N.xy),M+=N.wh}}function QU(t,e){for(var r=e[Rt[t]].resetCellIterator();r.next();){var n=r.item;Qw(n.rect,t,n.id,n.span,e),Qw(n.rect,1-t,n.id,n.span,e),n.type===af.nonLeaf&&(n.xy=n.rect[Rt[t]],n.wh=n.rect[ka[t]])}}function JU(t,e){t.travelExistingCells(function(r){var n=r.span;if(n){var a=r.spanRect,i=r.id;Qw(a,0,i,n,e),Qw(a,1,i,n,e)}})}function Qw(t,e,r,n,a){t[ka[e]]=0;var i=r[Rt[e]],o=i<0?a[Rt[1-e]]:a[Rt[e]],s=o.getUnitLayoutInfo(e,r[Rt[e]]);if(t[Rt[e]]=s.xy,t[ka[e]]=s.wh,n[Rt[e]]>1){var l=o.getUnitLayoutInfo(e,r[Rt[e]]+n[Rt[e]]-1);t[ka[e]]=l.xy+l.wh-s.xy}}function Oke(t,e,r){var n=hw(t,r[ka[e]]);return xR(n,r[ka[e]])}function xR(t,e){return Math.max(Math.min(t,et(e,1/0)),0)}function bL(t){var e=t.matrixModel,r=t.seriesModel,n=e?e.coordinateSystem:r?r.coordinateSystem:null;return n}var Gi={inBody:1,inCorner:2,outside:3},Gu={x:null,y:null,point:[]};function e6(t,e,r,n,a){var i=r[Rt[e]],o=r[Rt[1-e]],s=i.getUnitLayoutInfo(e,i.getLocatorCount(e)-1),l=i.getUnitLayoutInfo(e,0),u=o.getUnitLayoutInfo(e,-o.getLocatorCount(e)),c=o.shouldShow()?o.getUnitLayoutInfo(e,-1):null,f=t.point[e]=n[e];if(!l&&!c){t[Rt[e]]=Gi.outside;return}if(a===vf.body){l?(t[Rt[e]]=Gi.inBody,f=Is(s.xy+s.wh,xa(l.xy,f)),t.point[e]=f):t[Rt[e]]=Gi.outside;return}else if(a===vf.corner){c?(t[Rt[e]]=Gi.inCorner,f=Is(c.xy+c.wh,xa(u.xy,f)),t.point[e]=f):t[Rt[e]]=Gi.outside;return}var d=l?l.xy:c?c.xy+c.wh:NaN,v=u?u.xy:d,g=s?s.xy+s.wh:d;if(f<v){if(!a){t[Rt[e]]=Gi.outside;return}f=v}else if(f>g){if(!a){t[Rt[e]]=Gi.outside;return}f=g}t.point[e]=f,t[Rt[e]]=d<=f&&f<=g?Gi.inBody:v<=f&&f<=d?Gi.inCorner:Gi.outside}function t6(t,e,r,n){var a=1-r;if(t[Rt[r]]!==Gi.outside)for(n[Rt[r]].resetCellIterator(_L);_L.next();){var i=_L.item;if(n6(t.point[r],i.rect,r)&&n6(t.point[a],i.rect,a)){e[r]=i.ordinal,e[a]=i.id[Rt[a]];return}}}function r6(t,e,r,n){if(t[Rt[r]]!==Gi.outside){var a=t[Rt[r]]===Gi.inCorner?n[Rt[1-r]]:n[Rt[r]];for(a.resetLayoutIterator(K1,r);K1.next();)if(jke(t.point[r],K1.item)){e[r]=K1.item.id[Rt[r]];return}}}function jke(t,e){return e.xy<=t&&t<=e.xy+e.wh}function n6(t,e,r){return e[Rt[r]]<=t&&t<=e[Rt[r]]+e[ka[r]]}function zke(t){t.registerComponentModel(Ake),t.registerComponentView(Rke),t.registerCoordinateSystem("matrix",Ike)}function Bke(t,e){var r=t.existing;if(e.id=t.keyInfo.id,!e.type&&r&&(e.type=r.type),e.parentId==null){var n=e.parentOption;n?e.parentId=n.id:r&&(e.parentId=r.parentId)}e.parentOption=null}function a6(t,e){var r;return Y(e,function(n){t[n]!=null&&t[n]!=="auto"&&(r=!0)}),r}function Vke(t,e,r){var n=Ae({},r),a=t[e],i=r.$action||"merge";i==="merge"?a?(Gt(a,n,!0),_c(a,n,{ignoreSize:!0}),sX(r,a),Q1(r,a),Q1(r,a,"shape"),Q1(r,a,"style"),Q1(r,a,"extra"),r.clipPath=a.clipPath):t[e]=n:i==="replace"?t[e]=n:i==="remove"&&a&&(t[e]=null)}var Oee=["transition","enterFrom","leaveTo"],Fke=Oee.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function Q1(t,e,r){if(r&&(!t[r]&&e[r]&&(t[r]={}),t=t[r],e=e[r]),!(!t||!e))for(var n=r?Oee:Fke,a=0;a<n.length;a++){var i=n[a];t[i]==null&&e[i]!=null&&(t[i]=e[i])}}function Hke(t,e){if(t&&(t.hv=e.hv=[a6(e,["left","right"]),a6(e,["top","bottom"])],t.type==="group")){var r=t,n=e;r.width==null&&(r.width=n.width=0),r.height==null&&(r.height=n.height=0)}}var Gke=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.preventAutoZ=!0,r}return e.prototype.mergeOption=function(r,n){var a=this.option.elements;this.option.elements=null,t.prototype.mergeOption.call(this,r,n),this.option.elements=a},e.prototype.optionUpdated=function(r,n){var a=this.option,i=(n?a:r).elements,o=a.elements=n?[]:a.elements,s=[];this._flatten(i,s,null);var l=$q(o,s,"normalMerge"),u=this._elOptionsToUpdate=[];Y(l,function(c,f){var d=c.newOption;d&&(u.push(d),Bke(c,d),Vke(o,f,d),Hke(o[f],d))},this),a.elements=Ir(o,function(c){return c&&delete c.$action,c!=null})},e.prototype._flatten=function(r,n,a){Y(r,function(i){if(i){a&&(i.parentOption=a),n.push(i);var o=i.children;o&&o.length&&this._flatten(o,n,i),delete i.children}},this)},e.prototype.useElOptionsToUpdate=function(){var r=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,r},e.type="graphic",e.defaultOption={elements:[]},e})(er),i6={path:null,compoundPath:null,group:st,image:Ni,text:xr},cl=Xt(),Uke=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.init=function(){this._elMap=Qe()},e.prototype.render=function(r,n,a){r!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=r,this._updateElements(r),this._relocate(r,a)},e.prototype._updateElements=function(r){var n=r.useElOptionsToUpdate();if(n){var a=this._elMap,i=this.group,o=r.get("z"),s=r.get("zlevel");Y(n,function(l){var u=Ja(l.id,null),c=u!=null?a.get(u):null,f=Ja(l.parentId,null),d=f!=null?a.get(f):i,v=l.type,g=l.style;v==="text"&&g&&l.hv&&l.hv[1]&&(g.textVerticalAlign=g.textBaseline=g.verticalAlign=g.align=null);var y=l.textContent,b=l.textConfig;if(g&&dee(g,v,!!b,!!y)){var S=vee(g,v,!0);!b&&S.textConfig&&(b=l.textConfig=S.textConfig),!y&&S.textContent&&(y=S.textContent)}var w=Wke(l),M=l.$action||"merge",A=M==="merge",D=M==="replace";if(A){var R=!c,N=c;R?N=o6(u,d,l.type,a):(N&&(cl(N).isNew=!1),yee(N)),N&&(PS(N,w,r,{isInit:R}),s6(N,l,o,s))}else if(D){OS(c,l,a,r);var I=o6(u,d,l.type,a);I&&(PS(I,w,r,{isInit:!0}),s6(I,l,o,s))}else M==="remove"&&(gee(c,l),OS(c,l,a,r));var z=a.get(u);if(z&&y)if(A){var B=z.getTextContent();B?B.attr(y):z.setTextContent(new xr(y))}else D&&z.setTextContent(new xr(y));if(z){var V=l.clipPath;if(V){var G=V.type,F=void 0,R=!1;if(A){var q=z.getClipPath();R=!q||cl(q).type!==G,F=R?_R(G):q}else D&&(R=!0,F=_R(G));z.setClipPath(F),PS(F,V,r,{isInit:R}),qw(F,V.keyframeAnimation,r)}var Q=cl(z);z.setTextConfig(b),Q.option=l,Yke(z,r,l),Nf({el:z,componentModel:r,itemName:z.name,itemTooltipOption:l.tooltip}),qw(z,l.keyframeAnimation,r)}})}},e.prototype._relocate=function(r,n){for(var a=r.option.elements,i=this.group,o=this._elMap,s=n.getWidth(),l=n.getHeight(),u=["x","y"],c=0;c<a.length;c++){var f=a[c],d=Ja(f.id,null),v=d!=null?o.get(d):null;if(!(!v||!v.isGroup)){var g=v.parent,y=g===i,b=cl(v),S=cl(g);b.width=Ue(b.option.width,y?s:S.width)||0,b.height=Ue(b.option.height,y?l:S.height)||0}}for(var c=a.length-1;c>=0;c--){var f=a[c],d=Ja(f.id,null),v=d!=null?o.get(d):null;if(v){var g=v.parent,S=cl(g),w=g===i?{width:s,height:l}:{width:S.width,height:S.height},M={},A=wC(v,f,w,null,{hv:f.hv,boundingMode:f.bounding},M);if(!cl(v).isNew&&A){for(var D=f.transition,R={},N=0;N<u.length;N++){var I=u[N],z=M[I];D&&(Fv(D)||Vt(D,I)>=0)?R[I]=z:v[I]=z}Sr(v,R,r,0)}else v.attr(M)}}},e.prototype._clear=function(){var r=this,n=this._elMap;n.each(function(a){OS(a,cl(a).option,n,r._lastGraphicModel)}),this._elMap=Qe()},e.prototype.dispose=function(){this._clear()},e.type="graphic",e})(Vn);function _R(t){var e=Xe(i6,t)?i6[t]:mw(t),r=new e({});return cl(r).type=t,r}function o6(t,e,r,n){var a=_R(r);return e.add(a),n.set(t,a),cl(a).id=t,cl(a).isNew=!0,a}function OS(t,e,r,n){var a=t&&t.parent;a&&(t.type==="group"&&t.traverse(function(i){OS(i,e,r,n)}),zC(t,e,n),r.removeKey(cl(t).id))}function s6(t,e,r,n){t.isGroup||Y([["cursor",Al.prototype.cursor],["zlevel",n||0],["z",r||0],["z2",0]],function(a){var i=a[0];Xe(e,i)?t[i]=et(e[i],a[1]):t[i]==null&&(t[i]=a[1])}),Y(sr(e),function(a){if(a.indexOf("on")===0){var i=e[a];t[a]=ot(i)?i:null}}),Xe(e,"draggable")&&(t.draggable=e.draggable),e.name!=null&&(t.name=e.name),e.id!=null&&(t.id=e.id)}function Wke(t){return t=Ae({},t),Y(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(nX),function(e){delete t[e]}),t}function Yke(t,e,r){var n=wt(t).eventData;!t.silent&&!t.ignore&&!n&&(n=wt(t).eventData={componentType:"graphic",componentIndex:e.componentIndex,name:t.name}),n&&(n.info=r.info)}function Zke(t){t.registerComponentModel(Gke),t.registerComponentView(Uke),t.registerPreprocessor(function(e){var r=e.graphic;Ee(r)?!r[0]||!r[0].elements?e.graphic=[{elements:r}]:e.graphic=[e.graphic[0]]:r&&!r.elements&&(e.graphic=[{elements:[r]}])})}var l6=["x","y","radius","angle","single"],qke=["cartesian2d","polar","singleAxis"];function $ke(t){var e=t.get("coordinateSystem");return Vt(qke,e)>=0}function zh(t){return t+"Axis"}function Xke(t,e){var r=Qe(),n=[],a=Qe();t.eachComponent({mainType:"dataZoom",query:e},function(c){a.get(c.uid)||s(c)});var i;do i=!1,t.eachComponent("dataZoom",o);while(i);function o(c){!a.get(c.uid)&&l(c)&&(s(c),i=!0)}function s(c){a.set(c.uid,!0),n.push(c),u(c)}function l(c){var f=!1;return c.eachTargetAxis(function(d,v){var g=r.get(d);g&&g[v]&&(f=!0)}),f}function u(c){c.eachTargetAxis(function(f,d){(r.get(f)||r.set(f,[]))[d]=!0})}return n}function jee(t){var e=t.ecModel,r={infoList:[],infoMap:Qe()};return t.eachTargetAxis(function(n,a){var i=e.getComponent(zh(n),a);if(i){var o=i.getCoordSysModel();if(o){var s=o.uid,l=r.infoMap.get(s);l||(l={model:o,axisModels:[]},r.infoList.push(l),r.infoMap.set(s,l)),l.axisModels.push(i)}}}),r}var SL=(function(){function t(){this.indexList=[],this.indexMap=[]}return t.prototype.add=function(e){this.indexMap[e]||(this.indexList.push(e),this.indexMap[e]=!0)},t})(),Zx=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r._autoThrottle=!0,r._noTarget=!0,r._rangePropMode=["percent","percent"],r}return e.prototype.init=function(r,n,a){var i=u6(r);this.settledOption=i,this.mergeDefaultAndTheme(r,a),this._doInit(i)},e.prototype.mergeOption=function(r){var n=u6(r);Gt(this.option,r,!0),Gt(this.settledOption,n,!0),this._doInit(n)},e.prototype._doInit=function(r){var n=this.option;this._setDefaultThrottle(r),this._updateRangeUse(r);var a=this.settledOption;Y([["start","startValue"],["end","endValue"]],function(i,o){this._rangePropMode[o]==="value"&&(n[i[0]]=a[i[0]]=null)},this),this._resetTarget()},e.prototype._resetTarget=function(){var r=this.get("orient",!0),n=this._targetAxisInfoMap=Qe(),a=this._fillSpecifiedTargetAxis(n);a?this._orient=r||this._makeAutoOrientByTargetAxis():(this._orient=r||"horizontal",this._fillAutoTargetAxisByOrient(n,this._orient)),this._noTarget=!0,n.each(function(i){i.indexList.length&&(this._noTarget=!1)},this)},e.prototype._fillSpecifiedTargetAxis=function(r){var n=!1;return Y(l6,function(a){var i=this.getReferringComponents(zh(a),Dxe);if(i.specified){n=!0;var o=new SL;Y(i.models,function(s){o.add(s.componentIndex)}),r.set(a,o)}},this),n},e.prototype._fillAutoTargetAxisByOrient=function(r,n){var a=this.ecModel,i=!0;if(i){var o=n==="vertical"?"y":"x",s=a.findComponents({mainType:o+"Axis"});l(s,o)}if(i){var s=a.findComponents({mainType:"singleAxis",filter:function(c){return c.get("orient",!0)===n}});l(s,"single")}function l(u,c){var f=u[0];if(f){var d=new SL;if(d.add(f.componentIndex),r.set(c,d),i=!1,c==="x"||c==="y"){var v=f.getReferringComponents("grid",na).models[0];v&&Y(u,function(g){f.componentIndex!==g.componentIndex&&v===g.getReferringComponents("grid",na).models[0]&&d.add(g.componentIndex)})}}}i&&Y(l6,function(u){if(i){var c=a.findComponents({mainType:zh(u),filter:function(d){return d.get("type",!0)==="category"}});if(c[0]){var f=new SL;f.add(c[0].componentIndex),r.set(u,f),i=!1}}},this)},e.prototype._makeAutoOrientByTargetAxis=function(){var r;return this.eachTargetAxis(function(n){!r&&(r=n)},this),r==="y"?"vertical":"horizontal"},e.prototype._setDefaultThrottle=function(r){if(r.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var n=this.ecModel.option;this.option.throttle=n.animation&&n.animationDurationUpdate>0?100:20}},e.prototype._updateRangeUse=function(r){var n=this._rangePropMode,a=this.get("rangeMode");Y([["start","startValue"],["end","endValue"]],function(i,o){var s=r[i[0]]!=null,l=r[i[1]]!=null;s&&!l?n[o]="percent":!s&&l?n[o]="value":a?n[o]=a[o]:s&&(n[o]="percent")})},e.prototype.noTarget=function(){return this._noTarget},e.prototype.getFirstTargetAxisModel=function(){var r;return this.eachTargetAxis(function(n,a){r==null&&(r=this.ecModel.getComponent(zh(n),a))},this),r},e.prototype.eachTargetAxis=function(r,n){this._targetAxisInfoMap.each(function(a,i){Y(a.indexList,function(o){r.call(n,i,o)})})},e.prototype.getAxisProxy=function(r,n){var a=this.getAxisModel(r,n);if(a)return a.__dzAxisProxy},e.prototype.getAxisModel=function(r,n){var a=this._targetAxisInfoMap.get(r);if(a&&a.indexMap[n])return this.ecModel.getComponent(zh(r),n)},e.prototype.setRawRange=function(r){var n=this.option,a=this.settledOption;Y([["start","startValue"],["end","endValue"]],function(i){(r[i[0]]!=null||r[i[1]]!=null)&&(n[i[0]]=a[i[0]]=r[i[0]],n[i[1]]=a[i[1]]=r[i[1]])},this),this._updateRangeUse(r)},e.prototype.setCalculatedRange=function(r){var n=this.option;Y(["start","startValue","end","endValue"],function(a){n[a]=r[a]})},e.prototype.getPercentRange=function(){var r=this.findRepresentativeAxisProxy();if(r)return r.getDataPercentWindow()},e.prototype.getValueRange=function(r,n){if(r==null&&n==null){var a=this.findRepresentativeAxisProxy();if(a)return a.getDataValueWindow()}else return this.getAxisProxy(r,n).getDataValueWindow()},e.prototype.findRepresentativeAxisProxy=function(r){if(r)return r.__dzAxisProxy;for(var n,a=this._targetAxisInfoMap.keys(),i=0;i<a.length;i++)for(var o=a[i],s=this._targetAxisInfoMap.get(o),l=0;l<s.indexList.length;l++){var u=this.getAxisProxy(o,s.indexList[l]);if(u.hostedBy(this))return u;n||(n=u)}return n},e.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},e.prototype.getOrient=function(){return this._orient},e.type="dataZoom",e.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],e.defaultOption={z:4,filterMode:"filter",start:0,end:100},e})(er);function u6(t){var e={};return Y(["start","end","startValue","endValue","throttle"],function(r){t.hasOwnProperty(r)&&(e[r]=t[r])}),e}var Kke=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.type="dataZoom.select",e})(Zx),cO=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.render=function(r,n,a,i){this.dataZoomModel=r,this.ecModel=n,this.api=a},e.type="dataZoom",e})(Vn),Qke=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.type="dataZoom.select",e})(cO),kg=Y,c6=yl,Jke=(function(){function t(e,r,n,a){this._dimName=e,this._axisIndex=r,this.ecModel=a,this._dataZoomModel=n}return t.prototype.hostedBy=function(e){return this._dataZoomModel===e},t.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},t.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},t.prototype.getTargetSeriesModels=function(){var e=[];return this.ecModel.eachSeries(function(r){if($ke(r)){var n=zh(this._dimName),a=r.getReferringComponents(n,na).models[0];a&&this._axisIndex===a.componentIndex&&e.push(r)}},this),e},t.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},t.prototype.getMinMaxSpan=function(){return ut(this._minMaxSpan)},t.prototype.calculateDataWindow=function(e){var r=this._dataExtent,n=this.getAxisModel(),a=n.axis.scale,i=this._dataZoomModel.getRangePropMode(),o=[0,100],s=[],l=[],u;kg(["start","end"],function(d,v){var g=e[d],y=e[d+"Value"];i[v]==="percent"?(g==null&&(g=o[v]),y=a.parse(kr(g,o,r))):(u=!0,y=y==null?r[v]:a.parse(y),g=kr(y,r,o)),l[v]=y==null||isNaN(y)?r[v]:y,s[v]=g==null||isNaN(g)?o[v]:g}),c6(l),c6(s);var c=this._minMaxSpan;u?f(l,s,r,o,!1):f(s,l,o,r,!0);function f(d,v,g,y,b){var S=b?"Span":"ValueSpan";rd(0,d,g,"all",c["min"+S],c["max"+S]);for(var w=0;w<2;w++)v[w]=kr(d[w],g,y,!0),b&&(v[w]=a.parse(v[w]))}return{valueWindow:l,percentWindow:s}},t.prototype.reset=function(e){if(e===this._dataZoomModel){var r=this.getTargetSeriesModels();this._dataExtent=eIe(this,this._dimName,r),this._updateMinMaxSpan();var n=this.calculateDataWindow(e.settledOption);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,this._setAxisModel()}},t.prototype.filterData=function(e,r){if(e!==this._dataZoomModel)return;var n=this._dimName,a=this.getTargetSeriesModels(),i=e.get("filterMode"),o=this._valueWindow;if(i==="none")return;kg(a,function(l){var u=l.getData(),c=u.mapDimensionsAll(n);if(c.length){if(i==="weakFilter"){var f=u.getStore(),d=Re(c,function(v){return u.getDimensionIndex(v)},u);u.filterSelf(function(v){for(var g,y,b,S=0;S<c.length;S++){var w=f.get(d[S],v),M=!isNaN(w),A=w<o[0],D=w>o[1];if(M&&!A&&!D)return!0;M&&(b=!0),A&&(g=!0),D&&(y=!0)}return b&&g&&y})}else kg(c,function(v){if(i==="empty")l.setData(u=u.map(v,function(y){return s(y)?y:NaN}));else{var g={};g[v]=o,u.selectRange(g)}});kg(c,function(v){u.setApproximateExtent(o,v)})}});function s(l){return l>=o[0]&&l<=o[1]}},t.prototype._updateMinMaxSpan=function(){var e=this._minMaxSpan={},r=this._dataZoomModel,n=this._dataExtent;kg(["min","max"],function(a){var i=r.get(a+"Span"),o=r.get(a+"ValueSpan");o!=null&&(o=this.getAxisModel().axis.scale.parse(o)),o!=null?i=kr(n[0]+o,n,[0,100],!0):i!=null&&(o=kr(i,[0,100],n,!0)-n[0]),e[a+"Span"]=i,e[a+"ValueSpan"]=o},this)},t.prototype._setAxisModel=function(){var e=this.getAxisModel(),r=this._percentWindow,n=this._valueWindow;if(r){var a=Vq(n,[0,500]);a=Math.min(a,20);var i=e.axis.scale.rawExtentInfo;r[0]!==0&&i.setDeterminedMinMax("min",+n[0].toFixed(a)),r[1]!==100&&i.setDeterminedMinMax("max",+n[1].toFixed(a)),i.freeze()}},t})();function eIe(t,e,r){var n=[1/0,-1/0];kg(r,function(o){RTe(n,o.getData(),e)});var a=t.getAxisModel(),i=OK(a.axis.scale,a,n).calculate();return[i.min,i.max]}var tIe={getTargetSeries:function(t){function e(a){t.eachComponent("dataZoom",function(i){i.eachTargetAxis(function(o,s){var l=t.getComponent(zh(o),s);a(o,s,l,i)})})}e(function(a,i,o,s){o.__dzAxisProxy=null});var r=[];e(function(a,i,o,s){o.__dzAxisProxy||(o.__dzAxisProxy=new Jke(a,i,s,t),r.push(o.__dzAxisProxy))});var n=Qe();return Y(r,function(a){Y(a.getTargetSeriesModels(),function(i){n.set(i.uid,i)})}),n},overallReset:function(t,e){t.eachComponent("dataZoom",function(r){r.eachTargetAxis(function(n,a){r.getAxisProxy(n,a).reset(r)}),r.eachTargetAxis(function(n,a){r.getAxisProxy(n,a).filterData(r,e)})}),t.eachComponent("dataZoom",function(r){var n=r.findRepresentativeAxisProxy();if(n){var a=n.getDataPercentWindow(),i=n.getDataValueWindow();r.setCalculatedRange({start:a[0],end:a[1],startValue:i[0],endValue:i[1]})}})}};function rIe(t){t.registerAction("dataZoom",function(e,r){var n=Xke(r,e);Y(n,function(a){a.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})})})}var f6=!1;function fO(t){f6||(f6=!0,t.registerProcessor(t.PRIORITY.PROCESSOR.FILTER,tIe),rIe(t),t.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function nIe(t){t.registerComponentModel(Kke),t.registerComponentView(Qke),fO(t)}var vl=(function(){function t(){}return t})(),zee={};function Ig(t,e){zee[t]=e}function Bee(t){return zee[t]}var aIe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.optionUpdated=function(){t.prototype.optionUpdated.apply(this,arguments);var r=this.ecModel;Y(this.option.feature,function(n,a){var i=Bee(a);i&&(i.getDefaultOption&&(i.defaultOption=i.getDefaultOption(r)),Gt(n,i.defaultOption))})},e.type="toolbox",e.layoutMode={type:"box",ignoreSize:!0},e.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:ve.color.border,borderRadius:0,borderWidth:0,padding:ve.size.m,itemSize:15,itemGap:ve.size.s,showTitle:!0,iconStyle:{borderColor:ve.color.accent50,color:"none"},emphasis:{iconStyle:{borderColor:ve.color.accent50}},tooltip:{show:!1,position:"bottom"}},e})(er);function Vee(t,e){var r=y_(e.get("padding")),n=e.getItemStyle(["color","opacity"]);n.fill=e.get("backgroundColor");var a=new $t({shape:{x:t.x-r[3],y:t.y-r[0],width:t.width+r[1]+r[3],height:t.height+r[0]+r[2],r:e.get("borderRadius")},style:n,silent:!0,z2:-1});return a}var iIe=(function(t){ye(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(r,n,a,i){var o=this.group;if(o.removeAll(),!r.get("show"))return;var s=+r.get("itemSize"),l=r.get("orient")==="vertical",u=r.get("feature")||{},c=this._features||(this._features={}),f=[];Y(u,function(w,M){f.push(M)}),new Sf(this._featureNames||[],f).add(d).update(d).remove(zt(d,null)).execute(),this._featureNames=f;function d(w,M){var A=f[w],D=f[M],R=u[A],N=new ar(R,r,r.ecModel),I;if(i&&i.newTitle!=null&&i.featureName===A&&(R.title=i.newTitle),A&&!D){if(oIe(A))I={onclick:N.option.onclick,featureName:A};else{var z=Bee(A);if(!z)return;I=new z}c[A]=I}else if(I=c[D],!I)return;I.uid=Wm("toolbox-feature"),I.model=N,I.ecModel=n,I.api=a;var B=I instanceof vl;if(!A&&D){B&&I.dispose&&I.dispose(n,a);return}if(!N.get("show")||B&&I.unusable){B&&I.remove&&I.remove(n,a);return}v(N,I,A),N.setIconStatus=function(V,G){var F=this.option,q=this.iconPaths;F.iconStatus=F.iconStatus||{},F.iconStatus[V]=G,q[V]&&(G==="emphasis"?_f:bf)(q[V])},I instanceof vl&&I.render&&I.render(N,n,a,i)}function v(w,M,A){var D=w.getModel("iconStyle"),R=w.getModel(["emphasis","iconStyle"]),N=M instanceof vl&&M.getIcons?M.getIcons():w.get("icon"),I=w.get("title")||{},z,B;We(N)?(z={},z[A]=N):z=N,We(I)?(B={},B[A]=I):B=I;var V=w.iconPaths={};Y(z,function(G,F){var q=m_(G,{},{x:-s/2,y:-s/2,width:s,height:s});q.setStyle(D.getItemStyle());var Q=q.ensureState("emphasis");Q.style=R.getItemStyle();var H=new xr({style:{text:B[F],align:R.get("textAlign"),borderRadius:R.get("textBorderRadius"),padding:R.get("textPadding"),fill:null,font:Nk({fontStyle:R.get("textFontStyle"),fontFamily:R.get("textFontFamily"),fontSize:R.get("textFontSize"),fontWeight:R.get("textFontWeight")},n)},ignore:!0});q.setTextContent(H),Nf({el:q,componentModel:r,itemName:F,formatterParamsExtra:{title:B[F]}}),q.__title=B[F],q.on("mouseover",function(){var X=R.getItemStyle(),W=l?r.get("right")==null&&r.get("left")!=="right"?"right":"left":r.get("bottom")==null&&r.get("top")!=="bottom"?"bottom":"top";H.setStyle({fill:R.get("textFill")||X.fill||X.stroke||ve.color.neutral99,backgroundColor:R.get("textBackgroundColor")}),q.setTextConfig({position:R.get("textPosition")||W}),H.ignore=!r.get("showTitle"),a.enterEmphasis(this)}).on("mouseout",function(){w.get(["iconStatus",F])!=="emphasis"&&a.leaveEmphasis(this),H.hide()}),(w.get(["iconStatus",F])==="emphasis"?_f:bf)(q),o.add(q),q.on("click",Ye(M.onclick,M,n,a,F)),V[F]=q})}var g=ni(r,a).refContainer,y=r.getBoxLayoutParams(),b=r.get("padding"),S=Yn(y,g,b);Bv(r.get("orient"),o,r.get("itemGap"),S.width,S.height),wC(o,y,g,b),o.add(Vee(o.getBoundingRect(),r)),l||o.eachChild(function(w){var M=w.__title,A=w.ensureState("emphasis"),D=A.textConfig||(A.textConfig={}),R=w.getTextContent(),N=R&&R.ensureState("emphasis");if(N&&!ot(N)&&M){var I=N.style||(N.style={}),z=oC(M,xr.makeFont(I)),B=w.x+o.x,V=w.y+o.y+s,G=!1;V+z.height>a.getHeight()&&(D.position="top",G=!0);var F=G?-5-z.height:s+10;B+z.width/2>a.getWidth()?(D.position=["100%",F],I.align="right"):B-z.width/2<0&&(D.position=[0,F],I.align="left")}})},e.prototype.updateView=function(r,n,a,i){Y(this._features,function(o){o instanceof vl&&o.updateView&&o.updateView(o.model,n,a,i)})},e.prototype.remove=function(r,n){Y(this._features,function(a){a instanceof vl&&a.remove&&a.remove(r,n)}),this.group.removeAll()},e.prototype.dispose=function(r,n){Y(this._features,function(a){a instanceof vl&&a.dispose&&a.dispose(r,n)})},e.type="toolbox",e})(Vn);function oIe(t){return t.indexOf("my")===0}var sIe=(function(t){ye(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.onclick=function(r,n){var a=this.model,i=a.get("name")||r.get("title.0.text")||"echarts",o=n.getZr().painter.getType()==="svg",s=o?"svg":a.get("type",!0)||"png",l=n.getConnectedDataURL({type:s,backgroundColor:a.get("backgroundColor",!0)||r.get("backgroundColor")||ve.color.neutral00,connectedBackgroundColor:a.get("connectedBackgroundColor"),excludeComponents:a.get("excludeComponents"),pixelRatio:a.get("pixelRatio")}),u=nr.browser;if(typeof MouseEvent=="function"&&(u.newEdge||!u.ie&&!u.edge)){var c=document.createElement("a");c.download=i+"."+s,c.target="_blank",c.href=l;var f=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});c.dispatchEvent(f)}else if(window.navigator.msSaveOrOpenBlob||o){var d=l.split(","),v=d[0].indexOf("base64")>-1,g=o?decodeURIComponent(d[1]):d[1];v&&(g=window.atob(g));var y=i+"."+s;if(window.navigator.msSaveOrOpenBlob){for(var b=g.length,S=new Uint8Array(b);b--;)S[b]=g.charCodeAt(b);var w=new Blob([S]);window.navigator.msSaveOrOpenBlob(w,y)}else{var M=document.createElement("iframe");document.body.appendChild(M);var A=M.contentWindow,D=A.document;D.open("image/svg+xml","replace"),D.write(g),D.close(),A.focus(),D.execCommand("SaveAs",!0,y),document.body.removeChild(M)}}else{var R=a.get("lang"),N='<body style="margin:0;"><img src="'+l+'" style="max-width:100%;" title="'+(R&&R[0]||"")+'" /></body>',I=window.open();I.document.write(N),I.document.title=i}},e.getDefaultOption=function(r){var n={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:r.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:ve.color.neutral00,name:"",excludeComponents:["toolbox"],lang:r.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return n},e})(vl),h6="__ec_magicType_stack__",lIe=[["line","bar"],["stack"]],uIe=(function(t){ye(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getIcons=function(){var r=this.model,n=r.get("icon"),a={};return Y(r.get("type"),function(i){n[i]&&(a[i]=n[i])}),a},e.getDefaultOption=function(r){var n={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:r.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return n},e.prototype.onclick=function(r,n,a){var i=this.model,o=i.get(["seriesIndex",a]);if(d6[a]){var s={series:[]},l=function(f){var d=f.subType,v=f.id,g=d6[a](d,v,f,i);g&&(gt(g,f.option),s.series.push(g));var y=f.coordinateSystem;if(y&&y.type==="cartesian2d"&&(a==="line"||a==="bar")){var b=y.getAxesByScale("ordinal")[0];if(b){var S=b.dim,w=S+"Axis",M=f.getReferringComponents(w,na).models[0],A=M.componentIndex;s[w]=s[w]||[];for(var D=0;D<=A;D++)s[w][A]=s[w][A]||{};s[w][A].boundaryGap=a==="bar"}}};Y(lIe,function(f){Vt(f,a)>=0&&Y(f,function(d){i.setIconStatus(d,"normal")})}),i.setIconStatus(a,"emphasis"),r.eachComponent({mainType:"series",query:o==null?null:{seriesIndex:o}},l);var u,c=a;a==="stack"&&(u=Gt({stack:i.option.title.tiled,tiled:i.option.title.stack},i.option.title),i.get(["iconStatus",a])!=="emphasis"&&(c="tiled")),n.dispatchAction({type:"changeMagicType",currentType:c,newOption:s,newTitle:u,featureName:"magicType"})}},e})(vl),d6={line:function(t,e,r,n){if(t==="bar")return Gt({id:e,type:"line",data:r.get("data"),stack:r.get("stack"),markPoint:r.get("markPoint"),markLine:r.get("markLine")},n.get(["option","line"])||{},!0)},bar:function(t,e,r,n){if(t==="line")return Gt({id:e,type:"bar",data:r.get("data"),stack:r.get("stack"),markPoint:r.get("markPoint"),markLine:r.get("markLine")},n.get(["option","bar"])||{},!0)},stack:function(t,e,r,n){var a=r.get("stack")===h6;if(t==="line"||t==="bar")return n.setIconStatus("stack",a?"normal":"emphasis"),Gt({id:e,stack:a?"":h6},n.get(["option","stack"])||{},!0)}};Tc({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(t,e){e.mergeOption(t.newOption)});var BC=new Array(60).join("-"),Tm="	";function cIe(t){var e={},r=[],n=[];return t.eachRawSeries(function(a){var i=a.coordinateSystem;if(i&&(i.type==="cartesian2d"||i.type==="polar")){var o=i.getBaseAxis();if(o.type==="category"){var s=o.dim+"_"+o.index;e[s]||(e[s]={categoryAxis:o,valueAxis:i.getOtherAxis(o),series:[]},n.push({axisDim:o.dim,axisIndex:o.index})),e[s].series.push(a)}else r.push(a)}else r.push(a)}),{seriesGroupByCategoryAxis:e,other:r,meta:n}}function fIe(t){var e=[];return Y(t,function(r,n){var a=r.categoryAxis,i=r.valueAxis,o=i.dim,s=[" "].concat(Re(r.series,function(v){return v.name})),l=[a.model.getCategories()];Y(r.series,function(v){var g=v.getRawData();l.push(v.getRawData().mapArray(g.mapDimension(o),function(y){return y}))});for(var u=[s.join(Tm)],c=0;c<l[0].length;c++){for(var f=[],d=0;d<l.length;d++)f.push(l[d][c]);u.push(f.join(Tm))}e.push(u.join(`
`))}),e.join(`

`+BC+`

`)}function hIe(t){return Re(t,function(e){var r=e.getRawData(),n=[e.name],a=[];return r.each(r.dimensions,function(){for(var i=arguments.length,o=arguments[i-1],s=r.getName(o),l=0;l<i-1;l++)a[l]=arguments[l];n.push((s?s+Tm:"")+a.join(Tm))}),n.join(`
`)}).join(`

`+BC+`

`)}function dIe(t){var e=cIe(t);return{value:Ir([fIe(e.seriesGroupByCategoryAxis),hIe(e.other)],function(r){return!!r.replace(/[\n\t\s]/g,"")}).join(`

`+BC+`

`),meta:e.meta}}function Jw(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function vIe(t){var e=t.slice(0,t.indexOf(`
`));if(e.indexOf(Tm)>=0)return!0}var bR=new RegExp("["+Tm+"]+","g");function pIe(t){for(var e=t.split(/\n+/g),r=Jw(e.shift()).split(bR),n=[],a=Re(r,function(l){return{name:l,data:[]}}),i=0;i<e.length;i++){var o=Jw(e[i]).split(bR);n.push(o.shift());for(var s=0;s<o.length;s++)a[s]&&(a[s].data[i]=o[s])}return{series:a,categories:n}}function gIe(t){for(var e=t.split(/\n+/g),r=Jw(e.shift()),n=[],a=0;a<e.length;a++){var i=Jw(e[a]);if(i){var o=i.split(bR),s="",l=void 0,u=!1;isNaN(o[0])?(u=!0,s=o[0],o=o.slice(1),n[a]={name:s,value:[]},l=n[a].value):l=n[a]=[];for(var c=0;c<o.length;c++)l.push(+o[c]);l.length===1&&(u?n[a].value=l[0]:n[a]=l[0])}}return{name:r,data:n}}function mIe(t,e){var r=t.split(new RegExp(`
*`+BC+`
*`,"g")),n={series:[]};return Y(r,function(a,i){if(vIe(a)){var o=pIe(a),s=e[i],l=s.axisDim+"Axis";s&&(n[l]=n[l]||[],n[l][s.axisIndex]={data:o.categories},n.series=n.series.concat(o.series))}else{var o=gIe(a);n.series.push(o)}}),n}var yIe=(function(t){ye(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.onclick=function(r,n){setTimeout(function(){n.dispatchAction({type:"hideTip"})});var a=n.getDom(),i=this.model;this._dom&&a.removeChild(this._dom);var o=document.createElement("div");o.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",o.style.backgroundColor=i.get("backgroundColor")||ve.color.neutral00;var s=document.createElement("h4"),l=i.get("lang")||[];s.innerHTML=l[0]||i.get("title"),s.style.cssText="margin:10px 20px",s.style.color=i.get("textColor");var u=document.createElement("div"),c=document.createElement("textarea");u.style.cssText="overflow:auto";var f=i.get("optionToContent"),d=i.get("contentToOption"),v=dIe(r);if(ot(f)){var g=f(n.getOption());We(g)?u.innerHTML=g:um(g)&&u.appendChild(g)}else{c.readOnly=i.get("readOnly");var y=c.style;y.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",y.color=i.get("textColor"),y.borderColor=i.get("textareaBorderColor"),y.backgroundColor=i.get("textareaColor"),c.value=v.value,u.appendChild(c)}var b=v.meta,S=document.createElement("div");S.style.cssText="position:absolute;bottom:5px;left:0;right:0";var w="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",M=document.createElement("div"),A=document.createElement("div");w+=";background-color:"+i.get("buttonColor"),w+=";color:"+i.get("buttonTextColor");var D=this;function R(){a.removeChild(o),D._dom=null}RE(M,"click",R),RE(A,"click",function(){if(d==null&&f!=null||d!=null&&f==null){R();return}var N;try{ot(d)?N=d(u,n.getOption()):N=mIe(c.value,b)}catch(I){throw R(),new Error("Data view format error "+I)}N&&n.dispatchAction({type:"changeDataView",newOption:N}),R()}),M.innerHTML=l[1],A.innerHTML=l[2],A.style.cssText=M.style.cssText=w,!i.get("readOnly")&&S.appendChild(A),S.appendChild(M),o.appendChild(s),o.appendChild(u),o.appendChild(S),u.style.height=a.clientHeight-80+"px",a.appendChild(o),this._dom=o},e.prototype.remove=function(r,n){this._dom&&n.getDom().removeChild(this._dom)},e.prototype.dispose=function(r,n){this.remove(r,n)},e.getDefaultOption=function(r){var n={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:r.getLocaleModel().get(["toolbox","dataView","title"]),lang:r.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:ve.color.background,textColor:ve.color.primary,textareaColor:ve.color.background,textareaBorderColor:ve.color.border,buttonColor:ve.color.accent50,buttonTextColor:ve.color.neutral00};return n},e})(vl);function xIe(t,e){return Re(t,function(r,n){var a=e&&e[n];if(mt(a)&&!Ee(a)){var i=mt(r)&&!Ee(r);i||(r={value:r});var o=a.name!=null&&r.name==null;return r=gt(r,a),o&&delete r.name,r}else return r})}Tc({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(t,e){var r=[];Y(t.newOption.series,function(n){var a=e.getSeriesByName(n.name)[0];if(!a)r.push(Ae({type:"scatter"},n));else{var i=a.get("data");r.push({name:n.name,data:xIe(n.data,i)})}}),e.mergeOption(gt({series:r},t.newOption))});var Fee=Y,Hee=Xt();function _Ie(t,e){var r=hO(t);Fee(e,function(n,a){for(var i=r.length-1;i>=0;i--){var o=r[i];if(o[a])break}if(i<0){var s=t.queryComponents({mainType:"dataZoom",subType:"select",id:a})[0];if(s){var l=s.getPercentRange();r[0][a]={dataZoomId:a,start:l[0],end:l[1]}}}}),r.push(e)}function bIe(t){var e=hO(t),r=e[e.length-1];e.length>1&&e.pop();var n={};return Fee(r,function(a,i){for(var o=e.length-1;o>=0;o--)if(a=e[o][i],a){n[i]=a;break}}),n}function SIe(t){Hee(t).snapshots=null}function wIe(t){return hO(t).length}function hO(t){var e=Hee(t);return e.snapshots||(e.snapshots=[{}]),e.snapshots}var TIe=(function(t){ye(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.onclick=function(r,n){SIe(r),n.dispatchAction({type:"restore",from:this.uid})},e.getDefaultOption=function(r){var n={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:r.getLocaleModel().get(["toolbox","restore","title"])};return n},e})(vl);Tc({type:"restore",event:"restore",update:"prepareAndUpdate"},function(t,e){e.resetOption("recreate")});var CIe=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],dO=(function(){function t(e,r,n){var a=this;this._targetInfoList=[];var i=v6(r,e);Y(MIe,function(o,s){(!n||!n.include||Vt(n.include,s)>=0)&&o(i,a._targetInfoList)})}return t.prototype.setOutputRanges=function(e,r){return this.matchOutputRanges(e,r,function(n,a,i){if((n.coordRanges||(n.coordRanges=[])).push(a),!n.coordRange){n.coordRange=a;var o=wL[n.brushType](0,i,a);n.__rangeOffset={offset:y6[n.brushType](o.values,n.range,[1,1]),xyMinMax:o.xyMinMax}}}),e},t.prototype.matchOutputRanges=function(e,r,n){Y(e,function(a){var i=this.findTargetInfo(a,r);i&&i!==!0&&Y(i.coordSyses,function(o){var s=wL[a.brushType](1,o,a.range,!0);n(a,s.values,o,r)})},this)},t.prototype.setInputRanges=function(e,r){Y(e,function(n){var a=this.findTargetInfo(n,r);if(n.range=n.range||[],a&&a!==!0){n.panelId=a.panelId;var i=wL[n.brushType](0,a.coordSys,n.coordRange),o=n.__rangeOffset;n.range=o?y6[n.brushType](i.values,o.offset,AIe(i.xyMinMax,o.xyMinMax)):i.values}},this)},t.prototype.makePanelOpts=function(e,r){return Re(this._targetInfoList,function(n){var a=n.getPanelRect();return{panelId:n.panelId,defaultBrushType:r?r(n):null,clipPath:ZJ(a),isTargetByCursor:$J(a,e,n.coordSysModel),getLinearBrushOtherExtent:qJ(a)}})},t.prototype.controlSeries=function(e,r,n){var a=this.findTargetInfo(e,n);return a===!0||a&&Vt(a.coordSyses,r.coordinateSystem)>=0},t.prototype.findTargetInfo=function(e,r){for(var n=this._targetInfoList,a=v6(r,e),i=0;i<n.length;i++){var o=n[i],s=e.panelId;if(s){if(o.panelId===s)return o}else for(var l=0;l<p6.length;l++)if(p6[l](a,o))return o}return!0},t})();function SR(t){return t[0]>t[1]&&t.reverse(),t}function v6(t,e){return Kg(t,e,{includeMainTypes:CIe})}var MIe={grid:function(t,e){var r=t.xAxisModels,n=t.yAxisModels,a=t.gridModels,i=Qe(),o={},s={};!r&&!n&&!a||(Y(r,function(l){var u=l.axis.grid.model;i.set(u.id,u),o[u.id]=!0}),Y(n,function(l){var u=l.axis.grid.model;i.set(u.id,u),s[u.id]=!0}),Y(a,function(l){i.set(l.id,l),o[l.id]=!0,s[l.id]=!0}),i.each(function(l){var u=l.coordinateSystem,c=[];Y(u.getCartesians(),function(f,d){(Vt(r,f.getAxis("x").model)>=0||Vt(n,f.getAxis("y").model)>=0)&&c.push(f)}),e.push({panelId:"grid--"+l.id,gridModel:l,coordSysModel:l,coordSys:c[0],coordSyses:c,getPanelRect:g6.grid,xAxisDeclared:o[l.id],yAxisDeclared:s[l.id]})}))},geo:function(t,e){Y(t.geoModels,function(r){var n=r.coordinateSystem;e.push({panelId:"geo--"+r.id,geoModel:r,coordSysModel:r,coordSys:n,coordSyses:[n],getPanelRect:g6.geo})})}},p6=[function(t,e){var r=t.xAxisModel,n=t.yAxisModel,a=t.gridModel;return!a&&r&&(a=r.axis.grid.model),!a&&n&&(a=n.axis.grid.model),a&&a===e.gridModel},function(t,e){var r=t.geoModel;return r&&r===e.geoModel}],g6={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var t=this.coordSys,e=t.getBoundingRect().clone();return e.applyTransform(zv(t)),e}},wL={lineX:zt(m6,0),lineY:zt(m6,1),rect:function(t,e,r,n){var a=t?e.pointToData([r[0][0],r[1][0]],n):e.dataToPoint([r[0][0],r[1][0]],n),i=t?e.pointToData([r[0][1],r[1][1]],n):e.dataToPoint([r[0][1],r[1][1]],n),o=[SR([a[0],i[0]]),SR([a[1],i[1]])];return{values:o,xyMinMax:o}},polygon:function(t,e,r,n){var a=[[1/0,-1/0],[1/0,-1/0]],i=Re(r,function(o){var s=t?e.pointToData(o,n):e.dataToPoint(o,n);return a[0][0]=Math.min(a[0][0],s[0]),a[1][0]=Math.min(a[1][0],s[1]),a[0][1]=Math.max(a[0][1],s[0]),a[1][1]=Math.max(a[1][1],s[1]),s});return{values:i,xyMinMax:a}}};function m6(t,e,r,n){var a=r.getAxis(["x","y"][t]),i=SR(Re([0,1],function(s){return e?a.coordToData(a.toLocalCoord(n[s]),!0):a.toGlobalCoord(a.dataToCoord(n[s]))})),o=[];return o[t]=i,o[1-t]=[NaN,NaN],{values:i,xyMinMax:o}}var y6={lineX:zt(x6,0),lineY:zt(x6,1),rect:function(t,e,r){return[[t[0][0]-r[0]*e[0][0],t[0][1]-r[0]*e[0][1]],[t[1][0]-r[1]*e[1][0],t[1][1]-r[1]*e[1][1]]]},polygon:function(t,e,r){return Re(t,function(n,a){return[n[0]-r[0]*e[a][0],n[1]-r[1]*e[a][1]]})}};function x6(t,e,r,n){return[e[0]-n[t]*r[0],e[1]-n[t]*r[1]]}function AIe(t,e){var r=_6(t),n=_6(e),a=[r[0]/n[0],r[1]/n[1]];return isNaN(a[0])&&(a[0]=1),isNaN(a[1])&&(a[1]=1),a}function _6(t){return t?[t[0][1]-t[0][0],t[1][1]-t[1][0]]:[NaN,NaN]}var wR=Y,DIe=wxe("toolbox-dataZoom_"),LIe=(function(t){ye(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(r,n,a,i){this._brushController||(this._brushController=new zI(a.getZr()),this._brushController.on("brush",Ye(this._onBrush,this)).mount()),RIe(r,n,this,i,a),NIe(r,n)},e.prototype.onclick=function(r,n,a){EIe[a].call(this)},e.prototype.remove=function(r,n){this._brushController&&this._brushController.unmount()},e.prototype.dispose=function(r,n){this._brushController&&this._brushController.dispose()},e.prototype._onBrush=function(r){var n=r.areas;if(!r.isEnd||!n.length)return;var a={},i=this.ecModel;this._brushController.updateCovers([]);var o=new dO(vO(this.model),i,{include:["grid"]});o.matchOutputRanges(n,i,function(u,c,f){if(f.type==="cartesian2d"){var d=u.brushType;d==="rect"?(s("x",f,c[0]),s("y",f,c[1])):s({lineX:"x",lineY:"y"}[d],f,c)}}),_Ie(i,a),this._dispatchZoomAction(a);function s(u,c,f){var d=c.getAxis(u),v=d.model,g=l(u,v,i),y=g.findRepresentativeAxisProxy(v).getMinMaxSpan();(y.minValueSpan!=null||y.maxValueSpan!=null)&&(f=rd(0,f.slice(),d.scale.getExtent(),0,y.minValueSpan,y.maxValueSpan)),g&&(a[g.id]={dataZoomId:g.id,startValue:f[0],endValue:f[1]})}function l(u,c,f){var d;return f.eachComponent({mainType:"dataZoom",subType:"select"},function(v){var g=v.getAxisModel(u,c.componentIndex);g&&(d=v)}),d}},e.prototype._dispatchZoomAction=function(r){var n=[];wR(r,function(a,i){n.push(ut(a))}),n.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:n})},e.getDefaultOption=function(r){var n={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:r.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:ve.color.backgroundTint}};return n},e})(vl),EIe={zoom:function(){var t=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:t})},back:function(){this._dispatchZoomAction(bIe(this.ecModel))}};function vO(t){var e={xAxisIndex:t.get("xAxisIndex",!0),yAxisIndex:t.get("yAxisIndex",!0),xAxisId:t.get("xAxisId",!0),yAxisId:t.get("yAxisId",!0)};return e.xAxisIndex==null&&e.xAxisId==null&&(e.xAxisIndex="all"),e.yAxisIndex==null&&e.yAxisId==null&&(e.yAxisIndex="all"),e}function NIe(t,e){t.setIconStatus("back",wIe(e)>1?"emphasis":"normal")}function RIe(t,e,r,n,a){var i=r._isZoomActive;n&&n.type==="takeGlobalCursor"&&(i=n.key==="dataZoomSelect"?n.dataZoomSelectActive:!1),r._isZoomActive=i,t.setIconStatus("zoom",i?"emphasis":"normal");var o=new dO(vO(t),e,{include:["grid"]}),s=o.makePanelOpts(a,function(l){return l.xAxisDeclared&&!l.yAxisDeclared?"lineX":!l.xAxisDeclared&&l.yAxisDeclared?"lineY":"rect"});r._brushController.setPanels(s).enableBrush(i&&s.length?{brushType:"auto",brushStyle:t.getModel("brushStyle").getItemStyle()}:!1)}o1e("dataZoom",function(t){var e=t.getComponent("toolbox",0),r=["feature","dataZoom"];if(!e||e.get(r)==null)return;var n=e.getModel(r),a=[],i=vO(n),o=Kg(t,i);wR(o.xAxisModels,function(l){return s(l,"xAxis","xAxisIndex")}),wR(o.yAxisModels,function(l){return s(l,"yAxis","yAxisIndex")});function s(l,u,c){var f=l.componentIndex,d={type:"select",$fromToolbox:!0,filterMode:n.get("filterMode",!0)||"filter",id:DIe+u+f};d[c]=f,a.push(d)}return a});function PIe(t){t.registerComponentModel(aIe),t.registerComponentView(iIe),Ig("saveAsImage",sIe),Ig("magicType",uIe),Ig("dataView",yIe),Ig("dataZoom",LIe),Ig("restore",TIe),Ut(nIe)}var kIe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,displayTransition:!0,enterable:!1,backgroundColor:ve.color.neutral00,shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,defaultBorderColor:ve.color.border,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:ve.color.borderShade,width:1,type:"dashed",textStyle:{}}},textStyle:{color:ve.color.tertiary,fontSize:14}},e})(er);function Gee(t){var e=t.get("confine");return e!=null?!!e:t.get("renderMode")==="richText"}function Uee(t){if(nr.domSupported){for(var e=document.documentElement.style,r=0,n=t.length;r<n;r++)if(t[r]in e)return t[r]}}var Wee=Uee(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),IIe=Uee(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function Yee(t,e){if(!t)return e;e=Q$(e,!0);var r=t.indexOf(e);return t=r===-1?e:"-"+t.slice(0,r)+"-"+e,t.toLowerCase()}function OIe(t,e){var r=t.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(t);return r?r[e]:null}var jIe=Yee(IIe,"transition"),pO=Yee(Wee,"transform"),zIe="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(nr.transform3dSupported?"will-change:transform;":"");function BIe(t){return t=t==="left"?"right":t==="right"?"left":t==="top"?"bottom":"top",t}function VIe(t,e,r){if(!We(r)||r==="inside")return"";var n=t.get("backgroundColor"),a=t.get("borderWidth");e=rp(e);var i=BIe(r),o=Math.max(Math.round(a)*1.5,6),s="",l=pO+":",u;Vt(["left","right"],i)>-1?(s+="top:50%",l+="translateY(-50%) rotate("+(u=i==="left"?-225:-45)+"deg)"):(s+="left:50%",l+="translateX(-50%) rotate("+(u=i==="top"?225:45)+"deg)");var c=u*Math.PI/180,f=o+a,d=f*Math.abs(Math.cos(c))+f*Math.abs(Math.sin(c)),v=Math.round(((d-Math.SQRT2*a)/2+Math.SQRT2*a-(d-f)/2)*100)/100;s+=";"+i+":-"+v+"px";var g=e+" solid "+a+"px;",y=["position:absolute;width:"+o+"px;height:"+o+"px;z-index:-1;",s+";"+l+";","border-bottom:"+g,"border-right:"+g,"background-color:"+n+";"];return'<div style="'+y.join("")+'"></div>'}function FIe(t,e,r){var n="cubic-bezier(0.23,1,0.32,1)",a="",i="";return r&&(a=" "+t/2+"s "+n,i="opacity"+a+",visibility"+a),e||(a=" "+t+"s "+n,i+=(i.length?",":"")+(nr.transformSupported?""+pO+a:",left"+a+",top"+a)),jIe+":"+i}function b6(t,e,r){var n=t.toFixed(0)+"px",a=e.toFixed(0)+"px";if(!nr.transformSupported)return r?"top:"+a+";left:"+n+";":[["top",a],["left",n]];var i=nr.transform3dSupported,o="translate"+(i?"3d":"")+"("+n+","+a+(i?",0":"")+")";return r?"top:0;left:0;"+pO+":"+o+";":[["top",0],["left",0],[Wee,o]]}function HIe(t){var e=[],r=t.get("fontSize"),n=t.getTextColor();n&&e.push("color:"+n),e.push("font:"+t.getFont());var a=et(t.get("lineHeight"),Math.round(r*3/2));r&&e.push("line-height:"+a+"px");var i=t.get("textShadowColor"),o=t.get("textShadowBlur")||0,s=t.get("textShadowOffsetX")||0,l=t.get("textShadowOffsetY")||0;return i&&o&&e.push("text-shadow:"+s+"px "+l+"px "+o+"px "+i),Y(["decoration","align"],function(u){var c=t.get(u);c&&e.push("text-"+u+":"+c)}),e.join(";")}function GIe(t,e,r,n){var a=[],i=t.get("transitionDuration"),o=t.get("backgroundColor"),s=t.get("shadowBlur"),l=t.get("shadowColor"),u=t.get("shadowOffsetX"),c=t.get("shadowOffsetY"),f=t.getModel("textStyle"),d=BX(t,"html"),v=u+"px "+c+"px "+s+"px "+l;return a.push("box-shadow:"+v),e&&i>0&&a.push(FIe(i,r,n)),o&&a.push("background-color:"+o),Y(["width","color","radius"],function(g){var y="border-"+g,b=Q$(y),S=t.get(b);S!=null&&a.push(y+":"+S+(g==="color"?"":"px"))}),a.push(HIe(f)),d!=null&&a.push("padding:"+y_(d).join("px ")+"px"),a.join(";")+";"}function S6(t,e,r,n,a){var i=e&&e.painter;if(r){var o=i&&i.getViewportRoot();o&&Yye(t,o,r,n,a)}else{t[0]=n,t[1]=a;var s=i&&i.getViewportRootOffset();s&&(t[0]+=s.offsetLeft,t[1]+=s.offsetTop)}t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}var UIe=(function(){function t(e,r){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,nr.wxa)return null;var n=document.createElement("div");n.domBelongToZr=!0,this.el=n;var a=this._zr=e.getZr(),i=r.appendTo,o=i&&(We(i)?document.querySelector(i):um(i)?i:ot(i)&&i(e.getDom()));S6(this._styleCoord,a,o,e.getWidth()/2,e.getHeight()/2),(o||e.getDom()).appendChild(n),this._api=e,this._container=o;var s=this;n.onmouseenter=function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0},n.onmousemove=function(l){if(l=l||window.event,!s._enterable){var u=a.handler,c=a.painter.getViewportRoot();ol(c,l,!0),u.dispatch("mousemove",l)}},n.onmouseleave=function(){s._inContent=!1,s._enterable&&s._show&&s.hideLater(s._hideDelay)}}return t.prototype.update=function(e){if(!this._container){var r=this._api.getDom(),n=OIe(r,"position"),a=r.style;a.position!=="absolute"&&n!=="absolute"&&(a.position="relative")}var i=e.get("alwaysShowContent");i&&this._moveIfResized(),this._alwaysShowContent=i,this._enableDisplayTransition=e.get("displayTransition")&&e.get("transitionDuration")>0,this.el.className=e.get("className")||""},t.prototype.show=function(e,r){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var n=this.el,a=n.style,i=this._styleCoord;n.innerHTML?a.cssText=zIe+GIe(e,!this._firstShow,this._longHide,this._enableDisplayTransition)+b6(i[0],i[1],!0)+("border-color:"+rp(r)+";")+(e.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):a.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},t.prototype.setContent=function(e,r,n,a,i){var o=this.el;if(e==null){o.innerHTML="";return}var s="";if(We(i)&&n.get("trigger")==="item"&&!Gee(n)&&(s=VIe(n,a,i)),We(e))o.innerHTML=e+s;else if(e){o.innerHTML="",Ee(e)||(e=[e]);for(var l=0;l<e.length;l++)um(e[l])&&e[l].parentNode!==o&&o.appendChild(e[l]);if(s&&o.childNodes.length){var u=document.createElement("div");u.innerHTML=s,o.appendChild(u)}}},t.prototype.setEnterable=function(e){this._enterable=e},t.prototype.getSize=function(){var e=this.el;return e?[e.offsetWidth,e.offsetHeight]:[0,0]},t.prototype.moveTo=function(e,r){if(this.el){var n=this._styleCoord;if(S6(n,this._zr,this._container,e,r),n[0]!=null&&n[1]!=null){var a=this.el.style,i=b6(n[0],n[1]);Y(i,function(o){a[o[0]]=o[1]})}}},t.prototype._moveIfResized=function(){var e=this._styleCoord[2],r=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),r*this._zr.getHeight())},t.prototype.hide=function(){var e=this,r=this.el.style;this._enableDisplayTransition?(r.visibility="hidden",r.opacity="0"):r.display="none",nr.transform3dSupported&&(r.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return e._longHide=!0},500)},t.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(Ye(this.hide,this),e)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var e=this._zr;Zye(e&&e.painter&&e.painter.getViewportRoot(),this._container);var r=this.el;if(r){r.onmouseenter=r.onmousemove=r.onmouseleave=null;var n=r.parentNode;n&&n.removeChild(r)}this.el=this._container=null},t})(),WIe=(function(){function t(e){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=e.getZr(),T6(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}return t.prototype.update=function(e){var r=e.get("alwaysShowContent");r&&this._moveIfResized(),this._alwaysShowContent=r},t.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},t.prototype.setContent=function(e,r,n,a,i){var o=this;mt(e)&&Dr(""),this.el&&this._zr.remove(this.el);var s=n.getModel("textStyle");this.el=new xr({style:{rich:r.richTextStyles,text:e,lineHeight:22,borderWidth:1,borderColor:a,textShadowColor:s.get("textShadowColor"),fill:n.get(["textStyle","color"]),padding:BX(n,"richText"),verticalAlign:"top",align:"left"},z:n.get("z")}),Y(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(u){o.el.style[u]=n.get(u)}),Y(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(u){o.el.style[u]=s.get(u)||0}),this._zr.add(this.el);var l=this;this.el.on("mouseover",function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on("mouseout",function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},t.prototype.setEnterable=function(e){this._enterable=e},t.prototype.getSize=function(){var e=this.el,r=this.el.getBoundingRect(),n=w6(e.style);return[r.width+n.left+n.right,r.height+n.top+n.bottom]},t.prototype.moveTo=function(e,r){var n=this.el;if(n){var a=this._styleCoord;T6(a,this._zr,e,r),e=a[0],r=a[1];var i=n.style,o=wh(i.borderWidth||0),s=w6(i);n.x=e+o+s.left,n.y=r+o+s.top,n.markRedraw()}},t.prototype._moveIfResized=function(){var e=this._styleCoord[2],r=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),r*this._zr.getHeight())},t.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},t.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(Ye(this.hide,this),e)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){this._zr.remove(this.el)},t})();function wh(t){return Math.max(0,t)}function w6(t){var e=wh(t.shadowBlur||0),r=wh(t.shadowOffsetX||0),n=wh(t.shadowOffsetY||0);return{left:wh(e-r),right:wh(e+r),top:wh(e-n),bottom:wh(e+n)}}function T6(t,e,r,n){t[0]=r,t[1]=n,t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}var YIe=new $t({shape:{x:-1,y:-1,width:2,height:2}}),ZIe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.init=function(r,n){if(!(nr.node||!n.getDom())){var a=r.getComponent("tooltip"),i=this._renderMode=Exe(a.get("renderMode"));this._tooltipContent=i==="richText"?new WIe(n):new UIe(n,{appendTo:a.get("appendToBody",!0)?"body":a.get("appendTo",!0)})}},e.prototype.render=function(r,n,a){if(!(nr.node||!a.getDom())){this.group.removeAll(),this._tooltipModel=r,this._ecModel=n,this._api=a;var i=this._tooltipContent;i.update(r),i.setEnterable(r.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&r.get("transitionDuration")?Zm(this,"_updatePosition",50,"fixRate"):Rx(this,"_updatePosition")}},e.prototype._initGlobalListener=function(){var r=this._tooltipModel,n=r.get("triggerOn");Aee("itemTooltip",this._api,Ye(function(a,i,o){n!=="none"&&(n.indexOf(a)>=0?this._tryShow(i,o):a==="leave"&&this._hide(o))},this))},e.prototype._keepShow=function(){var r=this._tooltipModel,n=this._ecModel,a=this._api,i=r.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&i!=="none"&&i!=="click"){var o=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!a.isDisposed()&&o.manuallyShowTip(r,n,a,{x:o._lastX,y:o._lastY,dataByCoordSys:o._lastDataByCoordSys})})}},e.prototype.manuallyShowTip=function(r,n,a,i){if(!(i.from===this.uid||nr.node||!a.getDom())){var o=C6(i,a);this._ticket="";var s=i.dataByCoordSys,l=KIe(i,n,a);if(l){var u=l.el.getBoundingRect().clone();u.applyTransform(l.el.transform),this._tryShow({offsetX:u.x+u.width/2,offsetY:u.y+u.height/2,target:l.el,position:i.position,positionDefault:"bottom"},o)}else if(i.tooltip&&i.x!=null&&i.y!=null){var c=YIe;c.x=i.x,c.y=i.y,c.update(),wt(c).tooltipConfig={name:null,option:i.tooltip},this._tryShow({offsetX:i.x,offsetY:i.y,target:c},o)}else if(s)this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,dataByCoordSys:s,tooltipOption:i.tooltipOption},o);else if(i.seriesIndex!=null){if(this._manuallyAxisShowTip(r,n,a,i))return;var f=Dee(i,n),d=f.point[0],v=f.point[1];d!=null&&v!=null&&this._tryShow({offsetX:d,offsetY:v,target:f.el,position:i.position,positionDefault:"bottom"},o)}else i.x!=null&&i.y!=null&&(a.dispatchAction({type:"updateAxisPointer",x:i.x,y:i.y}),this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,target:a.getZr().findHover(i.x,i.y).target},o))}},e.prototype.manuallyHideTip=function(r,n,a,i){var o=this._tooltipContent;this._tooltipModel&&o.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,i.from!==this.uid&&this._hide(C6(i,a))},e.prototype._manuallyAxisShowTip=function(r,n,a,i){var o=i.seriesIndex,s=i.dataIndex,l=n.getComponent("axisPointer").coordSysAxesInfo;if(!(o==null||s==null||l==null)){var u=n.getSeriesByIndex(o);if(u){var c=u.getData(),f=y0([c.getItemModel(s),u,(u.coordinateSystem||{}).model],this._tooltipModel);if(f.get("trigger")==="axis")return a.dispatchAction({type:"updateAxisPointer",seriesIndex:o,dataIndex:s,position:i.position}),!0}}},e.prototype._tryShow=function(r,n){var a=r.target,i=this._tooltipModel;if(i){this._lastX=r.offsetX,this._lastY=r.offsetY;var o=r.dataByCoordSys;if(o&&o.length)this._showAxisTooltip(o,r);else if(a){var s=wt(a);if(s.ssrType==="legend")return;this._lastDataByCoordSys=null;var l,u;Lv(a,function(c){if(c.tooltipDisabled)return l=u=null,!0;l||u||(wt(c).dataIndex!=null?l=c:wt(c).tooltipConfig!=null&&(u=c))},!0),l?this._showSeriesItemTooltip(r,l,n):u?this._showComponentItemTooltip(r,u,n):this._hide(n)}else this._lastDataByCoordSys=null,this._hide(n)}},e.prototype._showOrMove=function(r,n){var a=r.get("showDelay");n=Ye(n,this),clearTimeout(this._showTimout),a>0?this._showTimout=setTimeout(n,a):n()},e.prototype._showAxisTooltip=function(r,n){var a=this._ecModel,i=this._tooltipModel,o=[n.offsetX,n.offsetY],s=y0([n.tooltipOption],i),l=this._renderMode,u=[],c=Ia("section",{blocks:[],noHeader:!0}),f=[],d=new aD;Y(r,function(w){Y(w.dataByAxis,function(M){var A=a.getComponent(M.axisDim+"Axis",M.axisIndex),D=M.value;if(!(!A||D==null)){var R=Tee(D,A.axis,a,M.seriesDataIndices,M.valueLabelOpt),N=Ia("section",{header:R,noHeader:!ml(R),sortBlocks:!0,blocks:[]});c.blocks.push(N),Y(M.seriesDataIndices,function(I){var z=a.getSeriesByIndex(I.seriesIndex),B=I.dataIndexInside,V=z.getDataParams(B);if(!(V.dataIndex<0)){V.axisDim=M.axisDim,V.axisIndex=M.axisIndex,V.axisType=M.axisType,V.axisId=M.axisId,V.axisValue=Ew(A.axis,{value:D}),V.axisValueLabel=R,V.marker=d.makeTooltipMarker("item",rp(V.color),l);var G=VV(z.formatTooltip(B,!0,null)),F=G.frag;if(F){var q=y0([z],i).get("valueFormatter");N.blocks.push(q?Ae({valueFormatter:q},F):F)}G.text&&f.push(G.text),u.push(V)}})}})}),c.blocks.reverse(),f.reverse();var v=n.position,g=s.get("order"),y=YV(c,d,l,g,a.get("useUTC"),s.get("textStyle"));y&&f.unshift(y);var b=l==="richText"?`

`:"<br/>",S=f.join(b);this._showOrMove(s,function(){this._updateContentNotChangedOnAxis(r,u)?this._updatePosition(s,v,o[0],o[1],this._tooltipContent,u):this._showTooltipContent(s,S,u,Math.random()+"",o[0],o[1],v,null,d)})},e.prototype._showSeriesItemTooltip=function(r,n,a){var i=this._ecModel,o=wt(n),s=o.seriesIndex,l=i.getSeriesByIndex(s),u=o.dataModel||l,c=o.dataIndex,f=o.dataType,d=u.getData(f),v=this._renderMode,g=r.positionDefault,y=y0([d.getItemModel(c),u,l&&(l.coordinateSystem||{}).model],this._tooltipModel,g?{position:g}:null),b=y.get("trigger");if(!(b!=null&&b!=="item")){var S=u.getDataParams(c,f),w=new aD;S.marker=w.makeTooltipMarker("item",rp(S.color),v);var M=VV(u.formatTooltip(c,!1,f)),A=y.get("order"),D=y.get("valueFormatter"),R=M.frag,N=R?YV(D?Ae({valueFormatter:D},R):R,w,v,A,i.get("useUTC"),y.get("textStyle")):M.text,I="item_"+u.name+"_"+c;this._showOrMove(y,function(){this._showTooltipContent(y,N,S,I,r.offsetX,r.offsetY,r.position,r.target,w)}),a({type:"showTip",dataIndexInside:c,dataIndex:d.getRawIndex(c),seriesIndex:s,from:this.uid})}},e.prototype._showComponentItemTooltip=function(r,n,a){var i=this._renderMode==="html",o=wt(n),s=o.tooltipConfig,l=s.option||{},u=l.encodeHTMLContent;if(We(l)){var c=l;l={content:c,formatter:c},u=!0}u&&i&&l.content&&(l=ut(l),l.content=Ao(l.content));var f=[l],d=this._ecModel.getComponent(o.componentMainType,o.componentIndex);d&&f.push(d),f.push({formatter:l.content});var v=r.positionDefault,g=y0(f,this._tooltipModel,v?{position:v}:null),y=g.get("content"),b=Math.random()+"",S=new aD;this._showOrMove(g,function(){var w=ut(g.get("formatterParams")||{});this._showTooltipContent(g,y,w,b,r.offsetX,r.offsetY,r.position,n,S)}),a({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(r,n,a,i,o,s,l,u,c){if(this._ticket="",!(!r.get("showContent")||!r.get("show"))){var f=this._tooltipContent;f.setEnterable(r.get("enterable"));var d=r.get("formatter");l=l||r.get("position");var v=n,g=this._getNearestPoint([o,s],a,r.get("trigger"),r.get("borderColor"),r.get("defaultBorderColor",!0)),y=g.color;if(d)if(We(d)){var b=r.ecModel.get("useUTC"),S=Ee(a)?a[0]:a,w=S&&S.axisType&&S.axisType.indexOf("time")>=0;v=d,w&&(v=SC(S.axisValue,v,b)),v=J$(v,a,!0)}else if(ot(d)){var M=Ye(function(A,D){A===this._ticket&&(f.setContent(D,c,r,y,l),this._updatePosition(r,l,o,s,f,a,u))},this);this._ticket=i,v=d(a,i,M)}else v=d;f.setContent(v,c,r,y,l),f.show(r,y),this._updatePosition(r,l,o,s,f,a,u)}},e.prototype._getNearestPoint=function(r,n,a,i,o){if(a==="axis"||Ee(n))return{color:i||o};if(!Ee(n))return{color:i||n.color||n.borderColor}},e.prototype._updatePosition=function(r,n,a,i,o,s,l){var u=this._api.getWidth(),c=this._api.getHeight();n=n||r.get("position");var f=o.getSize(),d=r.get("align"),v=r.get("verticalAlign"),g=l&&l.getBoundingRect().clone();if(l&&g.applyTransform(l.transform),ot(n)&&(n=n([a,i],s,o.el,g,{viewSize:[u,c],contentSize:f.slice()})),Ee(n))a=Ue(n[0],u),i=Ue(n[1],c);else if(mt(n)){var y=n;y.width=f[0],y.height=f[1];var b=Yn(y,{width:u,height:c});a=b.x,i=b.y,d=null,v=null}else if(We(n)&&l){var S=XIe(n,g,f,r.get("borderWidth"));a=S[0],i=S[1]}else{var S=qIe(a,i,o,u,c,d?null:20,v?null:20);a=S[0],i=S[1]}if(d&&(a-=M6(d)?f[0]/2:d==="right"?f[0]:0),v&&(i-=M6(v)?f[1]/2:v==="bottom"?f[1]:0),Gee(r)){var S=$Ie(a,i,o,u,c);a=S[0],i=S[1]}o.moveTo(a,i)},e.prototype._updateContentNotChangedOnAxis=function(r,n){var a=this._lastDataByCoordSys,i=this._cbParamsList,o=!!a&&a.length===r.length;return o&&Y(a,function(s,l){var u=s.dataByAxis||[],c=r[l]||{},f=c.dataByAxis||[];o=o&&u.length===f.length,o&&Y(u,function(d,v){var g=f[v]||{},y=d.seriesDataIndices||[],b=g.seriesDataIndices||[];o=o&&d.value===g.value&&d.axisType===g.axisType&&d.axisId===g.axisId&&y.length===b.length,o&&Y(y,function(S,w){var M=b[w];o=o&&S.seriesIndex===M.seriesIndex&&S.dataIndex===M.dataIndex}),i&&Y(d.seriesDataIndices,function(S){var w=S.seriesIndex,M=n[w],A=i[w];M&&A&&A.data!==M.data&&(o=!1)})})}),this._lastDataByCoordSys=r,this._cbParamsList=n,!!o},e.prototype._hide=function(r){this._lastDataByCoordSys=null,r({type:"hideTip",from:this.uid})},e.prototype.dispose=function(r,n){nr.node||!n.getDom()||(Rx(this,"_updatePosition"),this._tooltipContent.dispose(),pR("itemTooltip",n))},e.type="tooltip",e})(Vn);function y0(t,e,r){var n=e.ecModel,a;r?(a=new ar(r,n,n),a=new ar(e.option,a,n)):a=e;for(var i=t.length-1;i>=0;i--){var o=t[i];o&&(o instanceof ar&&(o=o.get("tooltip",!0)),We(o)&&(o={formatter:o}),o&&(a=new ar(o,a,n)))}return a}function C6(t,e){return t.dispatchAction||Ye(e.dispatchAction,e)}function qIe(t,e,r,n,a,i,o){var s=r.getSize(),l=s[0],u=s[1];return i!=null&&(t+l+i+2>n?t-=l+i:t+=i),o!=null&&(e+u+o>a?e-=u+o:e+=o),[t,e]}function $Ie(t,e,r,n,a){var i=r.getSize(),o=i[0],s=i[1];return t=Math.min(t+o,n)-o,e=Math.min(e+s,a)-s,t=Math.max(t,0),e=Math.max(e,0),[t,e]}function XIe(t,e,r,n){var a=r[0],i=r[1],o=Math.ceil(Math.SQRT2*n)+8,s=0,l=0,u=e.width,c=e.height;switch(t){case"inside":s=e.x+u/2-a/2,l=e.y+c/2-i/2;break;case"top":s=e.x+u/2-a/2,l=e.y-i-o;break;case"bottom":s=e.x+u/2-a/2,l=e.y+c+o;break;case"left":s=e.x-a-o,l=e.y+c/2-i/2;break;case"right":s=e.x+u+o,l=e.y+c/2-i/2}return[s,l]}function M6(t){return t==="center"||t==="middle"}function KIe(t,e,r){var n=mk(t).queryOptionMap,a=n.keys()[0];if(!(!a||a==="series")){var i=Vm(e,a,n.get(a),{useDefault:!1,enableAll:!1,enableNone:!1}),o=i.models[0];if(o){var s=r.getViewOfComponentModel(o),l;if(s.group.traverse(function(u){var c=wt(u).tooltipConfig;if(c&&c.name===t.name)return l=u,!0}),l)return{componentMainType:a,componentIndex:o.componentIndex,el:l}}}}function QIe(t){Ut(L_),t.registerComponentModel(kIe),t.registerComponentView(ZIe),t.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},_a),t.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},_a)}var JIe=["rect","polygon","keep","clear"];function eOe(t,e){var r=gn(t?t.brush:[]);if(r.length){var n=[];Y(r,function(l){var u=l.hasOwnProperty("toolbox")?l.toolbox:[];u instanceof Array&&(n=n.concat(u))});var a=t&&t.toolbox;Ee(a)&&(a=a[0]),a||(a={feature:{}},t.toolbox=[a]);var i=a.feature||(a.feature={}),o=i.brush||(i.brush={}),s=o.type||(o.type=[]);s.push.apply(s,n),tOe(s),e&&!s.length&&s.push.apply(s,JIe)}}function tOe(t){var e={};Y(t,function(r){e[r]=1}),t.length=0,Y(e,function(r,n){t.push(n)})}var A6=Y;function D6(t){if(t){for(var e in t)if(t.hasOwnProperty(e))return!0}}function TR(t,e,r){var n={};return A6(e,function(i){var o=n[i]=a();A6(t[i],function(s,l){if(mi.isValidType(l)){var u={type:l,visual:s};r&&r(u,i),o[l]=new mi(u),l==="opacity"&&(u=ut(u),u.type="colorAlpha",o.__hidden.__alphaForOpacity=new mi(u))}})}),n;function a(){var i=function(){};i.prototype.__hidden=i.prototype;var o=new i;return o}}function Zee(t,e,r){var n;Y(r,function(a){e.hasOwnProperty(a)&&D6(e[a])&&(n=!0)}),n&&Y(r,function(a){e.hasOwnProperty(a)&&D6(e[a])?t[a]=ut(e[a]):delete t[a]})}function rOe(t,e,r,n,a,i){var o={};Y(t,function(f){var d=mi.prepareVisualTypes(e[f]);o[f]=d});var s;function l(f){return Qk(r,s,f)}function u(f,d){$X(r,s,f,d)}r.each(c);function c(f,d){s=f;var v=r.getRawDataItem(s);if(!(v&&v.visualMap===!1))for(var g=n.call(a,f),y=e[g],b=o[g],S=0,w=b.length;S<w;S++){var M=b[S];y[M]&&y[M].applyVisual(f,l,u)}}}function nOe(t,e,r,n){var a={};return Y(t,function(i){var o=mi.prepareVisualTypes(e[i]);a[i]=o}),{progress:function(o,s){var l;n!=null&&(l=s.getDimensionIndex(n));function u(D){return Qk(s,f,D)}function c(D,R){$X(s,f,D,R)}for(var f,d=s.getStore();(f=o.next())!=null;){var v=s.getRawDataItem(f);if(!(v&&v.visualMap===!1))for(var g=n!=null?d.get(l,f):f,y=r(g),b=e[y],S=a[y],w=0,M=S.length;w<M;w++){var A=S[w];b[A]&&b[A].applyVisual(g,u,c)}}}}}function aOe(t){var e=t.brushType,r={point:function(n){return L6[e].point(n,r,t)},rect:function(n){return L6[e].rect(n,r,t)}};return r}var L6={lineX:E6(0),lineY:E6(1),rect:{point:function(t,e,r){return t&&r.boundingRect.contain(t[0],t[1])},rect:function(t,e,r){return t&&r.boundingRect.intersect(t)}},polygon:{point:function(t,e,r){return t&&r.boundingRect.contain(t[0],t[1])&&xv(r.range,t[0],t[1])},rect:function(t,e,r){var n=r.range;if(!t||n.length<=1)return!1;var a=t.x,i=t.y,o=t.width,s=t.height,l=n[0];if(xv(n,a,i)||xv(n,a+o,i)||xv(n,a,i+s)||xv(n,a+o,i+s)||yt.create(t).contain(l[0],l[1])||O0(a,i,a+o,i,n)||O0(a,i,a,i+s,n)||O0(a+o,i,a+o,i+s,n)||O0(a,i+s,a+o,i+s,n))return!0}}};function E6(t){var e=["x","y"],r=["width","height"];return{point:function(n,a,i){if(n){var o=i.range,s=n[t];return x0(s,o)}},rect:function(n,a,i){if(n){var o=i.range,s=[n[e[t]],n[e[t]]+n[r[t]]];return s[1]<s[0]&&s.reverse(),x0(s[0],o)||x0(s[1],o)||x0(o[0],s)||x0(o[1],s)}}}}function x0(t,e){return e[0]<=t&&t<=e[1]}var N6=["inBrush","outOfBrush"],TL="__ecBrushSelect",CR="__ecInBrushSelectEvent";function qee(t){t.eachComponent({mainType:"brush"},function(e){var r=e.brushTargetManager=new dO(e.option,t);r.setInputRanges(e.areas,t)})}function iOe(t,e,r){var n=[],a,i;t.eachComponent({mainType:"brush"},function(o){r&&r.type==="takeGlobalCursor"&&o.setBrushOption(r.key==="brush"?r.brushOption:{brushType:!1})}),qee(t),t.eachComponent({mainType:"brush"},function(o,s){var l={brushId:o.id,brushIndex:s,brushName:o.name,areas:ut(o.areas),selected:[]};n.push(l);var u=o.option,c=u.brushLink,f=[],d=[],v=[],g=!1;s||(a=u.throttleType,i=u.throttleDelay);var y=Re(o.areas,function(D){var R=uOe[D.brushType],N=gt({boundingRect:R?R(D):void 0},D);return N.selectors=aOe(N),N}),b=TR(o.option,N6,function(D){D.mappingMethod="fixed"});Ee(c)&&Y(c,function(D){f[D]=1});function S(D){return c==="all"||!!f[D]}function w(D){return!!D.length}t.eachSeries(function(D,R){var N=v[R]=[];D.subType==="parallel"?M(D,R):A(D,R,N)});function M(D,R){var N=D.coordinateSystem;g=g||N.hasAxisBrushed(),S(R)&&N.eachActiveState(D.getData(),function(I,z){I==="active"&&(d[z]=1)})}function A(D,R,N){if(!(!D.brushSelector||lOe(o,R))&&(Y(y,function(z){o.brushTargetManager.controlSeries(z,D,t)&&N.push(z),g=g||w(N)}),S(R)&&w(N))){var I=D.getData();I.each(function(z){R6(D,N,I,z)&&(d[z]=1)})}}t.eachSeries(function(D,R){var N={seriesId:D.id,seriesIndex:R,seriesName:D.name,dataIndex:[]};l.selected.push(N);var I=v[R],z=D.getData(),B=S(R)?function(V){return d[V]?(N.dataIndex.push(z.getRawIndex(V)),"inBrush"):"outOfBrush"}:function(V){return R6(D,I,z,V)?(N.dataIndex.push(z.getRawIndex(V)),"inBrush"):"outOfBrush"};(S(R)?g:w(I))&&rOe(N6,b,z,B)})}),oOe(e,a,i,n,r)}function oOe(t,e,r,n,a){if(a){var i=t.getZr();if(!i[CR]){i[TL]||(i[TL]=sOe);var o=Zm(i,TL,r,e);o(t,n)}}}function sOe(t,e){if(!t.isDisposed()){var r=t.getZr();r[CR]=!0,t.dispatchAction({type:"brushSelect",batch:e}),r[CR]=!1}}function R6(t,e,r,n){for(var a=0,i=e.length;a<i;a++){var o=e[a];if(t.brushSelector(n,r,o.selectors,o))return!0}}function lOe(t,e){var r=t.option.seriesIndex;return r!=null&&r!=="all"&&(Ee(r)?Vt(r,e)<0:e!==r)}var uOe={rect:function(t){return P6(t.range)},polygon:function(t){for(var e,r=t.range,n=0,a=r.length;n<a;n++){e=e||[[1/0,-1/0],[1/0,-1/0]];var i=r[n];i[0]<e[0][0]&&(e[0][0]=i[0]),i[0]>e[0][1]&&(e[0][1]=i[0]),i[1]<e[1][0]&&(e[1][0]=i[1]),i[1]>e[1][1]&&(e[1][1]=i[1])}return e&&P6(e)}};function P6(t){return new yt(t[0][0],t[1][0],t[0][1]-t[0][0],t[1][1]-t[1][0])}var cOe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.init=function(r,n){this.ecModel=r,this.api=n,this.model,(this._brushController=new zI(n.getZr())).on("brush",Ye(this._onBrush,this)).mount()},e.prototype.render=function(r,n,a,i){this.model=r,this._updateController(r,n,a,i)},e.prototype.updateTransform=function(r,n,a,i){qee(n),this._updateController(r,n,a,i)},e.prototype.updateVisual=function(r,n,a,i){this.updateTransform(r,n,a,i)},e.prototype.updateView=function(r,n,a,i){this._updateController(r,n,a,i)},e.prototype._updateController=function(r,n,a,i){(!i||i.$from!==r.id)&&this._brushController.setPanels(r.brushTargetManager.makePanelOpts(a)).enableBrush(r.brushOption).updateCovers(r.areas.slice())},e.prototype.dispose=function(){this._brushController.dispose()},e.prototype._onBrush=function(r){var n=this.model.id,a=this.model.brushTargetManager.setOutputRanges(r.areas,this.ecModel);(!r.isEnd||r.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:n,areas:ut(a),$from:n}),r.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:n,areas:ut(a),$from:n})},e.type="brush",e})(Vn),fOe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.areas=[],r.brushOption={},r}return e.prototype.optionUpdated=function(r,n){var a=this.option;!n&&Zee(a,r,["inBrush","outOfBrush"]);var i=a.inBrush=a.inBrush||{};a.outOfBrush=a.outOfBrush||{color:this.option.defaultOutOfBrushColor},i.hasOwnProperty("liftZ")||(i.liftZ=5)},e.prototype.setAreas=function(r){r&&(this.areas=Re(r,function(n){return k6(this.option,n)},this))},e.prototype.setBrushOption=function(r){this.brushOption=k6(this.option,r),this.brushType=this.brushOption.brushType},e.type="brush",e.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],e.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:ve.color.backgroundTint,borderColor:ve.color.borderTint},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4,defaultOutOfBrushColor:ve.color.disabled},e})(er);function k6(t,e){return Gt({brushType:t.brushType,brushMode:t.brushMode,transformable:t.transformable,brushStyle:new ar(t.brushStyle).getItemStyle(),removeOnClick:t.removeOnClick,z:t.z},e,!0)}var hOe=["rect","polygon","lineX","lineY","keep","clear"],dOe=(function(t){ye(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(r,n,a){var i,o,s;n.eachComponent({mainType:"brush"},function(l){i=l.brushType,o=l.brushOption.brushMode||"single",s=s||!!l.areas.length}),this._brushType=i,this._brushMode=o,Y(r.get("type",!0),function(l){r.setIconStatus(l,(l==="keep"?o==="multiple":l==="clear"?s:l===i)?"emphasis":"normal")})},e.prototype.updateView=function(r,n,a){this.render(r,n,a)},e.prototype.getIcons=function(){var r=this.model,n=r.get("icon",!0),a={};return Y(r.get("type",!0),function(i){n[i]&&(a[i]=n[i])}),a},e.prototype.onclick=function(r,n,a){var i=this._brushType,o=this._brushMode;a==="clear"?(n.dispatchAction({type:"axisAreaSelect",intervals:[]}),n.dispatchAction({type:"brush",command:"clear",areas:[]})):n.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:a==="keep"?i:i===a?!1:a,brushMode:a==="keep"?o==="multiple"?"single":"multiple":o}})},e.getDefaultOption=function(r){var n={show:!0,type:hOe.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:r.getLocaleModel().get(["toolbox","brush","title"])};return n},e})(vl);function vOe(t){t.registerComponentView(cOe),t.registerComponentModel(fOe),t.registerPreprocessor(eOe),t.registerVisual(t.PRIORITY.VISUAL.BRUSH,iOe),t.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(e,r){r.eachComponent({mainType:"brush",query:e},function(n){n.setAreas(e.areas)})}),t.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},_a),t.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},_a),Ig("brush",dOe)}var pOe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.layoutMode={type:"box",ignoreSize:!0},r}return e.type="title",e.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:"center",top:ve.size.m,backgroundColor:ve.color.transparent,borderColor:ve.color.primary,borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:ve.color.primary},subtextStyle:{fontSize:12,color:ve.color.quaternary}},e})(er),gOe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.render=function(r,n,a){if(this.group.removeAll(),!!r.get("show")){var i=this.group,o=r.getModel("textStyle"),s=r.getModel("subtextStyle"),l=r.get("textAlign"),u=et(r.get("textBaseline"),r.get("textVerticalAlign")),c=new xr({style:bn(o,{text:r.get("text"),fill:o.getTextColor()},{disableBox:!0}),z2:10}),f=c.getBoundingRect(),d=r.get("subtext"),v=new xr({style:bn(s,{text:d,fill:s.getTextColor(),y:f.height+r.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),g=r.get("link"),y=r.get("sublink"),b=r.get("triggerEvent",!0);c.silent=!g&&!b,v.silent=!y&&!b,g&&c.on("click",function(){_w(g,"_"+r.get("target"))}),y&&v.on("click",function(){_w(y,"_"+r.get("subtarget"))}),wt(c).eventData=wt(v).eventData=b?{componentType:"title",componentIndex:r.componentIndex}:null,i.add(c),d&&i.add(v);var S=i.getBoundingRect(),w=r.getBoxLayoutParams();w.width=S.width,w.height=S.height;var M=ni(r,a),A=Yn(w,M.refContainer,r.get("padding"));l||(l=r.get("left")||r.get("right"),l==="middle"&&(l="center"),l==="right"?A.x+=A.width:l==="center"&&(A.x+=A.width/2)),u||(u=r.get("top")||r.get("bottom"),u==="center"&&(u="middle"),u==="bottom"?A.y+=A.height:u==="middle"&&(A.y+=A.height/2),u=u||"top"),i.x=A.x,i.y=A.y,i.markRedraw();var D={align:l,verticalAlign:u};c.setStyle(D),v.setStyle(D),S=i.getBoundingRect();var R=A.margin,N=r.getItemStyle(["color","opacity"]);N.fill=r.get("backgroundColor");var I=new $t({shape:{x:S.x-R[3],y:S.y-R[0],width:S.width+R[1]+R[3],height:S.height+R[0]+R[2],r:r.get("borderRadius")},style:N,subPixelOptimize:!0,silent:!0});i.add(I)}},e.type="title",e})(Vn);function mOe(t){t.registerComponentModel(pOe),t.registerComponentView(gOe)}var I6=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.layoutMode="box",r}return e.prototype.init=function(r,n,a){this.mergeDefaultAndTheme(r,a),this._initData()},e.prototype.mergeOption=function(r){t.prototype.mergeOption.apply(this,arguments),this._initData()},e.prototype.setCurrentIndex=function(r){r==null&&(r=this.option.currentIndex);var n=this._data.count();this.option.loop?r=(r%n+n)%n:(r>=n&&(r=n-1),r<0&&(r=0)),this.option.currentIndex=r},e.prototype.getCurrentIndex=function(){return this.option.currentIndex},e.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},e.prototype.setPlayState=function(r){this.option.autoPlay=!!r},e.prototype.getPlayState=function(){return!!this.option.autoPlay},e.prototype._initData=function(){var r=this.option,n=r.data||[],a=r.axisType,i=this._names=[],o;a==="category"?(o=[],Y(n,function(u,c){var f=Ja(Bm(u),""),d;mt(u)?(d=ut(u),d.value=c):d=c,o.push(d),i.push(f)})):o=n;var s={category:"ordinal",time:"time",value:"number"}[a]||"number",l=this._data=new Lo([{name:"value",type:s}],this);l.initData(o,i)},e.prototype.getData=function(){return this._data},e.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},e.type="timeline",e.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:ve.size.m,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:ve.color.secondary},data:[]},e})(er),$ee=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.type="timeline.slider",e.defaultOption=fd(I6.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:ve.color.border,borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:ve.color.accent10},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:ve.color.tertiary},itemStyle:{color:ve.color.accent20,borderWidth:0},checkpointStyle:{symbol:"circle",symbolSize:15,color:ve.color.accent50,borderColor:ve.color.accent50,borderWidth:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0, 0, 0, 0)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M15 0C23.2843 0 30 6.71573 30 15C30 23.2843 23.2843 30 15 30C6.71573 30 0 23.2843 0 15C0 6.71573 6.71573 0 15 0ZM15 3C8.37258 3 3 8.37258 3 15C3 21.6274 8.37258 27 15 27C21.6274 27 27 21.6274 27 15C27 8.37258 21.6274 3 15 3ZM11.5 10.6699C11.5 9.90014 12.3333 9.41887 13 9.80371L20.5 14.1338C21.1667 14.5187 21.1667 15.4813 20.5 15.8662L13 20.1963C12.3333 20.5811 11.5 20.0999 11.5 19.3301V10.6699Z",stopIcon:"path://M15 0C23.2843 0 30 6.71573 30 15C30 23.2843 23.2843 30 15 30C6.71573 30 0 23.2843 0 15C0 6.71573 6.71573 0 15 0ZM15 3C8.37258 3 3 8.37258 3 15C3 21.6274 8.37258 27 15 27C21.6274 27 27 21.6274 27 15C27 8.37258 21.6274 3 15 3ZM11.5 10C12.3284 10 13 10.6716 13 11.5V18.5C13 19.3284 12.3284 20 11.5 20C10.6716 20 10 19.3284 10 18.5V11.5C10 10.6716 10.6716 10 11.5 10ZM18.5 10C19.3284 10 20 10.6716 20 11.5V18.5C20 19.3284 19.3284 20 18.5 20C17.6716 20 17 19.3284 17 18.5V11.5C17 10.6716 17.6716 10 18.5 10Z",nextIcon:"path://M0.838834 18.7383C0.253048 18.1525 0.253048 17.2028 0.838834 16.617L7.55635 9.89949L0.838834 3.18198C0.253048 2.59619 0.253048 1.64645 0.838834 1.06066C1.42462 0.474874 2.37437 0.474874 2.96015 1.06066L10.7383 8.83883L10.8412 8.95277C11.2897 9.50267 11.2897 10.2963 10.8412 10.8462L10.7383 10.9602L2.96015 18.7383C2.37437 19.3241 1.42462 19.3241 0.838834 18.7383Z",prevIcon:"path://M10.9602 1.06066C11.5459 1.64645 11.5459 2.59619 10.9602 3.18198L4.24264 9.89949L10.9602 16.617C11.5459 17.2028 11.5459 18.1525 10.9602 18.7383C10.3744 19.3241 9.42462 19.3241 8.83883 18.7383L1.06066 10.9602L0.957771 10.8462C0.509245 10.2963 0.509245 9.50267 0.957771 8.95277L1.06066 8.83883L8.83883 1.06066C9.42462 0.474874 10.3744 0.474874 10.9602 1.06066Z",prevBtnSize:18,nextBtnSize:18,color:ve.color.accent50,borderColor:ve.color.accent50,borderWidth:0},emphasis:{label:{show:!0,color:ve.color.accent60},itemStyle:{color:ve.color.accent60,borderColor:ve.color.accent60},controlStyle:{color:ve.color.accent70,borderColor:ve.color.accent70}},progress:{lineStyle:{color:ve.color.accent30},itemStyle:{color:ve.color.accent40}},data:[]}),e})(I6);ja($ee,CC.prototype);var yOe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.type="timeline",e})(Vn),xOe=(function(t){ye(e,t);function e(r,n,a,i){var o=t.call(this,r,n,a)||this;return o.type=i||"value",o}return e.prototype.getLabelModel=function(){return this.model.getModel("label")},e.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},e})(xu),CL=Math.PI,O6=Xt(),_Oe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.init=function(r,n){this.api=n},e.prototype.render=function(r,n,a){if(this.model=r,this.api=a,this.ecModel=n,this.group.removeAll(),r.get("show",!0)){var i=this._layout(r,a),o=this._createGroup("_mainGroup"),s=this._createGroup("_labelGroup"),l=this._axis=this._createAxis(i,r);r.formatTooltip=function(u){var c=l.scale.getLabel({value:u});return Ia("nameValue",{noName:!0,value:c})},Y(["AxisLine","AxisTick","Control","CurrentPointer"],function(u){this["_render"+u](i,o,l,r)},this),this._renderAxisLabel(i,s,l,r),this._position(i,r)}this._doPlayStop(),this._updateTicksStatus()},e.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},e.prototype.dispose=function(){this._clearTimer()},e.prototype._layout=function(r,n){var a=r.get(["label","position"]),i=r.get("orient"),o=SOe(r,n),s;a==null||a==="auto"?s=i==="horizontal"?o.y+o.height/2<n.getHeight()/2?"-":"+":o.x+o.width/2<n.getWidth()/2?"+":"-":We(a)?s={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[i][a]:s=a;var l={horizontal:"center",vertical:s>=0||s==="+"?"left":"right"},u={horizontal:s>=0||s==="+"?"top":"bottom",vertical:"middle"},c={horizontal:0,vertical:CL/2},f=i==="vertical"?o.height:o.width,d=r.getModel("controlStyle"),v=d.get("show",!0),g=v?d.get("itemSize"):0,y=v?d.get("itemGap"):0,b=g+y,S=r.get(["label","rotate"])||0;S=S*CL/180;var w,M,A,D=d.get("position",!0),R=v&&d.get("showPlayBtn",!0),N=v&&d.get("showPrevBtn",!0),I=v&&d.get("showNextBtn",!0),z=0,B=f;D==="left"||D==="bottom"?(R&&(w=[0,0],z+=b),N&&(M=[z,0],z+=b),I&&(A=[B-g,0],B-=b)):(R&&(w=[B-g,0],B-=b),N&&(M=[0,0],z+=b),I&&(A=[B-g,0],B-=b));var V=[z,B];return r.get("inverse")&&V.reverse(),{viewRect:o,mainLength:f,orient:i,rotation:c[i],labelRotation:S,labelPosOpt:s,labelAlign:r.get(["label","align"])||l[i],labelBaseline:r.get(["label","verticalAlign"])||r.get(["label","baseline"])||u[i],playPosition:w,prevBtnPosition:M,nextBtnPosition:A,axisExtent:V,controlSize:g,controlGap:y}},e.prototype._position=function(r,n){var a=this._mainGroup,i=this._labelGroup,o=r.viewRect;if(r.orient==="vertical"){var s=Di(),l=o.x,u=o.y+o.height;mc(s,s,[-l,-u]),ud(s,s,-CL/2),mc(s,s,[l,u]),o=o.clone(),o.applyTransform(s)}var c=w(o),f=w(a.getBoundingRect()),d=w(i.getBoundingRect()),v=[a.x,a.y],g=[i.x,i.y];g[0]=v[0]=c[0][0];var y=r.labelPosOpt;if(y==null||We(y)){var b=y==="+"?0:1;M(v,f,c,1,b),M(g,d,c,1,1-b)}else{var b=y>=0?0:1;M(v,f,c,1,b),g[1]=v[1]+y}a.setPosition(v),i.setPosition(g),a.rotation=i.rotation=r.rotation,S(a),S(i);function S(A){A.originX=c[0][0]-A.x,A.originY=c[1][0]-A.y}function w(A){return[[A.x,A.x+A.width],[A.y,A.y+A.height]]}function M(A,D,R,N,I){A[N]+=R[N][I]-D[N][I]}},e.prototype._createAxis=function(r,n){var a=n.getData(),i=n.get("axisType"),o=bOe(n,i);o.getTicks=function(){return a.mapArray(["value"],function(u){return{value:u}})};var s=a.getDataExtent("value");o.setExtent(s[0],s[1]),o.calcNiceTicks();var l=new xOe("value",o,r.axisExtent,i);return l.model=n,l},e.prototype._createGroup=function(r){var n=this[r]=new st;return this.group.add(n),n},e.prototype._renderAxisLine=function(r,n,a,i){var o=a.getExtent();if(i.get(["lineStyle","show"])){var s=new Na({shape:{x1:o[0],y1:0,x2:o[1],y2:0},style:Ae({lineCap:"round"},i.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});n.add(s);var l=this._progressLine=new Na({shape:{x1:o[0],x2:this._currentPointer?this._currentPointer.x:o[0],y1:0,y2:0},style:gt({lineCap:"round",lineWidth:s.style.lineWidth},i.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});n.add(l)}},e.prototype._renderAxisTick=function(r,n,a,i){var o=this,s=i.getData(),l=a.scale.getTicks();this._tickSymbols=[],Y(l,function(u){var c=a.dataToCoord(u.value),f=s.getItemModel(u.value),d=f.getModel("itemStyle"),v=f.getModel(["emphasis","itemStyle"]),g=f.getModel(["progress","itemStyle"]),y={x:c,y:0,onclick:Ye(o._changeTimeline,o,u.value)},b=j6(f,d,n,y);b.ensureState("emphasis").style=v.getItemStyle(),b.ensureState("progress").style=g.getItemStyle(),jv(b);var S=wt(b);f.get("tooltip")?(S.dataIndex=u.value,S.dataModel=i):S.dataIndex=S.dataModel=null,o._tickSymbols.push(b)})},e.prototype._renderAxisLabel=function(r,n,a,i){var o=this,s=a.getLabelModel();if(s.get("show")){var l=i.getData(),u=a.getViewLabels();this._tickLabels=[],Y(u,function(c){var f=c.tickValue,d=l.getItemModel(f),v=d.getModel("label"),g=d.getModel(["emphasis","label"]),y=d.getModel(["progress","label"]),b=a.dataToCoord(c.tickValue),S=new xr({x:b,y:0,rotation:r.labelRotation-r.rotation,onclick:Ye(o._changeTimeline,o,f),silent:!1,style:bn(v,{text:c.formattedLabel,align:r.labelAlign,verticalAlign:r.labelBaseline})});S.ensureState("emphasis").style=bn(g),S.ensureState("progress").style=bn(y),n.add(S),jv(S),O6(S).dataIndex=f,o._tickLabels.push(S)})}},e.prototype._renderControl=function(r,n,a,i){var o=r.controlSize,s=r.rotation,l=i.getModel("controlStyle").getItemStyle(),u=i.getModel(["emphasis","controlStyle"]).getItemStyle(),c=i.getPlayState(),f=i.get("inverse",!0);d(r.nextBtnPosition,"next",Ye(this._changeTimeline,this,f?"-":"+")),d(r.prevBtnPosition,"prev",Ye(this._changeTimeline,this,f?"+":"-")),d(r.playPosition,c?"stop":"play",Ye(this._handlePlayClick,this,!c),!0);function d(v,g,y,b){if(v){var S=hu(et(i.get(["controlStyle",g+"BtnSize"]),o),o),w=[0,-S/2,S,S],M=wOe(i,g+"Icon",w,{x:v[0],y:v[1],originX:o/2,originY:0,rotation:b?-s:0,rectHover:!0,style:l,onclick:y});M.ensureState("emphasis").style=u,n.add(M),jv(M)}}},e.prototype._renderCurrentPointer=function(r,n,a,i){var o=i.getData(),s=i.getCurrentIndex(),l=o.getItemModel(s).getModel("checkpointStyle"),u=this,c={onCreate:function(f){f.draggable=!0,f.drift=Ye(u._handlePointerDrag,u),f.ondragend=Ye(u._handlePointerDragend,u),z6(f,u._progressLine,s,a,i,!0)},onUpdate:function(f){z6(f,u._progressLine,s,a,i)}};this._currentPointer=j6(l,l,this._mainGroup,{},this._currentPointer,c)},e.prototype._handlePlayClick=function(r){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:r,from:this.uid})},e.prototype._handlePointerDrag=function(r,n,a){this._clearTimer(),this._pointerChangeTimeline([a.offsetX,a.offsetY])},e.prototype._handlePointerDragend=function(r){this._pointerChangeTimeline([r.offsetX,r.offsetY],!0)},e.prototype._pointerChangeTimeline=function(r,n){var a=this._toAxisCoord(r)[0],i=this._axis,o=yl(i.getExtent().slice());a>o[1]&&(a=o[1]),a<o[0]&&(a=o[0]),this._currentPointer.x=a,this._currentPointer.markRedraw();var s=this._progressLine;s&&(s.shape.x2=a,s.dirty());var l=this._findNearestTick(a),u=this.model;(n||l!==u.getCurrentIndex()&&u.get("realtime"))&&this._changeTimeline(l)},e.prototype._doPlayStop=function(){var r=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var n=r.model;r._changeTimeline(n.getCurrentIndex()+(n.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},e.prototype._toAxisCoord=function(r){var n=this._mainGroup.getLocalTransform();return iu(r,n,!0)},e.prototype._findNearestTick=function(r){var n=this.model.getData(),a=1/0,i,o=this._axis;return n.each(["value"],function(s,l){var u=o.dataToCoord(s),c=Math.abs(u-r);c<a&&(a=c,i=l)}),i},e.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},e.prototype._changeTimeline=function(r){var n=this.model.getCurrentIndex();r==="+"?r=n+1:r==="-"&&(r=n-1),this.api.dispatchAction({type:"timelineChange",currentIndex:r,from:this.uid})},e.prototype._updateTicksStatus=function(){var r=this.model.getCurrentIndex(),n=this._tickSymbols,a=this._tickLabels;if(n)for(var i=0;i<n.length;i++)n&&n[i]&&n[i].toggleState("progress",i<r);if(a)for(var i=0;i<a.length;i++)a&&a[i]&&a[i].toggleState("progress",O6(a[i]).dataIndex<=r)},e.type="timeline.slider",e})(yOe);function bOe(t,e){if(e=e||t.get("type"),e)switch(e){case"category":return new gm({ordinalMeta:t.getCategories(),extent:[1/0,-1/0]});case"time":return new lI({locale:t.ecModel.getLocaleModel(),useUTC:t.ecModel.get("useUTC")});default:return new wf}}function SOe(t,e){return Yn(t.getBoxLayoutParams(),ni(t,e).refContainer,t.get("padding"))}function wOe(t,e,r,n){var a=n.style,i=m_(t.get(["controlStyle",e]),n||{},new yt(r[0],r[1],r[2],r[3]));return a&&i.setStyle(a),i}function j6(t,e,r,n,a,i){var o=e.get("color");if(a)a.setColor(o),r.add(a),i&&i.onUpdate(a);else{var s=t.get("symbol");a=Oa(s,-1,-1,2,2,o),a.setStyle("strokeNoScale",!0),r.add(a),i&&i.onCreate(a)}var l=e.getItemStyle(["color"]);a.setStyle(l),n=Gt({rectHover:!0,z2:100},n,!0);var u=qm(t.get("symbolSize"));n.scaleX=u[0]/2,n.scaleY=u[1]/2;var c=gp(t.get("symbolOffset"),u);c&&(n.x=(n.x||0)+c[0],n.y=(n.y||0)+c[1]);var f=t.get("symbolRotate");return n.rotation=(f||0)*Math.PI/180||0,a.attr(n),a.updateTransform(),a}function z6(t,e,r,n,a,i){if(!t.dragging){var o=a.getModel("checkpointStyle"),s=n.dataToCoord(a.getData().get("value",r));if(i||!o.get("animation",!0))t.attr({x:s,y:0}),e&&e.attr({shape:{x2:s}});else{var l={duration:o.get("animationDuration",!0),easing:o.get("animationEasing",!0)};t.stopAnimation(null,!0),t.animateTo({x:s,y:0},l),e&&e.animateTo({shape:{x2:s}},l)}}}function TOe(t){t.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(e,r,n){var a=r.getComponent("timeline");return a&&e.currentIndex!=null&&(a.setCurrentIndex(e.currentIndex),!a.get("loop",!0)&&a.isIndexMax()&&a.getPlayState()&&(a.setPlayState(!1),n.dispatchAction({type:"timelinePlayChange",playState:!1,from:e.from}))),r.resetOption("timeline",{replaceMerge:a.get("replaceMerge",!0)}),gt({currentIndex:a.option.currentIndex},e)}),t.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(e,r){var n=r.getComponent("timeline");n&&e.playState!=null&&n.setPlayState(e.playState)})}function COe(t){var e=t&&t.timeline;Ee(e)||(e=e?[e]:[]),Y(e,function(r){r&&MOe(r)})}function MOe(t){var e=t.type,r={number:"value",time:"time"};if(r[e]&&(t.axisType=r[e],delete t.type),B6(t),Sv(t,"controlPosition")){var n=t.controlStyle||(t.controlStyle={});Sv(n,"position")||(n.position=t.controlPosition),n.position==="none"&&!Sv(n,"show")&&(n.show=!1,delete n.position),delete t.controlPosition}Y(t.data||[],function(a){mt(a)&&!Ee(a)&&(!Sv(a,"value")&&Sv(a,"name")&&(a.value=a.name),B6(a))})}function B6(t){var e=t.itemStyle||(t.itemStyle={}),r=e.emphasis||(e.emphasis={}),n=t.label||t.label||{},a=n.normal||(n.normal={}),i={normal:1,emphasis:1};Y(n,function(o,s){!i[s]&&!Sv(a,s)&&(a[s]=o)}),r.label&&!Sv(n,"emphasis")&&(n.emphasis=r.label,delete r.label)}function Sv(t,e){return t.hasOwnProperty(e)}function AOe(t){t.registerComponentModel($ee),t.registerComponentView(_Oe),t.registerSubTypeDefaulter("timeline",function(){return"slider"}),TOe(t),t.registerPreprocessor(COe)}function gO(t,e){if(!t)return!1;for(var r=Ee(t)?t:[t],n=0;n<r.length;n++)if(r[n]&&r[n][e])return!0;return!1}function J1(t){Xv(t,"label",["show"])}var eS=Xt(),Sc=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.createdBySelf=!1,r.preventAutoZ=!0,r}return e.prototype.init=function(r,n,a){this.mergeDefaultAndTheme(r,a),this._mergeOption(r,a,!1,!0)},e.prototype.isAnimationEnabled=function(){if(nr.node)return!1;var r=this.__hostSeries;return this.getShallow("animation")&&r&&r.isAnimationEnabled()},e.prototype.mergeOption=function(r,n){this._mergeOption(r,n,!1,!1)},e.prototype._mergeOption=function(r,n,a,i){var o=this.mainType;a||n.eachSeries(function(s){var l=s.get(this.mainType,!0),u=eS(s)[o];if(!l||!l.data){eS(s)[o]=null;return}u?u._mergeOption(l,n,!0):(i&&J1(l),Y(l.data,function(c){c instanceof Array?(J1(c[0]),J1(c[1])):J1(c)}),u=this.createMarkerModelFromSeries(l,this,n),Ae(u,{mainType:this.mainType,seriesIndex:s.seriesIndex,name:s.name,createdBySelf:!0}),u.__hostSeries=s),eS(s)[o]=u},this)},e.prototype.formatTooltip=function(r,n,a){var i=this.getData(),o=this.getRawValue(r),s=i.getName(r);return Ia("section",{header:this.name,blocks:[Ia("nameValue",{name:s,value:o,noName:!s,noValue:o==null})]})},e.prototype.getData=function(){return this._data},e.prototype.setData=function(r){this._data=r},e.prototype.getDataParams=function(r,n){var a=CC.prototype.getDataParams.call(this,r,n),i=this.__hostSeries;return i&&(a.seriesId=i.id,a.seriesName=i.name,a.seriesType=i.subType),a},e.getMarkerModelFromSeries=function(r,n){return eS(r)[n]},e.type="marker",e.dependencies=["series","grid","polar","geo"],e})(er);ja(Sc,CC.prototype);var DOe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.createMarkerModelFromSeries=function(r,n,a){return new e(r,n,a)},e.type="markPoint",e.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},e})(Sc);function MR(t){return!(isNaN(parseFloat(t.x))&&isNaN(parseFloat(t.y)))}function LOe(t){return!isNaN(parseFloat(t.x))&&!isNaN(parseFloat(t.y))}function tS(t,e,r,n,a,i,o){var s=[],l=ed(e,a),u=l?e.getCalculationInfo("stackResultDimension"):a,c=eT(e,u,t),f=e.hostModel,d=f.indicesOfNearest(r,u,c)[0];s[i]=e.get(n,d),s[o]=e.get(u,d);var v=e.get(a,d),g=rc(e.get(a,d));return g=Math.min(g,20),g>=0&&(s[o]=+s[o].toFixed(g)),[s,v]}var rS={min:zt(tS,"min"),max:zt(tS,"max"),average:zt(tS,"average"),median:zt(tS,"median")};function qx(t,e){if(e){var r=t.getData(),n=t.coordinateSystem,a=n&&n.dimensions;if(!LOe(e)&&!Ee(e.coord)&&Ee(a)){var i=Xee(e,r,n,t);if(e=ut(e),e.type&&rS[e.type]&&i.baseAxis&&i.valueAxis){var o=Vt(a,i.baseAxis.dim),s=Vt(a,i.valueAxis.dim),l=rS[e.type](r,i.valueAxis.dim,i.baseDataDim,i.valueDataDim,o,s);e.coord=l[0],e.value=l[1]}else e.coord=[e.xAxis!=null?e.xAxis:e.radiusAxis,e.yAxis!=null?e.yAxis:e.angleAxis]}if(e.coord==null||!Ee(a)){e.coord=[];var u=t.getBaseAxis();if(u&&e.type&&rS[e.type]){var c=n.getOtherAxis(u);c&&(e.value=eT(r,r.mapDimension(c.dim),e.type))}}else for(var f=e.coord,d=0;d<2;d++)rS[f[d]]&&(f[d]=eT(r,r.mapDimension(a[d]),f[d]));return e}}function Xee(t,e,r,n){var a={};return t.valueIndex!=null||t.valueDim!=null?(a.valueDataDim=t.valueIndex!=null?e.getDimension(t.valueIndex):t.valueDim,a.valueAxis=r.getAxis(EOe(n,a.valueDataDim)),a.baseAxis=r.getOtherAxis(a.valueAxis),a.baseDataDim=e.mapDimension(a.baseAxis.dim)):(a.baseAxis=n.getBaseAxis(),a.valueAxis=r.getOtherAxis(a.baseAxis),a.baseDataDim=e.mapDimension(a.baseAxis.dim),a.valueDataDim=e.mapDimension(a.valueAxis.dim)),a}function EOe(t,e){var r=t.getData().getDimensionInfo(e);return r&&r.coordDim}function $x(t,e){return t&&t.containData&&e.coord&&!MR(e)?t.containData(e.coord):!0}function NOe(t,e,r){return t&&t.containZone&&e.coord&&r.coord&&!MR(e)&&!MR(r)?t.containZone(e.coord,r.coord):!0}function Kee(t,e){return t?function(r,n,a,i){var o=i<2?r.coord&&r.coord[i]:r.value;return Wh(o,e[i])}:function(r,n,a,i){return Wh(r.value,e[i])}}function eT(t,e,r){if(r==="average"){var n=0,a=0;return t.each(e,function(i,o){isNaN(i)||(n+=i,a++)}),n/a}else return r==="median"?t.getMedian(e):t.getDataExtent(e)[r==="max"?1:0]}var ML=Xt(),mO=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.init=function(){this.markerGroupMap=Qe()},e.prototype.render=function(r,n,a){var i=this,o=this.markerGroupMap;o.each(function(s){ML(s).keep=!1}),n.eachSeries(function(s){var l=Sc.getMarkerModelFromSeries(s,i.type);l&&i.renderSeries(s,l,n,a)}),o.each(function(s){!ML(s).keep&&i.group.remove(s.group)}),ROe(n,o,this.type)},e.prototype.markKeep=function(r){ML(r).keep=!0},e.prototype.toggleBlurSeries=function(r,n){var a=this;Y(r,function(i){var o=Sc.getMarkerModelFromSeries(i,a.type);if(o){var s=o.getData();s.eachItemGraphicEl(function(l){l&&(n?v$(l):Ck(l))})}})},e.type="marker",e})(Vn);function ROe(t,e,r){t.eachSeries(function(n){var a=Sc.getMarkerModelFromSeries(n,r),i=e.get(n.id);if(a&&i&&i.group){var o=tp(a),s=o.z,l=o.zlevel;_C(i.group,s,l)}})}function V6(t,e,r){var n=e.coordinateSystem,a=r.getWidth(),i=r.getHeight(),o=n&&n.getArea&&n.getArea();t.each(function(s){var l=t.getItemModel(s),u=l.get("relativeTo")==="coordinate",c=u?o?o.width:0:a,f=u?o?o.height:0:i,d=u&&o?o.x:0,v=u&&o?o.y:0,g,y=Ue(l.get("x"),c)+d,b=Ue(l.get("y"),f)+v;if(!isNaN(y)&&!isNaN(b))g=[y,b];else if(e.getMarkerPosition)g=e.getMarkerPosition(t.getValues(t.dimensions,s));else if(n){var S=t.get(n.dimensions[0],s),w=t.get(n.dimensions[1],s);g=n.dataToPoint([S,w])}isNaN(y)||(g[0]=y),isNaN(b)||(g[1]=b),t.setItemLayout(s,g)})}var POe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.updateTransform=function(r,n,a){n.eachSeries(function(i){var o=Sc.getMarkerModelFromSeries(i,"markPoint");o&&(V6(o.getData(),i,a),this.markerGroupMap.get(i.id).updateLayout())},this)},e.prototype.renderSeries=function(r,n,a,i){var o=r.coordinateSystem,s=r.id,l=r.getData(),u=this.markerGroupMap,c=u.get(s)||u.set(s,new C_),f=kOe(o,r,n);n.setData(f),V6(n.getData(),r,i),f.each(function(d){var v=f.getItemModel(d),g=v.getShallow("symbol"),y=v.getShallow("symbolSize"),b=v.getShallow("symbolRotate"),S=v.getShallow("symbolOffset"),w=v.getShallow("symbolKeepAspect");if(ot(g)||ot(y)||ot(b)||ot(S)){var M=n.getRawValue(d),A=n.getDataParams(d);ot(g)&&(g=g(M,A)),ot(y)&&(y=y(M,A)),ot(b)&&(b=b(M,A)),ot(S)&&(S=S(M,A))}var D=v.getModel("itemStyle").getItemStyle(),R=v.get("z2"),N=b_(l,"color");D.fill||(D.fill=N),f.setItemVisual(d,{z2:et(R,0),symbol:g,symbolSize:y,symbolRotate:b,symbolOffset:S,symbolKeepAspect:w,style:D})}),c.updateData(f),this.group.add(c.group),f.eachItemGraphicEl(function(d){d.traverse(function(v){wt(v).dataModel=n})}),this.markKeep(c),c.group.silent=n.get("silent")||r.get("silent")},e.type="markPoint",e})(mO);function kOe(t,e,r){var n;t?n=Re(t&&t.dimensions,function(s){var l=e.getData().getDimensionInfo(e.getData().mapDimension(s))||{};return Ae(Ae({},l),{name:s,ordinalMeta:null})}):n=[{name:"value",type:"float"}];var a=new Lo(n,r),i=Re(r.get("data"),zt(qx,e));t&&(i=Ir(i,zt($x,t)));var o=Kee(!!t,n);return a.initData(i,null,o),a}function IOe(t){t.registerComponentModel(DOe),t.registerComponentView(POe),t.registerPreprocessor(function(e){gO(e.series,"markPoint")&&(e.markPoint=e.markPoint||{})})}var OOe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.createMarkerModelFromSeries=function(r,n,a){return new e(r,n,a)},e.type="markLine",e.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},e})(Sc),nS=Xt(),jOe=function(t,e,r,n){var a=t.getData(),i;if(Ee(n))i=n;else{var o=n.type;if(o==="min"||o==="max"||o==="average"||o==="median"||n.xAxis!=null||n.yAxis!=null){var s=void 0,l=void 0;if(n.yAxis!=null||n.xAxis!=null)s=e.getAxis(n.yAxis!=null?"y":"x"),l=Wi(n.yAxis,n.xAxis);else{var u=Xee(n,a,e,t);s=u.valueAxis;var c=TK(a,u.valueDataDim);l=eT(a,c,o)}var f=s.dim==="x"?0:1,d=1-f,v=ut(n),g={coord:[]};v.type=null,v.coord=[],v.coord[d]=-1/0,g.coord[d]=1/0;var y=r.get("precision");y>=0&&vr(l)&&(l=+l.toFixed(Math.min(y,20))),v.coord[f]=g.coord[f]=l,i=[v,g,{type:o,valueIndex:n.valueIndex,value:l}]}else i=[]}var b=[qx(t,i[0]),qx(t,i[1]),Ae({},i[2])];return b[2].type=b[2].type||null,Gt(b[2],b[0]),Gt(b[2],b[1]),b};function tT(t){return!isNaN(t)&&!isFinite(t)}function F6(t,e,r,n){var a=1-t,i=n.dimensions[t];return tT(e[a])&&tT(r[a])&&e[t]===r[t]&&n.getAxis(i).containData(e[t])}function zOe(t,e){if(t.type==="cartesian2d"){var r=e[0].coord,n=e[1].coord;if(r&&n&&(F6(1,r,n,t)||F6(0,r,n,t)))return!0}return $x(t,e[0])&&$x(t,e[1])}function AL(t,e,r,n,a){var i=n.coordinateSystem,o=t.getItemModel(e),s,l=Ue(o.get("x"),a.getWidth()),u=Ue(o.get("y"),a.getHeight());if(!isNaN(l)&&!isNaN(u))s=[l,u];else{if(n.getMarkerPosition)s=n.getMarkerPosition(t.getValues(t.dimensions,e));else{var c=i.dimensions,f=t.get(c[0],e),d=t.get(c[1],e);s=i.dataToPoint([f,d])}if(td(i,"cartesian2d")){var v=i.getAxis("x"),g=i.getAxis("y"),c=i.dimensions;tT(t.get(c[0],e))?s[0]=v.toGlobalCoord(v.getExtent()[r?0:1]):tT(t.get(c[1],e))&&(s[1]=g.toGlobalCoord(g.getExtent()[r?0:1]))}isNaN(l)||(s[0]=l),isNaN(u)||(s[1]=u)}t.setItemLayout(e,s)}var BOe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.updateTransform=function(r,n,a){n.eachSeries(function(i){var o=Sc.getMarkerModelFromSeries(i,"markLine");if(o){var s=o.getData(),l=nS(o).from,u=nS(o).to;l.each(function(c){AL(l,c,!0,i,a),AL(u,c,!1,i,a)}),s.each(function(c){s.setItemLayout(c,[l.getItemLayout(c),u.getItemLayout(c)])}),this.markerGroupMap.get(i.id).updateLayout()}},this)},e.prototype.renderSeries=function(r,n,a,i){var o=r.coordinateSystem,s=r.id,l=r.getData(),u=this.markerGroupMap,c=u.get(s)||u.set(s,new OI);this.group.add(c.group);var f=VOe(o,r,n),d=f.from,v=f.to,g=f.line;nS(n).from=d,nS(n).to=v,n.setData(g);var y=n.get("symbol"),b=n.get("symbolSize"),S=n.get("symbolRotate"),w=n.get("symbolOffset");Ee(y)||(y=[y,y]),Ee(b)||(b=[b,b]),Ee(S)||(S=[S,S]),Ee(w)||(w=[w,w]),f.from.each(function(A){M(d,A,!0),M(v,A,!1)}),g.each(function(A){var D=g.getItemModel(A),R=D.getModel("lineStyle").getLineStyle();g.setItemLayout(A,[d.getItemLayout(A),v.getItemLayout(A)]);var N=D.get("z2");R.stroke==null&&(R.stroke=d.getItemVisual(A,"style").fill),g.setItemVisual(A,{z2:et(N,0),fromSymbolKeepAspect:d.getItemVisual(A,"symbolKeepAspect"),fromSymbolOffset:d.getItemVisual(A,"symbolOffset"),fromSymbolRotate:d.getItemVisual(A,"symbolRotate"),fromSymbolSize:d.getItemVisual(A,"symbolSize"),fromSymbol:d.getItemVisual(A,"symbol"),toSymbolKeepAspect:v.getItemVisual(A,"symbolKeepAspect"),toSymbolOffset:v.getItemVisual(A,"symbolOffset"),toSymbolRotate:v.getItemVisual(A,"symbolRotate"),toSymbolSize:v.getItemVisual(A,"symbolSize"),toSymbol:v.getItemVisual(A,"symbol"),style:R})}),c.updateData(g),f.line.eachItemGraphicEl(function(A){wt(A).dataModel=n,A.traverse(function(D){wt(D).dataModel=n})});function M(A,D,R){var N=A.getItemModel(D);AL(A,D,R,r,i);var I=N.getModel("itemStyle").getItemStyle();I.fill==null&&(I.fill=b_(l,"color")),A.setItemVisual(D,{symbolKeepAspect:N.get("symbolKeepAspect"),symbolOffset:et(N.get("symbolOffset",!0),w[R?0:1]),symbolRotate:et(N.get("symbolRotate",!0),S[R?0:1]),symbolSize:et(N.get("symbolSize"),b[R?0:1]),symbol:et(N.get("symbol",!0),y[R?0:1]),style:I})}this.markKeep(c),c.group.silent=n.get("silent")||r.get("silent")},e.type="markLine",e})(mO);function VOe(t,e,r){var n;t?n=Re(t&&t.dimensions,function(u){var c=e.getData().getDimensionInfo(e.getData().mapDimension(u))||{};return Ae(Ae({},c),{name:u,ordinalMeta:null})}):n=[{name:"value",type:"float"}];var a=new Lo(n,r),i=new Lo(n,r),o=new Lo([],r),s=Re(r.get("data"),zt(jOe,e,t,r));t&&(s=Ir(s,zt(zOe,t)));var l=Kee(!!t,n);return a.initData(Re(s,function(u){return u[0]}),null,l),i.initData(Re(s,function(u){return u[1]}),null,l),o.initData(Re(s,function(u){return u[2]})),o.hasItemOption=!0,{from:a,to:i,line:o}}function FOe(t){t.registerComponentModel(OOe),t.registerComponentView(BOe),t.registerPreprocessor(function(e){gO(e.series,"markLine")&&(e.markLine=e.markLine||{})})}var HOe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.createMarkerModelFromSeries=function(r,n,a){return new e(r,n,a)},e.type="markArea",e.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},e})(Sc),aS=Xt(),GOe=function(t,e,r,n){var a=n[0],i=n[1];if(!(!a||!i)){var o=qx(t,a),s=qx(t,i),l=o.coord,u=s.coord;l[0]=Wi(l[0],-1/0),l[1]=Wi(l[1],-1/0),u[0]=Wi(u[0],1/0),u[1]=Wi(u[1],1/0);var c=sk([{},o,s]);return c.coord=[o.coord,s.coord],c.x0=o.x,c.y0=o.y,c.x1=s.x,c.y1=s.y,c}};function rT(t){return!isNaN(t)&&!isFinite(t)}function H6(t,e,r,n){var a=1-t;return rT(e[a])&&rT(r[a])}function UOe(t,e){var r=e.coord[0],n=e.coord[1],a={coord:r,x:e.x0,y:e.y0},i={coord:n,x:e.x1,y:e.y1};return td(t,"cartesian2d")?r&&n&&(H6(1,r,n)||H6(0,r,n))?!0:NOe(t,a,i):$x(t,a)||$x(t,i)}function G6(t,e,r,n,a){var i=n.coordinateSystem,o=t.getItemModel(e),s,l=Ue(o.get(r[0]),a.getWidth()),u=Ue(o.get(r[1]),a.getHeight());if(!isNaN(l)&&!isNaN(u))s=[l,u];else{if(n.getMarkerPosition){var c=t.getValues(["x0","y0"],e),f=t.getValues(["x1","y1"],e),d=i.clampData(c),v=i.clampData(f),g=[];r[0]==="x0"?g[0]=d[0]>v[0]?f[0]:c[0]:g[0]=d[0]>v[0]?c[0]:f[0],r[1]==="y0"?g[1]=d[1]>v[1]?f[1]:c[1]:g[1]=d[1]>v[1]?c[1]:f[1],s=n.getMarkerPosition(g,r,!0)}else{var y=t.get(r[0],e),b=t.get(r[1],e),S=[y,b];i.clampData&&i.clampData(S,S),s=i.dataToPoint(S,!0)}if(td(i,"cartesian2d")){var w=i.getAxis("x"),M=i.getAxis("y"),y=t.get(r[0],e),b=t.get(r[1],e);rT(y)?s[0]=w.toGlobalCoord(w.getExtent()[r[0]==="x0"?0:1]):rT(b)&&(s[1]=M.toGlobalCoord(M.getExtent()[r[1]==="y0"?0:1]))}isNaN(l)||(s[0]=l),isNaN(u)||(s[1]=u)}return s}var U6=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],WOe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.updateTransform=function(r,n,a){n.eachSeries(function(i){var o=Sc.getMarkerModelFromSeries(i,"markArea");if(o){var s=o.getData();s.each(function(l){var u=Re(U6,function(f){return G6(s,l,f,i,a)});s.setItemLayout(l,u);var c=s.getItemGraphicEl(l);c.setShape("points",u)})}},this)},e.prototype.renderSeries=function(r,n,a,i){var o=r.coordinateSystem,s=r.id,l=r.getData(),u=this.markerGroupMap,c=u.get(s)||u.set(s,{group:new st});this.group.add(c.group),this.markKeep(c);var f=YOe(o,r,n);n.setData(f),f.each(function(d){var v=Re(U6,function(B){return G6(f,d,B,r,i)}),g=o.getAxis("x").scale,y=o.getAxis("y").scale,b=g.getExtent(),S=y.getExtent(),w=[g.parse(f.get("x0",d)),g.parse(f.get("x1",d))],M=[y.parse(f.get("y0",d)),y.parse(f.get("y1",d))];yl(w),yl(M);var A=!(b[0]>w[1]||b[1]<w[0]||S[0]>M[1]||S[1]<M[0]),D=!A;f.setItemLayout(d,{points:v,allClipped:D});var R=f.getItemModel(d),N=R.getModel("itemStyle").getItemStyle(),I=R.get("z2"),z=b_(l,"color");N.fill||(N.fill=z,We(N.fill)&&(N.fill=ow(N.fill,.4))),N.stroke||(N.stroke=z),f.setItemVisual(d,"style",N),f.setItemVisual(d,"z2",et(I,0))}),f.diff(aS(c).data).add(function(d){var v=f.getItemLayout(d),g=f.getItemVisual(d,"z2");if(!v.allClipped){var y=new ho({z2:et(g,0),shape:{points:v.points}});f.setItemGraphicEl(d,y),c.group.add(y)}}).update(function(d,v){var g=aS(c).data.getItemGraphicEl(v),y=f.getItemLayout(d),b=f.getItemVisual(d,"z2");y.allClipped?g&&c.group.remove(g):(g?Sr(g,{z2:et(b,0),shape:{points:y.points}},n,d):g=new ho({shape:{points:y.points}}),f.setItemGraphicEl(d,g),c.group.add(g))}).remove(function(d){var v=aS(c).data.getItemGraphicEl(d);c.group.remove(v)}).execute(),f.eachItemGraphicEl(function(d,v){var g=f.getItemModel(v),y=f.getItemVisual(v,"style");d.useStyle(f.getItemVisual(v,"style")),xi(d,ri(g),{labelFetcher:n,labelDataIndex:v,defaultText:f.getName(v)||"",inheritColor:We(y.fill)?ow(y.fill,1):ve.color.neutral99}),ti(d,g),Wn(d,null,null,g.get(["emphasis","disabled"])),wt(d).dataModel=n}),aS(c).data=f,c.group.silent=n.get("silent")||r.get("silent")},e.type="markArea",e})(mO);function YOe(t,e,r){var n,a,i=["x0","y0","x1","y1"];if(t){var o=Re(t&&t.dimensions,function(u){var c=e.getData(),f=c.getDimensionInfo(c.mapDimension(u))||{};return Ae(Ae({},f),{name:u,ordinalMeta:null})});a=Re(i,function(u,c){return{name:u,type:o[c%2].type}}),n=new Lo(a,r)}else a=[{name:"value",type:"float"}],n=new Lo(a,r);var s=Re(r.get("data"),zt(GOe,e,t,r));t&&(s=Ir(s,zt(UOe,t)));var l=t?function(u,c,f,d){var v=u.coord[Math.floor(d/2)][d%2];return Wh(v,a[d])}:function(u,c,f,d){return Wh(u.value,a[d])};return n.initData(s,null,l),n.hasItemOption=!0,n}function ZOe(t){t.registerComponentModel(HOe),t.registerComponentView(WOe),t.registerPreprocessor(function(e){gO(e.series,"markArea")&&(e.markArea=e.markArea||{})})}var qOe=function(t,e){if(e==="all")return{type:"all",title:t.getLocaleModel().get(["legend","selector","all"])};if(e==="inverse")return{type:"inverse",title:t.getLocaleModel().get(["legend","selector","inverse"])}},AR=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.layoutMode={type:"box",ignoreSize:!0},r}return e.prototype.init=function(r,n,a){this.mergeDefaultAndTheme(r,a),r.selected=r.selected||{},this._updateSelector(r)},e.prototype.mergeOption=function(r,n){t.prototype.mergeOption.call(this,r,n),this._updateSelector(r)},e.prototype._updateSelector=function(r){var n=r.selector,a=this.ecModel;n===!0&&(n=r.selector=["all","inverse"]),Ee(n)&&Y(n,function(i,o){We(i)&&(i={type:i}),n[o]=Gt(i,qOe(a,i.type))})},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var r=this._data;if(r[0]&&this.get("selectedMode")==="single"){for(var n=!1,a=0;a<r.length;a++){var i=r[a].get("name");if(this.isSelected(i)){this.select(i),n=!0;break}}!n&&this.select(r[0].get("name"))}},e.prototype._updateData=function(r){var n=[],a=[];r.eachRawSeries(function(l){var u=l.name;a.push(u);var c;if(l.legendVisualProvider){var f=l.legendVisualProvider,d=f.getAllNames();r.isSeriesFiltered(l)||(a=a.concat(d)),d.length?n=n.concat(d):c=!0}else c=!0;c&&gk(l)&&n.push(l.name)}),this._availableNames=a;var i=this.get("data")||n,o=Qe(),s=Re(i,function(l){return(We(l)||vr(l))&&(l={name:l}),o.get(l.name)?null:(o.set(l.name,!0),new ar(l,this,this.ecModel))},this);this._data=Ir(s,function(l){return!!l})},e.prototype.getData=function(){return this._data},e.prototype.select=function(r){var n=this.option.selected,a=this.get("selectedMode");if(a==="single"){var i=this._data;Y(i,function(o){n[o.get("name")]=!1})}n[r]=!0},e.prototype.unSelect=function(r){this.get("selectedMode")!=="single"&&(this.option.selected[r]=!1)},e.prototype.toggleSelected=function(r){var n=this.option.selected;n.hasOwnProperty(r)||(n[r]=!0),this[n[r]?"unSelect":"select"](r)},e.prototype.allSelect=function(){var r=this._data,n=this.option.selected;Y(r,function(a){n[a.get("name",!0)]=!0})},e.prototype.inverseSelect=function(){var r=this._data,n=this.option.selected;Y(r,function(a){var i=a.get("name",!0);n.hasOwnProperty(i)||(n[i]=!0),n[i]=!n[i]})},e.prototype.isSelected=function(r){var n=this.option.selected;return!(n.hasOwnProperty(r)&&!n[r])&&Vt(this._availableNames,r)>=0},e.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",bottom:ve.size.m,align:"auto",backgroundColor:ve.color.transparent,borderColor:ve.color.border,borderRadius:0,borderWidth:0,padding:5,itemGap:8,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:ve.color.disabled,inactiveBorderColor:ve.color.disabled,inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:ve.color.disabled,inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:ve.color.secondary},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:ve.color.tertiary,borderWidth:1,borderColor:ve.color.border},emphasis:{selectorLabel:{show:!0,color:ve.color.quaternary}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1},triggerEvent:!1},e})(er),Cg=zt,DR=Y,iS=st,Qee=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.newlineDisabled=!1,r}return e.prototype.init=function(){this.group.add(this._contentGroup=new iS),this.group.add(this._selectorGroup=new iS),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(r,n,a){var i=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!r.get("show",!0)){var o=r.get("align"),s=r.get("orient");(!o||o==="auto")&&(o=r.get("left")==="right"&&s==="vertical"?"right":"left");var l=r.get("selector",!0),u=r.get("selectorPosition",!0);l&&(!u||u==="auto")&&(u=s==="horizontal"?"end":"start"),this.renderInner(o,r,n,a,l,s,u);var c=ni(r,a).refContainer,f=r.getBoxLayoutParams(),d=r.get("padding"),v=Yn(f,c,d),g=this.layoutInner(r,o,v,i,l,u),y=Yn(gt({width:g.width,height:g.height},f),c,d);this.group.x=y.x-g.x,this.group.y=y.y-g.y,this.group.markRedraw(),this.group.add(this._backgroundEl=Vee(g,r))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(r,n,a,i,o,s,l){var u=this.getContentGroup(),c=Qe(),f=n.get("selectedMode"),d=n.get("triggerEvent"),v=[];a.eachRawSeries(function(g){!g.get("legendHoverLink")&&v.push(g.id)}),DR(n.getData(),function(g,y){var b=this,S=g.get("name");if(!this.newlineDisabled&&(S===""||S===`
`)){var w=new iS;w.newline=!0,u.add(w);return}var M=a.getSeriesByName(S)[0];if(!c.get(S))if(M){var A=M.getData(),D=A.getVisual("legendLineStyle")||{},R=A.getVisual("legendIcon"),N=A.getVisual("style"),I=this._createItem(M,S,y,g,n,r,D,N,R,f,i);I.on("click",Cg(W6,S,null,i,v)).on("mouseover",Cg(LR,M.name,null,i,v)).on("mouseout",Cg(ER,M.name,null,i,v)),a.ssr&&I.eachChild(function(z){var B=wt(z);B.seriesIndex=M.seriesIndex,B.dataIndex=y,B.ssrType="legend"}),d&&I.eachChild(function(z){b.packEventData(z,n,M,y,S)}),c.set(S,!0)}else a.eachRawSeries(function(z){var B=this;if(!c.get(S)&&z.legendVisualProvider){var V=z.legendVisualProvider;if(!V.containName(S))return;var G=V.indexOfName(S),F=V.getItemVisual(G,"style"),q=V.getItemVisual(G,"legendIcon"),Q=as(F.fill);Q&&Q[3]===0&&(Q[3]=.2,F=Ae(Ae({},F),{fill:cc(Q,"rgba")}));var H=this._createItem(z,S,y,g,n,r,{},F,q,f,i);H.on("click",Cg(W6,null,S,i,v)).on("mouseover",Cg(LR,null,S,i,v)).on("mouseout",Cg(ER,null,S,i,v)),a.ssr&&H.eachChild(function(X){var W=wt(X);W.seriesIndex=z.seriesIndex,W.dataIndex=y,W.ssrType="legend"}),d&&H.eachChild(function(X){B.packEventData(X,n,z,y,S)}),c.set(S,!0)}},this)},this),o&&this._createSelector(o,n,i,s,l)},e.prototype.packEventData=function(r,n,a,i,o){var s={componentType:"legend",componentIndex:n.componentIndex,dataIndex:i,value:o,seriesIndex:a.seriesIndex};wt(r).eventData=s},e.prototype._createSelector=function(r,n,a,i,o){var s=this.getSelectorGroup();DR(r,function(u){var c=u.type,f=new xr({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){a.dispatchAction({type:c==="all"?"legendAllSelect":"legendInverseSelect",legendId:n.id})}});s.add(f);var d=n.getModel("selectorLabel"),v=n.getModel(["emphasis","selectorLabel"]);xi(f,{normal:d,emphasis:v},{defaultText:u.title}),jv(f)})},e.prototype._createItem=function(r,n,a,i,o,s,l,u,c,f,d){var v=r.visualDrawType,g=o.get("itemWidth"),y=o.get("itemHeight"),b=o.isSelected(n),S=i.get("symbolRotate"),w=i.get("symbolKeepAspect"),M=i.get("icon");c=M||c||"roundRect";var A=$Oe(c,i,l,u,v,b,d),D=new iS,R=i.getModel("textStyle");if(ot(r.getLegendIcon)&&(!M||M==="inherit"))D.add(r.getLegendIcon({itemWidth:g,itemHeight:y,icon:c,iconRotate:S,itemStyle:A.itemStyle,lineStyle:A.lineStyle,symbolKeepAspect:w}));else{var N=M==="inherit"&&r.getData().getVisual("symbol")?S==="inherit"?r.getData().getVisual("symbolRotate"):S:0;D.add(XOe({itemWidth:g,itemHeight:y,icon:c,iconRotate:N,itemStyle:A.itemStyle,symbolKeepAspect:w}))}var I=s==="left"?g+5:-5,z=s,B=o.get("formatter"),V=n;We(B)&&B?V=B.replace("{name}",n??""):ot(B)&&(V=B(n));var G=b?R.getTextColor():i.get("inactiveColor");D.add(new xr({style:bn(R,{text:V,x:I,y:y/2,fill:G,align:z,verticalAlign:"middle"},{inheritColor:G})}));var F=new $t({shape:D.getBoundingRect(),style:{fill:"transparent"}}),q=i.getModel("tooltip");return q.get("show")&&Nf({el:F,componentModel:o,itemName:n,itemTooltipOption:q.option}),D.add(F),D.eachChild(function(Q){Q.silent=!0}),F.silent=!f,this.getContentGroup().add(D),jv(D),D.__legendDataIndex=a,D},e.prototype.layoutInner=function(r,n,a,i,o,s){var l=this.getContentGroup(),u=this.getSelectorGroup();Bv(r.get("orient"),l,r.get("itemGap"),a.width,a.height);var c=l.getBoundingRect(),f=[-c.x,-c.y];if(u.markRedraw(),l.markRedraw(),o){Bv("horizontal",u,r.get("selectorItemGap",!0));var d=u.getBoundingRect(),v=[-d.x,-d.y],g=r.get("selectorButtonGap",!0),y=r.getOrient().index,b=y===0?"width":"height",S=y===0?"height":"width",w=y===0?"y":"x";s==="end"?v[y]+=c[b]+g:f[y]+=d[b]+g,v[1-y]+=c[S]/2-d[S]/2,u.x=v[0],u.y=v[1],l.x=f[0],l.y=f[1];var M={x:0,y:0};return M[b]=c[b]+g+d[b],M[S]=Math.max(c[S],d[S]),M[w]=Math.min(0,d[w]+v[1-y]),M}else return l.x=f[0],l.y=f[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e})(Vn);function $Oe(t,e,r,n,a,i,o){function s(b,S){b.lineWidth==="auto"&&(b.lineWidth=S.lineWidth>0?2:0),DR(b,function(w,M){b[M]==="inherit"&&(b[M]=S[M])})}var l=e.getModel("itemStyle"),u=l.getItemStyle(),c=t.lastIndexOf("empty",0)===0?"fill":"stroke",f=l.getShallow("decal");u.decal=!f||f==="inherit"?n.decal:pm(f,o),u.fill==="inherit"&&(u.fill=n[a]),u.stroke==="inherit"&&(u.stroke=n[c]),u.opacity==="inherit"&&(u.opacity=(a==="fill"?n:r).opacity),s(u,n);var d=e.getModel("lineStyle"),v=d.getLineStyle();if(s(v,r),u.fill==="auto"&&(u.fill=n.fill),u.stroke==="auto"&&(u.stroke=n.fill),v.stroke==="auto"&&(v.stroke=n.fill),!i){var g=e.get("inactiveBorderWidth"),y=u[c];u.lineWidth=g==="auto"?n.lineWidth>0&&y?2:0:u.lineWidth,u.fill=e.get("inactiveColor"),u.stroke=e.get("inactiveBorderColor"),v.stroke=d.get("inactiveColor"),v.lineWidth=d.get("inactiveWidth")}return{itemStyle:u,lineStyle:v}}function XOe(t){var e=t.icon||"roundRect",r=Oa(e,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill,t.symbolKeepAspect);return r.setStyle(t.itemStyle),r.rotation=(t.iconRotate||0)*Math.PI/180,r.setOrigin([t.itemWidth/2,t.itemHeight/2]),e.indexOf("empty")>-1&&(r.style.stroke=r.style.fill,r.style.fill=ve.color.neutral00,r.style.lineWidth=2),r}function W6(t,e,r,n){ER(t,e,r,n),r.dispatchAction({type:"legendToggleSelect",name:t??e}),LR(t,e,r,n)}function Jee(t){for(var e=t.getZr().storage.getDisplayList(),r,n=0,a=e.length;n<a&&!(r=e[n].states.emphasis);)n++;return r&&r.hoverLayer}function LR(t,e,r,n){Jee(r)||r.dispatchAction({type:"highlight",seriesName:t,name:e,excludeSeriesId:n})}function ER(t,e,r,n){Jee(r)||r.dispatchAction({type:"downplay",seriesName:t,name:e,excludeSeriesId:n})}function KOe(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.filterSeries(function(r){for(var n=0;n<e.length;n++)if(!e[n].isSelected(r.name))return!1;return!0})}function _0(t,e,r){var n=t==="allSelect"||t==="inverseSelect",a={},i=[];r.eachComponent({mainType:"legend",query:e},function(s){n?s[t]():s[t](e.name),Y6(s,a),i.push(s.componentIndex)});var o={};return r.eachComponent("legend",function(s){Y(a,function(l,u){s[l?"select":"unSelect"](u)}),Y6(s,o)}),n?{selected:o,legendIndex:i}:{name:e.name,selected:o}}function Y6(t,e){var r=e||{};return Y(t.getData(),function(n){var a=n.get("name");if(!(a===`
`||a==="")){var i=t.isSelected(a);Xe(r,a)?r[a]=r[a]&&i:r[a]=i}}),r}function QOe(t){t.registerAction("legendToggleSelect","legendselectchanged",zt(_0,"toggleSelected")),t.registerAction("legendAllSelect","legendselectall",zt(_0,"allSelect")),t.registerAction("legendInverseSelect","legendinverseselect",zt(_0,"inverseSelect")),t.registerAction("legendSelect","legendselected",zt(_0,"select")),t.registerAction("legendUnSelect","legendunselected",zt(_0,"unSelect"))}function ete(t){t.registerComponentModel(AR),t.registerComponentView(Qee),t.registerProcessor(t.PRIORITY.PROCESSOR.SERIES_FILTER,KOe),t.registerSubTypeDefaulter("legend",function(){return"plain"}),QOe(t)}var JOe=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.setScrollDataIndex=function(r){this.option.scrollDataIndex=r},e.prototype.init=function(r,n,a){var i=vp(r);t.prototype.init.call(this,r,n,a),Z6(this,r,i)},e.prototype.mergeOption=function(r,n){t.prototype.mergeOption.call(this,r,n),Z6(this,this.option,r)},e.type="legend.scroll",e.defaultOption=fd(AR.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:ve.color.accent50,pageIconInactiveColor:ve.color.accent10,pageIconSize:15,pageTextStyle:{color:ve.color.tertiary},animationDurationUpdate:800}),e})(AR);function Z6(t,e,r){var n=t.getOrient(),a=[1,1];a[n.index]=0,_c(e,r,{type:"box",ignoreSize:!!a})}var q6=st,DL=["width","height"],LL=["x","y"],eje=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.newlineDisabled=!0,r._currentIndex=0,r}return e.prototype.init=function(){t.prototype.init.call(this),this.group.add(this._containerGroup=new q6),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new q6)},e.prototype.resetInner=function(){t.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(r,n,a,i,o,s,l){var u=this;t.prototype.renderInner.call(this,r,n,a,i,o,s,l);var c=this._controllerGroup,f=n.get("pageIconSize",!0),d=Ee(f)?f:[f,f];g("pagePrev",0);var v=n.getModel("pageTextStyle");c.add(new xr({name:"pageText",style:{text:"xx/xx",fill:v.getTextColor(),font:v.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),g("pageNext",1);function g(y,b){var S=y+"DataIndex",w=m_(n.get("pageIcons",!0)[n.getOrient().name][b],{onclick:Ye(u._pageGo,u,S,n,i)},{x:-d[0]/2,y:-d[1]/2,width:d[0],height:d[1]});w.name=y,c.add(w)}},e.prototype.layoutInner=function(r,n,a,i,o,s){var l=this.getSelectorGroup(),u=r.getOrient().index,c=DL[u],f=LL[u],d=DL[1-u],v=LL[1-u];o&&Bv("horizontal",l,r.get("selectorItemGap",!0));var g=r.get("selectorButtonGap",!0),y=l.getBoundingRect(),b=[-y.x,-y.y],S=ut(a);o&&(S[c]=a[c]-y[c]-g);var w=this._layoutContentAndController(r,i,S,u,c,d,v,f);if(o){if(s==="end")b[u]+=w[c]+g;else{var M=y[c]+g;b[u]-=M,w[f]-=M}w[c]+=y[c]+g,b[1-u]+=w[v]+w[d]/2-y[d]/2,w[d]=Math.max(w[d],y[d]),w[v]=Math.min(w[v],y[v]+b[1-u]),l.x=b[0],l.y=b[1],l.markRedraw()}return w},e.prototype._layoutContentAndController=function(r,n,a,i,o,s,l,u){var c=this.getContentGroup(),f=this._containerGroup,d=this._controllerGroup;Bv(r.get("orient"),c,r.get("itemGap"),i?a.width:null,i?null:a.height),Bv("horizontal",d,r.get("pageButtonItemGap",!0));var v=c.getBoundingRect(),g=d.getBoundingRect(),y=this._showController=v[o]>a[o],b=[-v.x,-v.y];n||(b[i]=c[u]);var S=[0,0],w=[-g.x,-g.y],M=et(r.get("pageButtonGap",!0),r.get("itemGap",!0));if(y){var A=r.get("pageButtonPosition",!0);A==="end"?w[i]+=a[o]-g[o]:S[i]+=g[o]+M}w[1-i]+=v[s]/2-g[s]/2,c.setPosition(b),f.setPosition(S),d.setPosition(w);var D={x:0,y:0};if(D[o]=y?a[o]:v[o],D[s]=Math.max(v[s],g[s]),D[l]=Math.min(0,g[l]+w[1-i]),f.__rectSize=a[o],y){var R={x:0,y:0};R[o]=Math.max(a[o]-g[o]-M,0),R[s]=D[s],f.setClipPath(new $t({shape:R})),f.__rectSize=R[o]}else d.eachChild(function(I){I.attr({invisible:!0,silent:!0})});var N=this._getPageInfo(r);return N.pageIndex!=null&&Sr(c,{x:N.contentPosition[0],y:N.contentPosition[1]},y?r:null),this._updatePageInfoView(r,N),D},e.prototype._pageGo=function(r,n,a){var i=this._getPageInfo(n)[r];i!=null&&a.dispatchAction({type:"legendScroll",scrollDataIndex:i,legendId:n.id})},e.prototype._updatePageInfoView=function(r,n){var a=this._controllerGroup;Y(["pagePrev","pageNext"],function(c){var f=c+"DataIndex",d=n[f]!=null,v=a.childOfName(c);v&&(v.setStyle("fill",d?r.get("pageIconColor",!0):r.get("pageIconInactiveColor",!0)),v.cursor=d?"pointer":"default")});var i=a.childOfName("pageText"),o=r.get("pageFormatter"),s=n.pageIndex,l=s!=null?s+1:0,u=n.pageCount;i&&o&&i.setStyle("text",We(o)?o.replace("{current}",l==null?"":l+"").replace("{total}",u==null?"":u+""):o({current:l,total:u}))},e.prototype._getPageInfo=function(r){var n=r.get("scrollDataIndex",!0),a=this.getContentGroup(),i=this._containerGroup.__rectSize,o=r.getOrient().index,s=DL[o],l=LL[o],u=this._findTargetItemIndex(n),c=a.children(),f=c[u],d=c.length,v=d?1:0,g={contentPosition:[a.x,a.y],pageCount:v,pageIndex:v-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!f)return g;var y=A(f);g.contentPosition[o]=-y.s;for(var b=u+1,S=y,w=y,M=null;b<=d;++b)M=A(c[b]),(!M&&w.e>S.s+i||M&&!D(M,S.s))&&(w.i>S.i?S=w:S=M,S&&(g.pageNextDataIndex==null&&(g.pageNextDataIndex=S.i),++g.pageCount)),w=M;for(var b=u-1,S=y,w=y,M=null;b>=-1;--b)M=A(c[b]),(!M||!D(w,M.s))&&S.i<w.i&&(w=S,g.pagePrevDataIndex==null&&(g.pagePrevDataIndex=S.i),++g.pageCount,++g.pageIndex),S=M;return g;function A(R){if(R){var N=R.getBoundingRect(),I=N[l]+R[l];return{s:I,e:I+N[s],i:R.__legendDataIndex}}}function D(R,N){return R.e>=N&&R.s<=N+i}},e.prototype._findTargetItemIndex=function(r){if(!this._showController)return 0;var n,a=this.getContentGroup(),i;return a.eachChild(function(o,s){var l=o.__legendDataIndex;i==null&&l!=null&&(i=s),l===r&&(n=s)}),n??i},e.type="legend.scroll",e})(Qee);function tje(t){t.registerAction("legendScroll","legendscroll",function(e,r){var n=e.scrollDataIndex;n!=null&&r.eachComponent({mainType:"legend",subType:"scroll",query:e},function(a){a.setScrollDataIndex(n)})})}function rje(t){Ut(ete),t.registerComponentModel(JOe),t.registerComponentView(eje),tje(t)}function nje(t){Ut(ete),Ut(rje)}var aje=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.type="dataZoom.inside",e.defaultOption=fd(Zx.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),e})(Zx),yO=Xt();function ije(t,e,r){yO(t).coordSysRecordMap.each(function(n){var a=n.dataZoomInfoMap.get(e.uid);a&&(a.getRange=r)})}function oje(t,e){for(var r=yO(t).coordSysRecordMap,n=r.keys(),a=0;a<n.length;a++){var i=n[a],o=r.get(i),s=o.dataZoomInfoMap;if(s){var l=e.uid,u=s.get(l);u&&(s.removeKey(l),s.keys().length||tte(r,o))}}}function tte(t,e){if(e){t.removeKey(e.model.uid);var r=e.controller;r&&r.dispose()}}function sje(t,e){var r={model:e,containsPoint:zt(uje,e),dispatchAction:zt(lje,t),dataZoomInfoMap:null,controller:null},n=r.controller=new xp(t.getZr());return Y(["pan","zoom","scrollMove"],function(a){n.on(a,function(i){var o=[];r.dataZoomInfoMap.each(function(s){if(i.isAvailableBehavior(s.model.option)){var l=(s.getRange||{})[a],u=l&&l(s.dzReferCoordSysInfo,r.model.mainType,r.controller,i);!s.model.get("disabled",!0)&&u&&o.push({dataZoomId:s.model.id,start:u[0],end:u[1]})}}),o.length&&r.dispatchAction(o)})}),r}function lje(t,e){t.isDisposed()||t.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:e})}function uje(t,e,r,n){return t.coordinateSystem.containPoint([r,n])}function cje(t,e,r){var n,a="type_",i={type_true:2,type_move:1,type_false:0,type_undefined:-1},o=!0;return t.each(function(s){var l=s.model,u=l.get("disabled",!0)?!1:l.get("zoomLock",!0)?"move":!0;i[a+u]>i[a+n]&&(n=u),o=o&&l.get("preventDefaultMouseMove",!0)}),{controlType:n,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!o,api:r,zInfo:{component:e.model},triggerInfo:{roamTrigger:null,isInSelf:e.containsPoint}}}}function fje(t){t.registerProcessor(t.PRIORITY.PROCESSOR.FILTER,function(e,r){var n=yO(r),a=n.coordSysRecordMap||(n.coordSysRecordMap=Qe());a.each(function(i){i.dataZoomInfoMap=null}),e.eachComponent({mainType:"dataZoom",subType:"inside"},function(i){var o=jee(i);Y(o.infoList,function(s){var l=s.model.uid,u=a.get(l)||a.set(l,sje(r,s.model)),c=u.dataZoomInfoMap||(u.dataZoomInfoMap=Qe());c.set(i.uid,{dzReferCoordSysInfo:s,model:i,getRange:null})})}),a.each(function(i){var o=i.controller,s,l=i.dataZoomInfoMap;if(l){var u=l.keys()[0];u!=null&&(s=l.get(u))}if(!s){tte(a,i);return}var c=cje(l,i,r);o.enable(c.controlType,c.opt),Zm(i,"dispatchAction",s.model.get("throttle",!0),"fixRate")})})}var hje=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="dataZoom.inside",r}return e.prototype.render=function(r,n,a){if(t.prototype.render.apply(this,arguments),r.noTarget()){this._clear();return}this.range=r.getPercentRange(),ije(a,r,{pan:Ye(EL.pan,this),zoom:Ye(EL.zoom,this),scrollMove:Ye(EL.scrollMove,this)})},e.prototype.dispose=function(){this._clear(),t.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){oje(this.api,this.dataZoomModel),this.range=null},e.type="dataZoom.inside",e})(cO),EL={zoom:function(t,e,r,n){var a=this.range,i=a.slice(),o=t.axisModels[0];if(o){var s=NL[e](null,[n.originX,n.originY],o,r,t),l=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(i[1]-i[0])+i[0],u=Math.max(1/n.scale,0);i[0]=(i[0]-l)*u+l,i[1]=(i[1]-l)*u+l;var c=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(rd(0,i,[0,100],0,c.minSpan,c.maxSpan),this.range=i,a[0]!==i[0]||a[1]!==i[1])return i}},pan:$6(function(t,e,r,n,a,i){var o=NL[n]([i.oldX,i.oldY],[i.newX,i.newY],e,a,r);return o.signal*(t[1]-t[0])*o.pixel/o.pixelLength}),scrollMove:$6(function(t,e,r,n,a,i){var o=NL[n]([0,0],[i.scrollDelta,i.scrollDelta],e,a,r);return o.signal*(t[1]-t[0])*i.scrollDelta})};function $6(t){return function(e,r,n,a){var i=this.range,o=i.slice(),s=e.axisModels[0];if(s){var l=t(o,s,e,r,n,a);if(rd(l,o,[0,100],"all"),this.range=o,i[0]!==o[0]||i[1]!==o[1])return o}}}var NL={grid:function(t,e,r,n,a){var i=r.axis,o={},s=a.model.coordinateSystem.getRect();return t=t||[0,0],i.dim==="x"?(o.pixel=e[0]-t[0],o.pixelLength=s.width,o.pixelStart=s.x,o.signal=i.inverse?1:-1):(o.pixel=e[1]-t[1],o.pixelLength=s.height,o.pixelStart=s.y,o.signal=i.inverse?-1:1),o},polar:function(t,e,r,n,a){var i=r.axis,o={},s=a.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),u=s.getAngleAxis().getExtent();return t=t?s.pointToCoord(t):[0,0],e=s.pointToCoord(e),r.mainType==="radiusAxis"?(o.pixel=e[0]-t[0],o.pixelLength=l[1]-l[0],o.pixelStart=l[0],o.signal=i.inverse?1:-1):(o.pixel=e[1]-t[1],o.pixelLength=u[1]-u[0],o.pixelStart=u[0],o.signal=i.inverse?-1:1),o},singleAxis:function(t,e,r,n,a){var i=r.axis,o=a.model.coordinateSystem.getRect(),s={};return t=t||[0,0],i.orient==="horizontal"?(s.pixel=e[0]-t[0],s.pixelLength=o.width,s.pixelStart=o.x,s.signal=i.inverse?1:-1):(s.pixel=e[1]-t[1],s.pixelLength=o.height,s.pixelStart=o.y,s.signal=i.inverse?-1:1),s}};function rte(t){fO(t),t.registerComponentModel(aje),t.registerComponentView(hje),fje(t)}var dje=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.type="dataZoom.slider",e.layoutMode="box",e.defaultOption=fd(Zx.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:ve.color.accent10,borderRadius:0,backgroundColor:ve.color.transparent,dataBackground:{lineStyle:{color:ve.color.accent30,width:.5},areaStyle:{color:ve.color.accent20,opacity:.2}},selectedDataBackground:{lineStyle:{color:ve.color.accent40,width:.5},areaStyle:{color:ve.color.accent20,opacity:.3}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:ve.color.neutral00,borderColor:ve.color.accent20},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:ve.color.accent40,opacity:.5},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:ve.color.tertiary},brushSelect:!0,brushStyle:{color:ve.color.accent30,opacity:.3},emphasis:{handleLabel:{show:!0},handleStyle:{borderColor:ve.color.accent40},moveHandleStyle:{opacity:.8}},defaultLocationEdgeGap:15}),e})(Zx),b0=$t,vje=1,RL=30,pje=7,S0="horizontal",X6="vertical",gje=5,mje=["line","bar","candlestick","scatter"],yje={easing:"cubicOut",duration:100,delay:0},xje=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r._displayables={},r}return e.prototype.init=function(r,n){this.api=n,this._onBrush=Ye(this._onBrush,this),this._onBrushEnd=Ye(this._onBrushEnd,this)},e.prototype.render=function(r,n,a,i){if(t.prototype.render.apply(this,arguments),Zm(this,"_dispatchZoomAction",r.get("throttle"),"fixRate"),this._orient=r.getOrient(),r.get("show")===!1){this.group.removeAll();return}if(r.noTarget()){this._clear(),this.group.removeAll();return}(!i||i.type!=="dataZoom"||i.from!==this.uid)&&this._buildView(),this._updateView()},e.prototype.dispose=function(){this._clear(),t.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){Rx(this,"_dispatchZoomAction");var r=this.api.getZr();r.off("mousemove",this._onBrush),r.off("mouseup",this._onBrushEnd)},e.prototype._buildView=function(){var r=this.group;r.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var n=this._displayables.sliderGroup=new st;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),r.add(n),this._positionGroup()},e.prototype._resetLocation=function(){var r=this.dataZoomModel,n=this.api,a=r.get("brushSelect"),i=a?pje:0,o=ni(r,n).refContainer,s=this._findCoordRect(),l=r.get("defaultLocationEdgeGap",!0)||0,u=this._orient===S0?{right:o.width-s.x-s.width,top:o.height-RL-l-i,width:s.width,height:RL}:{right:l,top:s.y,width:RL,height:s.height},c=vp(r.option);Y(["right","top","width","height"],function(d){c[d]==="ph"&&(c[d]=u[d])});var f=Yn(c,o);this._location={x:f.x,y:f.y},this._size=[f.width,f.height],this._orient===X6&&this._size.reverse()},e.prototype._positionGroup=function(){var r=this.group,n=this._location,a=this._orient,i=this.dataZoomModel.getFirstTargetAxisModel(),o=i&&i.get("inverse"),s=this._displayables.sliderGroup,l=(this._dataShadowInfo||{}).otherAxisInverse;s.attr(a===S0&&!o?{scaleY:l?1:-1,scaleX:1}:a===S0&&o?{scaleY:l?1:-1,scaleX:-1}:a===X6&&!o?{scaleY:l?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:l?-1:1,scaleX:-1,rotation:Math.PI/2});var u=r.getBoundingRect([s]);r.x=n.x-u.x,r.y=n.y-u.y,r.markRedraw()},e.prototype._getViewExtent=function(){return[0,this._size[0]]},e.prototype._renderBackground=function(){var r=this.dataZoomModel,n=this._size,a=this._displayables.sliderGroup,i=r.get("brushSelect");a.add(new b0({silent:!0,shape:{x:0,y:0,width:n[0],height:n[1]},style:{fill:r.get("backgroundColor")},z2:-40}));var o=new b0({shape:{x:0,y:0,width:n[0],height:n[1]},style:{fill:"transparent"},z2:0,onclick:Ye(this._onClickPanel,this)}),s=this.api.getZr();i?(o.on("mousedown",this._onBrushStart,this),o.cursor="crosshair",s.on("mousemove",this._onBrush),s.on("mouseup",this._onBrushEnd)):(s.off("mousemove",this._onBrush),s.off("mouseup",this._onBrushEnd)),a.add(o)},e.prototype._renderDataShadow=function(){var r=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!r)return;var n=this._size,a=this._shadowSize||[],i=r.series,o=i.getRawData(),s=i.getShadowDim&&i.getShadowDim(),l=s&&o.getDimensionInfo(s)?i.getShadowDim():r.otherDim;if(l==null)return;var u=this._shadowPolygonPts,c=this._shadowPolylinePts;if(o!==this._shadowData||l!==this._shadowDim||n[0]!==a[0]||n[1]!==a[1]){var f=o.getDataExtent(r.thisDim),d=o.getDataExtent(l),v=(d[1]-d[0])*.3;d=[d[0]-v,d[1]+v];var g=[0,n[1]],y=[0,n[0]],b=[[n[0],0],[0,0]],S=[],w=y[1]/Math.max(1,o.count()-1),M=n[0]/(f[1]-f[0]),A=r.thisAxis.type==="time",D=-w,R=Math.round(o.count()/n[0]),N;o.each([r.thisDim,l],function(G,F,q){if(R>0&&q%R){A||(D+=w);return}D=A?(+G-f[0])*M:D+w;var Q=F==null||isNaN(F)||F==="",H=Q?0:kr(F,d,g,!0);Q&&!N&&q?(b.push([b[b.length-1][0],0]),S.push([S[S.length-1][0],0])):!Q&&N&&(b.push([D,0]),S.push([D,0])),Q||(b.push([D,H]),S.push([D,H])),N=Q}),u=this._shadowPolygonPts=b,c=this._shadowPolylinePts=S}this._shadowData=o,this._shadowDim=l,this._shadowSize=[n[0],n[1]];var I=this.dataZoomModel;function z(G){var F=I.getModel(G?"selectedDataBackground":"dataBackground"),q=new st,Q=new ho({shape:{points:u},segmentIgnoreThreshold:1,style:F.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),H=new Yi({shape:{points:c},segmentIgnoreThreshold:1,style:F.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return q.add(Q),q.add(H),q}for(var B=0;B<3;B++){var V=z(B===1);this._displayables.sliderGroup.add(V),this._displayables.dataShadowSegs.push(V)}},e.prototype._prepareDataShadowInfo=function(){var r=this.dataZoomModel,n=r.get("showDataShadow");if(n!==!1){var a,i=this.ecModel;return r.eachTargetAxis(function(o,s){var l=r.getAxisProxy(o,s).getTargetSeriesModels();Y(l,function(u){if(!a&&!(n!==!0&&Vt(mje,u.get("type"))<0)){var c=i.getComponent(zh(o),s).axis,f=_je(o),d,v=u.coordinateSystem;f!=null&&v.getOtherAxis&&(d=v.getOtherAxis(c).inverse),f=u.getData().mapDimension(f);var g=u.getData().mapDimension(o);a={thisAxis:c,series:u,thisDim:g,otherDim:f,otherAxisInverse:d}}},this)},this),a}},e.prototype._renderHandle=function(){var r=this.group,n=this._displayables,a=n.handles=[null,null],i=n.handleLabels=[null,null],o=this._displayables.sliderGroup,s=this._size,l=this.dataZoomModel,u=this.api,c=l.get("borderRadius")||0,f=l.get("brushSelect"),d=n.filler=new b0({silent:f,style:{fill:l.get("fillerColor")},textConfig:{position:"inside"}});o.add(d),o.add(new b0({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:s[0],height:s[1],r:c},style:{stroke:l.get("dataBackgroundColor")||l.get("borderColor"),lineWidth:vje,fill:ve.color.transparent}})),Y([0,1],function(M){var A=l.get("handleIcon");!ww[A]&&A.indexOf("path://")<0&&A.indexOf("image://")<0&&(A="path://"+A);var D=Oa(A,-1,0,2,2,null,!0);D.attr({cursor:bje(this._orient),draggable:!0,drift:Ye(this._onDragMove,this,M),ondragend:Ye(this._onDragEnd,this),onmouseover:Ye(this._showDataInfo,this,!0),onmouseout:Ye(this._showDataInfo,this,!1),z2:5});var R=D.getBoundingRect(),N=l.get("handleSize");this._handleHeight=Ue(N,this._size[1]),this._handleWidth=R.width/R.height*this._handleHeight,D.setStyle(l.getModel("handleStyle").getItemStyle()),D.style.strokeNoScale=!0,D.rectHover=!0,D.ensureState("emphasis").style=l.getModel(["emphasis","handleStyle"]).getItemStyle(),jv(D);var I=l.get("handleColor");I!=null&&(D.style.fill=I),o.add(a[M]=D);var z=l.getModel("textStyle"),B=l.get("handleLabel")||{},V=B.show||!1;r.add(i[M]=new xr({silent:!0,invisible:!V,style:bn(z,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:z.getTextColor(),font:z.getFont()}),z2:10}))},this);var v=d;if(f){var g=Ue(l.get("moveHandleSize"),s[1]),y=n.moveHandle=new $t({style:l.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:s[1]-.5,height:g}}),b=g*.8,S=n.moveHandleIcon=Oa(l.get("moveHandleIcon"),-b/2,-b/2,b,b,ve.color.neutral00,!0);S.silent=!0,S.y=s[1]+g/2-.5,y.ensureState("emphasis").style=l.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var w=Math.min(s[1]/2,Math.max(g,10));v=n.moveZone=new $t({invisible:!0,shape:{y:s[1]-w,height:g+w}}),v.on("mouseover",function(){u.enterEmphasis(y)}).on("mouseout",function(){u.leaveEmphasis(y)}),o.add(y),o.add(S),o.add(v)}v.attr({draggable:!0,cursor:"default",drift:Ye(this._onDragMove,this,"all"),ondragstart:Ye(this._showDataInfo,this,!0),ondragend:Ye(this._onDragEnd,this),onmouseover:Ye(this._showDataInfo,this,!0),onmouseout:Ye(this._showDataInfo,this,!1)})},e.prototype._resetInterval=function(){var r=this._range=this.dataZoomModel.getPercentRange(),n=this._getViewExtent();this._handleEnds=[kr(r[0],[0,100],n,!0),kr(r[1],[0,100],n,!0)]},e.prototype._updateInterval=function(r,n){var a=this.dataZoomModel,i=this._handleEnds,o=this._getViewExtent(),s=a.findRepresentativeAxisProxy().getMinMaxSpan(),l=[0,100];rd(n,i,o,a.get("zoomLock")?"all":r,s.minSpan!=null?kr(s.minSpan,l,o,!0):null,s.maxSpan!=null?kr(s.maxSpan,l,o,!0):null);var u=this._range,c=this._range=yl([kr(i[0],o,l,!0),kr(i[1],o,l,!0)]);return!u||u[0]!==c[0]||u[1]!==c[1]},e.prototype._updateView=function(r){var n=this._displayables,a=this._handleEnds,i=yl(a.slice()),o=this._size;Y([0,1],function(v){var g=n.handles[v],y=this._handleHeight;g.attr({scaleX:y/2,scaleY:y/2,x:a[v]+(v?-1:1),y:o[1]/2-y/2})},this),n.filler.setShape({x:i[0],y:0,width:i[1]-i[0],height:o[1]});var s={x:i[0],width:i[1]-i[0]};n.moveHandle&&(n.moveHandle.setShape(s),n.moveZone.setShape(s),n.moveZone.getBoundingRect(),n.moveHandleIcon&&n.moveHandleIcon.attr("x",s.x+s.width/2));for(var l=n.dataShadowSegs,u=[0,i[0],i[1],o[0]],c=0;c<l.length;c++){var f=l[c],d=f.getClipPath();d||(d=new $t,f.setClipPath(d)),d.setShape({x:u[c],y:0,width:u[c+1]-u[c],height:o[1]})}this._updateDataInfo(r)},e.prototype._updateDataInfo=function(r){var n=this.dataZoomModel,a=this._displayables,i=a.handleLabels,o=this._orient,s=["",""];if(n.get("showDetail")){var l=n.findRepresentativeAxisProxy();if(l){var u=l.getAxisModel().axis,c=this._range,f=r?l.calculateDataWindow({start:c[0],end:c[1]}).valueWindow:l.getDataValueWindow();s=[this._formatLabel(f[0],u),this._formatLabel(f[1],u)]}}var d=yl(this._handleEnds.slice());v.call(this,0),v.call(this,1);function v(g){var y=zv(a.handles[g].parent,this.group),b=xC(g===0?"right":"left",y),S=this._handleWidth/2+gje,w=iu([d[g]+(g===0?-S:S),this._size[1]/2],y);i[g].setStyle({x:w[0],y:w[1],verticalAlign:o===S0?"middle":b,align:o===S0?b:"center",text:s[g]})}},e.prototype._formatLabel=function(r,n){var a=this.dataZoomModel,i=a.get("labelFormatter"),o=a.get("labelPrecision");(o==null||o==="auto")&&(o=n.getPixelPrecision());var s=r==null||isNaN(r)?"":n.type==="category"||n.type==="time"?n.scale.getLabel({value:Math.round(r)}):r.toFixed(Math.min(o,20));return ot(i)?i(r,s):We(i)?i.replace("{value}",s):s},e.prototype._showDataInfo=function(r){var n=this.dataZoomModel.get("handleLabel")||{},a=n.show||!1,i=this.dataZoomModel.getModel(["emphasis","handleLabel"]),o=i.get("show")||!1,s=r||this._dragging?o:a,l=this._displayables,u=l.handleLabels;u[0].attr("invisible",!s),u[1].attr("invisible",!s),l.moveHandle&&this.api[s?"enterEmphasis":"leaveEmphasis"](l.moveHandle,1)},e.prototype._onDragMove=function(r,n,a,i){this._dragging=!0,yf(i.event);var o=this._displayables.sliderGroup.getLocalTransform(),s=iu([n,a],o,!0),l=this._updateInterval(r,s[0]),u=this.dataZoomModel.get("realtime");this._updateView(!u),l&&u&&this._dispatchZoomAction(!0)},e.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var r=this.dataZoomModel.get("realtime");!r&&this._dispatchZoomAction(!1)},e.prototype._onClickPanel=function(r){var n=this._size,a=this._displayables.sliderGroup.transformCoordToLocal(r.offsetX,r.offsetY);if(!(a[0]<0||a[0]>n[0]||a[1]<0||a[1]>n[1])){var i=this._handleEnds,o=(i[0]+i[1])/2,s=this._updateInterval("all",a[0]-o);this._updateView(),s&&this._dispatchZoomAction(!1)}},e.prototype._onBrushStart=function(r){var n=r.offsetX,a=r.offsetY;this._brushStart=new ht(n,a),this._brushing=!0,this._brushStartTime=+new Date},e.prototype._onBrushEnd=function(r){if(this._brushing){var n=this._displayables.brushRect;if(this._brushing=!1,!!n){n.attr("ignore",!0);var a=n.shape,i=+new Date;if(!(i-this._brushStartTime<200&&Math.abs(a.width)<5)){var o=this._getViewExtent(),s=[0,100],l=this._handleEnds=[a.x,a.x+a.width],u=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();rd(0,l,o,0,u.minSpan!=null?kr(u.minSpan,s,o,!0):null,u.maxSpan!=null?kr(u.maxSpan,s,o,!0):null),this._range=yl([kr(l[0],o,s,!0),kr(l[1],o,s,!0)]),this._updateView(),this._dispatchZoomAction(!1)}}}},e.prototype._onBrush=function(r){this._brushing&&(yf(r.event),this._updateBrushRect(r.offsetX,r.offsetY))},e.prototype._updateBrushRect=function(r,n){var a=this._displayables,i=this.dataZoomModel,o=a.brushRect;o||(o=a.brushRect=new b0({silent:!0,style:i.getModel("brushStyle").getItemStyle()}),a.sliderGroup.add(o)),o.attr("ignore",!1);var s=this._brushStart,l=this._displayables.sliderGroup,u=l.transformCoordToLocal(r,n),c=l.transformCoordToLocal(s.x,s.y),f=this._size;u[0]=Math.max(Math.min(f[0],u[0]),0),o.setShape({x:c[0],y:0,width:u[0]-c[0],height:f[1]})},e.prototype._dispatchZoomAction=function(r){var n=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:r?yje:null,start:n[0],end:n[1]})},e.prototype._findCoordRect=function(){var r,n=jee(this.dataZoomModel).infoList;if(!r&&n.length){var a=n[0].model.coordinateSystem;r=a.getRect&&a.getRect()}if(!r){var i=this.api.getWidth(),o=this.api.getHeight();r={x:i*.2,y:o*.2,width:i*.6,height:o*.6}}return r},e.type="dataZoom.slider",e})(cO);function _je(t){var e={x:"y",y:"x",radius:"angle",angle:"radius"};return e[t]}function bje(t){return t==="vertical"?"ns-resize":"ew-resize"}function nte(t){t.registerComponentModel(dje),t.registerComponentView(xje),fO(t)}function Sje(t){Ut(rte),Ut(nte)}var ate={get:function(t,e,r){var n=ut((wje[t]||{})[e]);return r&&Ee(n)?n[n.length-1]:n}},wje={color:{active:["#006edd","#e0ffff"],inactive:[ve.color.transparent]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},K6=mi.mapVisual,Tje=mi.eachVisual,Cje=Ee,Q6=Y,Mje=yl,Aje=kr,nT=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.stateList=["inRange","outOfRange"],r.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],r.layoutMode={type:"box",ignoreSize:!0},r.dataBound=[-1/0,1/0],r.targetVisuals={},r.controllerVisuals={},r}return e.prototype.init=function(r,n,a){this.mergeDefaultAndTheme(r,a)},e.prototype.optionUpdated=function(r,n){var a=this.option;!n&&Zee(a,r,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},e.prototype.resetVisual=function(r){var n=this.stateList;r=Ye(r,this),this.controllerVisuals=TR(this.option.controller,n,r),this.targetVisuals=TR(this.option.target,n,r)},e.prototype.getItemSymbol=function(){return null},e.prototype.getTargetSeriesIndices=function(){var r=this.option.seriesId,n=this.option.seriesIndex;n==null&&r==null&&(n="all");var a=Vm(this.ecModel,"series",{index:n,id:r},{useDefault:!1,enableAll:!0,enableNone:!1}).models;return Re(a,function(i){return i.componentIndex})},e.prototype.eachTargetSeries=function(r,n){Y(this.getTargetSeriesIndices(),function(a){var i=this.ecModel.getSeriesByIndex(a);i&&r.call(n,i)},this)},e.prototype.isTargetSeries=function(r){var n=!1;return this.eachTargetSeries(function(a){a===r&&(n=!0)}),n},e.prototype.formatValueText=function(r,n,a){var i=this.option,o=i.precision,s=this.dataBound,l=i.formatter,u;a=a||["<",">"],Ee(r)&&(r=r.slice(),u=!0);var c=n?r:u?[f(r[0]),f(r[1])]:f(r);if(We(l))return l.replace("{value}",u?c[0]:c).replace("{value2}",u?c[1]:c);if(ot(l))return u?l(r[0],r[1]):l(r);if(u)return r[0]===s[0]?a[0]+" "+c[1]:r[1]===s[1]?a[1]+" "+c[0]:c[0]+" - "+c[1];return c;function f(d){return d===s[0]?"min":d===s[1]?"max":(+d).toFixed(Math.min(o,20))}},e.prototype.resetExtent=function(){var r=this.option,n=Mje([r.min,r.max]);this._dataExtent=n},e.prototype.getDataDimensionIndex=function(r){var n=this.option.dimension;if(n!=null)return r.getDimensionIndex(n);for(var a=r.dimensions,i=a.length-1;i>=0;i--){var o=a[i],s=r.getDimensionInfo(o);if(!s.isCalculationCoord)return s.storeDimIndex}},e.prototype.getExtent=function(){return this._dataExtent.slice()},e.prototype.completeVisualOption=function(){var r=this.ecModel,n=this.option,a={inRange:n.inRange,outOfRange:n.outOfRange},i=n.target||(n.target={}),o=n.controller||(n.controller={});Gt(i,a),Gt(o,a);var s=this.isCategory();l.call(this,i),l.call(this,o),u.call(this,i,"inRange","outOfRange"),c.call(this,o);function l(f){Cje(n.color)&&!f.inRange&&(f.inRange={color:n.color.slice().reverse()}),f.inRange=f.inRange||{color:r.get("gradientColor")}}function u(f,d,v){var g=f[d],y=f[v];g&&!y&&(y=f[v]={},Q6(g,function(b,S){if(mi.isValidType(S)){var w=ate.get(S,"inactive",s);w!=null&&(y[S]=w,S==="color"&&!y.hasOwnProperty("opacity")&&!y.hasOwnProperty("colorAlpha")&&(y.opacity=[0,0]))}}))}function c(f){var d=(f.inRange||{}).symbol||(f.outOfRange||{}).symbol,v=(f.inRange||{}).symbolSize||(f.outOfRange||{}).symbolSize,g=this.get("inactiveColor"),y=this.getItemSymbol(),b=y||"roundRect";Q6(this.stateList,function(S){var w=this.itemSize,M=f[S];M||(M=f[S]={color:s?g:[g]}),M.symbol==null&&(M.symbol=d&&ut(d)||(s?b:[b])),M.symbolSize==null&&(M.symbolSize=v&&ut(v)||(s?w[0]:[w[0],w[0]])),M.symbol=K6(M.symbol,function(R){return R==="none"?b:R});var A=M.symbolSize;if(A!=null){var D=-1/0;Tje(A,function(R){R>D&&(D=R)}),M.symbolSize=K6(A,function(R){return Aje(R,[0,D],[0,w[0]],!0)})}},this)}},e.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},e.prototype.isCategory=function(){return!!this.option.categories},e.prototype.setSelected=function(r){},e.prototype.getSelected=function(){return null},e.prototype.getValueState=function(r){return null},e.prototype.getVisualMeta=function(r){return null},e.type="visualMap",e.dependencies=["series"],e.defaultOption={show:!0,z:4,min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:ve.color.transparent,borderColor:ve.color.borderTint,contentColor:ve.color.theme[0],inactiveColor:ve.color.disabled,borderWidth:0,padding:ve.size.m,textGap:10,precision:0,textStyle:{color:ve.color.secondary}},e})(er),J6=[20,140],Dje=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.optionUpdated=function(r,n){t.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(a){a.mappingMethod="linear",a.dataExtent=this.getExtent()}),this._resetRange()},e.prototype.resetItemSize=function(){t.prototype.resetItemSize.apply(this,arguments);var r=this.itemSize;(r[0]==null||isNaN(r[0]))&&(r[0]=J6[0]),(r[1]==null||isNaN(r[1]))&&(r[1]=J6[1])},e.prototype._resetRange=function(){var r=this.getExtent(),n=this.option.range;!n||n.auto?(r.auto=1,this.option.range=r):Ee(n)&&(n[0]>n[1]&&n.reverse(),n[0]=Math.max(n[0],r[0]),n[1]=Math.min(n[1],r[1]))},e.prototype.completeVisualOption=function(){t.prototype.completeVisualOption.apply(this,arguments),Y(this.stateList,function(r){var n=this.option.controller[r].symbolSize;n&&n[0]!==n[1]&&(n[0]=n[1]/3)},this)},e.prototype.setSelected=function(r){this.option.range=r.slice(),this._resetRange()},e.prototype.getSelected=function(){var r=this.getExtent(),n=yl((this.get("range")||[]).slice());return n[0]>r[1]&&(n[0]=r[1]),n[1]>r[1]&&(n[1]=r[1]),n[0]<r[0]&&(n[0]=r[0]),n[1]<r[0]&&(n[1]=r[0]),n},e.prototype.getValueState=function(r){var n=this.option.range,a=this.getExtent(),i=et(this.option.unboundedRange,!0);return(i&&n[0]<=a[0]||n[0]<=r)&&(i&&n[1]>=a[1]||r<=n[1])?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(r){var n=[];return this.eachTargetSeries(function(a){var i=[],o=a.getData();o.each(this.getDataDimensionIndex(o),function(s,l){r[0]<=s&&s<=r[1]&&i.push(l)},this),n.push({seriesId:a.id,dataIndex:i})},this),n},e.prototype.getVisualMeta=function(r){var n=e8(this,"outOfRange",this.getExtent()),a=e8(this,"inRange",this.option.range.slice()),i=[];function o(v,g){i.push({value:v,color:r(v,g)})}for(var s=0,l=0,u=a.length,c=n.length;l<c&&(!a.length||n[l]<=a[0]);l++)n[l]<a[s]&&o(n[l],"outOfRange");for(var f=1;s<u;s++,f=0)f&&i.length&&o(a[s],"outOfRange"),o(a[s],"inRange");for(var f=1;l<c;l++)(!a.length||a[a.length-1]<n[l])&&(f&&(i.length&&o(i[i.length-1].value,"outOfRange"),f=0),o(n[l],"outOfRange"));var d=i.length;return{stops:i,outerColors:[d?i[0].color:"transparent",d?i[d-1].color:"transparent"]}},e.type="visualMap.continuous",e.defaultOption=fd(nT.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:ve.color.neutral00,borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:ve.color.neutral00,borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:ve.color.shadow}}),e})(nT);function e8(t,e,r){if(r[0]===r[1])return r.slice();for(var n=200,a=(r[1]-r[0])/n,i=r[0],o=[],s=0;s<=n&&i<r[1];s++)o.push(i),i+=a;return o.push(r[1]),o}var ite=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.autoPositionValues={left:1,right:1,top:1,bottom:1},r}return e.prototype.init=function(r,n){this.ecModel=r,this.api=n},e.prototype.render=function(r,n,a,i){if(this.visualMapModel=r,r.get("show")===!1){this.group.removeAll();return}this.doRender(r,n,a,i)},e.prototype.renderBackground=function(r){var n=this.visualMapModel,a=y_(n.get("padding")||0),i=r.getBoundingRect();r.add(new $t({z2:-1,silent:!0,shape:{x:i.x-a[3],y:i.y-a[0],width:i.width+a[3]+a[1],height:i.height+a[0]+a[2]},style:{fill:n.get("backgroundColor"),stroke:n.get("borderColor"),lineWidth:n.get("borderWidth")}}))},e.prototype.getControllerVisual=function(r,n,a){a=a||{};var i=a.forceState,o=this.visualMapModel,s={};if(n==="color"){var l=o.get("contentColor");s.color=l}function u(v){return s[v]}function c(v,g){s[v]=g}var f=o.controllerVisuals[i||o.getValueState(r)],d=mi.prepareVisualTypes(f);return Y(d,function(v){var g=f[v];a.convertOpacityToAlpha&&v==="opacity"&&(v="colorAlpha",g=f.__alphaForOpacity),mi.dependsOn(v,n)&&g&&g.applyVisual(r,u,c)}),s[n]},e.prototype.positionGroup=function(r){var n=this.visualMapModel,a=this.api,i=ni(n,a).refContainer;wC(r,n.getBoxLayoutParams(),i)},e.prototype.doRender=function(r,n,a,i){},e.type="visualMap",e})(Vn),t8=[["left","right","width"],["top","bottom","height"]];function ote(t,e,r){var n=t.option,a=n.align;if(a!=null&&a!=="auto")return a;for(var i={width:e.getWidth(),height:e.getHeight()},o=n.orient==="horizontal"?1:0,s=t8[o],l=[0,null,10],u={},c=0;c<3;c++)u[t8[1-o][c]]=l[c],u[s[c]]=c===2?r[0]:n[s[c]];var f=[["x","width",3],["y","height",0]][o],d=Yn(u,i,n.padding);return s[(d.margin[f[2]]||0)+d[f[0]]+d[f[1]]*.5<i[f[1]]*.5?0:1]}function jS(t,e){return Y(t||[],function(r){r.dataIndex!=null&&(r.dataIndexInside=r.dataIndex,r.dataIndex=null),r.highlightKey="visualMap"+(e?e.componentIndex:"")}),t}var Yu=kr,Lje=Y,r8=Math.min,PL=Math.max,Eje=12,Nje=6,Rje=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r._shapes={},r._dataInterval=[],r._handleEnds=[],r._hoverLinkDataIndices=[],r}return e.prototype.init=function(r,n){t.prototype.init.call(this,r,n),this._hoverLinkFromSeriesMouseOver=Ye(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=Ye(this._hideIndicator,this)},e.prototype.doRender=function(r,n,a,i){(!i||i.type!=="selectDataRange"||i.from!==this.uid)&&this._buildView()},e.prototype._buildView=function(){this.group.removeAll();var r=this.visualMapModel,n=this.group;this._orient=r.get("orient"),this._useHandle=r.get("calculable"),this._resetInterval(),this._renderBar(n);var a=r.get("text");this._renderEndsText(n,a,0),this._renderEndsText(n,a,1),this._updateView(!0),this.renderBackground(n),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(n)},e.prototype._renderEndsText=function(r,n,a){if(n){var i=n[1-a];i=i!=null?i+"":"";var o=this.visualMapModel,s=o.get("textGap"),l=o.itemSize,u=this._shapes.mainGroup,c=this._applyTransform([l[0]/2,a===0?-s:l[1]+s],u),f=this._applyTransform(a===0?"bottom":"top",u),d=this._orient,v=this.visualMapModel.textStyleModel;this.group.add(new xr({style:bn(v,{x:c[0],y:c[1],verticalAlign:v.get("verticalAlign")||(d==="horizontal"?"middle":f),align:v.get("align")||(d==="horizontal"?f:"center"),text:i})}))}},e.prototype._renderBar=function(r){var n=this.visualMapModel,a=this._shapes,i=n.itemSize,o=this._orient,s=this._useHandle,l=ote(n,this.api,i),u=a.mainGroup=this._createBarGroup(l),c=new st;u.add(c),c.add(a.outOfRange=n8()),c.add(a.inRange=n8(null,s?i8(this._orient):null,Ye(this._dragHandle,this,"all",!1),Ye(this._dragHandle,this,"all",!0))),c.setClipPath(new $t({shape:{x:0,y:0,width:i[0],height:i[1],r:3}}));var f=n.textStyleModel.getTextRect(""),d=PL(f.width,f.height);s&&(a.handleThumbs=[],a.handleLabels=[],a.handleLabelPoints=[],this._createHandle(n,u,0,i,d,o),this._createHandle(n,u,1,i,d,o)),this._createIndicator(n,u,i,d,o),r.add(u)},e.prototype._createHandle=function(r,n,a,i,o,s){var l=Ye(this._dragHandle,this,a,!1),u=Ye(this._dragHandle,this,a,!0),c=hu(r.get("handleSize"),i[0]),f=Oa(r.get("handleIcon"),-c/2,-c/2,c,c,null,!0),d=i8(this._orient);f.attr({cursor:d,draggable:!0,drift:l,ondragend:u,onmousemove:function(S){yf(S.event)}}),f.x=i[0]/2,f.useStyle(r.getModel("handleStyle").getItemStyle()),f.setStyle({strokeNoScale:!0,strokeFirst:!0}),f.style.lineWidth*=2,f.ensureState("emphasis").style=r.getModel(["emphasis","handleStyle"]).getItemStyle(),Av(f,!0),n.add(f);var v=this.visualMapModel.textStyleModel,g=new xr({cursor:d,draggable:!0,drift:l,onmousemove:function(S){yf(S.event)},ondragend:u,style:bn(v,{x:0,y:0,text:""})});g.ensureState("blur").style={opacity:.1},g.stateTransition={duration:200},this.group.add(g);var y=[c,0],b=this._shapes;b.handleThumbs[a]=f,b.handleLabelPoints[a]=y,b.handleLabels[a]=g},e.prototype._createIndicator=function(r,n,a,i,o){var s=hu(r.get("indicatorSize"),a[0]),l=Oa(r.get("indicatorIcon"),-s/2,-s/2,s,s,null,!0);l.attr({cursor:"move",invisible:!0,silent:!0,x:a[0]/2});var u=r.getModel("indicatorStyle").getItemStyle();if(l instanceof Ni){var c=l.style;l.useStyle(Ae({image:c.image,x:c.x,y:c.y,width:c.width,height:c.height},u))}else l.useStyle(u);n.add(l);var f=this.visualMapModel.textStyleModel,d=new xr({silent:!0,invisible:!0,style:bn(f,{x:0,y:0,text:""})});this.group.add(d);var v=[(o==="horizontal"?i/2:Nje)+a[0]/2,0],g=this._shapes;g.indicator=l,g.indicatorLabel=d,g.indicatorLabelPoint=v,this._firstShowIndicator=!0},e.prototype._dragHandle=function(r,n,a,i){if(this._useHandle){if(this._dragging=!n,!n){var o=this._applyTransform([a,i],this._shapes.mainGroup,!0);this._updateInterval(r,o[1]),this._hideIndicator(),this._updateView()}n===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),n?!this._hovering&&this._clearHoverLinkToSeries():a8(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[r],!1)}},e.prototype._resetInterval=function(){var r=this.visualMapModel,n=this._dataInterval=r.getSelected(),a=r.getExtent(),i=[0,r.itemSize[1]];this._handleEnds=[Yu(n[0],a,i,!0),Yu(n[1],a,i,!0)]},e.prototype._updateInterval=function(r,n){n=n||0;var a=this.visualMapModel,i=this._handleEnds,o=[0,a.itemSize[1]];rd(n,i,o,r,0);var s=a.getExtent();this._dataInterval=[Yu(i[0],o,s,!0),Yu(i[1],o,s,!0)]},e.prototype._updateView=function(r){var n=this.visualMapModel,a=n.getExtent(),i=this._shapes,o=[0,n.itemSize[1]],s=r?o:this._handleEnds,l=this._createBarVisual(this._dataInterval,a,s,"inRange"),u=this._createBarVisual(a,a,o,"outOfRange");i.inRange.setStyle({fill:l.barColor}).setShape("points",l.barPoints),i.outOfRange.setStyle({fill:u.barColor}).setShape("points",u.barPoints),this._updateHandle(s,l)},e.prototype._createBarVisual=function(r,n,a,i){var o={forceState:i,convertOpacityToAlpha:!0},s=this._makeColorGradient(r,o),l=[this.getControllerVisual(r[0],"symbolSize",o),this.getControllerVisual(r[1],"symbolSize",o)],u=this._createBarPoints(a,l);return{barColor:new Hm(0,0,0,1,s),barPoints:u,handlesColor:[s[0].color,s[s.length-1].color]}},e.prototype._makeColorGradient=function(r,n){var a=100,i=[],o=(r[1]-r[0])/a;i.push({color:this.getControllerVisual(r[0],"color",n),offset:0});for(var s=1;s<a;s++){var l=r[0]+o*s;if(l>r[1])break;i.push({color:this.getControllerVisual(l,"color",n),offset:s/a})}return i.push({color:this.getControllerVisual(r[1],"color",n),offset:1}),i},e.prototype._createBarPoints=function(r,n){var a=this.visualMapModel.itemSize;return[[a[0]-n[0],r[0]],[a[0],r[0]],[a[0],r[1]],[a[0]-n[1],r[1]]]},e.prototype._createBarGroup=function(r){var n=this._orient,a=this.visualMapModel.get("inverse");return new st(n==="horizontal"&&!a?{scaleX:r==="bottom"?1:-1,rotation:Math.PI/2}:n==="horizontal"&&a?{scaleX:r==="bottom"?-1:1,rotation:-Math.PI/2}:n==="vertical"&&!a?{scaleX:r==="left"?1:-1,scaleY:-1}:{scaleX:r==="left"?1:-1})},e.prototype._updateHandle=function(r,n){if(this._useHandle){var a=this._shapes,i=this.visualMapModel,o=a.handleThumbs,s=a.handleLabels,l=i.itemSize,u=i.getExtent(),c=this._applyTransform("left",a.mainGroup);Lje([0,1],function(f){var d=o[f];d.setStyle("fill",n.handlesColor[f]),d.y=r[f];var v=Yu(r[f],[0,l[1]],u,!0),g=this.getControllerVisual(v,"symbolSize");d.scaleX=d.scaleY=g/l[0],d.x=l[0]-g/2;var y=iu(a.handleLabelPoints[f],zv(d,this.group));if(this._orient==="horizontal"){var b=c==="left"||c==="top"?(l[0]-g)/2:(l[0]-g)/-2;y[1]+=b}s[f].setStyle({x:y[0],y:y[1],text:i.formatValueText(this._dataInterval[f]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",a.mainGroup):"center"})},this)}},e.prototype._showIndicator=function(r,n,a,i){var o=this.visualMapModel,s=o.getExtent(),l=o.itemSize,u=[0,l[1]],c=this._shapes,f=c.indicator;if(f){f.attr("invisible",!1);var d={convertOpacityToAlpha:!0},v=this.getControllerVisual(r,"color",d),g=this.getControllerVisual(r,"symbolSize"),y=Yu(r,s,u,!0),b=l[0]-g/2,S={x:f.x,y:f.y};f.y=y,f.x=b;var w=iu(c.indicatorLabelPoint,zv(f,this.group)),M=c.indicatorLabel;M.attr("invisible",!1);var A=this._applyTransform("left",c.mainGroup),D=this._orient,R=D==="horizontal";M.setStyle({text:(a||"")+o.formatValueText(n),verticalAlign:R?A:"middle",align:R?"center":A});var N={x:b,y,style:{fill:v}},I={style:{x:w[0],y:w[1]}};if(o.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var z={duration:100,easing:"cubicInOut",additive:!0};f.x=S.x,f.y=S.y,f.animateTo(N,z),M.animateTo(I,z)}else f.attr(N),M.attr(I);this._firstShowIndicator=!1;var B=this._shapes.handleLabels;if(B)for(var V=0;V<B.length;V++)this.api.enterBlur(B[V])}},e.prototype._enableHoverLinkToSeries=function(){var r=this;this._shapes.mainGroup.on("mousemove",function(n){if(r._hovering=!0,!r._dragging){var a=r.visualMapModel.itemSize,i=r._applyTransform([n.offsetX,n.offsetY],r._shapes.mainGroup,!0,!0);i[1]=r8(PL(0,i[1]),a[1]),r._doHoverLinkToSeries(i[1],0<=i[0]&&i[0]<=a[0])}}).on("mouseout",function(){r._hovering=!1,!r._dragging&&r._clearHoverLinkToSeries()})},e.prototype._enableHoverLinkFromSeries=function(){var r=this.api.getZr();this.visualMapModel.option.hoverLink?(r.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),r.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},e.prototype._doHoverLinkToSeries=function(r,n){var a=this.visualMapModel,i=a.itemSize;if(a.option.hoverLink){var o=[0,i[1]],s=a.getExtent();r=r8(PL(o[0],r),o[1]);var l=Pje(a,s,o),u=[r-l,r+l],c=Yu(r,o,s,!0),f=[Yu(u[0],o,s,!0),Yu(u[1],o,s,!0)];u[0]<o[0]&&(f[0]=-1/0),u[1]>o[1]&&(f[1]=1/0),n&&(f[0]===-1/0?this._showIndicator(c,f[1],"< ",l):f[1]===1/0?this._showIndicator(c,f[0],"> ",l):this._showIndicator(c,c," ",l));var d=this._hoverLinkDataIndices,v=[];(n||a8(a))&&(v=this._hoverLinkDataIndices=a.findTargetDataIndices(f));var g=Mxe(d,v);this._dispatchHighDown("downplay",jS(g[0],a)),this._dispatchHighDown("highlight",jS(g[1],a))}},e.prototype._hoverLinkFromSeriesMouseOver=function(r){var n;if(Lv(r.target,function(l){var u=wt(l);if(u.dataIndex!=null)return n=u,!0},!0),!!n){var a=this.ecModel.getSeriesByIndex(n.seriesIndex),i=this.visualMapModel;if(i.isTargetSeries(a)){var o=a.getData(n.dataType),s=o.getStore().get(i.getDataDimensionIndex(o),n.dataIndex);isNaN(s)||this._showIndicator(s,s)}}},e.prototype._hideIndicator=function(){var r=this._shapes;r.indicator&&r.indicator.attr("invisible",!0),r.indicatorLabel&&r.indicatorLabel.attr("invisible",!0);var n=this._shapes.handleLabels;if(n)for(var a=0;a<n.length;a++)this.api.leaveBlur(n[a])},e.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var r=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",jS(r,this.visualMapModel)),r.length=0},e.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var r=this.api.getZr();r.off("mouseover",this._hoverLinkFromSeriesMouseOver),r.off("mouseout",this._hideIndicator)},e.prototype._applyTransform=function(r,n,a,i){var o=zv(n,i?null:this.group);return Ee(r)?iu(r,o,a):xC(r,o,a)},e.prototype._dispatchHighDown=function(r,n){n&&n.length&&this.api.dispatchAction({type:r,batch:n})},e.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.type="visualMap.continuous",e})(ite);function n8(t,e,r,n){return new ho({shape:{points:t},draggable:!!r,cursor:e,drift:r,onmousemove:function(a){yf(a.event)},ondragend:n})}function Pje(t,e,r){var n=Eje/2,a=t.get("hoverLinkDataSize");return a&&(n=Yu(a,e,r,!0)/2),n}function a8(t){var e=t.get("hoverLinkOnHandle");return!!(e??t.get("realtime"))}function i8(t){return t==="vertical"?"ns-resize":"ew-resize"}var kje={type:"selectDataRange",event:"dataRangeSelected",update:"update"},Ije=function(t,e){e.eachComponent({mainType:"visualMap",query:t},function(r){r.setSelected(t.selected)})},Oje=[{createOnAllSeries:!0,reset:function(t,e){var r=[];return e.eachComponent("visualMap",function(n){var a=t.pipelineContext;!n.isTargetSeries(t)||a&&a.large||r.push(nOe(n.stateList,n.targetVisuals,Ye(n.getValueState,n),n.getDataDimensionIndex(t.getData())))}),r}},{createOnAllSeries:!0,reset:function(t,e){var r=t.getData(),n=[];e.eachComponent("visualMap",function(a){if(a.isTargetSeries(t)){var i=a.getVisualMeta(Ye(jje,null,t,a))||{stops:[],outerColors:[]},o=a.getDataDimensionIndex(r);o>=0&&(i.dimension=o,n.push(i))}}),t.getData().setVisual("visualMeta",n)}}];function jje(t,e,r,n){for(var a=e.targetVisuals[n],i=mi.prepareVisualTypes(a),o={color:b_(t.getData(),"color")},s=0,l=i.length;s<l;s++){var u=i[s],c=a[u==="opacity"?"__alphaForOpacity":u];c&&c.applyVisual(r,f,d)}return o.color;function f(v){return o[v]}function d(v,g){o[v]=g}}var o8=Y;function zje(t){var e=t&&t.visualMap;Ee(e)||(e=e?[e]:[]),o8(e,function(r){if(r){Mg(r,"splitList")&&!Mg(r,"pieces")&&(r.pieces=r.splitList,delete r.splitList);var n=r.pieces;n&&Ee(n)&&o8(n,function(a){mt(a)&&(Mg(a,"start")&&!Mg(a,"min")&&(a.min=a.start),Mg(a,"end")&&!Mg(a,"max")&&(a.max=a.end))})}})}function Mg(t,e){return t&&t.hasOwnProperty&&t.hasOwnProperty(e)}var s8=!1;function ste(t){s8||(s8=!0,t.registerSubTypeDefaulter("visualMap",function(e){return!e.categories&&(!(e.pieces?e.pieces.length>0:e.splitNumber>0)||e.calculable)?"continuous":"piecewise"}),t.registerAction(kje,Ije),Y(Oje,function(e){t.registerVisual(t.PRIORITY.VISUAL.COMPONENT,e)}),t.registerPreprocessor(zje))}function lte(t){t.registerComponentModel(Dje),t.registerComponentView(Rje),ste(t)}var Bje=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r._pieceList=[],r}return e.prototype.optionUpdated=function(r,n){t.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var a=this._mode=this._determineMode();this._pieceList=[],Vje[this._mode].call(this,this._pieceList),this._resetSelected(r,n);var i=this.option.categories;this.resetVisual(function(o,s){a==="categories"?(o.mappingMethod="category",o.categories=ut(i)):(o.dataExtent=this.getExtent(),o.mappingMethod="piecewise",o.pieceList=Re(this._pieceList,function(l){return l=ut(l),s!=="inRange"&&(l.visual=null),l}))})},e.prototype.completeVisualOption=function(){var r=this.option,n={},a=mi.listVisualTypes(),i=this.isCategory();Y(r.pieces,function(s){Y(a,function(l){s.hasOwnProperty(l)&&(n[l]=1)})}),Y(n,function(s,l){var u=!1;Y(this.stateList,function(c){u=u||o(r,c,l)||o(r.target,c,l)},this),!u&&Y(this.stateList,function(c){(r[c]||(r[c]={}))[l]=ate.get(l,c==="inRange"?"active":"inactive",i)})},this);function o(s,l,u){return s&&s[l]&&s[l].hasOwnProperty(u)}t.prototype.completeVisualOption.apply(this,arguments)},e.prototype._resetSelected=function(r,n){var a=this.option,i=this._pieceList,o=(n?a:r).selected||{};if(a.selected=o,Y(i,function(l,u){var c=this.getSelectedMapKey(l);o.hasOwnProperty(c)||(o[c]=!0)},this),a.selectedMode==="single"){var s=!1;Y(i,function(l,u){var c=this.getSelectedMapKey(l);o[c]&&(s?o[c]=!1:s=!0)},this)}},e.prototype.getItemSymbol=function(){return this.get("itemSymbol")},e.prototype.getSelectedMapKey=function(r){return this._mode==="categories"?r.value+"":r.index+""},e.prototype.getPieceList=function(){return this._pieceList},e.prototype._determineMode=function(){var r=this.option;return r.pieces&&r.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},e.prototype.setSelected=function(r){this.option.selected=ut(r)},e.prototype.getValueState=function(r){var n=mi.findPieceIndex(r,this._pieceList);return n!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[n])]?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(r){var n=[],a=this._pieceList;return this.eachTargetSeries(function(i){var o=[],s=i.getData();s.each(this.getDataDimensionIndex(s),function(l,u){var c=mi.findPieceIndex(l,a);c===r&&o.push(u)},this),n.push({seriesId:i.id,dataIndex:o})},this),n},e.prototype.getRepresentValue=function(r){var n;if(this.isCategory())n=r.value;else if(r.value!=null)n=r.value;else{var a=r.interval||[];n=a[0]===-1/0&&a[1]===1/0?0:(a[0]+a[1])/2}return n},e.prototype.getVisualMeta=function(r){if(this.isCategory())return;var n=[],a=["",""],i=this;function o(c,f){var d=i.getRepresentValue({interval:c});f||(f=i.getValueState(d));var v=r(d,f);c[0]===-1/0?a[0]=v:c[1]===1/0?a[1]=v:n.push({value:c[0],color:v},{value:c[1],color:v})}var s=this._pieceList.slice();if(!s.length)s.push({interval:[-1/0,1/0]});else{var l=s[0].interval[0];l!==-1/0&&s.unshift({interval:[-1/0,l]}),l=s[s.length-1].interval[1],l!==1/0&&s.push({interval:[l,1/0]})}var u=-1/0;return Y(s,function(c){var f=c.interval;f&&(f[0]>u&&o([u,f[0]],"outOfRange"),o(f.slice()),u=f[1])},this),{stops:n,outerColors:a}},e.type="visualMap.piecewise",e.defaultOption=fd(nT.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),e})(nT),Vje={splitNumber:function(t){var e=this.option,r=Math.min(e.precision,20),n=this.getExtent(),a=e.splitNumber;a=Math.max(parseInt(a,10),1),e.splitNumber=a;for(var i=(n[1]-n[0])/a;+i.toFixed(r)!==i&&r<5;)r++;e.precision=r,i=+i.toFixed(r),e.minOpen&&t.push({interval:[-1/0,n[0]],close:[0,0]});for(var o=0,s=n[0];o<a;s+=i,o++){var l=o===a-1?n[1]:s+i;t.push({interval:[s,l],close:[1,1]})}e.maxOpen&&t.push({interval:[n[1],1/0],close:[0,0]}),L4(t),Y(t,function(u,c){u.index=c,u.text=this.formatValueText(u.interval)},this)},categories:function(t){var e=this.option;Y(e.categories,function(r){t.push({text:this.formatValueText(r,!0),value:r})},this),l8(e,t)},pieces:function(t){var e=this.option;Y(e.pieces,function(r,n){mt(r)||(r={value:r});var a={text:"",index:n};if(r.label!=null&&(a.text=r.label),r.hasOwnProperty("value")){var i=a.value=r.value;a.interval=[i,i],a.close=[1,1]}else{for(var o=a.interval=[],s=a.close=[0,0],l=[1,0,1],u=[-1/0,1/0],c=[],f=0;f<2;f++){for(var d=[["gte","gt","min"],["lte","lt","max"]][f],v=0;v<3&&o[f]==null;v++)o[f]=r[d[v]],s[f]=l[v],c[f]=v===2;o[f]==null&&(o[f]=u[f])}c[0]&&o[1]===1/0&&(s[0]=0),c[1]&&o[0]===-1/0&&(s[1]=0),o[0]===o[1]&&s[0]&&s[1]&&(a.value=o[0])}a.visual=mi.retrieveVisuals(r),t.push(a)},this),l8(e,t),L4(t),Y(t,function(r){var n=r.close,a=[["<",""][n[1]],[">",""][n[0]]];r.text=r.text||this.formatValueText(r.value!=null?r.value:r.interval,!1,a)},this)}};function l8(t,e){var r=t.inverse;(t.orient==="vertical"?!r:r)&&e.reverse()}var Fje=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.doRender=function(){var r=this.group;r.removeAll();var n=this.visualMapModel,a=n.get("textGap"),i=n.textStyleModel,o=this._getItemAlign(),s=n.itemSize,l=this._getViewData(),u=l.endsText,c=Wi(n.get("showLabel",!0),!u),f=!n.get("selectedMode");u&&this._renderEndsText(r,u[0],s,c,o),Y(l.viewPieceList,function(d){var v=d.piece,g=new st;g.onclick=Ye(this._onItemClick,this,v),this._enableHoverLink(g,d.indexInModelPieceList);var y=n.getRepresentValue(v);if(this._createItemSymbol(g,y,[0,0,s[0],s[1]],f),c){var b=this.visualMapModel.getValueState(y),S=i.get("align")||o;g.add(new xr({style:bn(i,{x:S==="right"?-a:s[0]+a,y:s[1]/2,text:v.text,verticalAlign:i.get("verticalAlign")||"middle",align:S,opacity:et(i.get("opacity"),b==="outOfRange"?.5:1)}),silent:f}))}r.add(g)},this),u&&this._renderEndsText(r,u[1],s,c,o),Bv(n.get("orient"),r,n.get("itemGap")),this.renderBackground(r),this.positionGroup(r)},e.prototype._enableHoverLink=function(r,n){var a=this;r.on("mouseover",function(){return i("highlight")}).on("mouseout",function(){return i("downplay")});var i=function(o){var s=a.visualMapModel;s.option.hoverLink&&a.api.dispatchAction({type:o,batch:jS(s.findTargetDataIndices(n),s)})}},e.prototype._getItemAlign=function(){var r=this.visualMapModel,n=r.option;if(n.orient==="vertical")return ote(r,this.api,r.itemSize);var a=n.align;return(!a||a==="auto")&&(a="left"),a},e.prototype._renderEndsText=function(r,n,a,i,o){if(n){var s=new st,l=this.visualMapModel.textStyleModel;s.add(new xr({style:bn(l,{x:i?o==="right"?a[0]:0:a[0]/2,y:a[1]/2,verticalAlign:"middle",align:i?o:"center",text:n})})),r.add(s)}},e.prototype._getViewData=function(){var r=this.visualMapModel,n=Re(r.getPieceList(),function(s,l){return{piece:s,indexInModelPieceList:l}}),a=r.get("text"),i=r.get("orient"),o=r.get("inverse");return(i==="horizontal"?o:!o)?n.reverse():a&&(a=a.slice().reverse()),{viewPieceList:n,endsText:a}},e.prototype._createItemSymbol=function(r,n,a,i){var o=Oa(this.getControllerVisual(n,"symbol"),a[0],a[1],a[2],a[3],this.getControllerVisual(n,"color"));o.silent=i,r.add(o)},e.prototype._onItemClick=function(r){var n=this.visualMapModel,a=n.option,i=a.selectedMode;if(i){var o=ut(a.selected),s=n.getSelectedMapKey(r);i==="single"||i===!0?(o[s]=!0,Y(o,function(l,u){o[u]=u===s})):o[s]=!o[s],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:o})}},e.type="visualMap.piecewise",e})(ite);function ute(t){t.registerComponentModel(Bje),t.registerComponentView(Fje),ste(t)}function Hje(t){Ut(lte),Ut(ute)}var Gje=(function(){function t(e){this._thumbnailModel=e}return t.prototype.reset=function(e){this._renderVersion=e.getMainProcessVersion()},t.prototype.renderContent=function(e){var r=e.api.getViewOfComponentModel(this._thumbnailModel);r&&(e.group.silent=!0,r.renderContent({group:e.group,targetTrans:e.targetTrans,z2Range:I$(e.group),roamType:e.roamType,viewportRect:e.viewportRect,renderVersion:this._renderVersion}))},t.prototype.updateWindow=function(e,r){var n=r.getViewOfComponentModel(this._thumbnailModel);n&&n.updateWindow({targetTrans:e,renderVersion:this._renderVersion})},t})(),Uje=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.preventAutoZ=!0,r}return e.prototype.optionUpdated=function(r,n){this._updateBridge()},e.prototype._updateBridge=function(){var r=this._birdge=this._birdge||new Gje(this);if(this._target=null,this.ecModel.eachSeries(function(a){PG(a,null)}),this.shouldShow()){var n=this.getTarget();PG(n.baseMapProvider,r)}},e.prototype.shouldShow=function(){return this.getShallow("show",!0)},e.prototype.getBridge=function(){return this._birdge},e.prototype.getTarget=function(){if(this._target)return this._target;var r=this.getReferringComponents("series",{useDefault:!1,enableAll:!1,enableNone:!1}).models[0];return r?r.subType!=="graph"&&(r=null):r=this.ecModel.queryComponents({mainType:"series",subType:"graph"})[0],this._target={baseMapProvider:r},this._target},e.type="thumbnail",e.layoutMode="box",e.dependencies=["series","geo"],e.defaultOption={show:!0,right:1,bottom:1,height:"25%",width:"25%",itemStyle:{borderColor:ve.color.border,borderWidth:2},windowStyle:{borderWidth:1,color:ve.color.neutral30,borderColor:ve.color.neutral40,opacity:.3},z:10},e})(er),Wje=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.render=function(r,n,a){if(this._api=a,this._model=r,this._coordSys||(this._coordSys=new _p),!this._isEnabled()){this._clear();return}this._renderVersion=a.getMainProcessVersion();var i=this.group;i.removeAll();var o=r.getModel("itemStyle"),s=o.getItemStyle();s.fill==null&&(s.fill=n.get("backgroundColor")||ve.color.neutral00);var l=ni(r,a).refContainer,u=Yn(aX(r,!0),l),c=s.lineWidth||0,f=this._contentRect=ep(u.clone(),c/2,!0,!0),d=new st;i.add(d),d.setClipPath(new $t({shape:f.plain()}));var v=this._targetGroup=new st;d.add(v);var g=u.plain();g.r=o.getShallow("borderRadius",!0),i.add(this._bgRect=new $t({style:s,shape:g,silent:!1,cursor:"grab"}));var y=r.getModel("windowStyle"),b=y.getShallow("borderRadius",!0);d.add(this._windowRect=new $t({shape:{x:0,y:0,width:0,height:0,r:b},style:y.getItemStyle(),silent:!1,cursor:"grab"})),this._dealRenderContent(),this._dealUpdateWindow(),c8(r,this)},e.prototype.renderContent=function(r){this._bridgeRendered=r,this._isEnabled()&&(this._dealRenderContent(),this._dealUpdateWindow(),c8(this._model,this))},e.prototype._dealRenderContent=function(){var r=this._bridgeRendered;if(!(!r||r.renderVersion!==this._renderVersion)){var n=this._targetGroup,a=this._coordSys,i=this._contentRect;if(n.removeAll(),!!r){var o=r.group,s=o.getBoundingRect();n.add(o),this._bgRect.z2=r.z2Range.min-10,a.setBoundingRect(s.x,s.y,s.width,s.height);var l=Yn({left:"center",top:"center",aspect:s.width/s.height},i);a.setViewRect(l.x,l.y,l.width,l.height),o.attr(a.getTransformInfo().raw),this._windowRect.z2=r.z2Range.max+10,this._resetRoamController(r.roamType)}}},e.prototype.updateWindow=function(r){var n=this._bridgeRendered;n&&n.renderVersion===r.renderVersion&&(n.targetTrans=r.targetTrans),this._isEnabled()&&this._dealUpdateWindow()},e.prototype._dealUpdateWindow=function(){var r=this._bridgeRendered;if(!(!r||r.renderVersion!==this._renderVersion)){var n=fu([],r.targetTrans),a=uc([],this._coordSys.transform,n);this._transThisToTarget=fu([],a);var i=r.viewportRect;i?i=i.clone():i=new yt(0,0,this._api.getWidth(),this._api.getHeight()),i.applyTransform(a);var o=this._windowRect,s=o.shape.r;o.setShape(gt({r:s},i))}},e.prototype._resetRoamController=function(r){var n=this,a=this._api,i=this._roamController;if(i||(i=this._roamController=new xp(a.getZr())),!r||!this._isEnabled()){i.disable();return}i.enable(r,{api:a,zInfo:{component:this._model},triggerInfo:{roamTrigger:null,isInSelf:function(o,s,l){return n._contentRect.contain(s,l)}}}),i.off("pan").off("zoom").on("pan",Ye(this._onPan,this)).on("zoom",Ye(this._onZoom,this))},e.prototype._onPan=function(r){var n=this._transThisToTarget;if(!(!this._isEnabled()||!n)){var a=ba([],[r.oldX,r.oldY],n),i=ba([],[r.oldX-r.dx,r.oldY-r.dy],n);this._api.dispatchAction(u8(this._model.getTarget().baseMapProvider,{dx:i[0]-a[0],dy:i[1]-a[1]}))}},e.prototype._onZoom=function(r){var n=this._transThisToTarget;if(!(!this._isEnabled()||!n)){var a=ba([],[r.originX,r.originY],n);this._api.dispatchAction(u8(this._model.getTarget().baseMapProvider,{zoom:1/r.scale,originX:a[0],originY:a[1]}))}},e.prototype._isEnabled=function(){var r=this._model;if(!r||!r.shouldShow())return!1;var n=r.getTarget().baseMapProvider;return!!n},e.prototype._clear=function(){this.group.removeAll(),this._bridgeRendered=null,this._roamController&&this._roamController.disable()},e.prototype.remove=function(){this._clear()},e.prototype.dispose=function(){this._clear()},e.type="thumbnail",e})(Vn);function u8(t,e){var r=t.mainType==="series"?t.subType+"Roam":t.mainType+"Roam",n={type:r};return n[t.mainType+"Id"]=t.id,Ae(n,e),n}function c8(t,e){var r=tp(t);_C(e.group,r.z,r.zlevel)}function Yje(t){t.registerComponentModel(Uje),t.registerComponentView(Wje)}var Zje={label:{enabled:!0},decal:{show:!1}},f8=Xt(),qje={};function $je(t,e){var r=t.getModel("aria");if(!r.get("enabled"))return;var n=ut(Zje);Gt(n.label,t.getLocaleModel().get("aria"),!1),Gt(r.option,n,!1),a(),i();function a(){var u=r.getModel("decal"),c=u.get("show");if(c){var f=Qe();t.eachSeries(function(d){if(!d.isColorBySeries()){var v=f.get(d.type);v||(v={},f.set(d.type,v)),f8(d).scope=v}}),t.eachRawSeries(function(d){if(t.isSeriesFiltered(d))return;if(ot(d.enableAriaDecal)){d.enableAriaDecal();return}var v=d.getData();if(d.isColorBySeries()){var w=mN(d.ecModel,d.name,qje,t.getSeriesCount()),M=v.getVisual("decal");v.setVisual("decal",A(M,w))}else{var g=d.getRawData(),y={},b=f8(d).scope;v.each(function(D){var R=v.getRawIndex(D);y[R]=D});var S=g.count();g.each(function(D){var R=y[D],N=g.getName(D)||D+"",I=mN(d.ecModel,N,b,S),z=v.getItemVisual(R,"decal");v.setItemVisual(R,"decal",A(z,I))})}function A(D,R){var N=D?Ae(Ae({},R),D):R;return N.dirty=!0,N}})}}function i(){var u=e.getZr().dom;if(u){var c=t.getLocaleModel().get("aria"),f=r.getModel("label");if(f.option=gt(f.option,c),!!f.get("enabled")){if(u.setAttribute("role","img"),f.get("description")){u.setAttribute("aria-label",f.get("description"));return}var d=t.getSeriesCount(),v=f.get(["data","maxCount"])||10,g=f.get(["series","maxCount"])||10,y=Math.min(d,g),b;if(!(d<1)){var S=s();if(S){var w=f.get(["general","withTitle"]);b=o(w,{title:S})}else b=f.get(["general","withoutTitle"]);var M=[],A=d>1?f.get(["series","multiple","prefix"]):f.get(["series","single","prefix"]);b+=o(A,{seriesCount:d}),t.eachSeries(function(I,z){if(z<y){var B=void 0,V=I.get("name"),G=V?"withName":"withoutName";B=d>1?f.get(["series","multiple",G]):f.get(["series","single",G]),B=o(B,{seriesId:I.seriesIndex,seriesName:I.get("name"),seriesType:l(I.subType)});var F=I.getData();if(F.count()>v){var q=f.get(["data","partialData"]);B+=o(q,{displayCnt:v})}else B+=f.get(["data","allData"]);for(var Q=f.get(["data","separator","middle"]),H=f.get(["data","separator","end"]),X=f.get(["data","excludeDimensionId"]),W=[],J=0;J<F.count();J++)if(J<v){var ee=F.getName(J),K=X?Ir(F.getValues(J),function(ie,le){return Vt(X,le)===-1}):F.getValues(J),ne=f.get(["data",ee?"withName":"withoutName"]);W.push(o(ne,{name:ee,value:K.join(Q)}))}B+=W.join(Q)+H,M.push(B)}});var D=f.getModel(["series","multiple","separator"]),R=D.get("middle"),N=D.get("end");b+=M.join(R)+N,u.setAttribute("aria-label",b)}}}}function o(u,c){if(!We(u))return u;var f=u;return Y(c,function(d,v){f=f.replace(new RegExp("\\{\\s*"+v+"\\s*\\}","g"),d)}),f}function s(){var u=t.get("title");return u&&u.length&&(u=u[0]),u&&u.text}function l(u){var c=t.getLocaleModel().get(["series","typeNames"]);return c[u]||c.chart}}function Xje(t){if(!(!t||!t.aria)){var e=t.aria;e.show!=null&&(e.enabled=e.show),e.label=e.label||{},Y(["description","general","series","data"],function(r){e[r]!=null&&(e.label[r]=e[r])})}}function Kje(t){t.registerPreprocessor(Xje),t.registerVisual(t.PRIORITY.VISUAL.ARIA,$je)}var h8={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},Qje=(function(){function t(e){var r=this._condVal=We(e)?new RegExp(e):zye(e)?e:null;if(r==null){var n="";Dr(n)}}return t.prototype.evaluate=function(e){var r=typeof e;return We(r)?this._condVal.test(e):vr(r)?this._condVal.test(e+""):!1},t})(),Jje=(function(){function t(){}return t.prototype.evaluate=function(){return this.value},t})(),eze=(function(){function t(){}return t.prototype.evaluate=function(){for(var e=this.children,r=0;r<e.length;r++)if(!e[r].evaluate())return!1;return!0},t})(),tze=(function(){function t(){}return t.prototype.evaluate=function(){for(var e=this.children,r=0;r<e.length;r++)if(e[r].evaluate())return!0;return!1},t})(),rze=(function(){function t(){}return t.prototype.evaluate=function(){return!this.child.evaluate()},t})(),nze=(function(){function t(){}return t.prototype.evaluate=function(){for(var e=!!this.valueParser,r=this.getValue,n=r(this.valueGetterParam),a=e?this.valueParser(n):null,i=0;i<this.subCondList.length;i++)if(!this.subCondList[i].evaluate(e?a:n))return!1;return!0},t})();function xO(t,e){if(t===!0||t===!1){var r=new Jje;return r.value=t,r}var n="";return cte(t)||Dr(n),t.and?d8("and",t,e):t.or?d8("or",t,e):t.not?aze(t,e):ize(t,e)}function d8(t,e,r){var n=e[t],a="";Ee(n)||Dr(a),n.length||Dr(a);var i=t==="and"?new eze:new tze;return i.children=Re(n,function(o){return xO(o,r)}),i.children.length||Dr(a),i}function aze(t,e){var r=t.not,n="";cte(r)||Dr(n);var a=new rze;return a.child=xO(r,e),a.child||Dr(n),a}function ize(t,e){for(var r="",n=e.prepareGetValue(t),a=[],i=sr(t),o=t.parser,s=o?MX(o):null,l=0;l<i.length;l++){var u=i[l];if(!(u==="parser"||e.valueGetterAttrMap.get(u))){var c=Xe(h8,u)?h8[u]:u,f=t[u],d=s?s(f):f,v=F1e(c,d)||c==="reg"&&new Qje(d);v||Dr(r),a.push(v)}}a.length||Dr(r);var g=new nze;return g.valueGetterParam=n,g.valueParser=s,g.getValue=e.getValue,g.subCondList=a,g}function cte(t){return mt(t)&&!uo(t)}var oze=(function(){function t(e,r){this._cond=xO(e,r)}return t.prototype.evaluate=function(){return this._cond.evaluate()},t})();function sze(t,e){return new oze(t,e)}var lze={type:"echarts:filter",transform:function(t){for(var e=t.upstream,r,n=sze(t.config,{valueGetterAttrMap:Qe({dimension:!0}),prepareGetValue:function(s){var l="",u=s.dimension;Xe(s,"dimension")||Dr(l);var c=e.getDimensionInfo(u);return c||Dr(l),{dimIdx:c.index}},getValue:function(s){return e.retrieveValueFromItem(r,s.dimIdx)}}),a=[],i=0,o=e.count();i<o;i++)r=e.getRawDataItem(i),n.evaluate()&&a.push(r);return{data:a}}},uze={type:"echarts:sort",transform:function(t){var e=t.upstream,r=t.config,n="",a=gn(r);a.length||Dr(n);var i=[];Y(a,function(c){var f=c.dimension,d=c.order,v=c.parser,g=c.incomparable;if(f==null&&Dr(n),d!=="asc"&&d!=="desc"&&Dr(n),g&&g!=="min"&&g!=="max"){var y="";Dr(y)}if(d!=="asc"&&d!=="desc"){var b="";Dr(b)}var S=e.getDimensionInfo(f);S||Dr(n);var w=v?MX(v):null;v&&!w&&Dr(n),i.push({dimIdx:S.index,parser:w,comparator:new DX(d,g)})});var o=e.sourceFormat;o!==Li&&o!==Gs&&Dr(n);for(var s=[],l=0,u=e.count();l<u;l++)s.push(e.getRawDataItem(l));return s.sort(function(c,f){for(var d=0;d<i.length;d++){var v=i[d],g=e.retrieveValueFromItem(c,v.dimIdx),y=e.retrieveValueFromItem(f,v.dimIdx);v.parser&&(g=v.parser(g),y=v.parser(y));var b=v.comparator.evaluate(g,y);if(b!==0)return b}return 0}),{data:s}}};function cze(t){t.registerTransform(lze),t.registerTransform(uze)}var fze=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="dataset",r}return e.prototype.init=function(r,n,a){t.prototype.init.call(this,r,n,a),this._sourceManager=new RX(this),UV(this)},e.prototype.mergeOption=function(r,n){t.prototype.mergeOption.call(this,r,n),UV(this)},e.prototype.optionUpdated=function(){this._sourceManager.dirty()},e.prototype.getSourceManager=function(){return this._sourceManager},e.type="dataset",e.defaultOption={seriesLayoutBy:ou},e})(er),hze=(function(t){ye(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="dataset",r}return e.type="dataset",e})(Vn);function dze(t){t.registerComponentModel(fze),t.registerComponentView(hze)}var Uu=xc.CMD;function Gg(t,e){return Math.abs(t-e)<1e-5}function NR(t){var e=t.data,r=t.len(),n=[],a,i=0,o=0,s=0,l=0;function u(F,q){a&&a.length>2&&n.push(a),a=[F,q]}function c(F,q,Q,H){Gg(F,Q)&&Gg(q,H)||a.push(F,q,Q,H,Q,H)}function f(F,q,Q,H,X,W){var J=Math.abs(q-F),ee=Math.tan(J/4)*4/3,K=q<F?-1:1,ne=Math.cos(F),ie=Math.sin(F),le=Math.cos(q),me=Math.sin(q),we=ne*X+Q,pe=ie*W+H,Pe=le*X+Q,ke=me*W+H,ze=X*ee*K,Ie=W*ee*K;a.push(we-ze*ie,pe+Ie*ne,Pe+ze*me,ke-Ie*le,Pe,ke)}for(var d,v,g,y,b=0;b<r;){var S=e[b++],w=b===1;switch(w&&(i=e[b],o=e[b+1],s=i,l=o,(S===Uu.L||S===Uu.C||S===Uu.Q)&&(a=[s,l])),S){case Uu.M:i=s=e[b++],o=l=e[b++],u(s,l);break;case Uu.L:d=e[b++],v=e[b++],c(i,o,d,v),i=d,o=v;break;case Uu.C:a.push(e[b++],e[b++],e[b++],e[b++],i=e[b++],o=e[b++]);break;case Uu.Q:d=e[b++],v=e[b++],g=e[b++],y=e[b++],a.push(i+2/3*(d-i),o+2/3*(v-o),g+2/3*(d-g),y+2/3*(v-y),g,y),i=g,o=y;break;case Uu.A:var M=e[b++],A=e[b++],D=e[b++],R=e[b++],N=e[b++],I=e[b++]+N;b+=1;var z=!e[b++];d=Math.cos(N)*D+M,v=Math.sin(N)*R+A,w?(s=d,l=v,u(s,l)):c(i,o,d,v),i=Math.cos(I)*D+M,o=Math.sin(I)*R+A;for(var B=(z?-1:1)*Math.PI/2,V=N;z?V>I:V<I;V+=B){var G=z?Math.max(V+B,I):Math.min(V+B,I);f(V,G,M,A,D,R)}break;case Uu.R:s=i=e[b++],l=o=e[b++],d=s+e[b++],v=l+e[b++],u(d,l),c(d,l,d,v),c(d,v,s,v),c(s,v,s,l),c(s,l,d,l);break;case Uu.Z:a&&c(i,o,s,l),i=s,o=l;break}}return a&&a.length>2&&n.push(a),n}function RR(t,e,r,n,a,i,o,s,l,u){if(Gg(t,r)&&Gg(e,n)&&Gg(a,o)&&Gg(i,s)){l.push(o,s);return}var c=2/u,f=c*c,d=o-t,v=s-e,g=Math.sqrt(d*d+v*v);d/=g,v/=g;var y=r-t,b=n-e,S=a-o,w=i-s,M=y*y+b*b,A=S*S+w*w;if(M<f&&A<f){l.push(o,s);return}var D=d*y+v*b,R=-d*S-v*w,N=M-D*D,I=A-R*R;if(N<f&&D>=0&&I<f&&R>=0){l.push(o,s);return}var z=[],B=[];Qh(t,r,a,o,.5,z),Qh(e,n,i,s,.5,B),RR(z[0],B[0],z[1],B[1],z[2],B[2],z[3],B[3],l,u),RR(z[4],B[4],z[5],B[5],z[6],B[6],z[7],B[7],l,u)}function vze(t,e){var r=NR(t),n=[];e=e||1;for(var a=0;a<r.length;a++){var i=r[a],o=[],s=i[0],l=i[1];o.push(s,l);for(var u=2;u<i.length;){var c=i[u++],f=i[u++],d=i[u++],v=i[u++],g=i[u++],y=i[u++];RR(s,l,c,f,d,v,g,y,o,e),s=g,l=y}n.push(o)}return n}function fte(t,e,r){var n=t[e],a=t[1-e],i=Math.abs(n/a),o=Math.ceil(Math.sqrt(i*r)),s=Math.floor(r/o);s===0&&(s=1,o=r);for(var l=[],u=0;u<o;u++)l.push(s);var c=o*s,f=r-c;if(f>0)for(var u=0;u<f;u++)l[u%o]+=1;return l}function v8(t,e,r){for(var n=t.r0,a=t.r,i=t.startAngle,o=t.endAngle,s=Math.abs(o-i),l=s*a,u=a-n,c=l>Math.abs(u),f=fte([l,u],c?0:1,e),d=(c?s:u)/f.length,v=0;v<f.length;v++)for(var g=(c?u:s)/f[v],y=0;y<f[v];y++){var b={};c?(b.startAngle=i+d*v,b.endAngle=i+d*(v+1),b.r0=n+g*y,b.r=n+g*(y+1)):(b.startAngle=i+g*y,b.endAngle=i+g*(y+1),b.r0=n+d*v,b.r=n+d*(v+1)),b.clockwise=t.clockwise,b.cx=t.cx,b.cy=t.cy,r.push(b)}}function pze(t,e,r){for(var n=t.width,a=t.height,i=n>a,o=fte([n,a],i?0:1,e),s=i?"width":"height",l=i?"height":"width",u=i?"x":"y",c=i?"y":"x",f=t[s]/o.length,d=0;d<o.length;d++)for(var v=t[l]/o[d],g=0;g<o[d];g++){var y={};y[u]=d*f,y[c]=g*v,y[s]=f,y[l]=v,y.x+=t.x,y.y+=t.y,r.push(y)}}function p8(t,e,r,n){return t*n-r*e}function gze(t,e,r,n,a,i,o,s){var l=r-t,u=n-e,c=o-a,f=s-i,d=p8(c,f,l,u);if(Math.abs(d)<1e-6)return null;var v=t-a,g=e-i,y=p8(v,g,c,f)/d;return y<0||y>1?null:new ht(y*l+t,y*u+e)}function mze(t,e,r){var n=new ht;ht.sub(n,r,e),n.normalize();var a=new ht;ht.sub(a,t,e);var i=a.dot(n);return i}function Ag(t,e){var r=t[t.length-1];r&&r[0]===e[0]&&r[1]===e[1]||t.push(e)}function yze(t,e,r){for(var n=t.length,a=[],i=0;i<n;i++){var o=t[i],s=t[(i+1)%n],l=gze(o[0],o[1],s[0],s[1],e.x,e.y,r.x,r.y);l&&a.push({projPt:mze(l,e,r),pt:l,idx:i})}if(a.length<2)return[{points:t},{points:t}];a.sort(function(b,S){return b.projPt-S.projPt});var u=a[0],c=a[a.length-1];if(c.idx<u.idx){var f=u;u=c,c=f}for(var d=[u.pt.x,u.pt.y],v=[c.pt.x,c.pt.y],g=[d],y=[v],i=u.idx+1;i<=c.idx;i++)Ag(g,t[i].slice());Ag(g,v),Ag(g,d);for(var i=c.idx+1;i<=u.idx+n;i++)Ag(y,t[i%n].slice());return Ag(y,d),Ag(y,v),[{points:g},{points:y}]}function g8(t){var e=t.points,r=[],n=[];fC(e,r,n);var a=new yt(r[0],r[1],n[0]-r[0],n[1]-r[1]),i=a.width,o=a.height,s=a.x,l=a.y,u=new ht,c=new ht;return i>o?(u.x=c.x=s+i/2,u.y=l,c.y=l+o):(u.y=c.y=l+o/2,u.x=s,c.x=s+i),yze(e,u,c)}function aT(t,e,r,n){if(r===1)n.push(e);else{var a=Math.floor(r/2),i=t(e);aT(t,i[0],a,n),aT(t,i[1],r-a,n)}return n}function xze(t,e){for(var r=[],n=0;n<e;n++)r.push(Ak(t));return r}function _ze(t,e){e.setStyle(t.style),e.z=t.z,e.z2=t.z2,e.zlevel=t.zlevel}function bze(t){for(var e=[],r=0;r<t.length;)e.push([t[r++],t[r++]]);return e}function Sze(t,e){var r=[],n=t.shape,a;switch(t.type){case"rect":pze(n,e,r),a=$t;break;case"sector":v8(n,e,r),a=fo;break;case"circle":v8({r0:0,r:n.r,startAngle:0,endAngle:Math.PI*2,cx:n.cx,cy:n.cy},e,r),a=fo;break;default:var i=t.getComputedTransform(),o=i?Math.sqrt(Math.max(i[0]*i[0]+i[1]*i[1],i[2]*i[2]+i[3]*i[3])):1,s=Re(vze(t.getUpdatedPathProxy(),o),function(S){return bze(S)}),l=s.length;if(l===0)aT(g8,{points:s[0]},e,r);else if(l===e)for(var u=0;u<l;u++)r.push({points:s[u]});else{var c=0,f=Re(s,function(S){var w=[],M=[];fC(S,w,M);var A=(M[1]-w[1])*(M[0]-w[0]);return c+=A,{poly:S,area:A}});f.sort(function(S,w){return w.area-S.area});for(var d=e,u=0;u<l;u++){var v=f[u];if(d<=0)break;var g=u===l-1?d:Math.ceil(v.area/c*e);g<0||(aT(g8,{points:v.poly},g,r),d-=g)}}a=ho;break}if(!a)return xze(t,e);for(var y=[],u=0;u<r.length;u++){var b=new a;b.setShape(r[u]),_ze(t,b),y.push(b)}return y}function wze(t,e){var r=t.length,n=e.length;if(r===n)return[t,e];for(var a=[],i=[],o=r<n?t:e,s=Math.min(r,n),l=Math.abs(n-r)/6,u=(s-2)/6,c=Math.ceil(l/u)+1,f=[o[0],o[1]],d=l,v=2;v<s;){var g=o[v-2],y=o[v-1],b=o[v++],S=o[v++],w=o[v++],M=o[v++],A=o[v++],D=o[v++];if(d<=0){f.push(b,S,w,M,A,D);continue}for(var R=Math.min(d,c-1)+1,N=1;N<=R;N++){var I=N/R;Qh(g,b,w,A,I,a),Qh(y,S,M,D,I,i),g=a[3],y=i[3],f.push(a[1],i[1],a[2],i[2],g,y),b=a[5],S=i[5],w=a[6],M=i[6]}d-=R-1}return o===t?[f,e]:[t,f]}function m8(t,e){for(var r=t.length,n=t[r-2],a=t[r-1],i=[],o=0;o<e.length;)i[o++]=n,i[o++]=a;return i}function Tze(t,e){for(var r,n,a,i=[],o=[],s=0;s<Math.max(t.length,e.length);s++){var l=t[s],u=e[s],c=void 0,f=void 0;l?u?(r=wze(l,u),c=r[0],f=r[1],n=c,a=f):(f=m8(a||l,l),c=l):(c=m8(n||u,u),f=u),i.push(c),o.push(f)}return[i,o]}function y8(t){for(var e=0,r=0,n=0,a=t.length,i=0,o=a-2;i<a;o=i,i+=2){var s=t[o],l=t[o+1],u=t[i],c=t[i+1],f=s*c-u*l;e+=f,r+=(s+u)*f,n+=(l+c)*f}return e===0?[t[0]||0,t[1]||0]:[r/e/3,n/e/3,e]}function Cze(t,e,r,n){for(var a=(t.length-2)/6,i=1/0,o=0,s=t.length,l=s-2,u=0;u<a;u++){for(var c=u*6,f=0,d=0;d<s;d+=2){var v=d===0?c:(c+d-2)%l+2,g=t[v]-r[0],y=t[v+1]-r[1],b=e[d]-n[0],S=e[d+1]-n[1],w=b-g,M=S-y;f+=w*w+M*M}f<i&&(i=f,o=u)}return o}function Mze(t){for(var e=[],r=t.length,n=0;n<r;n+=2)e[n]=t[r-n-2],e[n+1]=t[r-n-1];return e}function Aze(t,e,r,n){for(var a=[],i,o=0;o<t.length;o++){var s=t[o],l=e[o],u=y8(s),c=y8(l);i==null&&(i=u[2]<0!=c[2]<0);var f=[],d=[],v=0,g=1/0,y=[],b=s.length;i&&(s=Mze(s));for(var S=Cze(s,l,u,c)*6,w=b-2,M=0;M<w;M+=2){var A=(S+M)%w+2;f[M+2]=s[A]-u[0],f[M+3]=s[A+1]-u[1]}f[0]=s[S]-u[0],f[1]=s[S+1]-u[1];for(var D=n/r,R=-n/2;R<=n/2;R+=D){for(var N=Math.sin(R),I=Math.cos(R),z=0,M=0;M<s.length;M+=2){var B=f[M],V=f[M+1],G=l[M]-c[0],F=l[M+1]-c[1],q=G*I-F*N,Q=G*N+F*I;y[M]=q,y[M+1]=Q;var H=q-B,X=Q-V;z+=H*H+X*X}if(z<g){g=z,v=R;for(var W=0;W<y.length;W++)d[W]=y[W]}}a.push({from:f,to:d,fromCp:u,toCp:c,rotation:-v})}return a}function iT(t){return t.__isCombineMorphing}var hte="__mOriginal_";function oT(t,e,r){var n=hte+e,a=t[n]||t[e];t[n]||(t[n]=t[e]);var i=r.replace,o=r.after,s=r.before;t[e]=function(){var l=arguments,u;return s&&s.apply(this,l),i?u=i.apply(this,l):u=a.apply(this,l),o&&o.apply(this,l),u}}function ux(t,e){var r=hte+e;t[r]&&(t[e]=t[r],t[r]=null)}function x8(t,e){for(var r=0;r<t.length;r++)for(var n=t[r],a=0;a<n.length;){var i=n[a],o=n[a+1];n[a++]=e[0]*i+e[2]*o+e[4],n[a++]=e[1]*i+e[3]*o+e[5]}}function dte(t,e){var r=t.getUpdatedPathProxy(),n=e.getUpdatedPathProxy(),a=Tze(NR(r),NR(n)),i=a[0],o=a[1],s=t.getComputedTransform(),l=e.getComputedTransform();function u(){this.transform=null}s&&x8(i,s),l&&x8(o,l),oT(e,"updateTransform",{replace:u}),e.transform=null;var c=Aze(i,o,10,Math.PI),f=[];oT(e,"buildPath",{replace:function(d){for(var v=e.__morphT,g=1-v,y=[],b=0;b<c.length;b++){var S=c[b],w=S.from,M=S.to,A=S.rotation*v,D=S.fromCp,R=S.toCp,N=Math.sin(A),I=Math.cos(A);yS(y,D,R,v);for(var z=0;z<w.length;z+=2){var B=w[z],V=w[z+1],G=M[z],F=M[z+1],q=B*g+G*v,Q=V*g+F*v;f[z]=q*I-Q*N+y[0],f[z+1]=q*N+Q*I+y[1]}var H=f[0],X=f[1];d.moveTo(H,X);for(var z=2;z<w.length;){var G=f[z++],F=f[z++],W=f[z++],J=f[z++],ee=f[z++],K=f[z++];H===G&&X===F&&W===ee&&J===K?d.lineTo(ee,K):d.bezierCurveTo(G,F,W,J,ee,K),H=ee,X=K}}}})}function _O(t,e,r){if(!t||!e)return e;var n=r.done,a=r.during;dte(t,e),e.__morphT=0;function i(){ux(e,"buildPath"),ux(e,"updateTransform"),e.__morphT=-1,e.createPathProxy(),e.dirtyShape()}return e.animateTo({__morphT:1},gt({during:function(o){e.dirtyShape(),a&&a(o)},done:function(){i(),n&&n()}},r)),e}function Dze(t,e,r,n,a,i){var o=16;t=a===r?0:Math.round(32767*(t-r)/(a-r)),e=i===n?0:Math.round(32767*(e-n)/(i-n));for(var s=0,l,u=(1<<o)/2;u>0;u/=2){var c=0,f=0;(t&u)>0&&(c=1),(e&u)>0&&(f=1),s+=u*u*(3*c^f),f===0&&(c===1&&(t=u-1-t,e=u-1-e),l=t,t=e,e=l)}return s}function sT(t){var e=1/0,r=1/0,n=-1/0,a=-1/0,i=Re(t,function(s){var l=s.getBoundingRect(),u=s.getComputedTransform(),c=l.x+l.width/2+(u?u[4]:0),f=l.y+l.height/2+(u?u[5]:0);return e=Math.min(c,e),r=Math.min(f,r),n=Math.max(c,n),a=Math.max(f,a),[c,f]}),o=Re(i,function(s,l){return{cp:s,z:Dze(s[0],s[1],e,r,n,a),path:t[l]}});return o.sort(function(s,l){return s.z-l.z}).map(function(s){return s.path})}function vte(t){return Sze(t.path,t.count)}function PR(){return{fromIndividuals:[],toIndividuals:[],count:0}}function Lze(t,e,r){var n=[];function a(D){for(var R=0;R<D.length;R++){var N=D[R];iT(N)?a(N.childrenRef()):N instanceof Jt&&n.push(N)}}a(t);var i=n.length;if(!i)return PR();var o=r.dividePath||vte,s=o({path:e,count:i});if(s.length!==i)return console.error("Invalid morphing: unmatched splitted path"),PR();n=sT(n),s=sT(s);for(var l=r.done,u=r.during,c=r.individualDelay,f=new of,d=0;d<i;d++){var v=n[d],g=s[d];g.parent=e,g.copyTransform(f),c||dte(v,g)}e.__isCombineMorphing=!0,e.childrenRef=function(){return s};function y(D){for(var R=0;R<s.length;R++)s[R].addSelfToZr(D)}oT(e,"addSelfToZr",{after:function(D){y(D)}}),oT(e,"removeSelfFromZr",{after:function(D){for(var R=0;R<s.length;R++)s[R].removeSelfFromZr(D)}});function b(){e.__isCombineMorphing=!1,e.__morphT=-1,e.childrenRef=null,ux(e,"addSelfToZr"),ux(e,"removeSelfFromZr")}var S=s.length;if(c)for(var w=S,M=function(){w--,w===0&&(b(),l&&l())},d=0;d<S;d++){var A=c?gt({delay:(r.delay||0)+c(d,S,n[d],s[d]),done:M},r):r;_O(n[d],s[d],A)}else e.__morphT=0,e.animateTo({__morphT:1},gt({during:function(D){for(var R=0;R<S;R++){var N=s[R];N.__morphT=e.__morphT,N.dirtyShape()}u&&u(D)},done:function(){b();for(var D=0;D<t.length;D++)ux(t[D],"updateTransform");l&&l()}},r));return e.__zr&&y(e.__zr),{fromIndividuals:n,toIndividuals:s,count:S}}function Eze(t,e,r){var n=e.length,a=[],i=r.dividePath||vte;function o(v){for(var g=0;g<v.length;g++){var y=v[g];iT(y)?o(y.childrenRef()):y instanceof Jt&&a.push(y)}}if(iT(t)){o(t.childrenRef());var s=a.length;if(s<n)for(var l=0,u=s;u<n;u++)a.push(Ak(a[l++%s]));a.length=n}else{a=i({path:t,count:n});for(var c=t.getComputedTransform(),u=0;u<a.length;u++)a[u].setLocalTransform(c);if(a.length!==n)return console.error("Invalid morphing: unmatched splitted path"),PR()}a=sT(a),e=sT(e);for(var f=r.individualDelay,u=0;u<n;u++){var d=f?gt({delay:(r.delay||0)+f(u,n,a[u],e[u])},r):r;_O(a[u],e[u],d)}return{fromIndividuals:a,toIndividuals:e,count:e.length}}function _8(t){return Ee(t[0])}function b8(t,e){for(var r=[],n=t.length,a=0;a<n;a++)r.push({one:t[a],many:[]});for(var a=0;a<e.length;a++){var i=e[a].length,o=void 0;for(o=0;o<i;o++)r[o%n].many.push(e[a][o])}for(var s=0,a=n-1;a>=0;a--)if(!r[a].many.length){var l=r[s].many;if(l.length<=1)if(s)s=0;else return r;var i=l.length,u=Math.ceil(i/2);r[a].many=l.slice(u,i),r[s].many=l.slice(0,u),s++}return r}var Nze={clone:function(t){for(var e=[],r=1-Math.pow(1-t.path.style.opacity,1/t.count),n=0;n<t.count;n++){var a=Ak(t.path);a.setStyle("opacity",r),e.push(a)}return e},split:null};function kL(t,e,r,n,a,i){if(!t.length||!e.length)return;var o=Gm("update",n,a);if(!(o&&o.duration>0))return;var s=n.getModel("universalTransition").get("delay"),l=Object.assign({setToFinal:!0},o),u,c;_8(t)&&(u=t,c=e),_8(e)&&(u=e,c=t);function f(S,w,M,A,D){var R=S.many,N=S.one;if(R.length===1&&!D){var I=w?R[0]:N,z=w?N:R[0];if(iT(I))f({many:[I],one:z},!0,M,A,!0);else{var B=s?gt({delay:s(M,A)},l):l;_O(I,z,B),i(I,z,I,z,B)}}else for(var V=gt({dividePath:Nze[r],individualDelay:s&&function(X,W,J,ee){return s(X+M,A)}},l),G=w?Lze(R,N,V):Eze(N,R,V),F=G.fromIndividuals,q=G.toIndividuals,Q=F.length,H=0;H<Q;H++){var B=s?gt({delay:s(H,Q)},l):l;i(F[H],q[H],w?R[H]:S.one,w?S.one:R[H],B)}}for(var d=u?u===t:t.length>e.length,v=u?b8(c,u):b8(d?e:t,[d?t:e]),g=0,y=0;y<v.length;y++)g+=v[y].many.length;for(var b=0,y=0;y<v.length;y++)f(v[y],d,b,g),b+=v[y].many.length}function gv(t){if(!t)return[];if(Ee(t)){for(var e=[],r=0;r<t.length;r++)e.push(gv(t[r]));return e}var n=[];return t.traverse(function(a){a instanceof Jt&&!a.disableMorphing&&!a.invisible&&!a.ignore&&n.push(a)}),n}var pte=1e4,Rze=0,S8=1,w8=2,Pze=Xt();function kze(t,e){for(var r=t.dimensions,n=0;n<r.length;n++){var a=t.getDimensionInfo(r[n]);if(a&&a.otherDims[e]===0)return r[n]}}function Ize(t,e,r){var n=t.getDimensionInfo(r),a=n&&n.ordinalMeta;if(n){var i=t.get(n.name,e);return a&&a.categories[i]||i+""}}function T8(t,e,r,n){var a=n?"itemChildGroupId":"itemGroupId",i=kze(t,a);if(i){var o=Ize(t,e,i);return o}var s=t.getRawDataItem(e),l=n?"childGroupId":"groupId";if(s&&s[l])return s[l]+"";if(!n)return r||t.getId(e)}function C8(t){var e=[];return Y(t,function(r){var n=r.data,a=r.dataGroupId;if(!(n.count()>pte))for(var i=n.getIndices(),o=0;o<i.length;o++)e.push({data:n,groupId:T8(n,o,a,!1),childGroupId:T8(n,o,a,!0),divide:r.divide,dataIndex:o})}),e}function IL(t,e,r){t.traverse(function(n){n instanceof Jt&&zn(n,{style:{opacity:0}},e,{dataIndex:r,isFrom:!0})})}function OL(t){if(t.parent){var e=t.getComputedTransform();t.setLocalTransform(e),t.parent.remove(t)}}function Dg(t){t.stopAnimation(),t.isGroup&&t.traverse(function(e){e.stopAnimation()})}function Oze(t,e,r){var n=Gm("update",r,e);n&&t.traverse(function(a){if(a instanceof Al){var i=vbe(a);i&&a.animateFrom({style:i},n)}})}function jze(t,e){var r=t.length;if(r!==e.length)return!1;for(var n=0;n<r;n++){var a=t[n],i=e[n];if(a.data.getId(a.dataIndex)!==i.data.getId(i.dataIndex))return!1}return!0}function gte(t,e,r){var n=C8(t),a=C8(e);function i(M,A,D,R,N){(D||M)&&A.animateFrom({style:D&&D!==M?Ae(Ae({},D.style),M.style):M.style},N)}var o=!1,s=Rze,l=Qe(),u=Qe();n.forEach(function(M){M.groupId&&l.set(M.groupId,!0),M.childGroupId&&u.set(M.childGroupId,!0)});for(var c=0;c<a.length;c++){var f=a[c].groupId;if(u.get(f)){s=S8;break}var d=a[c].childGroupId;if(d&&l.get(d)){s=w8;break}}function v(M,A){return function(D){var R=D.data,N=D.dataIndex;return A?R.getId(N):M?s===S8?D.childGroupId:D.groupId:s===w8?D.childGroupId:D.groupId}}var g=jze(n,a),y={};if(!g)for(var c=0;c<a.length;c++){var b=a[c],S=b.data.getItemGraphicEl(b.dataIndex);S&&(y[S.id]=!0)}function w(M,A){var D=n[A],R=a[M],N=R.data.hostModel,I=D.data.getItemGraphicEl(D.dataIndex),z=R.data.getItemGraphicEl(R.dataIndex);if(I===z){z&&Oze(z,R.dataIndex,N);return}I&&y[I.id]||z&&(Dg(z),I?(Dg(I),OL(I),o=!0,kL(gv(I),gv(z),R.divide,N,M,i)):IL(z,N,M))}new Sf(n,a,v(!0,g),v(!1,g),null,"multiple").update(w).updateManyToOne(function(M,A){var D=a[M],R=D.data,N=R.hostModel,I=R.getItemGraphicEl(D.dataIndex),z=Ir(Re(A,function(B){return n[B].data.getItemGraphicEl(n[B].dataIndex)}),function(B){return B&&B!==I&&!y[B.id]});I&&(Dg(I),z.length?(Y(z,function(B){Dg(B),OL(B)}),o=!0,kL(gv(z),gv(I),D.divide,N,M,i)):IL(I,N,D.dataIndex))}).updateOneToMany(function(M,A){var D=n[A],R=D.data.getItemGraphicEl(D.dataIndex);if(!(R&&y[R.id])){var N=Ir(Re(M,function(z){return a[z].data.getItemGraphicEl(a[z].dataIndex)}),function(z){return z&&z!==R}),I=a[M[0]].data.hostModel;N.length&&(Y(N,function(z){return Dg(z)}),R?(Dg(R),OL(R),o=!0,kL(gv(R),gv(N),D.divide,I,M[0],i)):Y(N,function(z){return IL(z,I,M[0])}))}}).updateManyToMany(function(M,A){new Sf(A,M,function(D){return n[D].data.getId(n[D].dataIndex)},function(D){return a[D].data.getId(a[D].dataIndex)}).update(function(D,R){w(M[D],A[R])}).execute()}).execute(),o&&Y(e,function(M){var A=M.data,D=A.hostModel,R=D&&r.getViewOfSeriesModel(D),N=Gm("update",D,0);R&&D.isAnimationEnabled()&&N&&N.duration>0&&R.group.traverse(function(I){I instanceof Jt&&!I.animators.length&&I.animateFrom({style:{opacity:0}},N)})})}function M8(t){var e=t.getModel("universalTransition").get("seriesKey");return e||t.id}function A8(t){return Ee(t)?t.sort().join(","):t}function Mh(t){if(t.hostModel)return t.hostModel.getModel("universalTransition").get("divideShape")}function zze(t,e){var r=Qe(),n=Qe(),a=Qe();return Y(t.oldSeries,function(i,o){var s=t.oldDataGroupIds[o],l=t.oldData[o],u=M8(i),c=A8(u);n.set(c,{dataGroupId:s,data:l}),Ee(u)&&Y(u,function(f){a.set(f,{key:c,dataGroupId:s,data:l})})}),Y(e.updatedSeries,function(i){if(i.isUniversalTransitionEnabled()&&i.isAnimationEnabled()){var o=i.get("dataGroupId"),s=i.getData(),l=M8(i),u=A8(l),c=n.get(u);if(c)r.set(u,{oldSeries:[{dataGroupId:c.dataGroupId,divide:Mh(c.data),data:c.data}],newSeries:[{dataGroupId:o,divide:Mh(s),data:s}]});else if(Ee(l)){var f=[];Y(l,function(g){var y=n.get(g);y.data&&f.push({dataGroupId:y.dataGroupId,divide:Mh(y.data),data:y.data})}),f.length&&r.set(u,{oldSeries:f,newSeries:[{dataGroupId:o,data:s,divide:Mh(s)}]})}else{var d=a.get(l);if(d){var v=r.get(d.key);v||(v={oldSeries:[{dataGroupId:d.dataGroupId,data:d.data,divide:Mh(d.data)}],newSeries:[]},r.set(d.key,v)),v.newSeries.push({dataGroupId:o,data:s,divide:Mh(s)})}}}}),r}function D8(t,e){for(var r=0;r<t.length;r++){var n=e.seriesIndex!=null&&e.seriesIndex===t[r].seriesIndex||e.seriesId!=null&&e.seriesId===t[r].id;if(n)return r}}function Bze(t,e,r,n){var a=[],i=[];Y(gn(t.from),function(o){var s=D8(e.oldSeries,o);s>=0&&a.push({dataGroupId:e.oldDataGroupIds[s],data:e.oldData[s],divide:Mh(e.oldData[s]),groupIdDim:o.dimension})}),Y(gn(t.to),function(o){var s=D8(r.updatedSeries,o);if(s>=0){var l=r.updatedSeries[s].getData();i.push({dataGroupId:e.oldDataGroupIds[s],data:l,divide:Mh(l),groupIdDim:o.dimension})}}),a.length>0&&i.length>0&&gte(a,i,n)}function Vze(t){t.registerUpdateLifecycle("series:beforeupdate",function(e,r,n){Y(gn(n.seriesTransition),function(a){Y(gn(a.to),function(i){for(var o=n.updatedSeries,s=0;s<o.length;s++)(i.seriesIndex!=null&&i.seriesIndex===o[s].seriesIndex||i.seriesId!=null&&i.seriesId===o[s].id)&&(o[s][ES]=!0)})})}),t.registerUpdateLifecycle("series:transition",function(e,r,n){var a=Pze(r);if(a.oldSeries&&n.updatedSeries&&n.optionChanged){var i=n.seriesTransition;if(i)Y(gn(i),function(v){Bze(v,a,n,r)});else{var o=zze(a,n);Y(o.keys(),function(v){var g=o.get(v);gte(g.oldSeries,g.newSeries,r)})}Y(n.updatedSeries,function(v){v[ES]&&(v[ES]=!1)})}for(var s=e.getSeries(),l=a.oldSeries=[],u=a.oldDataGroupIds=[],c=a.oldData=[],f=0;f<s.length;f++){var d=s[f].getData();d.count()<pte&&(l.push(s[f]),u.push(s[f].get("dataGroupId")),c.push(d))}})}var Fze=(function(){function t(){this.breaks=[],this._elapsedExtent=[1/0,-1/0]}return t.prototype.setBreaks=function(e){this.breaks=e.breaks},t.prototype.update=function(e){Gze(this,e);var r=this._elapsedExtent;r[0]=this.elapse(e[0]),r[1]=this.elapse(e[1])},t.prototype.hasBreaks=function(){return!!this.breaks.length},t.prototype.calcNiceTickMultiple=function(e,r){for(var n=0;n<this.breaks.length;n++){var a=this.breaks[n];if(a.vmin<e&&e<a.vmax){var i=r(e,a.vmax);return i}}return 0},t.prototype.getExtentSpan=function(){return this._elapsedExtent[1]-this._elapsedExtent[0]},t.prototype.normalize=function(e){var r=this._elapsedExtent[1]-this._elapsedExtent[0];return r===0?.5:(this.elapse(e)-this._elapsedExtent[0])/r},t.prototype.scale=function(e){return this.unelapse(e*(this._elapsedExtent[1]-this._elapsedExtent[0])+this._elapsedExtent[0])},t.prototype.elapse=function(e){for(var r=L8,n=E8,a=!0,i=0;i<this.breaks.length;i++){var o=this.breaks[i];if(e<=o.vmax){e>o.vmin?r+=o.vmin-n+(e-o.vmin)/(o.vmax-o.vmin)*o.gapReal:r+=e-n,n=o.vmax,a=!1;break}r+=o.vmin-n+o.gapReal,n=o.vmax}return a&&(r+=e-n),r},t.prototype.unelapse=function(e){for(var r=L8,n=E8,a=!0,i=0,o=0;o<this.breaks.length;o++){var s=this.breaks[o],l=r+s.vmin-n,u=l+s.gapReal;if(e<=u){e>l?i=s.vmin+(e-l)/(u-l)*(s.vmax-s.vmin):i=n+e-r,n=s.vmax,a=!1;break}r=u,n=s.vmax}return a&&(i=n+e-r),i},t})();function Hze(){return new Fze}var L8=0,E8=0;function Gze(t,e){var r=0,n={tpAbs:{span:0,val:0},tpPrct:{span:0,val:0}},a=function(){return{has:!1,span:NaN,inExtFrac:NaN,val:NaN}},i={S:{tpAbs:a(),tpPrct:a()},E:{tpAbs:a(),tpPrct:a()}};Y(t.breaks,function(s){var l=s.gapParsed;l.type==="tpPrct"&&(r+=l.val);var u=bO(s,e);if(u){var c=u.vmin!==s.vmin,f=u.vmax!==s.vmax,d=u.vmax-u.vmin;if(!(c&&f))if(c||f){var v=c?"S":"E";i[v][l.type].has=!0,i[v][l.type].span=d,i[v][l.type].inExtFrac=d/(s.vmax-s.vmin),i[v][l.type].val=l.val}else n[l.type].span+=d,n[l.type].val+=l.val}});var o=r*(0+(e[1]-e[0])+(n.tpAbs.val-n.tpAbs.span)+(i.S.tpAbs.has?(i.S.tpAbs.val-i.S.tpAbs.span)*i.S.tpAbs.inExtFrac:0)+(i.E.tpAbs.has?(i.E.tpAbs.val-i.E.tpAbs.span)*i.E.tpAbs.inExtFrac:0)-n.tpPrct.span-(i.S.tpPrct.has?i.S.tpPrct.span*i.S.tpPrct.inExtFrac:0)-(i.E.tpPrct.has?i.E.tpPrct.span*i.E.tpPrct.inExtFrac:0))/(1-n.tpPrct.val-(i.S.tpPrct.has?i.S.tpPrct.val*i.S.tpPrct.inExtFrac:0)-(i.E.tpPrct.has?i.E.tpPrct.val*i.E.tpPrct.inExtFrac:0));Y(t.breaks,function(s){var l=s.gapParsed;l.type==="tpPrct"&&(s.gapReal=r!==0?Math.max(o,0)*l.val/r:0),l.type==="tpAbs"&&(s.gapReal=l.val),s.gapReal==null&&(s.gapReal=0)})}function Uze(t,e,r,n,a,i){t!=="no"&&Y(r,function(o){var s=bO(o,i);if(s)for(var l=e.length-1;l>=0;l--){var u=e[l],c=n(u),f=a*3/4;c>s.vmin-f&&c<s.vmax+f&&(t!=="preserve_extent_bound"||c!==i[0]&&c!==i[1])&&e.splice(l,1)}})}function Wze(t,e,r,n){Y(e,function(a){var i=bO(a,r);i&&(t.push({value:i.vmin,break:{type:"vmin",parsedBreak:i},time:n?n(i):void 0}),t.push({value:i.vmax,break:{type:"vmax",parsedBreak:i},time:n?n(i):void 0}))}),e.length&&t.sort(function(a,i){return a.value-i.value})}function bO(t,e){var r=Math.max(t.vmin,e[0]),n=Math.min(t.vmax,e[1]);return r<n||r===n&&r>e[0]&&r<e[1]?{vmin:r,vmax:n,breakOption:t.breakOption,gapParsed:t.gapParsed,gapReal:t.gapReal}:null}function kR(t,e,r){var n=[];if(!t)return{breaks:n};function a(o,s){return o>=0&&o<1-1e-5}Y(t,function(o){if(!(!o||o.start==null||o.end==null)&&!o.isExpanded){var s={breakOption:ut(o),vmin:e(o.start),vmax:e(o.end),gapParsed:{type:"tpAbs",val:0},gapReal:null};if(o.gap!=null){var l=!1;if(We(o.gap)){var u=ml(o.gap);if(u.match(/%$/)){var c=parseFloat(u)/100;a(c)||(c=0),s.gapParsed.type="tpPrct",s.gapParsed.val=c,l=!0}}if(!l){var f=e(o.gap);(!isFinite(f)||f<0)&&(f=0),s.gapParsed.type="tpAbs",s.gapParsed.val=f}}if(s.vmin===s.vmax&&(s.gapParsed.type="tpAbs",s.gapParsed.val=0),r&&r.noNegative&&Y(["vmin","vmax"],function(v){s[v]<0&&(s[v]=0)}),s.vmin>s.vmax){var d=s.vmax;s.vmax=s.vmin,s.vmin=d}n.push(s)}}),n.sort(function(o,s){return o.vmin-s.vmin});var i=-1/0;return Y(n,function(o,s){i>o.vmin&&(n[s]=null),i=o.vmax}),{breaks:n.filter(function(o){return!!o})}}function SO(t,e){return IR(e)===IR(t)}function IR(t){return t.start+"_\0_"+t.end}function Yze(t,e,r){var n=[];Y(t,function(i,o){var s=e(i);s&&s.type==="vmin"&&n.push([o])}),Y(t,function(i,o){var s=e(i);if(s&&s.type==="vmax"){var l=cp(n,function(u){return SO(e(t[u[0]]).parsedBreak.breakOption,s.parsedBreak.breakOption)});l&&l.push(o)}});var a=[];return Y(n,function(i){i.length===2&&a.push(r?i:[t[i[0]],t[i[1]]])}),a}function Zze(t,e,r,n){var a,i;if(t.break){var o=t.break.parsedBreak,s=cp(r,function(f){return SO(f.breakOption,t.break.parsedBreak.breakOption)}),l=n(Math.pow(e,o.vmin),s.vmin),u=n(Math.pow(e,o.vmax),s.vmax),c={type:o.gapParsed.type,val:o.gapParsed.type==="tpAbs"?Ea(Math.pow(e,o.vmin+o.gapParsed.val))-l:o.gapParsed.val};a={type:t.break.type,parsedBreak:{breakOption:o.breakOption,vmin:l,vmax:u,gapParsed:c,gapReal:o.gapReal}},i=s[t.break.type]}return{brkRoundingCriterion:i,vBreak:a}}function qze(t,e,r){var n={noNegative:!0},a=kR(t,r,n),i=kR(t,r,n),o=Math.log(e);return i.breaks=Re(i.breaks,function(s){var l=Math.log(s.vmin)/o,u=Math.log(s.vmax)/o,c={type:s.gapParsed.type,val:s.gapParsed.type==="tpAbs"?Math.log(s.vmin+s.gapParsed.val)/o-l:s.gapParsed.val};return{vmin:l,vmax:u,gapParsed:c,gapReal:s.gapReal,breakOption:s.breakOption}}),{parsedOriginal:a,parsedLogged:i}}var $ze={vmin:"start",vmax:"end"};function Xze(t,e){return e&&(t=t||{},t.break={type:$ze[e.type],start:e.parsedBreak.vmin,end:e.parsedBreak.vmax}),t}function Kze(){jbe({createScaleBreakContext:Hze,pruneTicksByBreak:Uze,addBreaksToTicks:Wze,parseAxisBreakOption:kR,identifyAxisBreak:SO,serializeAxisBreakIdentifier:IR,retrieveAxisBreakPairs:Yze,getTicksLogTransformBreak:Zze,logarithmicParseBreaksFromOption:qze,makeAxisLabelFormatterParamBreak:Xze})}var N8=Xt();function Qze(t,e){var r=cp(t,function(n){return Ra().identifyAxisBreak(n.parsedBreak.breakOption,e.breakOption)});return r||t.push(r={zigzagRandomList:[],parsedBreak:e,shouldRemove:!1}),r}function Jze(t){Y(t,function(e){return e.shouldRemove=!0})}function eBe(t){for(var e=t.length-1;e>=0;e--)t[e].shouldRemove&&t.splice(e,1)}function tBe(t,e,r,n,a){var i=r.axis;if(i.scale.isBlank()||!Ra())return;var o=Ra().retrieveAxisBreakPairs(i.scale.getTicks({breakTicks:"only_break"}),function(z){return z.break},!1);if(!o.length)return;var s=r.getModel("breakArea"),l=s.get("zigzagAmplitude"),u=s.get("zigzagMinSpan"),c=s.get("zigzagMaxSpan");u=Math.max(2,u||0),c=Math.max(u,c||0);var f=s.get("expandOnClick"),d=s.get("zigzagZ"),v=s.getModel("itemStyle"),g=v.getItemStyle(),y=g.stroke,b=g.lineWidth,S=g.lineDash,w=g.fill,M=new st({ignoreModelZ:!0}),A=i.isHorizontal(),D=N8(e).visualList||(N8(e).visualList=[]);Jze(D);for(var R=function(z){var B=o[z][0].break.parsedBreak,V=[];V[0]=i.toGlobalCoord(i.dataToCoord(B.vmin,!0)),V[1]=i.toGlobalCoord(i.dataToCoord(B.vmax,!0)),V[1]<V[0]&&V.reverse();var G=Qze(D,B);G.shouldRemove=!1;var F=new st;I(G.zigzagRandomList,F,V[0],V[1],A,B),f&&F.on("click",function(){var q={type:NC,breaks:[{start:B.breakOption.start,end:B.breakOption.end}]};q[i.dim+"AxisIndex"]=r.componentIndex,a.dispatchAction(q)}),F.silent=!f,M.add(F)},N=0;N<o.length;N++)R(N);t.add(M),eBe(D);function I(z,B,V,G,F,q){var Q={stroke:y,lineWidth:b,lineDash:S,fill:"none"},H=F?0:1,X=1-H,W=n[Rt[X]]+n[ka[X]];function J(vt){var ct=[],Ft=[];ct[H]=Ft[H]=vt,ct[X]=n[Rt[X]],Ft[X]=W;var jt={x1:ct[0],y1:ct[1],x2:Ft[0],y2:Ft[1]};return dC(jt,jt,{lineWidth:1}),ct[0]=jt.x1,ct[1]=jt.y1,ct[H]}V=J(V),G=J(G);for(var ee=[],K=[],ne=!0,ie=n[Rt[X]],le=0;;le++){var me=ie===n[Rt[X]],we=ie>=W;we&&(ie=W);var pe=[],Pe=[];pe[H]=V,Pe[H]=G,!me&&!we&&(pe[H]+=ne?-l:l,Pe[H]-=ne?l:-l),pe[X]=ie,Pe[X]=ie,ee.push(pe),K.push(Pe);var ke=void 0;if(le<z.length?ke=z[le]:(ke=Math.random(),z.push(ke)),ie+=ke*(c-u)+u,ne=!ne,we)break}var ze=Ra().serializeAxisBreakIdentifier(q.breakOption);if(B.add(new Yi({anid:"break_a_"+ze,shape:{points:ee},style:Q,z:d})),q.gapReal!==0){B.add(new Yi({anid:"break_b_"+ze,shape:{points:K},style:Q,z:d}));var Ie=K.slice();Ie.reverse();var Oe=ee.concat(Ie);B.add(new ho({anid:"break_c_"+ze,shape:{points:Oe},style:{fill:w,opacity:g.opacity},z:d}))}}}function rBe(t,e,r,n){var a=t.axis,i=r.transform;co(n.style);var o=a.getExtent();a.inverse&&(o=o.slice(),o.reverse());var s=Ra().retrieveAxisBreakPairs(a.scale.getTicks({breakTicks:"only_break"}),function(b){return b.break},!1),l=Re(s,function(b){var S=b[0].break.parsedBreak,w=[a.dataToCoord(S.vmin,!0),a.dataToCoord(S.vmax,!0)];return w[0]>w[1]&&w.reverse(),{coordPair:w,brkId:Ra().serializeAxisBreakIdentifier(S.breakOption)}});l.sort(function(b,S){return b.coordPair[0]-S.coordPair[0]});for(var u=o[0],c=null,f=0;f<l.length;f++){var d=l[f],v=Math.max(d.coordPair[0],o[0]),g=Math.min(d.coordPair[1],o[1]);u<=v&&y(u,v,c,d),u=g,c=d}u<=o[1]&&y(u,o[1],c,null);function y(b,S,w,M){function A(V,G){i&&(ba(V,V,i),ba(G,G,i))}function D(V,G){var F={x1:V[0],y1:V[1],x2:G[0],y2:G[1]};dC(F,F,n.style),V[0]=F.x1,V[1]=F.y1,G[0]=F.x2,G[1]=F.y2}var R=[b,0],N=[S,0],I=[b,5],z=[S,5];A(R,I),D(R,I),A(N,z),D(N,z),D(R,N);var B=new Na(Ae({shape:{x1:R[0],y1:R[1],x2:N[0],y2:N[1]}},n));e.add(B),B.anid="breakLine_"+(w?w.brkId:"\0")+"_\0_"+(M?M.brkId:"\0")}}function nBe(t,e,r){if(cp(r,function(w){return!w}))return;var n=new ht;if(!LC(r[0],r[1],n,{direction:-(t?e+Math.PI:e),touchThreshold:0,bidirectional:!1}))return;var a=Di();ud(a,a,-e);var i=Re(r,function(w){return w.transform?uc(Di(),a,w.transform):a});function o(w){var M=r[0].localRect,A=new ht(M[ka[w]]*i[0][0],M[ka[w]]*i[0][1]);return Math.abs(A.y)<1e-5}var s=.5;if(o(0)||o(1)){var l=Re(r,function(w,M){var A=w.localRect.clone();return A.applyTransform(i[M]),A}),u=new ht;u.copy(r[0].label).add(r[1].label).scale(.5),u.transform(a);var c=n.clone().transform(a),f=l[0].x+l[1].x+(c.x>=0?l[0].width:l[1].width),d=(f+c.x)/2-u.x,v=Math.min(d,d-c.x),g=Math.max(d,d-c.x),y=g<0?g:v>0?v:0;s=(d-y)/c.x}var b=new ht,S=new ht;ht.scale(b,n,-s),ht.scale(S,n,1-s),ON(r[0],b),ON(r[1],S)}function aBe(t,e){var r={breaks:[]};return Y(e.breaks,function(n){if(n){var a=cp(t.get("breaks",!0),function(s){return Ra().identifyAxisBreak(s,n)});if(a){var i=e.type,o={isExpanded:!!a.isExpanded};a.isExpanded=i===NC?!0:i===jQ?!1:i===zQ?!a.isExpanded:a.isExpanded,r.breaks.push({start:a.start,end:a.end,isExpanded:!!a.isExpanded,old:o})}}}),r}function iBe(){eAe({adjustBreakLabelPair:nBe,buildAxisBreakLine:rBe,rectCoordBuildBreakAxis:tBe,updateModelAxisBreak:aBe})}function oBe(t){oAe(t),Kze(),iBe()}function sBe(){AAe(lBe)}function lBe(t,e){Y(t,function(r){if(!r.model.get(["axisLabel","inside"])){var n=uBe(r);if(n){var a=r.isHorizontal()?"height":"width",i=r.model.get(["axisLabel","margin"]);e[a]-=n[a]+i,r.position==="top"?e.y+=n.height+i:r.position==="left"&&(e.x+=n.width+i)}}})}function uBe(t){var e=t.model,r=t.scale;if(!e.get(["axisLabel","show"])||r.isBlank())return;var n,a,i=r.getExtent();r instanceof gm?a=r.count():(n=r.getTicks(),a=n.length);var o=t.getLabelModel(),s=$m(t),l,u=1;a>40&&(u=Math.ceil(a/40));for(var c=0;c<a;c+=u){var f=n?n[c]:{value:i[0]+c},d=s(f,c),v=o.getTextRect(d),g=y(v,o.get("rotate")||0);l?l.union(g):l=g}return l;function y(b,S){var w=S*Math.PI/180,M=b.width,A=b.height,D=M*Math.abs(Math.cos(w))+Math.abs(A*Math.sin(w)),R=M*Math.abs(Math.sin(w))+Math.abs(A*Math.cos(w)),N=new yt(b.x,b.y,D,R);return N}}Ut([QCe]);Ut([ZCe]);Ut([yMe,PMe,GMe,YAe,n2e,Y2e,xDe,rLe,wLe,ELe,OLe,ULe,jEe,sNe,yNe,kNe,zNe,qNe,tRe,hRe,yRe,DRe,hPe]);Ut(NPe);Ut(rke);Ut(cJ);Ut(vke);Ut(XJ);Ut(yke);Ut(zke);Ut(Zke);Ut(PIe);Ut(QIe);Ut(L_);Ut(vOe);Ut(mOe);Ut(AOe);Ut(IOe);Ut(FOe);Ut(ZOe);Ut(nje);Ut(Sje);Ut(rte);Ut(nte);Ut(Hje);Ut(lte);Ut(ute);Ut(Yje);Ut(Kje);Ut(cze);Ut(dze);Ut(Vze);Ut(dCe);Ut(oBe);Ut(sBe);Ut(ZAe);const lT=["#3b82f6","#22c55e","#f59e0b","#ef4444","#a855f7","#06b6d4","#f97316","#ec4899"];function cBe(t){return lT[t%lT.length]}const mte="pulse-dark",yte="pulse-light";function fBe(){Dw(mte,{color:[...lT],backgroundColor:"transparent",textStyle:{color:"#a1a1aa"},title:{textStyle:{color:"#fafafa"},subtextStyle:{color:"#a1a1aa"}},gauge:{axisLine:{lineStyle:{color:[[1,"#27272a"]]}},axisTick:{lineStyle:{color:"#52525b"}},splitLine:{lineStyle:{color:"#52525b"}},axisLabel:{color:"#a1a1aa"},detail:{color:"#fafafa"},title:{color:"#a1a1aa"}},categoryAxis:{axisLine:{lineStyle:{color:"#3f3f46"}},axisTick:{lineStyle:{color:"#3f3f46"}},axisLabel:{color:"#a1a1aa"},splitLine:{lineStyle:{color:"#27272a"}}},valueAxis:{axisLine:{lineStyle:{color:"#3f3f46"}},axisTick:{lineStyle:{color:"#3f3f46"}},axisLabel:{color:"#a1a1aa"},splitLine:{lineStyle:{color:"#27272a"}}},legend:{textStyle:{color:"#a1a1aa"}},tooltip:{backgroundColor:"#18181b",borderColor:"#3f3f46",textStyle:{color:"#fafafa"}}}),Dw(yte,{color:[...lT],backgroundColor:"transparent",textStyle:{color:"#52525b"},title:{textStyle:{color:"#18181b"},subtextStyle:{color:"#52525b"}},gauge:{axisLine:{lineStyle:{color:[[1,"#e4e4e7"]]}},axisTick:{lineStyle:{color:"#d4d4d8"}},splitLine:{lineStyle:{color:"#d4d4d8"}},axisLabel:{color:"#52525b"},detail:{color:"#18181b"},title:{color:"#52525b"}},categoryAxis:{axisLine:{lineStyle:{color:"#d4d4d8"}},axisTick:{lineStyle:{color:"#d4d4d8"}},axisLabel:{color:"#52525b"},splitLine:{lineStyle:{color:"#e4e4e7"}}},valueAxis:{axisLine:{lineStyle:{color:"#d4d4d8"}},axisTick:{lineStyle:{color:"#d4d4d8"}},axisLabel:{color:"#52525b"},splitLine:{lineStyle:{color:"#e4e4e7"}}},legend:{textStyle:{color:"#52525b"}},tooltip:{backgroundColor:"#ffffff",borderColor:"#e4e4e7",textStyle:{color:"#18181b"}}})}function hBe({option:t,className:e,style:r,notMerge:n=!1}){const a=O.useRef(null),i=O.useRef(null),s=io(l=>l.resolvedTheme)==="dark"?mte:yte;return O.useEffect(()=>{if(!a.current)return;i.current&&i.current.dispose();const l=Nwe(a.current,s,{renderer:"canvas"});i.current=l,i.current.setOption(t);const u=new ResizeObserver(()=>{l.resize()});return u.observe(a.current),()=>{u.disconnect(),i.current?.dispose(),i.current=null}},[s]),O.useEffect(()=>{i.current&&i.current.setOption(t,n)},[t,n]),x.jsx("div",{ref:a,className:dt("w-full",e),style:{height:200,...r}})}const xte=O.memo(hBe);function dBe(){const{data:t,isLoading:e}=HP(500,0),r=t?.devices||[],a=io(d=>d.resolvedTheme)==="dark",i=a?"#a1a1aa":"#52525b",o=a?"#18181b":"#e4e4e7",s=a?"#fafafa":"#18181b",l=a?"#22c55e":"#16a34a",u=a?"#f97316":"#ea580c",c=O.useMemo(()=>{let d=0,v=0;for(const g of r)g.status==="ONLINE"?d++:g.status==="STALE"&&v++;return{online:d,stale:v}},[r]),f=O.useMemo(()=>({tooltip:{trigger:"item",formatter:"{b}: {c} ({d}%)"},legend:{bottom:0,textStyle:{color:i}},series:[{type:"pie",radius:["50%","70%"],center:["50%","45%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:4,borderColor:o,borderWidth:2},label:{show:!0,position:"center",formatter:()=>`${r.length}
Devices`,fontSize:16,fontWeight:"bold",color:s,lineHeight:22},labelLine:{show:!1},data:[{value:c.online,name:"Online",itemStyle:{color:l}},{value:c.stale,name:"Stale",itemStyle:{color:u}}]}]}),[r.length,c,i,o,s,l,u]);return e?x.jsxs(Gr,{children:[x.jsx(Ur,{children:x.jsxs(pn,{className:"flex items-center gap-2 text-base",children:[x.jsx(T5,{className:"h-4 w-4"}),"Device Status"]})}),x.jsx(Wr,{children:x.jsx(wr,{className:"h-[220px]"})})]}):x.jsxs(Gr,{children:[x.jsx(Ur,{children:x.jsxs(pn,{className:"flex items-center gap-2 text-base",children:[x.jsx(T5,{className:"h-4 w-4"}),"Device Status"]})}),x.jsx(Wr,{children:r.length===0?x.jsx("div",{className:"h-[220px] flex items-center justify-center text-muted-foreground",children:"No devices"}):x.jsx(xte,{option:f,style:{height:220}})})]})}const vBe=O.memo(dBe);function pBe(){return x.jsxs("div",{className:"space-y-6",children:[x.jsx(ei,{title:"Dashboard",description:"Real-time overview of your IoT fleet"}),x.jsx(qu,{widgetName:"Stat Cards",children:x.jsx(gge,{})}),x.jsx(qu,{widgetName:"Fleet Health",children:x.jsx(Cge,{})}),x.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[x.jsx("div",{className:"lg:col-span-2",children:x.jsx(qu,{widgetName:"Alert Trend",children:x.jsx(Sye,{})})}),x.jsx(qu,{widgetName:"Device Status",children:x.jsx(vBe,{})})]}),x.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[x.jsx(qu,{widgetName:"Alert Stream",children:x.jsx(_ge,{})}),x.jsx(qu,{widgetName:"Device Table",children:x.jsx(wge,{})})]})]})}function ss({...t}){return x.jsx(uP,{"data-slot":"dialog",...t})}function gBe({...t}){return x.jsx(cP,{"data-slot":"dialog-portal",...t})}function mBe({className:t,...e}){return x.jsx(fP,{"data-slot":"dialog-overlay",className:dt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function ls({className:t,children:e,showCloseButton:r=!0,...n}){return x.jsxs(gBe,{"data-slot":"dialog-portal",children:[x.jsx(mBe,{}),x.jsxs(hP,{"data-slot":"dialog-content",className:dt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 outline-none sm:max-w-lg",t),...n,children:[e,r&&x.jsxs(i_,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[x.jsx(aW,{}),x.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function us({className:t,...e}){return x.jsx("div",{"data-slot":"dialog-header",className:dt("flex flex-col gap-2 text-center sm:text-left",t),...e})}function Cc({className:t,showCloseButton:e=!1,children:r,...n}){return x.jsxs("div",{"data-slot":"dialog-footer",className:dt("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...n,children:[r,e&&x.jsx(i_,{asChild:!0,children:x.jsx(Ze,{variant:"outline",children:"Close"})})]})}function cs({className:t,...e}){return x.jsx(dP,{"data-slot":"dialog-title",className:dt("text-lg leading-none font-semibold",t),...e})}function dd({className:t,...e}){return x.jsx(vP,{"data-slot":"dialog-description",className:dt("text-muted-foreground text-sm",t),...e})}function yBe(t){try{const e=new Date(t),r=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0"),i=String(e.getHours()).padStart(2,"0"),o=String(e.getMinutes()).padStart(2,"0"),s=String(e.getSeconds()).padStart(2,"0");return`${r}-${n}-${a} ${i}:${o}:${s}`}catch{return t}}function xBe({status:t}){const e=t==="ONLINE"?"text-green-600":t==="STALE"?"text-yellow-600":"text-red-600";return x.jsx("span",{className:e,children:t})}function _Be({tags:t}){if(!t||t.length===0)return x.jsx("span",{className:"text-muted-foreground",children:""});const e=3,r=t.slice(0,e),n=t.length-e;return x.jsxs("span",{className:"text-muted-foreground",children:[r.join(", "),n>0&&`, +${n}`]})}function R8({offset:t,limit:e,totalCount:r,setOffset:n,setLimit:a}){return x.jsxs("div",{className:"flex items-center justify-between text-xs",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("span",{className:"text-muted-foreground",children:[r>0?`${t+1}-${Math.min(t+e,r)}`:"0"," ","of ",r.toLocaleString()]}),x.jsx("select",{value:e,onChange:i=>{a(Number(i.target.value)),n(0)},className:"h-6 px-1 rounded border border-border bg-background text-xs",children:[100,250,500,1e3].map(i=>x.jsxs("option",{value:i,children:[i," / page"]},i))})]}),x.jsxs("div",{className:"flex gap-1",children:[x.jsx("button",{onClick:()=>n(0),disabled:t===0,className:"px-2 py-0.5 rounded border border-border hover:bg-accent disabled:opacity-50 disabled:cursor-not-allowed text-xs",children:"First"}),x.jsx("button",{onClick:()=>n(Math.max(0,t-e)),disabled:t===0,className:"px-2 py-0.5 rounded border border-border hover:bg-accent disabled:opacity-50 disabled:cursor-not-allowed text-xs",children:"Prev"}),x.jsx("button",{onClick:()=>n(t+e),disabled:t+e>=r,className:"px-2 py-0.5 rounded border border-border hover:bg-accent disabled:opacity-50 disabled:cursor-not-allowed text-xs",children:"Next"}),x.jsx("button",{onClick:()=>n(Math.max(0,Math.floor((r-1)/e)*e)),disabled:t+e>=r,className:"px-2 py-0.5 rounded border border-border hover:bg-accent disabled:opacity-50 disabled:cursor-not-allowed text-xs",children:"Last"})]})]})}function bBe({value:t}){return x.jsx("div",{className:"h-1.5 w-full rounded-full bg-muted",children:x.jsx("div",{className:"h-1.5 rounded-full bg-primary",style:{width:`${Math.min(100,Math.max(0,t))}%`}})})}function SBe(){const[t,e]=O.useState(0),[r,n]=O.useState(100),{data:a,isLoading:i,error:o}=HP(r,t),[s,l]=O.useState([]),[u,c]=O.useState(!1),{data:f}=Xr({queryKey:["tags"],queryFn:dge}),d=f?.tags??[],{data:v}=Xr({queryKey:["subscription-status"],queryFn:()=>Yr("/customer/subscription")}),g=a?.devices||[],y=a?.total??a?.count??0,b=O.useMemo(()=>s.length===0?g:g.filter(D=>{const R=D.tags||[];return s.every(N=>R.includes(N))}),[g,s]),S=D=>{l(R=>R.includes(D)?R.filter(N=>N!==D):[...R,D])},w=v?.status!=="SUSPENDED"&&v?.status!=="EXPIRED",M=v?.devices_available===0,A=v?Math.round(v.active_device_count/Math.max(v.device_limit,1)*100):0;return x.jsxs("div",{className:"space-y-6",children:[x.jsx(ei,{title:"Devices",description:i?"Loading...":s.length>0?`${b.length} devices match filters`:v?`${y} of ${v.device_limit} devices (${v.devices_available} available)`:`${y} devices in your fleet`,action:w?x.jsx(VT,{children:x.jsxs(FT,{children:[x.jsx(HT,{asChild:!0,children:x.jsx("span",{children:x.jsxs(Ze,{disabled:M,size:"sm",children:[x.jsx(gT,{className:"h-4 w-4 mr-2"}),"New Device"]})})}),M&&x.jsx(GT,{children:x.jsx("p",{children:"Device limit reached. Remove devices or upgrade your plan."})})]})}):null}),v&&x.jsxs("div",{className:"flex items-center gap-4 py-2",children:[x.jsxs("div",{className:"flex-1 max-w-xs",children:[x.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[x.jsx("span",{className:"text-muted-foreground",children:"Device Usage"}),x.jsxs("span",{children:[v.active_device_count," / ",v.device_limit]})]}),x.jsx(bBe,{value:A})]}),v.devices_available===0&&x.jsxs(yi,{variant:"outline",className:"border-orange-500 text-orange-600",children:[x.jsx(su,{className:"h-3 w-3 mr-1"}),"At Limit"]}),v.devices_available>0&&v.devices_available<=5&&x.jsxs(yi,{variant:"outline",className:"border-yellow-500 text-yellow-600",children:[v.devices_available," remaining"]})]}),o?x.jsxs("div",{className:"text-destructive",children:["Failed to load devices: ",o.message]}):i?x.jsx("div",{className:"space-y-2",children:[1,2,3,4,5].map(D=>x.jsx(wr,{className:"h-12 w-full"},D))}):g.length===0?x.jsx(Ml,{title:"No devices found",description:"Devices will appear here once they connect and send data.",icon:x.jsx(t_,{className:"h-12 w-12"})}):x.jsxs(x.Fragment,{children:[s.length>0&&x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("span",{className:"text-xs text-muted-foreground",children:["Tags filter active (",s.length,")"]}),x.jsx("button",{onClick:()=>l([]),className:"text-xs text-muted-foreground hover:text-foreground",children:"Clear"})]}),x.jsx(ss,{open:u,onOpenChange:c,children:x.jsxs(ls,{className:"max-w-xs",children:[x.jsx(us,{children:x.jsx(cs,{className:"text-sm",children:"Filter by Tags"})}),x.jsxs("div",{className:"space-y-1 max-h-64 overflow-y-auto",children:[d.map(D=>x.jsxs("label",{className:"flex items-center gap-2 text-xs cursor-pointer hover:bg-muted p-1 rounded",children:[x.jsx("input",{type:"checkbox",checked:s.includes(D),onChange:()=>S(D),className:"h-3 w-3"}),D]},D)),d.length===0&&x.jsx("div",{className:"text-xs text-muted-foreground",children:"No tags defined"})]}),x.jsxs("div",{className:"flex justify-end gap-2 pt-2 border-t",children:[x.jsx(Ze,{variant:"outline",size:"sm",className:"h-7 text-xs",onClick:()=>l([]),children:"Clear All"}),x.jsx(Ze,{size:"sm",className:"h-7 text-xs",onClick:()=>c(!1),children:"Done"})]})]})}),x.jsx(R8,{offset:t,limit:r,totalCount:y,setOffset:e,setLimit:n}),x.jsx("div",{className:"rounded-md border border-border overflow-hidden",children:x.jsxs(Os,{className:"text-xs",children:[x.jsx(js,{children:x.jsxs(jn,{className:"hover:bg-transparent",children:[x.jsx(Ct,{className:"h-7 py-1 px-2",children:"Device ID"}),x.jsx(Ct,{className:"h-7 py-1 px-2",children:"Site"}),x.jsx(Ct,{className:"h-7 py-1 px-2",children:"Status"}),x.jsxs(Ct,{className:"h-7 py-1 px-2 cursor-pointer hover:bg-muted",onClick:()=>c(!0),children:["Tags ",s.length>0&&`(${s.length})`]}),x.jsx(Ct,{className:"h-7 py-1 px-2",children:"Last Seen"})]})}),x.jsx(zs,{children:b.map(D=>x.jsxs(jn,{className:"hover:bg-muted/50",children:[x.jsx(bt,{className:"py-1 px-2 font-mono",children:x.jsx(Ui,{to:`/devices/${D.device_id}`,className:"text-primary hover:underline",children:D.device_id})}),x.jsx(bt,{className:"py-1 px-2",children:D.site_id}),x.jsx(bt,{className:"py-1 px-2",children:x.jsx(xBe,{status:D.status})}),x.jsx(bt,{className:"py-1 px-2",children:x.jsx(_Be,{tags:D.tags})}),x.jsx(bt,{className:"py-1 px-2 text-muted-foreground whitespace-nowrap font-mono",children:D.last_seen_at?yBe(D.last_seen_at):""})]},D.device_id))})]})}),x.jsx(R8,{offset:t,limit:r,totalCount:y,setOffset:e,setLimit:n})]})]})}async function wBe(t,e,r,n=120){let a=`/api/v2/devices/${encodeURIComponent(t)}/telemetry?limit=${n}`;return e&&(a+=`&start=${encodeURIComponent(e)}`),Yr(a)}function TBe(t,e,r,n=120){return Xr({queryKey:["telemetry",t,e,r,n],queryFn:()=>wBe(t,e,r,n),enabled:!!t,placeholderData:a=>a})}function CBe(t,e){const r=[],n=[];for(let a=t.length-1;a>=0;a--){const i=t[a];r.push(new Date(i.timestamp).getTime()/1e3);const o=i.metrics[e];n.push(typeof o=="number"?o:null)}return[r,n]}function MBe(t){const e=new Set;for(const a of t)for(const[i,o]of Object.entries(a.metrics))typeof o=="number"&&e.add(i);const r=["battery_pct","temp_c","rssi_dbm","snr_db"];return[...e].sort((a,i)=>{const o=r.indexOf(a),s=r.indexOf(i);return o!==-1&&s!==-1?o-s:o!==-1?-1:s!==-1?1:a.localeCompare(i)})}function ABe(t,e){for(const r of t){const n=r.metrics[e];if(typeof n=="number")return n}return null}function DBe(t){const e=new Date;switch(t){case"1h":e.setHours(e.getHours()-1);break;case"6h":e.setHours(e.getHours()-6);break;case"24h":e.setHours(e.getHours()-24);break;case"7d":e.setDate(e.getDate()-7);break;default:e.setHours(e.getHours()-1)}return e.toISOString()}const LBe=[{value:"1h",label:"1 Hour"},{value:"6h",label:"6 Hours"},{value:"24h",label:"24 Hours"},{value:"7d",label:"7 Days"}],oS=500;function EBe(t){const[e,r]=O.useState("1h"),[n,a]=O.useState([]),[i,o]=O.useState(!1),[s,l]=O.useState(0),u=O.useMemo(()=>DBe(e),[e]),{data:c,isLoading:f,error:d}=TBe(t,u,void 0,500);O.useEffect(()=>{o(!1),l(0)},[e]),O.useEffect(()=>{if(!t)return;const y=`telemetry:${t}`,b=ro.on(y,S=>{const w=S;if(!w.metrics||Object.keys(w.metrics).length===0)return;const M={timestamp:w.timestamp,metrics:w.metrics};a(A=>{const D=[...A,M];return D.length>oS?D.slice(D.length-oS):D}),o(!0),l(A=>A+1)});return Z0.subscribe("device",t),()=>{b(),Z0.unsubscribe("device",t),o(!1),l(0),a([])}},[t]);const v=O.useMemo(()=>{const y=c?.telemetry??[];if(y.length===0&&n.length===0)return[];if(n.length===0)return y;const b=new Map;for(const w of y)b.set(w.timestamp,w);for(const w of n)b.set(w.timestamp,w);const S=[...b.values()].sort((w,M)=>new Date(w.timestamp).getTime()-new Date(M.timestamp).getTime());return S.length>oS?S.slice(S.length-oS):S},[c,n]),g=O.useMemo(()=>MBe(v),[v]);return{points:v,metrics:g,isLoading:f,error:d,isLive:i,liveCount:s,timeRange:e,setTimeRange:r}}function NBe(t,e="OPEN",r=20){return Xr({queryKey:["device-alerts",t,e,r],queryFn:()=>Yr(`/api/v2/alerts?status=${e}&limit=${r}`).then(n=>({...n,alerts:n.alerts.filter(a=>a.device_id===t)})),enabled:!!t})}function RBe(t){if(!t)return"Never";try{return new Date(t).toLocaleString()}catch{return t}}function PBe({device:t,isLoading:e,tags:r,onTagsChange:n,notesValue:a,onNotesChange:i,onNotesBlur:o,onEdit:s}){const[l,u]=O.useState("");return e?x.jsxs("div",{className:"border rounded p-3 bg-card text-xs space-y-1",children:[x.jsx(wr,{className:"h-3 w-64"}),x.jsx(wr,{className:"h-3 w-72"}),x.jsx(wr,{className:"h-3 w-56"})]}):t?x.jsxs("div",{className:"border rounded p-2 bg-card text-xs",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[x.jsx("span",{className:"font-mono font-semibold text-xs",children:t.device_id}),x.jsx(FP,{status:t.status}),x.jsxs("span",{className:"text-muted-foreground",children:["Site: ",t.site_id]}),x.jsx("span",{className:"text-muted-foreground",children:RBe(t.last_seen_at)}),x.jsx("button",{type:"button",onClick:s,className:"ml-auto text-muted-foreground hover:text-foreground",children:x.jsx(rP,{className:"h-3 w-3"})})]}),x.jsxs("div",{className:"grid grid-cols-4 gap-x-3 gap-y-0.5 text-xs",children:[x.jsxs("div",{children:[x.jsx("span",{className:"text-muted-foreground",children:"Model:"})," ",t.model||""]}),x.jsxs("div",{children:[x.jsx("span",{className:"text-muted-foreground",children:"Mfr:"})," ",t.manufacturer||""]}),x.jsxs("div",{children:[x.jsx("span",{className:"text-muted-foreground",children:"Serial:"})," ",t.serial_number||""]}),x.jsxs("div",{children:[x.jsx("span",{className:"text-muted-foreground",children:"MAC:"})," ",t.mac_address||""]}),x.jsxs("div",{children:[x.jsx("span",{className:"text-muted-foreground",children:"IMEI:"})," ",t.imei||""]}),x.jsxs("div",{children:[x.jsx("span",{className:"text-muted-foreground",children:"SIM:"})," ",t.iccid||""]}),x.jsxs("div",{children:[x.jsx("span",{className:"text-muted-foreground",children:"HW:"})," ",t.hw_revision||""]}),x.jsxs("div",{children:[x.jsx("span",{className:"text-muted-foreground",children:"FW:"})," ",t.fw_version||""]})]}),x.jsxs("div",{className:"mt-1 flex items-center gap-1 text-xs",children:[x.jsx("span",{className:"text-muted-foreground",children:"Location:"}),t.latitude!=null&&t.longitude!=null?x.jsxs(x.Fragment,{children:[x.jsxs("span",{children:[t.latitude.toFixed(6),", ",t.longitude.toFixed(6)]}),t.address&&x.jsxs("span",{className:"text-muted-foreground",children:["(",t.address,")"]}),x.jsxs("span",{className:"text-muted-foreground text-[10px]",children:["[",t.location_source||"auto","]"]})]}):t.address?x.jsxs(x.Fragment,{children:[x.jsx("span",{children:t.address}),x.jsx("span",{className:"text-muted-foreground text-[10px]",children:"[manual]"})]}):x.jsx("span",{className:"text-muted-foreground",children:""})]}),x.jsxs("div",{className:"mt-1 flex items-center gap-1 text-xs",children:[x.jsx("span",{className:"text-muted-foreground",children:"Tags:"}),r.map(c=>x.jsxs("span",{className:"bg-muted px-1 py-0 rounded text-xs inline-flex items-center",children:[c,x.jsx("button",{type:"button",onClick:()=>n(r.filter(f=>f!==c)),className:"ml-0.5 text-muted-foreground hover:text-foreground",children:""})]},c)),x.jsx("input",{type:"text",placeholder:"+",value:l,onChange:c=>u(c.target.value),className:"w-12 text-xs bg-transparent border-b border-border py-0 px-0",onKeyDown:c=>{if(c.key==="Enter"){c.preventDefault();const f=l.trim();if(!f)return;if(r.some(d=>d.toLowerCase()===f.toLowerCase())){u("");return}n([...r,f]),u("")}else c.key==="Backspace"&&!l&&r.length>0&&n(r.slice(0,-1))}})]}),x.jsxs("div",{className:"mt-1 flex items-center gap-1 text-xs",children:[x.jsx("span",{className:"text-muted-foreground",children:"Notes:"}),x.jsx("input",{type:"text",value:a,onChange:c=>i(c.target.value),onBlur:o,className:"flex-1 text-xs bg-transparent border-b border-border py-0",placeholder:""})]})]}):x.jsx("div",{className:"border rounded p-3 bg-card text-xs space-y-1",children:x.jsx("p",{className:"text-xs text-muted-foreground",children:"Device not found."})})}function _te(t,e){const r=O.useRef(e);O.useEffect(function(){e!==r.current&&t.attributionControl!=null&&(r.current!=null&&t.attributionControl.removeAttribution(r.current),e!=null&&t.attributionControl.addAttribution(e)),r.current=e},[t,e])}const kBe=1;function IBe(t){return Object.freeze({__version:kBe,map:t})}function OBe(t,e){return Object.freeze({...t,...e})}const wO=O.createContext(null);function bte(){const t=O.use(wO);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function jBe(t){function e(r,n){const{instance:a,context:i}=t(r).current;O.useImperativeHandle(n,()=>a);const{children:o}=r;return o==null?null:Mo.createElement(wO,{value:i},o)}return O.forwardRef(e)}function zBe(t){function e(r,n){const[a,i]=O.useState(!1),{instance:o}=t(r,i).current;O.useImperativeHandle(n,()=>o),O.useEffect(function(){a&&o.update()},[o,a,r.children]);const s=o._contentNode;return s?op.createPortal(r.children,s):null}return O.forwardRef(e)}function BBe(t){function e(r,n){const{instance:a}=t(r).current;return O.useImperativeHandle(n,()=>a),null}return O.forwardRef(e)}function Ste(t,e){const r=O.useRef(void 0);O.useEffect(function(){return e!=null&&t.instance.on(e),r.current=e,function(){r.current!=null&&t.instance.off(r.current),r.current=null}},[t,e])}function TO(t,e){const r=t.pane??e.pane;return r?{...t,pane:r}:t}function VBe(t,e){return function(n,a){const i=bte(),o=t(TO(n,i),i);return _te(i.map,n.attribution),Ste(o.current,n.eventHandlers),e(o.current,i,n,a),o}}var W0={exports:{}};var FBe=W0.exports,P8;function HBe(){return P8||(P8=1,(function(t,e){(function(r,n){n(e)})(FBe,(function(r){var n="1.9.4";function a(m){var T,E,j,U;for(E=1,j=arguments.length;E<j;E++){U=arguments[E];for(T in U)m[T]=U[T]}return m}var i=Object.create||(function(){function m(){}return function(T){return m.prototype=T,new m}})();function o(m,T){var E=Array.prototype.slice;if(m.bind)return m.bind.apply(m,E.call(arguments,1));var j=E.call(arguments,2);return function(){return m.apply(T,j.length?j.concat(E.call(arguments)):arguments)}}var s=0;function l(m){return"_leaflet_id"in m||(m._leaflet_id=++s),m._leaflet_id}function u(m,T,E){var j,U,re,ue;return ue=function(){j=!1,U&&(re.apply(E,U),U=!1)},re=function(){j?U=arguments:(m.apply(E,arguments),setTimeout(ue,T),j=!0)},re}function c(m,T,E){var j=T[1],U=T[0],re=j-U;return m===j&&E?m:((m-U)%re+re)%re+U}function f(){return!1}function d(m,T){if(T===!1)return m;var E=Math.pow(10,T===void 0?6:T);return Math.round(m*E)/E}function v(m){return m.trim?m.trim():m.replace(/^\s+|\s+$/g,"")}function g(m){return v(m).split(/\s+/)}function y(m,T){Object.prototype.hasOwnProperty.call(m,"options")||(m.options=m.options?i(m.options):{});for(var E in T)m.options[E]=T[E];return m.options}function b(m,T,E){var j=[];for(var U in m)j.push(encodeURIComponent(E?U.toUpperCase():U)+"="+encodeURIComponent(m[U]));return(!T||T.indexOf("?")===-1?"?":"&")+j.join("&")}var S=/\{ *([\w_ -]+) *\}/g;function w(m,T){return m.replace(S,function(E,j){var U=T[j];if(U===void 0)throw new Error("No value provided for variable "+E);return typeof U=="function"&&(U=U(T)),U})}var M=Array.isArray||function(m){return Object.prototype.toString.call(m)==="[object Array]"};function A(m,T){for(var E=0;E<m.length;E++)if(m[E]===T)return E;return-1}var D="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function R(m){return window["webkit"+m]||window["moz"+m]||window["ms"+m]}var N=0;function I(m){var T=+new Date,E=Math.max(0,16-(T-N));return N=T+E,window.setTimeout(m,E)}var z=window.requestAnimationFrame||R("RequestAnimationFrame")||I,B=window.cancelAnimationFrame||R("CancelAnimationFrame")||R("CancelRequestAnimationFrame")||function(m){window.clearTimeout(m)};function V(m,T,E){if(E&&z===I)m.call(T);else return z.call(window,o(m,T))}function G(m){m&&B.call(window,m)}var F={__proto__:null,extend:a,create:i,bind:o,get lastId(){return s},stamp:l,throttle:u,wrapNum:c,falseFn:f,formatNum:d,trim:v,splitWords:g,setOptions:y,getParamString:b,template:w,isArray:M,indexOf:A,emptyImageUrl:D,requestFn:z,cancelFn:B,requestAnimFrame:V,cancelAnimFrame:G};function q(){}q.extend=function(m){var T=function(){y(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},E=T.__super__=this.prototype,j=i(E);j.constructor=T,T.prototype=j;for(var U in this)Object.prototype.hasOwnProperty.call(this,U)&&U!=="prototype"&&U!=="__super__"&&(T[U]=this[U]);return m.statics&&a(T,m.statics),m.includes&&(Q(m.includes),a.apply(null,[j].concat(m.includes))),a(j,m),delete j.statics,delete j.includes,j.options&&(j.options=E.options?i(E.options):{},a(j.options,m.options)),j._initHooks=[],j.callInitHooks=function(){if(!this._initHooksCalled){E.callInitHooks&&E.callInitHooks.call(this),this._initHooksCalled=!0;for(var re=0,ue=j._initHooks.length;re<ue;re++)j._initHooks[re].call(this)}},T},q.include=function(m){var T=this.prototype.options;return a(this.prototype,m),m.options&&(this.prototype.options=T,this.mergeOptions(m.options)),this},q.mergeOptions=function(m){return a(this.prototype.options,m),this},q.addInitHook=function(m){var T=Array.prototype.slice.call(arguments,1),E=typeof m=="function"?m:function(){this[m].apply(this,T)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(E),this};function Q(m){if(!(typeof L>"u"||!L||!L.Mixin)){m=M(m)?m:[m];for(var T=0;T<m.length;T++)m[T]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var H={on:function(m,T,E){if(typeof m=="object")for(var j in m)this._on(j,m[j],T);else{m=g(m);for(var U=0,re=m.length;U<re;U++)this._on(m[U],T,E)}return this},off:function(m,T,E){if(!arguments.length)delete this._events;else if(typeof m=="object")for(var j in m)this._off(j,m[j],T);else{m=g(m);for(var U=arguments.length===1,re=0,ue=m.length;re<ue;re++)U?this._off(m[re]):this._off(m[re],T,E)}return this},_on:function(m,T,E,j){if(typeof T!="function"){console.warn("wrong listener type: "+typeof T);return}if(this._listens(m,T,E)===!1){E===this&&(E=void 0);var U={fn:T,ctx:E};j&&(U.once=!0),this._events=this._events||{},this._events[m]=this._events[m]||[],this._events[m].push(U)}},_off:function(m,T,E){var j,U,re;if(this._events&&(j=this._events[m],!!j)){if(arguments.length===1){if(this._firingCount)for(U=0,re=j.length;U<re;U++)j[U].fn=f;delete this._events[m];return}if(typeof T!="function"){console.warn("wrong listener type: "+typeof T);return}var ue=this._listens(m,T,E);if(ue!==!1){var _e=j[ue];this._firingCount&&(_e.fn=f,this._events[m]=j=j.slice()),j.splice(ue,1)}}},fire:function(m,T,E){if(!this.listens(m,E))return this;var j=a({},T,{type:m,target:this,sourceTarget:T&&T.sourceTarget||this});if(this._events){var U=this._events[m];if(U){this._firingCount=this._firingCount+1||1;for(var re=0,ue=U.length;re<ue;re++){var _e=U[re],De=_e.fn;_e.once&&this.off(m,De,_e.ctx),De.call(_e.ctx||this,j)}this._firingCount--}}return E&&this._propagateEvent(j),this},listens:function(m,T,E,j){typeof m!="string"&&console.warn('"string" type argument expected');var U=T;typeof T!="function"&&(j=!!T,U=void 0,E=void 0);var re=this._events&&this._events[m];if(re&&re.length&&this._listens(m,U,E)!==!1)return!0;if(j){for(var ue in this._eventParents)if(this._eventParents[ue].listens(m,T,E,j))return!0}return!1},_listens:function(m,T,E){if(!this._events)return!1;var j=this._events[m]||[];if(!T)return!!j.length;E===this&&(E=void 0);for(var U=0,re=j.length;U<re;U++)if(j[U].fn===T&&j[U].ctx===E)return U;return!1},once:function(m,T,E){if(typeof m=="object")for(var j in m)this._on(j,m[j],T,!0);else{m=g(m);for(var U=0,re=m.length;U<re;U++)this._on(m[U],T,E,!0)}return this},addEventParent:function(m){return this._eventParents=this._eventParents||{},this._eventParents[l(m)]=m,this},removeEventParent:function(m){return this._eventParents&&delete this._eventParents[l(m)],this},_propagateEvent:function(m){for(var T in this._eventParents)this._eventParents[T].fire(m.type,a({layer:m.target,propagatedFrom:m.target},m),!0)}};H.addEventListener=H.on,H.removeEventListener=H.clearAllEventListeners=H.off,H.addOneTimeEventListener=H.once,H.fireEvent=H.fire,H.hasEventListeners=H.listens;var X=q.extend(H);function W(m,T,E){this.x=E?Math.round(m):m,this.y=E?Math.round(T):T}var J=Math.trunc||function(m){return m>0?Math.floor(m):Math.ceil(m)};W.prototype={clone:function(){return new W(this.x,this.y)},add:function(m){return this.clone()._add(ee(m))},_add:function(m){return this.x+=m.x,this.y+=m.y,this},subtract:function(m){return this.clone()._subtract(ee(m))},_subtract:function(m){return this.x-=m.x,this.y-=m.y,this},divideBy:function(m){return this.clone()._divideBy(m)},_divideBy:function(m){return this.x/=m,this.y/=m,this},multiplyBy:function(m){return this.clone()._multiplyBy(m)},_multiplyBy:function(m){return this.x*=m,this.y*=m,this},scaleBy:function(m){return new W(this.x*m.x,this.y*m.y)},unscaleBy:function(m){return new W(this.x/m.x,this.y/m.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=J(this.x),this.y=J(this.y),this},distanceTo:function(m){m=ee(m);var T=m.x-this.x,E=m.y-this.y;return Math.sqrt(T*T+E*E)},equals:function(m){return m=ee(m),m.x===this.x&&m.y===this.y},contains:function(m){return m=ee(m),Math.abs(m.x)<=Math.abs(this.x)&&Math.abs(m.y)<=Math.abs(this.y)},toString:function(){return"Point("+d(this.x)+", "+d(this.y)+")"}};function ee(m,T,E){return m instanceof W?m:M(m)?new W(m[0],m[1]):m==null?m:typeof m=="object"&&"x"in m&&"y"in m?new W(m.x,m.y):new W(m,T,E)}function K(m,T){if(m)for(var E=T?[m,T]:m,j=0,U=E.length;j<U;j++)this.extend(E[j])}K.prototype={extend:function(m){var T,E;if(!m)return this;if(m instanceof W||typeof m[0]=="number"||"x"in m)T=E=ee(m);else if(m=ne(m),T=m.min,E=m.max,!T||!E)return this;return!this.min&&!this.max?(this.min=T.clone(),this.max=E.clone()):(this.min.x=Math.min(T.x,this.min.x),this.max.x=Math.max(E.x,this.max.x),this.min.y=Math.min(T.y,this.min.y),this.max.y=Math.max(E.y,this.max.y)),this},getCenter:function(m){return ee((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,m)},getBottomLeft:function(){return ee(this.min.x,this.max.y)},getTopRight:function(){return ee(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(m){var T,E;return typeof m[0]=="number"||m instanceof W?m=ee(m):m=ne(m),m instanceof K?(T=m.min,E=m.max):T=E=m,T.x>=this.min.x&&E.x<=this.max.x&&T.y>=this.min.y&&E.y<=this.max.y},intersects:function(m){m=ne(m);var T=this.min,E=this.max,j=m.min,U=m.max,re=U.x>=T.x&&j.x<=E.x,ue=U.y>=T.y&&j.y<=E.y;return re&&ue},overlaps:function(m){m=ne(m);var T=this.min,E=this.max,j=m.min,U=m.max,re=U.x>T.x&&j.x<E.x,ue=U.y>T.y&&j.y<E.y;return re&&ue},isValid:function(){return!!(this.min&&this.max)},pad:function(m){var T=this.min,E=this.max,j=Math.abs(T.x-E.x)*m,U=Math.abs(T.y-E.y)*m;return ne(ee(T.x-j,T.y-U),ee(E.x+j,E.y+U))},equals:function(m){return m?(m=ne(m),this.min.equals(m.getTopLeft())&&this.max.equals(m.getBottomRight())):!1}};function ne(m,T){return!m||m instanceof K?m:new K(m,T)}function ie(m,T){if(m)for(var E=T?[m,T]:m,j=0,U=E.length;j<U;j++)this.extend(E[j])}ie.prototype={extend:function(m){var T=this._southWest,E=this._northEast,j,U;if(m instanceof me)j=m,U=m;else if(m instanceof ie){if(j=m._southWest,U=m._northEast,!j||!U)return this}else return m?this.extend(we(m)||le(m)):this;return!T&&!E?(this._southWest=new me(j.lat,j.lng),this._northEast=new me(U.lat,U.lng)):(T.lat=Math.min(j.lat,T.lat),T.lng=Math.min(j.lng,T.lng),E.lat=Math.max(U.lat,E.lat),E.lng=Math.max(U.lng,E.lng)),this},pad:function(m){var T=this._southWest,E=this._northEast,j=Math.abs(T.lat-E.lat)*m,U=Math.abs(T.lng-E.lng)*m;return new ie(new me(T.lat-j,T.lng-U),new me(E.lat+j,E.lng+U))},getCenter:function(){return new me((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new me(this.getNorth(),this.getWest())},getSouthEast:function(){return new me(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(m){typeof m[0]=="number"||m instanceof me||"lat"in m?m=we(m):m=le(m);var T=this._southWest,E=this._northEast,j,U;return m instanceof ie?(j=m.getSouthWest(),U=m.getNorthEast()):j=U=m,j.lat>=T.lat&&U.lat<=E.lat&&j.lng>=T.lng&&U.lng<=E.lng},intersects:function(m){m=le(m);var T=this._southWest,E=this._northEast,j=m.getSouthWest(),U=m.getNorthEast(),re=U.lat>=T.lat&&j.lat<=E.lat,ue=U.lng>=T.lng&&j.lng<=E.lng;return re&&ue},overlaps:function(m){m=le(m);var T=this._southWest,E=this._northEast,j=m.getSouthWest(),U=m.getNorthEast(),re=U.lat>T.lat&&j.lat<E.lat,ue=U.lng>T.lng&&j.lng<E.lng;return re&&ue},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(m,T){return m?(m=le(m),this._southWest.equals(m.getSouthWest(),T)&&this._northEast.equals(m.getNorthEast(),T)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function le(m,T){return m instanceof ie?m:new ie(m,T)}function me(m,T,E){if(isNaN(m)||isNaN(T))throw new Error("Invalid LatLng object: ("+m+", "+T+")");this.lat=+m,this.lng=+T,E!==void 0&&(this.alt=+E)}me.prototype={equals:function(m,T){if(!m)return!1;m=we(m);var E=Math.max(Math.abs(this.lat-m.lat),Math.abs(this.lng-m.lng));return E<=(T===void 0?1e-9:T)},toString:function(m){return"LatLng("+d(this.lat,m)+", "+d(this.lng,m)+")"},distanceTo:function(m){return Pe.distance(this,we(m))},wrap:function(){return Pe.wrapLatLng(this)},toBounds:function(m){var T=180*m/40075017,E=T/Math.cos(Math.PI/180*this.lat);return le([this.lat-T,this.lng-E],[this.lat+T,this.lng+E])},clone:function(){return new me(this.lat,this.lng,this.alt)}};function we(m,T,E){return m instanceof me?m:M(m)&&typeof m[0]!="object"?m.length===3?new me(m[0],m[1],m[2]):m.length===2?new me(m[0],m[1]):null:m==null?m:typeof m=="object"&&"lat"in m?new me(m.lat,"lng"in m?m.lng:m.lon,m.alt):T===void 0?null:new me(m,T,E)}var pe={latLngToPoint:function(m,T){var E=this.projection.project(m),j=this.scale(T);return this.transformation._transform(E,j)},pointToLatLng:function(m,T){var E=this.scale(T),j=this.transformation.untransform(m,E);return this.projection.unproject(j)},project:function(m){return this.projection.project(m)},unproject:function(m){return this.projection.unproject(m)},scale:function(m){return 256*Math.pow(2,m)},zoom:function(m){return Math.log(m/256)/Math.LN2},getProjectedBounds:function(m){if(this.infinite)return null;var T=this.projection.bounds,E=this.scale(m),j=this.transformation.transform(T.min,E),U=this.transformation.transform(T.max,E);return new K(j,U)},infinite:!1,wrapLatLng:function(m){var T=this.wrapLng?c(m.lng,this.wrapLng,!0):m.lng,E=this.wrapLat?c(m.lat,this.wrapLat,!0):m.lat,j=m.alt;return new me(E,T,j)},wrapLatLngBounds:function(m){var T=m.getCenter(),E=this.wrapLatLng(T),j=T.lat-E.lat,U=T.lng-E.lng;if(j===0&&U===0)return m;var re=m.getSouthWest(),ue=m.getNorthEast(),_e=new me(re.lat-j,re.lng-U),De=new me(ue.lat-j,ue.lng-U);return new ie(_e,De)}},Pe=a({},pe,{wrapLng:[-180,180],R:6371e3,distance:function(m,T){var E=Math.PI/180,j=m.lat*E,U=T.lat*E,re=Math.sin((T.lat-m.lat)*E/2),ue=Math.sin((T.lng-m.lng)*E/2),_e=re*re+Math.cos(j)*Math.cos(U)*ue*ue,De=2*Math.atan2(Math.sqrt(_e),Math.sqrt(1-_e));return this.R*De}}),ke=6378137,ze={R:ke,MAX_LATITUDE:85.0511287798,project:function(m){var T=Math.PI/180,E=this.MAX_LATITUDE,j=Math.max(Math.min(E,m.lat),-E),U=Math.sin(j*T);return new W(this.R*m.lng*T,this.R*Math.log((1+U)/(1-U))/2)},unproject:function(m){var T=180/Math.PI;return new me((2*Math.atan(Math.exp(m.y/this.R))-Math.PI/2)*T,m.x*T/this.R)},bounds:(function(){var m=ke*Math.PI;return new K([-m,-m],[m,m])})()};function Ie(m,T,E,j){if(M(m)){this._a=m[0],this._b=m[1],this._c=m[2],this._d=m[3];return}this._a=m,this._b=T,this._c=E,this._d=j}Ie.prototype={transform:function(m,T){return this._transform(m.clone(),T)},_transform:function(m,T){return T=T||1,m.x=T*(this._a*m.x+this._b),m.y=T*(this._c*m.y+this._d),m},untransform:function(m,T){return T=T||1,new W((m.x/T-this._b)/this._a,(m.y/T-this._d)/this._c)}};function Oe(m,T,E,j){return new Ie(m,T,E,j)}var vt=a({},Pe,{code:"EPSG:3857",projection:ze,transformation:(function(){var m=.5/(Math.PI*ze.R);return Oe(m,.5,-m,.5)})()}),ct=a({},vt,{code:"EPSG:900913"});function Ft(m){return document.createElementNS("http://www.w3.org/2000/svg",m)}function jt(m,T){var E="",j,U,re,ue,_e,De;for(j=0,re=m.length;j<re;j++){for(_e=m[j],U=0,ue=_e.length;U<ue;U++)De=_e[U],E+=(U?"L":"M")+De.x+" "+De.y;E+=T?Te.svg?"z":"x":""}return E||"M0 0"}var Lr=document.documentElement.style,Rn="ActiveXObject"in window,fn=Rn&&!document.addEventListener,tn="msLaunchUri"in navigator&&!("documentMode"in document),aa=be("webkit"),za=be("android"),ko=be("android 2")||be("android 3"),Mt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),nt=za&&be("Google")&&Mt<537&&!("AudioNode"in window),Or=!!window.opera,wn=!tn&&be("chrome"),ea=be("gecko")&&!aa&&!Or&&!Rn,Sa=!wn&&be("safari"),ai=be("phantom"),Io="OTransition"in Lr,wa=navigator.platform.indexOf("Win")===0,ia=Rn&&"transition"in Lr,gr="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ko,Zn="MozPerspective"in Lr,ca=!window.L_DISABLE_3D&&(ia||gr||Zn)&&!Io&&!ai,vo=typeof orientation<"u"||be("mobile"),Us=vo&&aa,Oo=vo&&gr,Ri=!window.PointerEvent&&window.MSPointerEvent,oa=!!(window.PointerEvent||Ri),po="ontouchstart"in window||!!window.TouchEvent,jo=!window.L_NO_TOUCH&&(po||oa),Rl=vo&&Or,Pl=vo&&ea,Pf=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,kl=(function(){var m=!1;try{var T=Object.defineProperty({},"passive",{get:function(){m=!0}});window.addEventListener("testPassiveEventSupport",f,T),window.removeEventListener("testPassiveEventSupport",f,T)}catch{}return m})(),Ws=(function(){return!!document.createElement("canvas").getContext})(),Ba=!!(document.createElementNS&&Ft("svg").createSVGRect),fa=!!Ba&&(function(){var m=document.createElement("div");return m.innerHTML="<svg/>",(m.firstChild&&m.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Pi=!Ba&&(function(){try{var m=document.createElement("div");m.innerHTML='<v:shape adj="1"/>';var T=m.firstChild;return T.style.behavior="url(#default#VML)",T&&typeof T.adj=="object"}catch{return!1}})(),ce=navigator.platform.indexOf("Mac")===0,ge=navigator.platform.indexOf("Linux")===0;function be(m){return navigator.userAgent.toLowerCase().indexOf(m)>=0}var Te={ie:Rn,ielt9:fn,edge:tn,webkit:aa,android:za,android23:ko,androidStock:nt,opera:Or,chrome:wn,gecko:ea,safari:Sa,phantom:ai,opera12:Io,win:wa,ie3d:ia,webkit3d:gr,gecko3d:Zn,any3d:ca,mobile:vo,mobileWebkit:Us,mobileWebkit3d:Oo,msPointer:Ri,pointer:oa,touch:jo,touchNative:po,mobileOpera:Rl,mobileGecko:Pl,retina:Pf,passiveEvents:kl,canvas:Ws,svg:Ba,vml:Pi,inlineSvg:fa,mac:ce,linux:ge},qe=Te.msPointer?"MSPointerDown":"pointerdown",At=Te.msPointer?"MSPointerMove":"pointermove",rt=Te.msPointer?"MSPointerUp":"pointerup",Je=Te.msPointer?"MSPointerCancel":"pointercancel",at={touchstart:qe,touchmove:At,touchend:rt,touchcancel:Je},pt={touchstart:ha,touchmove:Vr,touchend:Vr,touchcancel:Vr},Pt={},Tt=!1;function Tr(m,T,E){return T==="touchstart"&&mr(),pt[T]?(E=pt[T].bind(this,E),m.addEventListener(at[T],E,!1),E):(console.warn("wrong event specified:",T),f)}function tr(m,T,E){if(!at[T]){console.warn("wrong event specified:",T);return}m.removeEventListener(at[T],E,!1)}function cr(m){Pt[m.pointerId]=m}function fr(m){Pt[m.pointerId]&&(Pt[m.pointerId]=m)}function lr(m){delete Pt[m.pointerId]}function mr(){Tt||(document.addEventListener(qe,cr,!0),document.addEventListener(At,fr,!0),document.addEventListener(rt,lr,!0),document.addEventListener(Je,lr,!0),Tt=!0)}function Vr(m,T){if(T.pointerType!==(T.MSPOINTER_TYPE_MOUSE||"mouse")){T.touches=[];for(var E in Pt)T.touches.push(Pt[E]);T.changedTouches=[T],m(T)}}function ha(m,T){T.MSPOINTER_TYPE_TOUCH&&T.pointerType===T.MSPOINTER_TYPE_TOUCH&&Xn(T),Vr(m,T)}function Tn(m){var T={},E,j;for(j in m)E=m[j],T[j]=E&&E.bind?E.bind(m):E;return m=T,T.type="dblclick",T.detail=2,T.isTrusted=!1,T._simulated=!0,T}var ki=200;function Va(m,T){m.addEventListener("dblclick",T);var E=0,j;function U(re){if(re.detail!==1){j=re.detail;return}if(!(re.pointerType==="mouse"||re.sourceCapabilities&&!re.sourceCapabilities.firesTouchEvents)){var ue=Kr(re);if(!(ue.some(function(De){return De instanceof HTMLLabelElement&&De.attributes.for})&&!ue.some(function(De){return De instanceof HTMLInputElement||De instanceof HTMLSelectElement}))){var _e=Date.now();_e-E<=ki?(j++,j===2&&T(Tn(re))):j=1,E=_e}}}return m.addEventListener("click",U),{dblclick:T,simDblclick:U}}function Fa(m,T){m.removeEventListener("dblclick",T.dblclick),m.removeEventListener("click",T.simDblclick)}var Ha=Mc(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ii=Mc(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),zo=ii==="webkitTransition"||ii==="OTransition"?ii+"End":"transitionend";function Bo(m){return typeof m=="string"?document.getElementById(m):m}function ir(m,T){var E=m.style[T]||m.currentStyle&&m.currentStyle[T];if((!E||E==="auto")&&document.defaultView){var j=document.defaultView.getComputedStyle(m,null);E=j?j[T]:null}return E==="auto"?null:E}function Ot(m,T,E){var j=document.createElement(m);return j.className=T||"",E&&E.appendChild(j),j}function Cr(m){var T=m.parentNode;T&&T.removeChild(m)}function Er(m){for(;m.firstChild;)m.removeChild(m.firstChild)}function or(m){var T=m.parentNode;T&&T.lastChild!==m&&T.appendChild(m)}function Ii(m){var T=m.parentNode;T&&T.firstChild!==m&&T.insertBefore(m,T.firstChild)}function Ys(m,T){if(m.classList!==void 0)return m.classList.contains(T);var E=kf(m);return E.length>0&&new RegExp("(^|\\s)"+T+"(\\s|$)").test(E)}function Kt(m,T){if(m.classList!==void 0)for(var E=g(T),j=0,U=E.length;j<U;j++)m.classList.add(E[j]);else if(!Ys(m,T)){var re=kf(m);_u(m,(re?re+" ":"")+T)}}function qn(m,T){m.classList!==void 0?m.classList.remove(T):_u(m,v((" "+kf(m)+" ").replace(" "+T+" "," ")))}function _u(m,T){m.className.baseVal===void 0?m.className=T:m.className.baseVal=T}function kf(m){return m.correspondingElement&&(m=m.correspondingElement),m.className.baseVal===void 0?m.className:m.className.baseVal}function Pn(m,T){"opacity"in m.style?m.style.opacity=T:"filter"in m.style&&If(m,T)}function If(m,T){var E=!1,j="DXImageTransform.Microsoft.Alpha";try{E=m.filters.item(j)}catch{if(T===1)return}T=Math.round(T*100),E?(E.Enabled=T!==100,E.Opacity=T):m.style.filter+=" progid:"+j+"(opacity="+T+")"}function Mc(m){for(var T=document.documentElement.style,E=0;E<m.length;E++)if(m[E]in T)return m[E];return!1}function Vo(m,T,E){var j=T||new W(0,0);m.style[Ha]=(Te.ie3d?"translate("+j.x+"px,"+j.y+"px)":"translate3d("+j.x+"px,"+j.y+"px,0)")+(E?" scale("+E+")":"")}function hn(m,T){m._leaflet_pos=T,Te.any3d?Vo(m,T):(m.style.left=T.x+"px",m.style.top=T.y+"px")}function go(m){return m._leaflet_pos||new W(0,0)}var fs,Fo,Ac;if("onselectstart"in document)fs=function(){Wt(window,"selectstart",Xn)},Fo=function(){Zr(window,"selectstart",Xn)};else{var bu=Mc(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);fs=function(){if(bu){var m=document.documentElement.style;Ac=m[bu],m[bu]="none"}},Fo=function(){bu&&(document.documentElement.style[bu]=Ac,Ac=void 0)}}function Of(){Wt(window,"dragstart",Xn)}function Dc(){Zr(window,"dragstart",Xn)}var hs,Su;function Zs(m){for(;m.tabIndex===-1;)m=m.parentNode;m.style&&(Ga(),hs=m,Su=m.style.outlineStyle,m.style.outlineStyle="none",Wt(window,"keydown",Ga))}function Ga(){hs&&(hs.style.outlineStyle=Su,hs=void 0,Su=void 0,Zr(window,"keydown",Ga))}function jf(m){do m=m.parentNode;while((!m.offsetWidth||!m.offsetHeight)&&m!==document.body);return m}function Ho(m){var T=m.getBoundingClientRect();return{x:T.width/m.offsetWidth||1,y:T.height/m.offsetHeight||1,boundingClientRect:T}}var wu={__proto__:null,TRANSFORM:Ha,TRANSITION:ii,TRANSITION_END:zo,get:Bo,getStyle:ir,create:Ot,remove:Cr,empty:Er,toFront:or,toBack:Ii,hasClass:Ys,addClass:Kt,removeClass:qn,setClass:_u,getClass:kf,setOpacity:Pn,testProp:Mc,setTransform:Vo,setPosition:hn,getPosition:go,get disableTextSelection(){return fs},get enableTextSelection(){return Fo},disableImageDrag:Of,enableImageDrag:Dc,preventOutline:Zs,restoreOutline:Ga,getSizedParentNode:jf,getScale:Ho};function Wt(m,T,E,j){if(T&&typeof T=="object")for(var U in T)Ua(m,U,T[U],E);else{T=g(T);for(var re=0,ue=T.length;re<ue;re++)Ua(m,T[re],E,j)}return this}var Oi="_leaflet_events";function Zr(m,T,E,j){if(arguments.length===1)Lc(m),delete m[Oi];else if(T&&typeof T=="object")for(var U in T)Tu(m,U,T[U],E);else if(T=g(T),arguments.length===2)Lc(m,function(_e){return A(T,_e)!==-1});else for(var re=0,ue=T.length;re<ue;re++)Tu(m,T[re],E,j);return this}function Lc(m,T){for(var E in m[Oi]){var j=E.split(/\d/)[0];(!T||T(j))&&Tu(m,j,null,null,E)}}var Zi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ua(m,T,E,j){var U=T+l(E)+(j?"_"+l(j):"");if(m[Oi]&&m[Oi][U])return this;var re=function(_e){return E.call(j||m,_e||window.event)},ue=re;!Te.touchNative&&Te.pointer&&T.indexOf("touch")===0?re=Tr(m,T,re):Te.touch&&T==="dblclick"?re=Va(m,re):"addEventListener"in m?T==="touchstart"||T==="touchmove"||T==="wheel"||T==="mousewheel"?m.addEventListener(Zi[T]||T,re,Te.passiveEvents?{passive:!1}:!1):T==="mouseenter"||T==="mouseleave"?(re=function(_e){_e=_e||window.event,mn(m,_e)&&ue(_e)},m.addEventListener(Zi[T],re,!1)):m.addEventListener(T,ue,!1):m.attachEvent("on"+T,re),m[Oi]=m[Oi]||{},m[Oi][U]=re}function Tu(m,T,E,j,U){U=U||T+l(E)+(j?"_"+l(j):"");var re=m[Oi]&&m[Oi][U];if(!re)return this;!Te.touchNative&&Te.pointer&&T.indexOf("touch")===0?tr(m,T,re):Te.touch&&T==="dblclick"?Fa(m,re):"removeEventListener"in m?m.removeEventListener(Zi[T]||T,re,!1):m.detachEvent("on"+T,re),m[Oi][U]=null}function qi(m){return m.stopPropagation?m.stopPropagation():m.originalEvent?m.originalEvent._stopped=!0:m.cancelBubble=!0,this}function oi(m){return Ua(m,"wheel",qi),this}function $i(m){return Wt(m,"mousedown touchstart dblclick contextmenu",qi),m._leaflet_disable_click=!0,this}function Xn(m){return m.preventDefault?m.preventDefault():m.returnValue=!1,this}function ds(m){return Xn(m),qi(m),this}function Kr(m){if(m.composedPath)return m.composedPath();for(var T=[],E=m.target;E;)T.push(E),E=E.parentNode;return T}function rn(m,T){if(!T)return new W(m.clientX,m.clientY);var E=Ho(T),j=E.boundingClientRect;return new W((m.clientX-j.left)/E.x-T.clientLeft,(m.clientY-j.top)/E.y-T.clientTop)}var vs=Te.linux&&Te.chrome?window.devicePixelRatio:Te.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Fr(m){return Te.edge?m.wheelDeltaY/2:m.deltaY&&m.deltaMode===0?-m.deltaY/vs:m.deltaY&&m.deltaMode===1?-m.deltaY*20:m.deltaY&&m.deltaMode===2?-m.deltaY*60:m.deltaX||m.deltaZ?0:m.wheelDelta?(m.wheelDeltaY||m.wheelDelta)/2:m.detail&&Math.abs(m.detail)<32765?-m.detail*20:m.detail?m.detail/-32765*60:0}function mn(m,T){var E=T.relatedTarget;if(!E)return!0;try{for(;E&&E!==m;)E=E.parentNode}catch{return!1}return E!==m}var Kn={__proto__:null,on:Wt,off:Zr,stopPropagation:qi,disableScrollPropagation:oi,disableClickPropagation:$i,preventDefault:Xn,stop:ds,getPropagationPath:Kr,getMousePosition:rn,getWheelDelta:Fr,isExternalTarget:mn,addListener:Wt,removeListener:Zr},qr=X.extend({run:function(m,T,E,j){this.stop(),this._el=m,this._inProgress=!0,this._duration=E||.25,this._easeOutPower=1/Math.max(j||.5,.2),this._startPos=go(m),this._offset=T.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=V(this._animate,this),this._step()},_step:function(m){var T=+new Date-this._startTime,E=this._duration*1e3;T<E?this._runFrame(this._easeOut(T/E),m):(this._runFrame(1),this._complete())},_runFrame:function(m,T){var E=this._startPos.add(this._offset.multiplyBy(m));T&&E._round(),hn(this._el,E),this.fire("step")},_complete:function(){G(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(m){return 1-Math.pow(1-m,this._easeOutPower)}}),hr=X.extend({options:{crs:vt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(m,T){T=y(this,T),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(m),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),T.maxBounds&&this.setMaxBounds(T.maxBounds),T.zoom!==void 0&&(this._zoom=this._limitZoom(T.zoom)),T.center&&T.zoom!==void 0&&this.setView(we(T.center),T.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ii&&Te.any3d&&!Te.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Wt(this._proxy,zo,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(m,T,E){if(T=T===void 0?this._zoom:this._limitZoom(T),m=this._limitCenter(we(m),T,this.options.maxBounds),E=E||{},this._stop(),this._loaded&&!E.reset&&E!==!0){E.animate!==void 0&&(E.zoom=a({animate:E.animate},E.zoom),E.pan=a({animate:E.animate,duration:E.duration},E.pan));var j=this._zoom!==T?this._tryAnimatedZoom&&this._tryAnimatedZoom(m,T,E.zoom):this._tryAnimatedPan(m,E.pan);if(j)return clearTimeout(this._sizeTimer),this}return this._resetView(m,T,E.pan&&E.pan.noMoveStart),this},setZoom:function(m,T){return this._loaded?this.setView(this.getCenter(),m,{zoom:T}):(this._zoom=m,this)},zoomIn:function(m,T){return m=m||(Te.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+m,T)},zoomOut:function(m,T){return m=m||(Te.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-m,T)},setZoomAround:function(m,T,E){var j=this.getZoomScale(T),U=this.getSize().divideBy(2),re=m instanceof W?m:this.latLngToContainerPoint(m),ue=re.subtract(U).multiplyBy(1-1/j),_e=this.containerPointToLatLng(U.add(ue));return this.setView(_e,T,{zoom:E})},_getBoundsCenterZoom:function(m,T){T=T||{},m=m.getBounds?m.getBounds():le(m);var E=ee(T.paddingTopLeft||T.padding||[0,0]),j=ee(T.paddingBottomRight||T.padding||[0,0]),U=this.getBoundsZoom(m,!1,E.add(j));if(U=typeof T.maxZoom=="number"?Math.min(T.maxZoom,U):U,U===1/0)return{center:m.getCenter(),zoom:U};var re=j.subtract(E).divideBy(2),ue=this.project(m.getSouthWest(),U),_e=this.project(m.getNorthEast(),U),De=this.unproject(ue.add(_e).divideBy(2).add(re),U);return{center:De,zoom:U}},fitBounds:function(m,T){if(m=le(m),!m.isValid())throw new Error("Bounds are not valid.");var E=this._getBoundsCenterZoom(m,T);return this.setView(E.center,E.zoom,T)},fitWorld:function(m){return this.fitBounds([[-90,-180],[90,180]],m)},panTo:function(m,T){return this.setView(m,this._zoom,{pan:T})},panBy:function(m,T){if(m=ee(m).round(),T=T||{},!m.x&&!m.y)return this.fire("moveend");if(T.animate!==!0&&!this.getSize().contains(m))return this._resetView(this.unproject(this.project(this.getCenter()).add(m)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new qr,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),T.noMoveStart||this.fire("movestart"),T.animate!==!1){Kt(this._mapPane,"leaflet-pan-anim");var E=this._getMapPanePos().subtract(m).round();this._panAnim.run(this._mapPane,E,T.duration||.25,T.easeLinearity)}else this._rawPanBy(m),this.fire("move").fire("moveend");return this},flyTo:function(m,T,E){if(E=E||{},E.animate===!1||!Te.any3d)return this.setView(m,T,E);this._stop();var j=this.project(this.getCenter()),U=this.project(m),re=this.getSize(),ue=this._zoom;m=we(m),T=T===void 0?ue:T;var _e=Math.max(re.x,re.y),De=_e*this.getZoomScale(ue,T),Fe=U.distanceTo(j)||1,tt=1.42,It=tt*tt;function _r(ua){var Gl=ua?-1:1,Oc=ua?De:_e,oy=De*De-_e*_e+Gl*It*It*Fe*Fe,Td=2*Oc*It*Fe,Cd=oy/Td,ku=Math.sqrt(Cd*Cd+1)-Cd,Ul=ku<1e-9?-18:Math.log(ku);return Ul}function ui(ua){return(Math.exp(ua)-Math.exp(-ua))/2}function va(ua){return(Math.exp(ua)+Math.exp(-ua))/2}function xo(ua){return ui(ua)/va(ua)}var an=_r(0);function on(ua){return _e*(va(an)/va(an+tt*ua))}function Nr(ua){return _e*(va(an)*xo(an+tt*ua)-ui(an))/It}function Ru(ua){return 1-Math.pow(1-ua,1.5)}var qo=Date.now(),Ep=(_r(1)-an)/tt,Pu=E.duration?1e3*E.duration:1e3*Ep*.8;function iy(){var ua=(Date.now()-qo)/Pu,Gl=Ru(ua)*Ep;ua<=1?(this._flyToFrame=V(iy,this),this._move(this.unproject(j.add(U.subtract(j).multiplyBy(Nr(Gl)/Fe)),ue),this.getScaleZoom(_e/on(Gl),ue),{flyTo:!0})):this._move(m,T)._moveEnd(!0)}return this._moveStart(!0,E.noMoveStart),iy.call(this),this},flyToBounds:function(m,T){var E=this._getBoundsCenterZoom(m,T);return this.flyTo(E.center,E.zoom,T)},setMaxBounds:function(m){return m=le(m),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),m.isValid()?(this.options.maxBounds=m,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(m){var T=this.options.minZoom;return this.options.minZoom=m,this._loaded&&T!==m&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(m):this},setMaxZoom:function(m){var T=this.options.maxZoom;return this.options.maxZoom=m,this._loaded&&T!==m&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(m):this},panInsideBounds:function(m,T){this._enforcingBounds=!0;var E=this.getCenter(),j=this._limitCenter(E,this._zoom,le(m));return E.equals(j)||this.panTo(j,T),this._enforcingBounds=!1,this},panInside:function(m,T){T=T||{};var E=ee(T.paddingTopLeft||T.padding||[0,0]),j=ee(T.paddingBottomRight||T.padding||[0,0]),U=this.project(this.getCenter()),re=this.project(m),ue=this.getPixelBounds(),_e=ne([ue.min.add(E),ue.max.subtract(j)]),De=_e.getSize();if(!_e.contains(re)){this._enforcingBounds=!0;var Fe=re.subtract(_e.getCenter()),tt=_e.extend(re).getSize().subtract(De);U.x+=Fe.x<0?-tt.x:tt.x,U.y+=Fe.y<0?-tt.y:tt.y,this.panTo(this.unproject(U),T),this._enforcingBounds=!1}return this},invalidateSize:function(m){if(!this._loaded)return this;m=a({animate:!1,pan:!0},m===!0?{animate:!0}:m);var T=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var E=this.getSize(),j=T.divideBy(2).round(),U=E.divideBy(2).round(),re=j.subtract(U);return!re.x&&!re.y?this:(m.animate&&m.pan?this.panBy(re):(m.pan&&this._rawPanBy(re),this.fire("move"),m.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:T,newSize:E}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(m){if(m=this._locateOptions=a({timeout:1e4,watch:!1},m),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var T=o(this._handleGeolocationResponse,this),E=o(this._handleGeolocationError,this);return m.watch?this._locationWatchId=navigator.geolocation.watchPosition(T,E,m):navigator.geolocation.getCurrentPosition(T,E,m),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(m){if(this._container._leaflet_id){var T=m.code,E=m.message||(T===1?"permission denied":T===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:T,message:"Geolocation error: "+E+"."})}},_handleGeolocationResponse:function(m){if(this._container._leaflet_id){var T=m.coords.latitude,E=m.coords.longitude,j=new me(T,E),U=j.toBounds(m.coords.accuracy*2),re=this._locateOptions;if(re.setView){var ue=this.getBoundsZoom(U);this.setView(j,re.maxZoom?Math.min(ue,re.maxZoom):ue)}var _e={latlng:j,bounds:U,timestamp:m.timestamp};for(var De in m.coords)typeof m.coords[De]=="number"&&(_e[De]=m.coords[De]);this.fire("locationfound",_e)}},addHandler:function(m,T){if(!T)return this;var E=this[m]=new T(this);return this._handlers.push(E),this.options[m]&&E.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Cr(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(G(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var m;for(m in this._layers)this._layers[m].remove();for(m in this._panes)Cr(this._panes[m]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(m,T){var E="leaflet-pane"+(m?" leaflet-"+m.replace("Pane","")+"-pane":""),j=Ot("div",E,T||this._mapPane);return m&&(this._panes[m]=j),j},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var m=this.getPixelBounds(),T=this.unproject(m.getBottomLeft()),E=this.unproject(m.getTopRight());return new ie(T,E)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(m,T,E){m=le(m),E=ee(E||[0,0]);var j=this.getZoom()||0,U=this.getMinZoom(),re=this.getMaxZoom(),ue=m.getNorthWest(),_e=m.getSouthEast(),De=this.getSize().subtract(E),Fe=ne(this.project(_e,j),this.project(ue,j)).getSize(),tt=Te.any3d?this.options.zoomSnap:1,It=De.x/Fe.x,_r=De.y/Fe.y,ui=T?Math.max(It,_r):Math.min(It,_r);return j=this.getScaleZoom(ui,j),tt&&(j=Math.round(j/(tt/100))*(tt/100),j=T?Math.ceil(j/tt)*tt:Math.floor(j/tt)*tt),Math.max(U,Math.min(re,j))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new W(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(m,T){var E=this._getTopLeftPoint(m,T);return new K(E,E.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(m){return this.options.crs.getProjectedBounds(m===void 0?this.getZoom():m)},getPane:function(m){return typeof m=="string"?this._panes[m]:m},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(m,T){var E=this.options.crs;return T=T===void 0?this._zoom:T,E.scale(m)/E.scale(T)},getScaleZoom:function(m,T){var E=this.options.crs;T=T===void 0?this._zoom:T;var j=E.zoom(m*E.scale(T));return isNaN(j)?1/0:j},project:function(m,T){return T=T===void 0?this._zoom:T,this.options.crs.latLngToPoint(we(m),T)},unproject:function(m,T){return T=T===void 0?this._zoom:T,this.options.crs.pointToLatLng(ee(m),T)},layerPointToLatLng:function(m){var T=ee(m).add(this.getPixelOrigin());return this.unproject(T)},latLngToLayerPoint:function(m){var T=this.project(we(m))._round();return T._subtract(this.getPixelOrigin())},wrapLatLng:function(m){return this.options.crs.wrapLatLng(we(m))},wrapLatLngBounds:function(m){return this.options.crs.wrapLatLngBounds(le(m))},distance:function(m,T){return this.options.crs.distance(we(m),we(T))},containerPointToLayerPoint:function(m){return ee(m).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(m){return ee(m).add(this._getMapPanePos())},containerPointToLatLng:function(m){var T=this.containerPointToLayerPoint(ee(m));return this.layerPointToLatLng(T)},latLngToContainerPoint:function(m){return this.layerPointToContainerPoint(this.latLngToLayerPoint(we(m)))},mouseEventToContainerPoint:function(m){return rn(m,this._container)},mouseEventToLayerPoint:function(m){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(m))},mouseEventToLatLng:function(m){return this.layerPointToLatLng(this.mouseEventToLayerPoint(m))},_initContainer:function(m){var T=this._container=Bo(m);if(T){if(T._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Wt(T,"scroll",this._onScroll,this),this._containerId=l(T)},_initLayout:function(){var m=this._container;this._fadeAnimated=this.options.fadeAnimation&&Te.any3d,Kt(m,"leaflet-container"+(Te.touch?" leaflet-touch":"")+(Te.retina?" leaflet-retina":"")+(Te.ielt9?" leaflet-oldie":"")+(Te.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var T=ir(m,"position");T!=="absolute"&&T!=="relative"&&T!=="fixed"&&T!=="sticky"&&(m.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var m=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),hn(this._mapPane,new W(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Kt(m.markerPane,"leaflet-zoom-hide"),Kt(m.shadowPane,"leaflet-zoom-hide"))},_resetView:function(m,T,E){hn(this._mapPane,new W(0,0));var j=!this._loaded;this._loaded=!0,T=this._limitZoom(T),this.fire("viewprereset");var U=this._zoom!==T;this._moveStart(U,E)._move(m,T)._moveEnd(U),this.fire("viewreset"),j&&this.fire("load")},_moveStart:function(m,T){return m&&this.fire("zoomstart"),T||this.fire("movestart"),this},_move:function(m,T,E,j){T===void 0&&(T=this._zoom);var U=this._zoom!==T;return this._zoom=T,this._lastCenter=m,this._pixelOrigin=this._getNewPixelOrigin(m),j?E&&E.pinch&&this.fire("zoom",E):((U||E&&E.pinch)&&this.fire("zoom",E),this.fire("move",E)),this},_moveEnd:function(m){return m&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return G(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(m){hn(this._mapPane,this._getMapPanePos().subtract(m))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(m){this._targets={},this._targets[l(this._container)]=this;var T=m?Zr:Wt;T(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&T(window,"resize",this._onResize,this),Te.any3d&&this.options.transform3DLimit&&(m?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){G(this._resizeRequest),this._resizeRequest=V(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var m=this._getMapPanePos();Math.max(Math.abs(m.x),Math.abs(m.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(m,T){for(var E=[],j,U=T==="mouseout"||T==="mouseover",re=m.target||m.srcElement,ue=!1;re;){if(j=this._targets[l(re)],j&&(T==="click"||T==="preclick")&&this._draggableMoved(j)){ue=!0;break}if(j&&j.listens(T,!0)&&(U&&!mn(re,m)||(E.push(j),U))||re===this._container)break;re=re.parentNode}return!E.length&&!ue&&!U&&this.listens(T,!0)&&(E=[this]),E},_isClickDisabled:function(m){for(;m&&m!==this._container;){if(m._leaflet_disable_click)return!0;m=m.parentNode}},_handleDOMEvent:function(m){var T=m.target||m.srcElement;if(!(!this._loaded||T._leaflet_disable_events||m.type==="click"&&this._isClickDisabled(T))){var E=m.type;E==="mousedown"&&Zs(T),this._fireDOMEvent(m,E)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(m,T,E){if(m.type==="click"){var j=a({},m);j.type="preclick",this._fireDOMEvent(j,j.type,E)}var U=this._findEventTargets(m,T);if(E){for(var re=[],ue=0;ue<E.length;ue++)E[ue].listens(T,!0)&&re.push(E[ue]);U=re.concat(U)}if(U.length){T==="contextmenu"&&Xn(m);var _e=U[0],De={originalEvent:m};if(m.type!=="keypress"&&m.type!=="keydown"&&m.type!=="keyup"){var Fe=_e.getLatLng&&(!_e._radius||_e._radius<=10);De.containerPoint=Fe?this.latLngToContainerPoint(_e.getLatLng()):this.mouseEventToContainerPoint(m),De.layerPoint=this.containerPointToLayerPoint(De.containerPoint),De.latlng=Fe?_e.getLatLng():this.layerPointToLatLng(De.layerPoint)}for(ue=0;ue<U.length;ue++)if(U[ue].fire(T,De,!0),De.originalEvent._stopped||U[ue].options.bubblingMouseEvents===!1&&A(this._mouseEvents,T)!==-1)return}},_draggableMoved:function(m){return m=m.dragging&&m.dragging.enabled()?m:this,m.dragging&&m.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var m=0,T=this._handlers.length;m<T;m++)this._handlers[m].disable()},whenReady:function(m,T){return this._loaded?m.call(T||this,{target:this}):this.on("load",m,T),this},_getMapPanePos:function(){return go(this._mapPane)||new W(0,0)},_moved:function(){var m=this._getMapPanePos();return m&&!m.equals([0,0])},_getTopLeftPoint:function(m,T){var E=m&&T!==void 0?this._getNewPixelOrigin(m,T):this.getPixelOrigin();return E.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(m,T){var E=this.getSize()._divideBy(2);return this.project(m,T)._subtract(E)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(m,T,E){var j=this._getNewPixelOrigin(E,T);return this.project(m,T)._subtract(j)},_latLngBoundsToNewLayerBounds:function(m,T,E){var j=this._getNewPixelOrigin(E,T);return ne([this.project(m.getSouthWest(),T)._subtract(j),this.project(m.getNorthWest(),T)._subtract(j),this.project(m.getSouthEast(),T)._subtract(j),this.project(m.getNorthEast(),T)._subtract(j)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(m){return this.latLngToLayerPoint(m).subtract(this._getCenterLayerPoint())},_limitCenter:function(m,T,E){if(!E)return m;var j=this.project(m,T),U=this.getSize().divideBy(2),re=new K(j.subtract(U),j.add(U)),ue=this._getBoundsOffset(re,E,T);return Math.abs(ue.x)<=1&&Math.abs(ue.y)<=1?m:this.unproject(j.add(ue),T)},_limitOffset:function(m,T){if(!T)return m;var E=this.getPixelBounds(),j=new K(E.min.add(m),E.max.add(m));return m.add(this._getBoundsOffset(j,T))},_getBoundsOffset:function(m,T,E){var j=ne(this.project(T.getNorthEast(),E),this.project(T.getSouthWest(),E)),U=j.min.subtract(m.min),re=j.max.subtract(m.max),ue=this._rebound(U.x,-re.x),_e=this._rebound(U.y,-re.y);return new W(ue,_e)},_rebound:function(m,T){return m+T>0?Math.round(m-T)/2:Math.max(0,Math.ceil(m))-Math.max(0,Math.floor(T))},_limitZoom:function(m){var T=this.getMinZoom(),E=this.getMaxZoom(),j=Te.any3d?this.options.zoomSnap:1;return j&&(m=Math.round(m/j)*j),Math.max(T,Math.min(E,m))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){qn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(m,T){var E=this._getCenterOffset(m)._trunc();return(T&&T.animate)!==!0&&!this.getSize().contains(E)?!1:(this.panBy(E,T),!0)},_createAnimProxy:function(){var m=this._proxy=Ot("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(m),this.on("zoomanim",function(T){var E=Ha,j=this._proxy.style[E];Vo(this._proxy,this.project(T.center,T.zoom),this.getZoomScale(T.zoom,1)),j===this._proxy.style[E]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Cr(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var m=this.getCenter(),T=this.getZoom();Vo(this._proxy,this.project(m,T),this.getZoomScale(T,1))},_catchTransitionEnd:function(m){this._animatingZoom&&m.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(m,T,E){if(this._animatingZoom)return!0;if(E=E||{},!this._zoomAnimated||E.animate===!1||this._nothingToAnimate()||Math.abs(T-this._zoom)>this.options.zoomAnimationThreshold)return!1;var j=this.getZoomScale(T),U=this._getCenterOffset(m)._divideBy(1-1/j);return E.animate!==!0&&!this.getSize().contains(U)?!1:(V(function(){this._moveStart(!0,E.noMoveStart||!1)._animateZoom(m,T,!0)},this),!0)},_animateZoom:function(m,T,E,j){this._mapPane&&(E&&(this._animatingZoom=!0,this._animateToCenter=m,this._animateToZoom=T,Kt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:m,zoom:T,noUpdate:j}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&qn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Cu(m,T){return new hr(m,T)}var ji=q.extend({options:{position:"topright"},initialize:function(m){y(this,m)},getPosition:function(){return this.options.position},setPosition:function(m){var T=this._map;return T&&T.removeControl(this),this.options.position=m,T&&T.addControl(this),this},getContainer:function(){return this._container},addTo:function(m){this.remove(),this._map=m;var T=this._container=this.onAdd(m),E=this.getPosition(),j=m._controlCorners[E];return Kt(T,"leaflet-control"),E.indexOf("bottom")!==-1?j.insertBefore(T,j.firstChild):j.appendChild(T),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Cr(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(m){this._map&&m&&m.screenX>0&&m.screenY>0&&this._map.getContainer().focus()}}),Wa=function(m){return new ji(m)};hr.include({addControl:function(m){return m.addTo(this),this},removeControl:function(m){return m.remove(),this},_initControlPos:function(){var m=this._controlCorners={},T="leaflet-",E=this._controlContainer=Ot("div",T+"control-container",this._container);function j(U,re){var ue=T+U+" "+T+re;m[U+re]=Ot("div",ue,E)}j("top","left"),j("top","right"),j("bottom","left"),j("bottom","right")},_clearControlPos:function(){for(var m in this._controlCorners)Cr(this._controlCorners[m]);Cr(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var bi=ji.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(m,T,E,j){return E<j?-1:j<E?1:0}},initialize:function(m,T,E){y(this,E),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var j in m)this._addLayer(m[j],j);for(j in T)this._addLayer(T[j],j,!0)},onAdd:function(m){this._initLayout(),this._update(),this._map=m,m.on("zoomend",this._checkDisabledLayers,this);for(var T=0;T<this._layers.length;T++)this._layers[T].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(m){return ji.prototype.addTo.call(this,m),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var m=0;m<this._layers.length;m++)this._layers[m].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(m,T){return this._addLayer(m,T),this._map?this._update():this},addOverlay:function(m,T){return this._addLayer(m,T,!0),this._map?this._update():this},removeLayer:function(m){m.off("add remove",this._onLayerChange,this);var T=this._getLayer(l(m));return T&&this._layers.splice(this._layers.indexOf(T),1),this._map?this._update():this},expand:function(){Kt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var m=this._map.getSize().y-(this._container.offsetTop+50);return m<this._section.clientHeight?(Kt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=m+"px"):qn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return qn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var m="leaflet-control-layers",T=this._container=Ot("div",m),E=this.options.collapsed;T.setAttribute("aria-haspopup",!0),$i(T),oi(T);var j=this._section=Ot("section",m+"-list");E&&(this._map.on("click",this.collapse,this),Wt(T,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var U=this._layersLink=Ot("a",m+"-toggle",T);U.href="#",U.title="Layers",U.setAttribute("role","button"),Wt(U,{keydown:function(re){re.keyCode===13&&this._expandSafely()},click:function(re){Xn(re),this._expandSafely()}},this),E||this.expand(),this._baseLayersList=Ot("div",m+"-base",j),this._separator=Ot("div",m+"-separator",j),this._overlaysList=Ot("div",m+"-overlays",j),T.appendChild(j)},_getLayer:function(m){for(var T=0;T<this._layers.length;T++)if(this._layers[T]&&l(this._layers[T].layer)===m)return this._layers[T]},_addLayer:function(m,T,E){this._map&&m.on("add remove",this._onLayerChange,this),this._layers.push({layer:m,name:T,overlay:E}),this.options.sortLayers&&this._layers.sort(o(function(j,U){return this.options.sortFunction(j.layer,U.layer,j.name,U.name)},this)),this.options.autoZIndex&&m.setZIndex&&(this._lastZIndex++,m.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Er(this._baseLayersList),Er(this._overlaysList),this._layerControlInputs=[];var m,T,E,j,U=0;for(E=0;E<this._layers.length;E++)j=this._layers[E],this._addItem(j),T=T||j.overlay,m=m||!j.overlay,U+=j.overlay?0:1;return this.options.hideSingleBase&&(m=m&&U>1,this._baseLayersList.style.display=m?"":"none"),this._separator.style.display=T&&m?"":"none",this},_onLayerChange:function(m){this._handlingClick||this._update();var T=this._getLayer(l(m.target)),E=T.overlay?m.type==="add"?"overlayadd":"overlayremove":m.type==="add"?"baselayerchange":null;E&&this._map.fire(E,T)},_createRadioElement:function(m,T){var E='<input type="radio" class="leaflet-control-layers-selector" name="'+m+'"'+(T?' checked="checked"':"")+"/>",j=document.createElement("div");return j.innerHTML=E,j.firstChild},_addItem:function(m){var T=document.createElement("label"),E=this._map.hasLayer(m.layer),j;m.overlay?(j=document.createElement("input"),j.type="checkbox",j.className="leaflet-control-layers-selector",j.defaultChecked=E):j=this._createRadioElement("leaflet-base-layers_"+l(this),E),this._layerControlInputs.push(j),j.layerId=l(m.layer),Wt(j,"click",this._onInputClick,this);var U=document.createElement("span");U.innerHTML=" "+m.name;var re=document.createElement("span");T.appendChild(re),re.appendChild(j),re.appendChild(U);var ue=m.overlay?this._overlaysList:this._baseLayersList;return ue.appendChild(T),this._checkDisabledLayers(),T},_onInputClick:function(){if(!this._preventClick){var m=this._layerControlInputs,T,E,j=[],U=[];this._handlingClick=!0;for(var re=m.length-1;re>=0;re--)T=m[re],E=this._getLayer(T.layerId).layer,T.checked?j.push(E):T.checked||U.push(E);for(re=0;re<U.length;re++)this._map.hasLayer(U[re])&&this._map.removeLayer(U[re]);for(re=0;re<j.length;re++)this._map.hasLayer(j[re])||this._map.addLayer(j[re]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var m=this._layerControlInputs,T,E,j=this._map.getZoom(),U=m.length-1;U>=0;U--)T=m[U],E=this._getLayer(T.layerId).layer,T.disabled=E.options.minZoom!==void 0&&j<E.options.minZoom||E.options.maxZoom!==void 0&&j>E.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var m=this._section;this._preventClick=!0,Wt(m,"click",Xn),this.expand();var T=this;setTimeout(function(){Zr(m,"click",Xn),T._preventClick=!1})}}),bp=function(m,T,E){return new bi(m,T,E)},vd=ji.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(m){var T="leaflet-control-zoom",E=Ot("div",T+" leaflet-bar"),j=this.options;return this._zoomInButton=this._createButton(j.zoomInText,j.zoomInTitle,T+"-in",E,this._zoomIn),this._zoomOutButton=this._createButton(j.zoomOutText,j.zoomOutTitle,T+"-out",E,this._zoomOut),this._updateDisabled(),m.on("zoomend zoomlevelschange",this._updateDisabled,this),E},onRemove:function(m){m.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(m){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(m.shiftKey?3:1))},_zoomOut:function(m){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(m.shiftKey?3:1))},_createButton:function(m,T,E,j,U){var re=Ot("a",E,j);return re.innerHTML=m,re.href="#",re.title=T,re.setAttribute("role","button"),re.setAttribute("aria-label",T),$i(re),Wt(re,"click",ds),Wt(re,"click",U,this),Wt(re,"click",this._refocusOnMap,this),re},_updateDisabled:function(){var m=this._map,T="leaflet-disabled";qn(this._zoomInButton,T),qn(this._zoomOutButton,T),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||m._zoom===m.getMinZoom())&&(Kt(this._zoomOutButton,T),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||m._zoom===m.getMaxZoom())&&(Kt(this._zoomInButton,T),this._zoomInButton.setAttribute("aria-disabled","true"))}});hr.mergeOptions({zoomControl:!0}),hr.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new vd,this.addControl(this.zoomControl))});var Jm=function(m){return new vd(m)},Sp=ji.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(m){var T="leaflet-control-scale",E=Ot("div",T),j=this.options;return this._addScales(j,T+"-line",E),m.on(j.updateWhenIdle?"moveend":"move",this._update,this),m.whenReady(this._update,this),E},onRemove:function(m){m.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(m,T,E){m.metric&&(this._mScale=Ot("div",T,E)),m.imperial&&(this._iScale=Ot("div",T,E))},_update:function(){var m=this._map,T=m.getSize().y/2,E=m.distance(m.containerPointToLatLng([0,T]),m.containerPointToLatLng([this.options.maxWidth,T]));this._updateScales(E)},_updateScales:function(m){this.options.metric&&m&&this._updateMetric(m),this.options.imperial&&m&&this._updateImperial(m)},_updateMetric:function(m){var T=this._getRoundNum(m),E=T<1e3?T+" m":T/1e3+" km";this._updateScale(this._mScale,E,T/m)},_updateImperial:function(m){var T=m*3.2808399,E,j,U;T>5280?(E=T/5280,j=this._getRoundNum(E),this._updateScale(this._iScale,j+" mi",j/E)):(U=this._getRoundNum(T),this._updateScale(this._iScale,U+" ft",U/T))},_updateScale:function(m,T,E){m.style.width=Math.round(this.options.maxWidth*E)+"px",m.innerHTML=T},_getRoundNum:function(m){var T=Math.pow(10,(Math.floor(m)+"").length-1),E=m/T;return E=E>=10?10:E>=5?5:E>=3?3:E>=2?2:1,T*E}}),mo=function(m){return new Sp(m)},qs='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ps=ji.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Te.inlineSvg?qs+" ":"")+"Leaflet</a>"},initialize:function(m){y(this,m),this._attributions={}},onAdd:function(m){m.attributionControl=this,this._container=Ot("div","leaflet-control-attribution"),$i(this._container);for(var T in m._layers)m._layers[T].getAttribution&&this.addAttribution(m._layers[T].getAttribution());return this._update(),m.on("layeradd",this._addAttribution,this),this._container},onRemove:function(m){m.off("layeradd",this._addAttribution,this)},_addAttribution:function(m){m.layer.getAttribution&&(this.addAttribution(m.layer.getAttribution()),m.layer.once("remove",function(){this.removeAttribution(m.layer.getAttribution())},this))},setPrefix:function(m){return this.options.prefix=m,this._update(),this},addAttribution:function(m){return m?(this._attributions[m]||(this._attributions[m]=0),this._attributions[m]++,this._update(),this):this},removeAttribution:function(m){return m?(this._attributions[m]&&(this._attributions[m]--,this._update()),this):this},_update:function(){if(this._map){var m=[];for(var T in this._attributions)this._attributions[T]&&m.push(T);var E=[];this.options.prefix&&E.push(this.options.prefix),m.length&&E.push(m.join(", ")),this._container.innerHTML=E.join(' <span aria-hidden="true">|</span> ')}}});hr.mergeOptions({attributionControl:!0}),hr.addInitHook(function(){this.options.attributionControl&&new ps().addTo(this)});var Mu=function(m){return new ps(m)};ji.Layers=bi,ji.Zoom=vd,ji.Scale=Sp,ji.Attribution=ps,Wa.layers=bp,Wa.zoom=Jm,Wa.scale=mo,Wa.attribution=Mu;var Go=q.extend({initialize:function(m){this._map=m},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Go.addTo=function(m,T){return m.addHandler(T,this),this};var Uo={Events:H},pd=Te.touch?"touchstart mousedown":"mousedown",gs=X.extend({options:{clickTolerance:3},initialize:function(m,T,E,j){y(this,j),this._element=m,this._dragStartTarget=T||m,this._preventOutline=E},enable:function(){this._enabled||(Wt(this._dragStartTarget,pd,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(gs._dragging===this&&this.finishDrag(!0),Zr(this._dragStartTarget,pd,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(m){if(this._enabled&&(this._moved=!1,!Ys(this._element,"leaflet-zoom-anim"))){if(m.touches&&m.touches.length!==1){gs._dragging===this&&this.finishDrag();return}if(!(gs._dragging||m.shiftKey||m.which!==1&&m.button!==1&&!m.touches)&&(gs._dragging=this,this._preventOutline&&Zs(this._element),Of(),fs(),!this._moving)){this.fire("down");var T=m.touches?m.touches[0]:m,E=jf(this._element);this._startPoint=new W(T.clientX,T.clientY),this._startPos=go(this._element),this._parentScale=Ho(E);var j=m.type==="mousedown";Wt(document,j?"mousemove":"touchmove",this._onMove,this),Wt(document,j?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(m){if(this._enabled){if(m.touches&&m.touches.length>1){this._moved=!0;return}var T=m.touches&&m.touches.length===1?m.touches[0]:m,E=new W(T.clientX,T.clientY)._subtract(this._startPoint);!E.x&&!E.y||Math.abs(E.x)+Math.abs(E.y)<this.options.clickTolerance||(E.x/=this._parentScale.x,E.y/=this._parentScale.y,Xn(m),this._moved||(this.fire("dragstart"),this._moved=!0,Kt(document.body,"leaflet-dragging"),this._lastTarget=m.target||m.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Kt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(E),this._moving=!0,this._lastEvent=m,this._updatePosition())}},_updatePosition:function(){var m={originalEvent:this._lastEvent};this.fire("predrag",m),hn(this._element,this._newPos),this.fire("drag",m)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(m){qn(document.body,"leaflet-dragging"),this._lastTarget&&(qn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Zr(document,"mousemove touchmove",this._onMove,this),Zr(document,"mouseup touchend touchcancel",this._onUp,this),Dc(),Fo();var T=this._moved&&this._moving;this._moving=!1,gs._dragging=!1,T&&this.fire("dragend",{noInertia:m,distance:this._newPos.distanceTo(this._startPos)})}});function gd(m,T,E){var j,U=[1,4,2,8],re,ue,_e,De,Fe,tt,It,_r;for(re=0,tt=m.length;re<tt;re++)m[re]._code=$s(m[re],T);for(_e=0;_e<4;_e++){for(It=U[_e],j=[],re=0,tt=m.length,ue=tt-1;re<tt;ue=re++)De=m[re],Fe=m[ue],De._code&It?Fe._code&It||(_r=Du(Fe,De,It,T,E),_r._code=$s(_r,T),j.push(_r)):(Fe._code&It&&(_r=Du(Fe,De,It,T,E),_r._code=$s(_r,T),j.push(_r)),j.push(De));m=j}return m}function Au(m,T){var E,j,U,re,ue,_e,De,Fe,tt;if(!m||m.length===0)throw new Error("latlngs not passed");zi(m)||(console.warn("latlngs are not flat! Only the first ring will be used"),m=m[0]);var It=we([0,0]),_r=le(m),ui=_r.getNorthWest().distanceTo(_r.getSouthWest())*_r.getNorthEast().distanceTo(_r.getNorthWest());ui<1700&&(It=Il(m));var va=m.length,xo=[];for(E=0;E<va;E++){var an=we(m[E]);xo.push(T.project(we([an.lat-It.lat,an.lng-It.lng])))}for(_e=De=Fe=0,E=0,j=va-1;E<va;j=E++)U=xo[E],re=xo[j],ue=U.y*re.x-re.y*U.x,De+=(U.x+re.x)*ue,Fe+=(U.y+re.y)*ue,_e+=ue*3;_e===0?tt=xo[0]:tt=[De/_e,Fe/_e];var on=T.unproject(ee(tt));return we([on.lat+It.lat,on.lng+It.lng])}function Il(m){for(var T=0,E=0,j=0,U=0;U<m.length;U++){var re=we(m[U]);T+=re.lat,E+=re.lng,j++}return we([T/j,E/j])}var md={__proto__:null,clipPolygon:gd,polygonCenter:Au,centroid:Il};function zf(m,T){if(!T||!m.length)return m.slice();var E=T*T;return m=Tp(m,E),m=ms(m,E),m}function wp(m,T,E){return Math.sqrt(Lu(m,T,E,!0))}function Ol(m,T,E){return Lu(m,T,E)}function ms(m,T){var E=m.length,j=typeof Uint8Array<"u"?Uint8Array:Array,U=new j(E);U[0]=U[E-1]=1,jl(m,U,T,0,E-1);var re,ue=[];for(re=0;re<E;re++)U[re]&&ue.push(m[re]);return ue}function jl(m,T,E,j,U){var re=0,ue,_e,De;for(_e=j+1;_e<=U-1;_e++)De=Lu(m[_e],m[j],m[U],!0),De>re&&(ue=_e,re=De);re>E&&(T[ue]=1,jl(m,T,E,j,ue),jl(m,T,E,ue,U))}function Tp(m,T){for(var E=[m[0]],j=1,U=0,re=m.length;j<re;j++)Cp(m[j],m[U])>T&&(E.push(m[j]),U=j);return U<re-1&&E.push(m[re-1]),E}var Bf;function Vf(m,T,E,j,U){var re=j?Bf:$s(m,E),ue=$s(T,E),_e,De,Fe;for(Bf=ue;;){if(!(re|ue))return[m,T];if(re&ue)return!1;_e=re||ue,De=Du(m,T,_e,E,U),Fe=$s(De,E),_e===re?(m=De,re=Fe):(T=De,ue=Fe)}}function Du(m,T,E,j,U){var re=T.x-m.x,ue=T.y-m.y,_e=j.min,De=j.max,Fe,tt;return E&8?(Fe=m.x+re*(De.y-m.y)/ue,tt=De.y):E&4?(Fe=m.x+re*(_e.y-m.y)/ue,tt=_e.y):E&2?(Fe=De.x,tt=m.y+ue*(De.x-m.x)/re):E&1&&(Fe=_e.x,tt=m.y+ue*(_e.x-m.x)/re),new W(Fe,tt,U)}function $s(m,T){var E=0;return m.x<T.min.x?E|=1:m.x>T.max.x&&(E|=2),m.y<T.min.y?E|=4:m.y>T.max.y&&(E|=8),E}function Cp(m,T){var E=T.x-m.x,j=T.y-m.y;return E*E+j*j}function Lu(m,T,E,j){var U=T.x,re=T.y,ue=E.x-U,_e=E.y-re,De=ue*ue+_e*_e,Fe;return De>0&&(Fe=((m.x-U)*ue+(m.y-re)*_e)/De,Fe>1?(U=E.x,re=E.y):Fe>0&&(U+=ue*Fe,re+=_e*Fe)),ue=m.x-U,_e=m.y-re,j?ue*ue+_e*_e:new W(U,re)}function zi(m){return!M(m[0])||typeof m[0][0]!="object"&&typeof m[0][0]<"u"}function Ec(m){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),zi(m)}function zl(m,T){var E,j,U,re,ue,_e,De,Fe;if(!m||m.length===0)throw new Error("latlngs not passed");zi(m)||(console.warn("latlngs are not flat! Only the first ring will be used"),m=m[0]);var tt=we([0,0]),It=le(m),_r=It.getNorthWest().distanceTo(It.getSouthWest())*It.getNorthEast().distanceTo(It.getNorthWest());_r<1700&&(tt=Il(m));var ui=m.length,va=[];for(E=0;E<ui;E++){var xo=we(m[E]);va.push(T.project(we([xo.lat-tt.lat,xo.lng-tt.lng])))}for(E=0,j=0;E<ui-1;E++)j+=va[E].distanceTo(va[E+1])/2;if(j===0)Fe=va[0];else for(E=0,re=0;E<ui-1;E++)if(ue=va[E],_e=va[E+1],U=ue.distanceTo(_e),re+=U,re>j){De=(re-j)/U,Fe=[_e.x-De*(_e.x-ue.x),_e.y-De*(_e.y-ue.y)];break}var an=T.unproject(ee(Fe));return we([an.lat+tt.lat,an.lng+tt.lng])}var ey={__proto__:null,simplify:zf,pointToSegmentDistance:wp,closestPointOnSegment:Ol,clipSegment:Vf,_getEdgeIntersection:Du,_getBitCode:$s,_sqClosestPointOnSegment:Lu,isFlat:zi,_flat:Ec,polylineCenter:zl},Nc={project:function(m){return new W(m.lng,m.lat)},unproject:function(m){return new me(m.y,m.x)},bounds:new K([-180,-90],[180,90])},Rc={R:6378137,R_MINOR:6356752314245179e-9,bounds:new K([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(m){var T=Math.PI/180,E=this.R,j=m.lat*T,U=this.R_MINOR/E,re=Math.sqrt(1-U*U),ue=re*Math.sin(j),_e=Math.tan(Math.PI/4-j/2)/Math.pow((1-ue)/(1+ue),re/2);return j=-E*Math.log(Math.max(_e,1e-10)),new W(m.lng*T*E,j)},unproject:function(m){for(var T=180/Math.PI,E=this.R,j=this.R_MINOR/E,U=Math.sqrt(1-j*j),re=Math.exp(-m.y/E),ue=Math.PI/2-2*Math.atan(re),_e=0,De=.1,Fe;_e<15&&Math.abs(De)>1e-7;_e++)Fe=U*Math.sin(ue),Fe=Math.pow((1-Fe)/(1+Fe),U/2),De=Math.PI/2-2*Math.atan(re*Fe)-ue,ue+=De;return new me(ue*T,m.x*T/E)}},Bl={__proto__:null,LonLat:Nc,Mercator:Rc,SphericalMercator:ze},Pc=a({},Pe,{code:"EPSG:3395",projection:Rc,transformation:(function(){var m=.5/(Math.PI*Rc.R);return Oe(m,.5,-m,.5)})()}),ta=a({},Pe,{code:"EPSG:4326",projection:Nc,transformation:Oe(1/180,1,-1/180,.5)}),Vl=a({},pe,{projection:Nc,transformation:Oe(1,0,-1,0),scale:function(m){return Math.pow(2,m)},zoom:function(m){return Math.log(m)/Math.LN2},distance:function(m,T){var E=T.lng-m.lng,j=T.lat-m.lat;return Math.sqrt(E*E+j*j)},infinite:!0});pe.Earth=Pe,pe.EPSG3395=Pc,pe.EPSG3857=vt,pe.EPSG900913=ct,pe.EPSG4326=ta,pe.Simple=Vl;var $r=X.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(m){return m.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(m){return m&&m.removeLayer(this),this},getPane:function(m){return this._map.getPane(m?this.options[m]||m:this.options.pane)},addInteractiveTarget:function(m){return this._map._targets[l(m)]=this,this},removeInteractiveTarget:function(m){return delete this._map._targets[l(m)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(m){var T=m.target;if(T.hasLayer(this)){if(this._map=T,this._zoomAnimated=T._zoomAnimated,this.getEvents){var E=this.getEvents();T.on(E,this),this.once("remove",function(){T.off(E,this)},this)}this.onAdd(T),this.fire("add"),T.fire("layeradd",{layer:this})}}});hr.include({addLayer:function(m){if(!m._layerAdd)throw new Error("The provided object is not a Layer.");var T=l(m);return this._layers[T]?this:(this._layers[T]=m,m._mapToAdd=this,m.beforeAdd&&m.beforeAdd(this),this.whenReady(m._layerAdd,m),this)},removeLayer:function(m){var T=l(m);return this._layers[T]?(this._loaded&&m.onRemove(this),delete this._layers[T],this._loaded&&(this.fire("layerremove",{layer:m}),m.fire("remove")),m._map=m._mapToAdd=null,this):this},hasLayer:function(m){return l(m)in this._layers},eachLayer:function(m,T){for(var E in this._layers)m.call(T,this._layers[E]);return this},_addLayers:function(m){m=m?M(m)?m:[m]:[];for(var T=0,E=m.length;T<E;T++)this.addLayer(m[T])},_addZoomLimit:function(m){(!isNaN(m.options.maxZoom)||!isNaN(m.options.minZoom))&&(this._zoomBoundLayers[l(m)]=m,this._updateZoomLevels())},_removeZoomLimit:function(m){var T=l(m);this._zoomBoundLayers[T]&&(delete this._zoomBoundLayers[T],this._updateZoomLevels())},_updateZoomLevels:function(){var m=1/0,T=-1/0,E=this._getZoomSpan();for(var j in this._zoomBoundLayers){var U=this._zoomBoundLayers[j].options;m=U.minZoom===void 0?m:Math.min(m,U.minZoom),T=U.maxZoom===void 0?T:Math.max(T,U.maxZoom)}this._layersMaxZoom=T===-1/0?void 0:T,this._layersMinZoom=m===1/0?void 0:m,E!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Fl=$r.extend({initialize:function(m,T){y(this,T),this._layers={};var E,j;if(m)for(E=0,j=m.length;E<j;E++)this.addLayer(m[E])},addLayer:function(m){var T=this.getLayerId(m);return this._layers[T]=m,this._map&&this._map.addLayer(m),this},removeLayer:function(m){var T=m in this._layers?m:this.getLayerId(m);return this._map&&this._layers[T]&&this._map.removeLayer(this._layers[T]),delete this._layers[T],this},hasLayer:function(m){var T=typeof m=="number"?m:this.getLayerId(m);return T in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(m){var T=Array.prototype.slice.call(arguments,1),E,j;for(E in this._layers)j=this._layers[E],j[m]&&j[m].apply(j,T);return this},onAdd:function(m){this.eachLayer(m.addLayer,m)},onRemove:function(m){this.eachLayer(m.removeLayer,m)},eachLayer:function(m,T){for(var E in this._layers)m.call(T,this._layers[E]);return this},getLayer:function(m){return this._layers[m]},getLayers:function(){var m=[];return this.eachLayer(m.push,m),m},setZIndex:function(m){return this.invoke("setZIndex",m)},getLayerId:function(m){return l(m)}}),yd=function(m,T){return new Fl(m,T)},Si=Fl.extend({addLayer:function(m){return this.hasLayer(m)?this:(m.addEventParent(this),Fl.prototype.addLayer.call(this,m),this.fire("layeradd",{layer:m}))},removeLayer:function(m){return this.hasLayer(m)?(m in this._layers&&(m=this._layers[m]),m.removeEventParent(this),Fl.prototype.removeLayer.call(this,m),this.fire("layerremove",{layer:m})):this},setStyle:function(m){return this.invoke("setStyle",m)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var m=new ie;for(var T in this._layers){var E=this._layers[T];m.extend(E.getBounds?E.getBounds():E.getLatLng())}return m}}),Mp=function(m,T){return new Si(m,T)},Wo=q.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(m){y(this,m)},createIcon:function(m){return this._createIcon("icon",m)},createShadow:function(m){return this._createIcon("shadow",m)},_createIcon:function(m,T){var E=this._getIconUrl(m);if(!E){if(m==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var j=this._createImg(E,T&&T.tagName==="IMG"?T:null);return this._setIconStyles(j,m),(this.options.crossOrigin||this.options.crossOrigin==="")&&(j.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),j},_setIconStyles:function(m,T){var E=this.options,j=E[T+"Size"];typeof j=="number"&&(j=[j,j]);var U=ee(j),re=ee(T==="shadow"&&E.shadowAnchor||E.iconAnchor||U&&U.divideBy(2,!0));m.className="leaflet-marker-"+T+" "+(E.className||""),re&&(m.style.marginLeft=-re.x+"px",m.style.marginTop=-re.y+"px"),U&&(m.style.width=U.x+"px",m.style.height=U.y+"px")},_createImg:function(m,T){return T=T||document.createElement("img"),T.src=m,T},_getIconUrl:function(m){return Te.retina&&this.options[m+"RetinaUrl"]||this.options[m+"Url"]}});function Hl(m){return new Wo(m)}var $=Wo.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(m){return typeof $.imagePath!="string"&&($.imagePath=this._detectIconPath()),(this.options.imagePath||$.imagePath)+Wo.prototype._getIconUrl.call(this,m)},_stripUrl:function(m){var T=function(E,j,U){var re=j.exec(E);return re&&re[U]};return m=T(m,/^url\((['"])?(.+)\1\)$/,2),m&&T(m,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var m=Ot("div","leaflet-default-icon-path",document.body),T=ir(m,"background-image")||ir(m,"backgroundImage");if(document.body.removeChild(m),T=this._stripUrl(T),T)return T;var E=document.querySelector('link[href$="leaflet.css"]');return E?E.href.substring(0,E.href.length-11-1):""}}),te=Go.extend({initialize:function(m){this._marker=m},addHooks:function(){var m=this._marker._icon;this._draggable||(this._draggable=new gs(m,m,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Kt(m,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&qn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(m){var T=this._marker,E=T._map,j=this._marker.options.autoPanSpeed,U=this._marker.options.autoPanPadding,re=go(T._icon),ue=E.getPixelBounds(),_e=E.getPixelOrigin(),De=ne(ue.min._subtract(_e).add(U),ue.max._subtract(_e).subtract(U));if(!De.contains(re)){var Fe=ee((Math.max(De.max.x,re.x)-De.max.x)/(ue.max.x-De.max.x)-(Math.min(De.min.x,re.x)-De.min.x)/(ue.min.x-De.min.x),(Math.max(De.max.y,re.y)-De.max.y)/(ue.max.y-De.max.y)-(Math.min(De.min.y,re.y)-De.min.y)/(ue.min.y-De.min.y)).multiplyBy(j);E.panBy(Fe,{animate:!1}),this._draggable._newPos._add(Fe),this._draggable._startPos._add(Fe),hn(T._icon,this._draggable._newPos),this._onDrag(m),this._panRequest=V(this._adjustPan.bind(this,m))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(m){this._marker.options.autoPan&&(G(this._panRequest),this._panRequest=V(this._adjustPan.bind(this,m)))},_onDrag:function(m){var T=this._marker,E=T._shadow,j=go(T._icon),U=T._map.layerPointToLatLng(j);E&&hn(E,j),T._latlng=U,m.latlng=U,m.oldLatLng=this._oldLatLng,T.fire("move",m).fire("drag",m)},_onDragEnd:function(m){G(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",m)}}),oe=$r.extend({options:{icon:new $,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(m,T){y(this,T),this._latlng=we(m)},onAdd:function(m){this._zoomAnimated=this._zoomAnimated&&m.options.markerZoomAnimation,this._zoomAnimated&&m.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(m){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&m.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(m){var T=this._latlng;return this._latlng=we(m),this.update(),this.fire("move",{oldLatLng:T,latlng:this._latlng})},setZIndexOffset:function(m){return this.options.zIndexOffset=m,this.update()},getIcon:function(){return this.options.icon},setIcon:function(m){return this.options.icon=m,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var m=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(m)}return this},_initIcon:function(){var m=this.options,T="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),E=m.icon.createIcon(this._icon),j=!1;E!==this._icon&&(this._icon&&this._removeIcon(),j=!0,m.title&&(E.title=m.title),E.tagName==="IMG"&&(E.alt=m.alt||"")),Kt(E,T),m.keyboard&&(E.tabIndex="0",E.setAttribute("role","button")),this._icon=E,m.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Wt(E,"focus",this._panOnFocus,this);var U=m.icon.createShadow(this._shadow),re=!1;U!==this._shadow&&(this._removeShadow(),re=!0),U&&(Kt(U,T),U.alt=""),this._shadow=U,m.opacity<1&&this._updateOpacity(),j&&this.getPane().appendChild(this._icon),this._initInteraction(),U&&re&&this.getPane(m.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Zr(this._icon,"focus",this._panOnFocus,this),Cr(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Cr(this._shadow),this._shadow=null},_setPos:function(m){this._icon&&hn(this._icon,m),this._shadow&&hn(this._shadow,m),this._zIndex=m.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(m){this._icon&&(this._icon.style.zIndex=this._zIndex+m)},_animateZoom:function(m){var T=this._map._latLngToNewLayerPoint(this._latlng,m.zoom,m.center).round();this._setPos(T)},_initInteraction:function(){if(this.options.interactive&&(Kt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),te)){var m=this.options.draggable;this.dragging&&(m=this.dragging.enabled(),this.dragging.disable()),this.dragging=new te(this),m&&this.dragging.enable()}},setOpacity:function(m){return this.options.opacity=m,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var m=this.options.opacity;this._icon&&Pn(this._icon,m),this._shadow&&Pn(this._shadow,m)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var m=this._map;if(m){var T=this.options.icon.options,E=T.iconSize?ee(T.iconSize):ee(0,0),j=T.iconAnchor?ee(T.iconAnchor):ee(0,0);m.panInside(this._latlng,{paddingTopLeft:j,paddingBottomRight:E.subtract(j)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function se(m,T){return new oe(m,T)}var he=$r.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(m){this._renderer=m.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(m){return y(this,m),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&m&&Object.prototype.hasOwnProperty.call(m,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Se=he.extend({options:{fill:!0,radius:10},initialize:function(m,T){y(this,T),this._latlng=we(m),this._radius=this.options.radius},setLatLng:function(m){var T=this._latlng;return this._latlng=we(m),this.redraw(),this.fire("move",{oldLatLng:T,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(m){return this.options.radius=this._radius=m,this.redraw()},getRadius:function(){return this._radius},setStyle:function(m){var T=m&&m.radius||this._radius;return he.prototype.setStyle.call(this,m),this.setRadius(T),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var m=this._radius,T=this._radiusY||m,E=this._clickTolerance(),j=[m+E,T+E];this._pxBounds=new K(this._point.subtract(j),this._point.add(j))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(m){return m.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Be(m,T){return new Se(m,T)}var Ge=Se.extend({initialize:function(m,T,E){if(typeof T=="number"&&(T=a({},E,{radius:T})),y(this,T),this._latlng=we(m),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(m){return this._mRadius=m,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var m=[this._radius,this._radiusY||this._radius];return new ie(this._map.layerPointToLatLng(this._point.subtract(m)),this._map.layerPointToLatLng(this._point.add(m)))},setStyle:he.prototype.setStyle,_project:function(){var m=this._latlng.lng,T=this._latlng.lat,E=this._map,j=E.options.crs;if(j.distance===Pe.distance){var U=Math.PI/180,re=this._mRadius/Pe.R/U,ue=E.project([T+re,m]),_e=E.project([T-re,m]),De=ue.add(_e).divideBy(2),Fe=E.unproject(De).lat,tt=Math.acos((Math.cos(re*U)-Math.sin(T*U)*Math.sin(Fe*U))/(Math.cos(T*U)*Math.cos(Fe*U)))/U;(isNaN(tt)||tt===0)&&(tt=re/Math.cos(Math.PI/180*T)),this._point=De.subtract(E.getPixelOrigin()),this._radius=isNaN(tt)?0:De.x-E.project([Fe,m-tt]).x,this._radiusY=De.y-ue.y}else{var It=j.unproject(j.project(this._latlng).subtract([this._mRadius,0]));this._point=E.latLngToLayerPoint(this._latlng),this._radius=this._point.x-E.latLngToLayerPoint(It).x}this._updateBounds()}});function $e(m,T,E){return new Ge(m,T,E)}var Ke=he.extend({options:{smoothFactor:1,noClip:!1},initialize:function(m,T){y(this,T),this._setLatLngs(m)},getLatLngs:function(){return this._latlngs},setLatLngs:function(m){return this._setLatLngs(m),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(m){for(var T=1/0,E=null,j=Lu,U,re,ue=0,_e=this._parts.length;ue<_e;ue++)for(var De=this._parts[ue],Fe=1,tt=De.length;Fe<tt;Fe++){U=De[Fe-1],re=De[Fe];var It=j(m,U,re,!0);It<T&&(T=It,E=j(m,U,re))}return E&&(E.distance=Math.sqrt(T)),E},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return zl(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(m,T){return T=T||this._defaultShape(),m=we(m),T.push(m),this._bounds.extend(m),this.redraw()},_setLatLngs:function(m){this._bounds=new ie,this._latlngs=this._convertLatLngs(m)},_defaultShape:function(){return zi(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(m){for(var T=[],E=zi(m),j=0,U=m.length;j<U;j++)E?(T[j]=we(m[j]),this._bounds.extend(T[j])):T[j]=this._convertLatLngs(m[j]);return T},_project:function(){var m=new K;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,m),this._bounds.isValid()&&m.isValid()&&(this._rawPxBounds=m,this._updateBounds())},_updateBounds:function(){var m=this._clickTolerance(),T=new W(m,m);this._rawPxBounds&&(this._pxBounds=new K([this._rawPxBounds.min.subtract(T),this._rawPxBounds.max.add(T)]))},_projectLatlngs:function(m,T,E){var j=m[0]instanceof me,U=m.length,re,ue;if(j){for(ue=[],re=0;re<U;re++)ue[re]=this._map.latLngToLayerPoint(m[re]),E.extend(ue[re]);T.push(ue)}else for(re=0;re<U;re++)this._projectLatlngs(m[re],T,E)},_clipPoints:function(){var m=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(m))){if(this.options.noClip){this._parts=this._rings;return}var T=this._parts,E,j,U,re,ue,_e,De;for(E=0,U=0,re=this._rings.length;E<re;E++)for(De=this._rings[E],j=0,ue=De.length;j<ue-1;j++)_e=Vf(De[j],De[j+1],m,j,!0),_e&&(T[U]=T[U]||[],T[U].push(_e[0]),(_e[1]!==De[j+1]||j===ue-2)&&(T[U].push(_e[1]),U++))}},_simplifyPoints:function(){for(var m=this._parts,T=this.options.smoothFactor,E=0,j=m.length;E<j;E++)m[E]=zf(m[E],T)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(m,T){var E,j,U,re,ue,_e,De=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(m))return!1;for(E=0,re=this._parts.length;E<re;E++)for(_e=this._parts[E],j=0,ue=_e.length,U=ue-1;j<ue;U=j++)if(!(!T&&j===0)&&wp(m,_e[U],_e[j])<=De)return!0;return!1}});function lt(m,T){return new Ke(m,T)}Ke._flat=Ec;var it=Ke.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Au(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(m){var T=Ke.prototype._convertLatLngs.call(this,m),E=T.length;return E>=2&&T[0]instanceof me&&T[0].equals(T[E-1])&&T.pop(),T},_setLatLngs:function(m){Ke.prototype._setLatLngs.call(this,m),zi(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return zi(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var m=this._renderer._bounds,T=this.options.weight,E=new W(T,T);if(m=new K(m.min.subtract(E),m.max.add(E)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(m))){if(this.options.noClip){this._parts=this._rings;return}for(var j=0,U=this._rings.length,re;j<U;j++)re=gd(this._rings[j],m,!0),re.length&&this._parts.push(re)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(m){var T=!1,E,j,U,re,ue,_e,De,Fe;if(!this._pxBounds||!this._pxBounds.contains(m))return!1;for(re=0,De=this._parts.length;re<De;re++)for(E=this._parts[re],ue=0,Fe=E.length,_e=Fe-1;ue<Fe;_e=ue++)j=E[ue],U=E[_e],j.y>m.y!=U.y>m.y&&m.x<(U.x-j.x)*(m.y-j.y)/(U.y-j.y)+j.x&&(T=!T);return T||Ke.prototype._containsPoint.call(this,m,!0)}});function Qt(m,T){return new it(m,T)}var dr=Si.extend({initialize:function(m,T){y(this,T),this._layers={},m&&this.addData(m)},addData:function(m){var T=M(m)?m:m.features,E,j,U;if(T){for(E=0,j=T.length;E<j;E++)U=T[E],(U.geometries||U.geometry||U.features||U.coordinates)&&this.addData(U);return this}var re=this.options;if(re.filter&&!re.filter(m))return this;var ue=Zt(m,re);return ue?(ue.feature=Hr(m),ue.defaultOptions=ue.options,this.resetStyle(ue),re.onEachFeature&&re.onEachFeature(m,ue),this.addLayer(ue)):this},resetStyle:function(m){return m===void 0?this.eachLayer(this.resetStyle,this):(m.options=a({},m.defaultOptions),this._setLayerStyle(m,this.options.style),this)},setStyle:function(m){return this.eachLayer(function(T){this._setLayerStyle(T,m)},this)},_setLayerStyle:function(m,T){m.setStyle&&(typeof T=="function"&&(T=T(m.feature)),m.setStyle(T))}});function Zt(m,T){var E=m.type==="Feature"?m.geometry:m,j=E?E.coordinates:null,U=[],re=T&&T.pointToLayer,ue=T&&T.coordsToLatLng||Bt,_e,De,Fe,tt;if(!j&&!E)return null;switch(E.type){case"Point":return _e=ue(j),rr(re,m,_e,T);case"MultiPoint":for(Fe=0,tt=j.length;Fe<tt;Fe++)_e=ue(j[Fe]),U.push(rr(re,m,_e,T));return new Si(U);case"LineString":case"MultiLineString":return De=Dt(j,E.type==="LineString"?0:1,ue),new Ke(De,T);case"Polygon":case"MultiPolygon":return De=Dt(j,E.type==="Polygon"?1:2,ue),new it(De,T);case"GeometryCollection":for(Fe=0,tt=E.geometries.length;Fe<tt;Fe++){var It=Zt({geometry:E.geometries[Fe],type:"Feature",properties:m.properties},T);It&&U.push(It)}return new Si(U);case"FeatureCollection":for(Fe=0,tt=E.features.length;Fe<tt;Fe++){var _r=Zt(E.features[Fe],T);_r&&U.push(_r)}return new Si(U);default:throw new Error("Invalid GeoJSON object.")}}function rr(m,T,E,j){return m?m(T,E):new oe(E,j&&j.markersInheritOptions&&j)}function Bt(m){return new me(m[1],m[0],m[2])}function Dt(m,T,E){for(var j=[],U=0,re=m.length,ue;U<re;U++)ue=T?Dt(m[U],T-1,E):(E||Bt)(m[U]),j.push(ue);return j}function nn(m,T){return m=we(m),m.alt!==void 0?[d(m.lng,T),d(m.lat,T),d(m.alt,T)]:[d(m.lng,T),d(m.lat,T)]}function yn(m,T,E,j){for(var U=[],re=0,ue=m.length;re<ue;re++)U.push(T?yn(m[re],zi(m[re])?0:T-1,E,j):nn(m[re],j));return!T&&E&&U.length>0&&U.push(U[0].slice()),U}function Cn(m,T){return m.feature?a({},m.feature,{geometry:T}):Hr(T)}function Hr(m){return m.type==="Feature"||m.type==="FeatureCollection"?m:{type:"Feature",properties:{},geometry:m}}var Qr={toGeoJSON:function(m){return Cn(this,{type:"Point",coordinates:nn(this.getLatLng(),m)})}};oe.include(Qr),Ge.include(Qr),Se.include(Qr),Ke.include({toGeoJSON:function(m){var T=!zi(this._latlngs),E=yn(this._latlngs,T?1:0,!1,m);return Cn(this,{type:(T?"Multi":"")+"LineString",coordinates:E})}}),it.include({toGeoJSON:function(m){var T=!zi(this._latlngs),E=T&&!zi(this._latlngs[0]),j=yn(this._latlngs,E?2:T?1:0,!0,m);return T||(j=[j]),Cn(this,{type:(E?"Multi":"")+"Polygon",coordinates:j})}}),Fl.include({toMultiPoint:function(m){var T=[];return this.eachLayer(function(E){T.push(E.toGeoJSON(m).geometry.coordinates)}),Cn(this,{type:"MultiPoint",coordinates:T})},toGeoJSON:function(m){var T=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(T==="MultiPoint")return this.toMultiPoint(m);var E=T==="GeometryCollection",j=[];return this.eachLayer(function(U){if(U.toGeoJSON){var re=U.toGeoJSON(m);if(E)j.push(re.geometry);else{var ue=Hr(re);ue.type==="FeatureCollection"?j.push.apply(j,ue.features):j.push(ue)}}}),E?Cn(this,{geometries:j,type:"GeometryCollection"}):{type:"FeatureCollection",features:j}}});function Ya(m,T){return new dr(m,T)}var sa=Ya,Ta=$r.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(m,T,E){this._url=m,this._bounds=le(T),y(this,E)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Kt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Cr(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(m){return this.options.opacity=m,this._image&&this._updateOpacity(),this},setStyle:function(m){return m.opacity&&this.setOpacity(m.opacity),this},bringToFront:function(){return this._map&&or(this._image),this},bringToBack:function(){return this._map&&Ii(this._image),this},setUrl:function(m){return this._url=m,this._image&&(this._image.src=m),this},setBounds:function(m){return this._bounds=le(m),this._map&&this._reset(),this},getEvents:function(){var m={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(m.zoomanim=this._animateZoom),m},setZIndex:function(m){return this.options.zIndex=m,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var m=this._url.tagName==="IMG",T=this._image=m?this._url:Ot("img");if(Kt(T,"leaflet-image-layer"),this._zoomAnimated&&Kt(T,"leaflet-zoom-animated"),this.options.className&&Kt(T,this.options.className),T.onselectstart=f,T.onmousemove=f,T.onload=o(this.fire,this,"load"),T.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(T.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),m){this._url=T.src;return}T.src=this._url,T.alt=this.options.alt},_animateZoom:function(m){var T=this._map.getZoomScale(m.zoom),E=this._map._latLngBoundsToNewLayerBounds(this._bounds,m.zoom,m.center).min;Vo(this._image,E,T)},_reset:function(){var m=this._image,T=new K(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),E=T.getSize();hn(m,T.min),m.style.width=E.x+"px",m.style.height=E.y+"px"},_updateOpacity:function(){Pn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var m=this.options.errorOverlayUrl;m&&this._url!==m&&(this._url=m,this._image.src=m)},getCenter:function(){return this._bounds.getCenter()}}),Xi=function(m,T,E){return new Ta(m,T,E)},Ca=Ta.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var m=this._url.tagName==="VIDEO",T=this._image=m?this._url:Ot("video");if(Kt(T,"leaflet-image-layer"),this._zoomAnimated&&Kt(T,"leaflet-zoom-animated"),this.options.className&&Kt(T,this.options.className),T.onselectstart=f,T.onmousemove=f,T.onloadeddata=o(this.fire,this,"load"),m){for(var E=T.getElementsByTagName("source"),j=[],U=0;U<E.length;U++)j.push(E[U].src);this._url=E.length>0?j:[T.src];return}M(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(T.style,"objectFit")&&(T.style.objectFit="fill"),T.autoplay=!!this.options.autoplay,T.loop=!!this.options.loop,T.muted=!!this.options.muted,T.playsInline=!!this.options.playsInline;for(var re=0;re<this._url.length;re++){var ue=Ot("source");ue.src=this._url[re],T.appendChild(ue)}}});function da(m,T,E){return new Ca(m,T,E)}var si=Ta.extend({_initImage:function(){var m=this._image=this._url;Kt(m,"leaflet-image-layer"),this._zoomAnimated&&Kt(m,"leaflet-zoom-animated"),this.options.className&&Kt(m,this.options.className),m.onselectstart=f,m.onmousemove=f}});function Ki(m,T,E){return new si(m,T,E)}var Mn=$r.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(m,T){m&&(m instanceof me||M(m))?(this._latlng=we(m),y(this,T)):(y(this,m),this._source=T),this.options.content&&(this._content=this.options.content)},openOn:function(m){return m=arguments.length?m:this._source._map,m.hasLayer(this)||m.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(m){return this._map?this.close():(arguments.length?this._source=m:m=this._source,this._prepareOpen(),this.openOn(m._map)),this},onAdd:function(m){this._zoomAnimated=m._zoomAnimated,this._container||this._initLayout(),m._fadeAnimated&&Pn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),m._fadeAnimated&&Pn(this._container,1),this.bringToFront(),this.options.interactive&&(Kt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(m){m._fadeAnimated?(Pn(this._container,0),this._removeTimeout=setTimeout(o(Cr,void 0,this._container),200)):Cr(this._container),this.options.interactive&&(qn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(m){return this._latlng=we(m),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(m){return this._content=m,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var m={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(m.zoomanim=this._animateZoom),m},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&or(this._container),this},bringToBack:function(){return this._map&&Ii(this._container),this},_prepareOpen:function(m){var T=this._source;if(!T._map)return!1;if(T instanceof Si){T=null;var E=this._source._layers;for(var j in E)if(E[j]._map){T=E[j];break}if(!T)return!1;this._source=T}if(!m)if(T.getCenter)m=T.getCenter();else if(T.getLatLng)m=T.getLatLng();else if(T.getBounds)m=T.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(m),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var m=this._contentNode,T=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof T=="string")m.innerHTML=T;else{for(;m.hasChildNodes();)m.removeChild(m.firstChild);m.appendChild(T)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var m=this._map.latLngToLayerPoint(this._latlng),T=ee(this.options.offset),E=this._getAnchor();this._zoomAnimated?hn(this._container,m.add(E)):T=T.add(m).add(E);var j=this._containerBottom=-T.y,U=this._containerLeft=-Math.round(this._containerWidth/2)+T.x;this._container.style.bottom=j+"px",this._container.style.left=U+"px"}},_getAnchor:function(){return[0,0]}});hr.include({_initOverlay:function(m,T,E,j){var U=T;return U instanceof m||(U=new m(j).setContent(T)),E&&U.setLatLng(E),U}}),$r.include({_initOverlay:function(m,T,E,j){var U=E;return U instanceof m?(y(U,j),U._source=this):(U=T&&!j?T:new m(j,this),U.setContent(E)),U}});var la=Mn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(m){return m=arguments.length?m:this._source._map,!m.hasLayer(this)&&m._popup&&m._popup.options.autoClose&&m.removeLayer(m._popup),m._popup=this,Mn.prototype.openOn.call(this,m)},onAdd:function(m){Mn.prototype.onAdd.call(this,m),m.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof he||this._source.on("preclick",qi))},onRemove:function(m){Mn.prototype.onRemove.call(this,m),m.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof he||this._source.off("preclick",qi))},getEvents:function(){var m=Mn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(m.preclick=this.close),this.options.keepInView&&(m.moveend=this._adjustPan),m},_initLayout:function(){var m="leaflet-popup",T=this._container=Ot("div",m+" "+(this.options.className||"")+" leaflet-zoom-animated"),E=this._wrapper=Ot("div",m+"-content-wrapper",T);if(this._contentNode=Ot("div",m+"-content",E),$i(T),oi(this._contentNode),Wt(T,"contextmenu",qi),this._tipContainer=Ot("div",m+"-tip-container",T),this._tip=Ot("div",m+"-tip",this._tipContainer),this.options.closeButton){var j=this._closeButton=Ot("a",m+"-close-button",T);j.setAttribute("role","button"),j.setAttribute("aria-label","Close popup"),j.href="#close",j.innerHTML='<span aria-hidden="true">&#215;</span>',Wt(j,"click",function(U){Xn(U),this.close()},this)}},_updateLayout:function(){var m=this._contentNode,T=m.style;T.width="",T.whiteSpace="nowrap";var E=m.offsetWidth;E=Math.min(E,this.options.maxWidth),E=Math.max(E,this.options.minWidth),T.width=E+1+"px",T.whiteSpace="",T.height="";var j=m.offsetHeight,U=this.options.maxHeight,re="leaflet-popup-scrolled";U&&j>U?(T.height=U+"px",Kt(m,re)):qn(m,re),this._containerWidth=this._container.offsetWidth},_animateZoom:function(m){var T=this._map._latLngToNewLayerPoint(this._latlng,m.zoom,m.center),E=this._getAnchor();hn(this._container,T.add(E))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var m=this._map,T=parseInt(ir(this._container,"marginBottom"),10)||0,E=this._container.offsetHeight+T,j=this._containerWidth,U=new W(this._containerLeft,-E-this._containerBottom);U._add(go(this._container));var re=m.layerPointToContainerPoint(U),ue=ee(this.options.autoPanPadding),_e=ee(this.options.autoPanPaddingTopLeft||ue),De=ee(this.options.autoPanPaddingBottomRight||ue),Fe=m.getSize(),tt=0,It=0;re.x+j+De.x>Fe.x&&(tt=re.x+j-Fe.x+De.x),re.x-tt-_e.x<0&&(tt=re.x-_e.x),re.y+E+De.y>Fe.y&&(It=re.y+E-Fe.y+De.y),re.y-It-_e.y<0&&(It=re.y-_e.y),(tt||It)&&(this.options.keepInView&&(this._autopanning=!0),m.fire("autopanstart").panBy([tt,It]))}},_getAnchor:function(){return ee(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),wi=function(m,T){return new la(m,T)};hr.mergeOptions({closePopupOnClick:!0}),hr.include({openPopup:function(m,T,E){return this._initOverlay(la,m,T,E).openOn(this),this},closePopup:function(m){return m=arguments.length?m:this._popup,m&&m.close(),this}}),$r.include({bindPopup:function(m,T){return this._popup=this._initOverlay(la,this._popup,m,T),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(m){return this._popup&&(this instanceof Si||(this._popup._source=this),this._popup._prepareOpen(m||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(m){return this._popup&&this._popup.setContent(m),this},getPopup:function(){return this._popup},_openPopup:function(m){if(!(!this._popup||!this._map)){ds(m);var T=m.layer||m.target;if(this._popup._source===T&&!(T instanceof he)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(m.latlng);return}this._popup._source=T,this.openPopup(m.latlng)}},_movePopup:function(m){this._popup.setLatLng(m.latlng)},_onKeyPress:function(m){m.originalEvent.keyCode===13&&this._openPopup(m)}});var yo=Mn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(m){Mn.prototype.onAdd.call(this,m),this.setOpacity(this.options.opacity),m.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(m){Mn.prototype.onRemove.call(this,m),m.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var m=Mn.prototype.getEvents.call(this);return this.options.permanent||(m.preclick=this.close),m},_initLayout:function(){var m="leaflet-tooltip",T=m+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ot("div",T),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+l(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(m){var T,E,j=this._map,U=this._container,re=j.latLngToContainerPoint(j.getCenter()),ue=j.layerPointToContainerPoint(m),_e=this.options.direction,De=U.offsetWidth,Fe=U.offsetHeight,tt=ee(this.options.offset),It=this._getAnchor();_e==="top"?(T=De/2,E=Fe):_e==="bottom"?(T=De/2,E=0):_e==="center"?(T=De/2,E=Fe/2):_e==="right"?(T=0,E=Fe/2):_e==="left"?(T=De,E=Fe/2):ue.x<re.x?(_e="right",T=0,E=Fe/2):(_e="left",T=De+(tt.x+It.x)*2,E=Fe/2),m=m.subtract(ee(T,E,!0)).add(tt).add(It),qn(U,"leaflet-tooltip-right"),qn(U,"leaflet-tooltip-left"),qn(U,"leaflet-tooltip-top"),qn(U,"leaflet-tooltip-bottom"),Kt(U,"leaflet-tooltip-"+_e),hn(U,m)},_updatePosition:function(){var m=this._map.latLngToLayerPoint(this._latlng);this._setPosition(m)},setOpacity:function(m){this.options.opacity=m,this._container&&Pn(this._container,m)},_animateZoom:function(m){var T=this._map._latLngToNewLayerPoint(this._latlng,m.zoom,m.center);this._setPosition(T)},_getAnchor:function(){return ee(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),li=function(m,T){return new yo(m,T)};hr.include({openTooltip:function(m,T,E){return this._initOverlay(yo,m,T,E).openOn(this),this},closeTooltip:function(m){return m.close(),this}}),$r.include({bindTooltip:function(m,T){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(yo,this._tooltip,m,T),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(m){if(!(!m&&this._tooltipHandlersAdded)){var T=m?"off":"on",E={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?E.add=this._openTooltip:(E.mouseover=this._openTooltip,E.mouseout=this.closeTooltip,E.click=this._openTooltip,this._map?this._addFocusListeners():E.add=this._addFocusListeners),this._tooltip.options.sticky&&(E.mousemove=this._moveTooltip),this[T](E),this._tooltipHandlersAdded=!m}},openTooltip:function(m){return this._tooltip&&(this instanceof Si||(this._tooltip._source=this),this._tooltip._prepareOpen(m)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(m){return this._tooltip&&this._tooltip.setContent(m),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(m){var T=typeof m.getElement=="function"&&m.getElement();T&&(Wt(T,"focus",function(){this._tooltip._source=m,this.openTooltip()},this),Wt(T,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(m){var T=typeof m.getElement=="function"&&m.getElement();T&&T.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(m){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var T=this;this._map.once("moveend",function(){T._openOnceFlag=!1,T._openTooltip(m)});return}this._tooltip._source=m.layer||m.target,this.openTooltip(this._tooltip.options.sticky?m.latlng:void 0)}},_moveTooltip:function(m){var T=m.latlng,E,j;this._tooltip.options.sticky&&m.originalEvent&&(E=this._map.mouseEventToContainerPoint(m.originalEvent),j=this._map.containerPointToLayerPoint(E),T=this._map.layerPointToLatLng(j)),this._tooltip.setLatLng(T)}});var xd=Wo.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(m){var T=m&&m.tagName==="DIV"?m:document.createElement("div"),E=this.options;if(E.html instanceof Element?(Er(T),T.appendChild(E.html)):T.innerHTML=E.html!==!1?E.html:"",E.bgPos){var j=ee(E.bgPos);T.style.backgroundPosition=-j.x+"px "+-j.y+"px"}return this._setIconStyles(T,"icon"),T},createShadow:function(){return null}});function GC(m){return new xd(m)}Wo.Default=$;var Ff=$r.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Te.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(m){y(this,m)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(m){m._addZoomLimit(this)},onRemove:function(m){this._removeAllTiles(),Cr(this._container),m._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(or(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ii(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(m){return this.options.opacity=m,this._updateOpacity(),this},setZIndex:function(m){return this.options.zIndex=m,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var m=this._clampZoom(this._map.getZoom());m!==this._tileZoom&&(this._tileZoom=m,this._updateLevels()),this._update()}return this},getEvents:function(){var m={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=u(this._onMoveEnd,this.options.updateInterval,this)),m.move=this._onMove),this._zoomAnimated&&(m.zoomanim=this._animateZoom),m},createTile:function(){return document.createElement("div")},getTileSize:function(){var m=this.options.tileSize;return m instanceof W?m:new W(m,m)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(m){for(var T=this.getPane().children,E=-m(-1/0,1/0),j=0,U=T.length,re;j<U;j++)re=T[j].style.zIndex,T[j]!==this._container&&re&&(E=m(E,+re));isFinite(E)&&(this.options.zIndex=E+m(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Te.ielt9){Pn(this._container,this.options.opacity);var m=+new Date,T=!1,E=!1;for(var j in this._tiles){var U=this._tiles[j];if(!(!U.current||!U.loaded)){var re=Math.min(1,(m-U.loaded)/200);Pn(U.el,re),re<1?T=!0:(U.active?E=!0:this._onOpaqueTile(U),U.active=!0)}}E&&!this._noPrune&&this._pruneTiles(),T&&(G(this._fadeFrame),this._fadeFrame=V(this._updateOpacity,this))}},_onOpaqueTile:f,_initContainer:function(){this._container||(this._container=Ot("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var m=this._tileZoom,T=this.options.maxZoom;if(m!==void 0){for(var E in this._levels)E=Number(E),this._levels[E].el.children.length||E===m?(this._levels[E].el.style.zIndex=T-Math.abs(m-E),this._onUpdateLevel(E)):(Cr(this._levels[E].el),this._removeTilesAtZoom(E),this._onRemoveLevel(E),delete this._levels[E]);var j=this._levels[m],U=this._map;return j||(j=this._levels[m]={},j.el=Ot("div","leaflet-tile-container leaflet-zoom-animated",this._container),j.el.style.zIndex=T,j.origin=U.project(U.unproject(U.getPixelOrigin()),m).round(),j.zoom=m,this._setZoomTransform(j,U.getCenter(),U.getZoom()),f(j.el.offsetWidth),this._onCreateLevel(j)),this._level=j,j}},_onUpdateLevel:f,_onRemoveLevel:f,_onCreateLevel:f,_pruneTiles:function(){if(this._map){var m,T,E=this._map.getZoom();if(E>this.options.maxZoom||E<this.options.minZoom){this._removeAllTiles();return}for(m in this._tiles)T=this._tiles[m],T.retain=T.current;for(m in this._tiles)if(T=this._tiles[m],T.current&&!T.active){var j=T.coords;this._retainParent(j.x,j.y,j.z,j.z-5)||this._retainChildren(j.x,j.y,j.z,j.z+2)}for(m in this._tiles)this._tiles[m].retain||this._removeTile(m)}},_removeTilesAtZoom:function(m){for(var T in this._tiles)this._tiles[T].coords.z===m&&this._removeTile(T)},_removeAllTiles:function(){for(var m in this._tiles)this._removeTile(m)},_invalidateAll:function(){for(var m in this._levels)Cr(this._levels[m].el),this._onRemoveLevel(Number(m)),delete this._levels[m];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(m,T,E,j){var U=Math.floor(m/2),re=Math.floor(T/2),ue=E-1,_e=new W(+U,+re);_e.z=+ue;var De=this._tileCoordsToKey(_e),Fe=this._tiles[De];return Fe&&Fe.active?(Fe.retain=!0,!0):(Fe&&Fe.loaded&&(Fe.retain=!0),ue>j?this._retainParent(U,re,ue,j):!1)},_retainChildren:function(m,T,E,j){for(var U=2*m;U<2*m+2;U++)for(var re=2*T;re<2*T+2;re++){var ue=new W(U,re);ue.z=E+1;var _e=this._tileCoordsToKey(ue),De=this._tiles[_e];if(De&&De.active){De.retain=!0;continue}else De&&De.loaded&&(De.retain=!0);E+1<j&&this._retainChildren(U,re,E+1,j)}},_resetView:function(m){var T=m&&(m.pinch||m.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),T,T)},_animateZoom:function(m){this._setView(m.center,m.zoom,!0,m.noUpdate)},_clampZoom:function(m){var T=this.options;return T.minNativeZoom!==void 0&&m<T.minNativeZoom?T.minNativeZoom:T.maxNativeZoom!==void 0&&T.maxNativeZoom<m?T.maxNativeZoom:m},_setView:function(m,T,E,j){var U=Math.round(T);this.options.maxZoom!==void 0&&U>this.options.maxZoom||this.options.minZoom!==void 0&&U<this.options.minZoom?U=void 0:U=this._clampZoom(U);var re=this.options.updateWhenZooming&&U!==this._tileZoom;(!j||re)&&(this._tileZoom=U,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),U!==void 0&&this._update(m),E||this._pruneTiles(),this._noPrune=!!E),this._setZoomTransforms(m,T)},_setZoomTransforms:function(m,T){for(var E in this._levels)this._setZoomTransform(this._levels[E],m,T)},_setZoomTransform:function(m,T,E){var j=this._map.getZoomScale(E,m.zoom),U=m.origin.multiplyBy(j).subtract(this._map._getNewPixelOrigin(T,E)).round();Te.any3d?Vo(m.el,U,j):hn(m.el,U)},_resetGrid:function(){var m=this._map,T=m.options.crs,E=this._tileSize=this.getTileSize(),j=this._tileZoom,U=this._map.getPixelWorldBounds(this._tileZoom);U&&(this._globalTileRange=this._pxBoundsToTileRange(U)),this._wrapX=T.wrapLng&&!this.options.noWrap&&[Math.floor(m.project([0,T.wrapLng[0]],j).x/E.x),Math.ceil(m.project([0,T.wrapLng[1]],j).x/E.y)],this._wrapY=T.wrapLat&&!this.options.noWrap&&[Math.floor(m.project([T.wrapLat[0],0],j).y/E.x),Math.ceil(m.project([T.wrapLat[1],0],j).y/E.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(m){var T=this._map,E=T._animatingZoom?Math.max(T._animateToZoom,T.getZoom()):T.getZoom(),j=T.getZoomScale(E,this._tileZoom),U=T.project(m,this._tileZoom).floor(),re=T.getSize().divideBy(j*2);return new K(U.subtract(re),U.add(re))},_update:function(m){var T=this._map;if(T){var E=this._clampZoom(T.getZoom());if(m===void 0&&(m=T.getCenter()),this._tileZoom!==void 0){var j=this._getTiledPixelBounds(m),U=this._pxBoundsToTileRange(j),re=U.getCenter(),ue=[],_e=this.options.keepBuffer,De=new K(U.getBottomLeft().subtract([_e,-_e]),U.getTopRight().add([_e,-_e]));if(!(isFinite(U.min.x)&&isFinite(U.min.y)&&isFinite(U.max.x)&&isFinite(U.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Fe in this._tiles){var tt=this._tiles[Fe].coords;(tt.z!==this._tileZoom||!De.contains(new W(tt.x,tt.y)))&&(this._tiles[Fe].current=!1)}if(Math.abs(E-this._tileZoom)>1){this._setView(m,E);return}for(var It=U.min.y;It<=U.max.y;It++)for(var _r=U.min.x;_r<=U.max.x;_r++){var ui=new W(_r,It);if(ui.z=this._tileZoom,!!this._isValidTile(ui)){var va=this._tiles[this._tileCoordsToKey(ui)];va?va.current=!0:ue.push(ui)}}if(ue.sort(function(an,on){return an.distanceTo(re)-on.distanceTo(re)}),ue.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var xo=document.createDocumentFragment();for(_r=0;_r<ue.length;_r++)this._addTile(ue[_r],xo);this._level.el.appendChild(xo)}}}},_isValidTile:function(m){var T=this._map.options.crs;if(!T.infinite){var E=this._globalTileRange;if(!T.wrapLng&&(m.x<E.min.x||m.x>E.max.x)||!T.wrapLat&&(m.y<E.min.y||m.y>E.max.y))return!1}if(!this.options.bounds)return!0;var j=this._tileCoordsToBounds(m);return le(this.options.bounds).overlaps(j)},_keyToBounds:function(m){return this._tileCoordsToBounds(this._keyToTileCoords(m))},_tileCoordsToNwSe:function(m){var T=this._map,E=this.getTileSize(),j=m.scaleBy(E),U=j.add(E),re=T.unproject(j,m.z),ue=T.unproject(U,m.z);return[re,ue]},_tileCoordsToBounds:function(m){var T=this._tileCoordsToNwSe(m),E=new ie(T[0],T[1]);return this.options.noWrap||(E=this._map.wrapLatLngBounds(E)),E},_tileCoordsToKey:function(m){return m.x+":"+m.y+":"+m.z},_keyToTileCoords:function(m){var T=m.split(":"),E=new W(+T[0],+T[1]);return E.z=+T[2],E},_removeTile:function(m){var T=this._tiles[m];T&&(Cr(T.el),delete this._tiles[m],this.fire("tileunload",{tile:T.el,coords:this._keyToTileCoords(m)}))},_initTile:function(m){Kt(m,"leaflet-tile");var T=this.getTileSize();m.style.width=T.x+"px",m.style.height=T.y+"px",m.onselectstart=f,m.onmousemove=f,Te.ielt9&&this.options.opacity<1&&Pn(m,this.options.opacity)},_addTile:function(m,T){var E=this._getTilePos(m),j=this._tileCoordsToKey(m),U=this.createTile(this._wrapCoords(m),o(this._tileReady,this,m));this._initTile(U),this.createTile.length<2&&V(o(this._tileReady,this,m,null,U)),hn(U,E),this._tiles[j]={el:U,coords:m,current:!0},T.appendChild(U),this.fire("tileloadstart",{tile:U,coords:m})},_tileReady:function(m,T,E){T&&this.fire("tileerror",{error:T,tile:E,coords:m});var j=this._tileCoordsToKey(m);E=this._tiles[j],E&&(E.loaded=+new Date,this._map._fadeAnimated?(Pn(E.el,0),G(this._fadeFrame),this._fadeFrame=V(this._updateOpacity,this)):(E.active=!0,this._pruneTiles()),T||(Kt(E.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:E.el,coords:m})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Te.ielt9||!this._map._fadeAnimated?V(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(m){return m.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(m){var T=new W(this._wrapX?c(m.x,this._wrapX):m.x,this._wrapY?c(m.y,this._wrapY):m.y);return T.z=m.z,T},_pxBoundsToTileRange:function(m){var T=this.getTileSize();return new K(m.min.unscaleBy(T).floor(),m.max.unscaleBy(T).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var m in this._tiles)if(!this._tiles[m].loaded)return!1;return!0}});function R_(m){return new Ff(m)}var Eu=Ff.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(m,T){this._url=m,T=y(this,T),T.detectRetina&&Te.retina&&T.maxZoom>0?(T.tileSize=Math.floor(T.tileSize/2),T.zoomReverse?(T.zoomOffset--,T.minZoom=Math.min(T.maxZoom,T.minZoom+1)):(T.zoomOffset++,T.maxZoom=Math.max(T.minZoom,T.maxZoom-1)),T.minZoom=Math.max(0,T.minZoom)):T.zoomReverse?T.minZoom=Math.min(T.maxZoom,T.minZoom):T.maxZoom=Math.max(T.minZoom,T.maxZoom),typeof T.subdomains=="string"&&(T.subdomains=T.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(m,T){return this._url===m&&T===void 0&&(T=!0),this._url=m,T||this.redraw(),this},createTile:function(m,T){var E=document.createElement("img");return Wt(E,"load",o(this._tileOnLoad,this,T,E)),Wt(E,"error",o(this._tileOnError,this,T,E)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(E.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(E.referrerPolicy=this.options.referrerPolicy),E.alt="",E.src=this.getTileUrl(m),E},getTileUrl:function(m){var T={r:Te.retina?"@2x":"",s:this._getSubdomain(m),x:m.x,y:m.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var E=this._globalTileRange.max.y-m.y;this.options.tms&&(T.y=E),T["-y"]=E}return w(this._url,a(T,this.options))},_tileOnLoad:function(m,T){Te.ielt9?setTimeout(o(m,this,null,T),0):m(null,T)},_tileOnError:function(m,T,E){var j=this.options.errorTileUrl;j&&T.getAttribute("src")!==j&&(T.src=j),m(E,T)},_onTileRemove:function(m){m.tile.onload=null},_getZoomForUrl:function(){var m=this._tileZoom,T=this.options.maxZoom,E=this.options.zoomReverse,j=this.options.zoomOffset;return E&&(m=T-m),m+j},_getSubdomain:function(m){var T=Math.abs(m.x+m.y)%this.options.subdomains.length;return this.options.subdomains[T]},_abortLoading:function(){var m,T;for(m in this._tiles)if(this._tiles[m].coords.z!==this._tileZoom&&(T=this._tiles[m].el,T.onload=f,T.onerror=f,!T.complete)){T.src=D;var E=this._tiles[m].coords;Cr(T),delete this._tiles[m],this.fire("tileabort",{tile:T,coords:E})}},_removeTile:function(m){var T=this._tiles[m];if(T)return T.el.setAttribute("src",D),Ff.prototype._removeTile.call(this,m)},_tileReady:function(m,T,E){if(!(!this._map||E&&E.getAttribute("src")===D))return Ff.prototype._tileReady.call(this,m,T,E)}});function Yo(m,T){return new Eu(m,T)}var _d=Eu.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(m,T){this._url=m;var E=a({},this.defaultWmsParams);for(var j in T)j in this.options||(E[j]=T[j]);T=y(this,T);var U=T.detectRetina&&Te.retina?2:1,re=this.getTileSize();E.width=re.x*U,E.height=re.y*U,this.wmsParams=E},onAdd:function(m){this._crs=this.options.crs||m.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var T=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[T]=this._crs.code,Eu.prototype.onAdd.call(this,m)},getTileUrl:function(m){var T=this._tileCoordsToNwSe(m),E=this._crs,j=ne(E.project(T[0]),E.project(T[1])),U=j.min,re=j.max,ue=(this._wmsVersion>=1.3&&this._crs===ta?[U.y,U.x,re.y,re.x]:[U.x,U.y,re.x,re.y]).join(","),_e=Eu.prototype.getTileUrl.call(this,m);return _e+b(this.wmsParams,_e,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+ue},setParams:function(m,T){return a(this.wmsParams,m),T||this.redraw(),this}});function Zo(m,T){return new _d(m,T)}Eu.WMS=_d,Yo.wms=Zo;var Qi=$r.extend({options:{padding:.1},initialize:function(m){y(this,m),l(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Kt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var m={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(m.zoomanim=this._onAnimZoom),m},_onAnimZoom:function(m){this._updateTransform(m.center,m.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(m,T){var E=this._map.getZoomScale(T,this._zoom),j=this._map.getSize().multiplyBy(.5+this.options.padding),U=this._map.project(this._center,T),re=j.multiplyBy(-E).add(U).subtract(this._map._getNewPixelOrigin(m,T));Te.any3d?Vo(this._container,re,E):hn(this._container,re)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var m in this._layers)this._layers[m]._reset()},_onZoomEnd:function(){for(var m in this._layers)this._layers[m]._project()},_updatePaths:function(){for(var m in this._layers)this._layers[m]._update()},_update:function(){var m=this.options.padding,T=this._map.getSize(),E=this._map.containerPointToLayerPoint(T.multiplyBy(-m)).round();this._bounds=new K(E,E.add(T.multiplyBy(1+m*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Ap=Qi.extend({options:{tolerance:0},getEvents:function(){var m=Qi.prototype.getEvents.call(this);return m.viewprereset=this._onViewPreReset,m},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Qi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var m=this._container=document.createElement("canvas");Wt(m,"mousemove",this._onMouseMove,this),Wt(m,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Wt(m,"mouseout",this._handleMouseOut,this),m._leaflet_disable_events=!0,this._ctx=m.getContext("2d")},_destroyContainer:function(){G(this._redrawRequest),delete this._ctx,Cr(this._container),Zr(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var m;this._redrawBounds=null;for(var T in this._layers)m=this._layers[T],m._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Qi.prototype._update.call(this);var m=this._bounds,T=this._container,E=m.getSize(),j=Te.retina?2:1;hn(T,m.min),T.width=j*E.x,T.height=j*E.y,T.style.width=E.x+"px",T.style.height=E.y+"px",Te.retina&&this._ctx.scale(2,2),this._ctx.translate(-m.min.x,-m.min.y),this.fire("update")}},_reset:function(){Qi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(m){this._updateDashArray(m),this._layers[l(m)]=m;var T=m._order={layer:m,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=T),this._drawLast=T,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(m){this._requestRedraw(m)},_removePath:function(m){var T=m._order,E=T.next,j=T.prev;E?E.prev=j:this._drawLast=j,j?j.next=E:this._drawFirst=E,delete m._order,delete this._layers[l(m)],this._requestRedraw(m)},_updatePath:function(m){this._extendRedrawBounds(m),m._project(),m._update(),this._requestRedraw(m)},_updateStyle:function(m){this._updateDashArray(m),this._requestRedraw(m)},_updateDashArray:function(m){if(typeof m.options.dashArray=="string"){var T=m.options.dashArray.split(/[, ]+/),E=[],j,U;for(U=0;U<T.length;U++){if(j=Number(T[U]),isNaN(j))return;E.push(j)}m.options._dashArray=E}else m.options._dashArray=m.options.dashArray},_requestRedraw:function(m){this._map&&(this._extendRedrawBounds(m),this._redrawRequest=this._redrawRequest||V(this._redraw,this))},_extendRedrawBounds:function(m){if(m._pxBounds){var T=(m.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new K,this._redrawBounds.extend(m._pxBounds.min.subtract([T,T])),this._redrawBounds.extend(m._pxBounds.max.add([T,T]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var m=this._redrawBounds;if(m){var T=m.getSize();this._ctx.clearRect(m.min.x,m.min.y,T.x,T.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var m,T=this._redrawBounds;if(this._ctx.save(),T){var E=T.getSize();this._ctx.beginPath(),this._ctx.rect(T.min.x,T.min.y,E.x,E.y),this._ctx.clip()}this._drawing=!0;for(var j=this._drawFirst;j;j=j.next)m=j.layer,(!T||m._pxBounds&&m._pxBounds.intersects(T))&&m._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(m,T){if(this._drawing){var E,j,U,re,ue=m._parts,_e=ue.length,De=this._ctx;if(_e){for(De.beginPath(),E=0;E<_e;E++){for(j=0,U=ue[E].length;j<U;j++)re=ue[E][j],De[j?"lineTo":"moveTo"](re.x,re.y);T&&De.closePath()}this._fillStroke(De,m)}}},_updateCircle:function(m){if(!(!this._drawing||m._empty())){var T=m._point,E=this._ctx,j=Math.max(Math.round(m._radius),1),U=(Math.max(Math.round(m._radiusY),1)||j)/j;U!==1&&(E.save(),E.scale(1,U)),E.beginPath(),E.arc(T.x,T.y/U,j,0,Math.PI*2,!1),U!==1&&E.restore(),this._fillStroke(E,m)}},_fillStroke:function(m,T){var E=T.options;E.fill&&(m.globalAlpha=E.fillOpacity,m.fillStyle=E.fillColor||E.color,m.fill(E.fillRule||"evenodd")),E.stroke&&E.weight!==0&&(m.setLineDash&&m.setLineDash(T.options&&T.options._dashArray||[]),m.globalAlpha=E.opacity,m.lineWidth=E.weight,m.strokeStyle=E.color,m.lineCap=E.lineCap,m.lineJoin=E.lineJoin,m.stroke())},_onClick:function(m){for(var T=this._map.mouseEventToLayerPoint(m),E,j,U=this._drawFirst;U;U=U.next)E=U.layer,E.options.interactive&&E._containsPoint(T)&&(!(m.type==="click"||m.type==="preclick")||!this._map._draggableMoved(E))&&(j=E);this._fireEvent(j?[j]:!1,m)},_onMouseMove:function(m){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var T=this._map.mouseEventToLayerPoint(m);this._handleMouseHover(m,T)}},_handleMouseOut:function(m){var T=this._hoveredLayer;T&&(qn(this._container,"leaflet-interactive"),this._fireEvent([T],m,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(m,T){if(!this._mouseHoverThrottled){for(var E,j,U=this._drawFirst;U;U=U.next)E=U.layer,E.options.interactive&&E._containsPoint(T)&&(j=E);j!==this._hoveredLayer&&(this._handleMouseOut(m),j&&(Kt(this._container,"leaflet-interactive"),this._fireEvent([j],m,"mouseover"),this._hoveredLayer=j)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,m),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(m,T,E){this._map._fireDOMEvent(T,E||T.type,m)},_bringToFront:function(m){var T=m._order;if(T){var E=T.next,j=T.prev;if(E)E.prev=j;else return;j?j.next=E:E&&(this._drawFirst=E),T.prev=this._drawLast,this._drawLast.next=T,T.next=null,this._drawLast=T,this._requestRedraw(m)}},_bringToBack:function(m){var T=m._order;if(T){var E=T.next,j=T.prev;if(j)j.next=E;else return;E?E.prev=j:j&&(this._drawLast=j),T.prev=null,T.next=this._drawFirst,this._drawFirst.prev=T,this._drawFirst=T,this._requestRedraw(m)}}});function bd(m){return Te.canvas?new Ap(m):null}var Nu=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(m){return document.createElement("<lvml:"+m+' class="lvml">')}}catch{}return function(m){return document.createElement("<"+m+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),ty={_initContainer:function(){this._container=Ot("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Qi.prototype._update.call(this),this.fire("update"))},_initPath:function(m){var T=m._container=Nu("shape");Kt(T,"leaflet-vml-shape "+(this.options.className||"")),T.coordsize="1 1",m._path=Nu("path"),T.appendChild(m._path),this._updateStyle(m),this._layers[l(m)]=m},_addPath:function(m){var T=m._container;this._container.appendChild(T),m.options.interactive&&m.addInteractiveTarget(T)},_removePath:function(m){var T=m._container;Cr(T),m.removeInteractiveTarget(T),delete this._layers[l(m)]},_updateStyle:function(m){var T=m._stroke,E=m._fill,j=m.options,U=m._container;U.stroked=!!j.stroke,U.filled=!!j.fill,j.stroke?(T||(T=m._stroke=Nu("stroke")),U.appendChild(T),T.weight=j.weight+"px",T.color=j.color,T.opacity=j.opacity,j.dashArray?T.dashStyle=M(j.dashArray)?j.dashArray.join(" "):j.dashArray.replace(/( *, *)/g," "):T.dashStyle="",T.endcap=j.lineCap.replace("butt","flat"),T.joinstyle=j.lineJoin):T&&(U.removeChild(T),m._stroke=null),j.fill?(E||(E=m._fill=Nu("fill")),U.appendChild(E),E.color=j.fillColor||j.color,E.opacity=j.fillOpacity):E&&(U.removeChild(E),m._fill=null)},_updateCircle:function(m){var T=m._point.round(),E=Math.round(m._radius),j=Math.round(m._radiusY||E);this._setPath(m,m._empty()?"M0 0":"AL "+T.x+","+T.y+" "+E+","+j+" 0,"+65535*360)},_setPath:function(m,T){m._path.v=T},_bringToFront:function(m){or(m._container)},_bringToBack:function(m){Ii(m._container)}},Xs=Te.vml?Nu:Ft,Hf=Qi.extend({_initContainer:function(){this._container=Xs("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Xs("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Cr(this._container),Zr(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Qi.prototype._update.call(this);var m=this._bounds,T=m.getSize(),E=this._container;(!this._svgSize||!this._svgSize.equals(T))&&(this._svgSize=T,E.setAttribute("width",T.x),E.setAttribute("height",T.y)),hn(E,m.min),E.setAttribute("viewBox",[m.min.x,m.min.y,T.x,T.y].join(" ")),this.fire("update")}},_initPath:function(m){var T=m._path=Xs("path");m.options.className&&Kt(T,m.options.className),m.options.interactive&&Kt(T,"leaflet-interactive"),this._updateStyle(m),this._layers[l(m)]=m},_addPath:function(m){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(m._path),m.addInteractiveTarget(m._path)},_removePath:function(m){Cr(m._path),m.removeInteractiveTarget(m._path),delete this._layers[l(m)]},_updatePath:function(m){m._project(),m._update()},_updateStyle:function(m){var T=m._path,E=m.options;T&&(E.stroke?(T.setAttribute("stroke",E.color),T.setAttribute("stroke-opacity",E.opacity),T.setAttribute("stroke-width",E.weight),T.setAttribute("stroke-linecap",E.lineCap),T.setAttribute("stroke-linejoin",E.lineJoin),E.dashArray?T.setAttribute("stroke-dasharray",E.dashArray):T.removeAttribute("stroke-dasharray"),E.dashOffset?T.setAttribute("stroke-dashoffset",E.dashOffset):T.removeAttribute("stroke-dashoffset")):T.setAttribute("stroke","none"),E.fill?(T.setAttribute("fill",E.fillColor||E.color),T.setAttribute("fill-opacity",E.fillOpacity),T.setAttribute("fill-rule",E.fillRule||"evenodd")):T.setAttribute("fill","none"))},_updatePoly:function(m,T){this._setPath(m,jt(m._parts,T))},_updateCircle:function(m){var T=m._point,E=Math.max(Math.round(m._radius),1),j=Math.max(Math.round(m._radiusY),1)||E,U="a"+E+","+j+" 0 1,0 ",re=m._empty()?"M0 0":"M"+(T.x-E)+","+T.y+U+E*2+",0 "+U+-E*2+",0 ";this._setPath(m,re)},_setPath:function(m,T){m._path.setAttribute("d",T)},_bringToFront:function(m){or(m._path)},_bringToBack:function(m){Ii(m._path)}});Te.vml&&Hf.include(ty);function Sd(m){return Te.svg||Te.vml?new Hf(m):null}hr.include({getRenderer:function(m){var T=m.options.renderer||this._getPaneRenderer(m.options.pane)||this.options.renderer||this._renderer;return T||(T=this._renderer=this._createRenderer()),this.hasLayer(T)||this.addLayer(T),T},_getPaneRenderer:function(m){if(m==="overlayPane"||m===void 0)return!1;var T=this._paneRenderers[m];return T===void 0&&(T=this._createRenderer({pane:m}),this._paneRenderers[m]=T),T},_createRenderer:function(m){return this.options.preferCanvas&&bd(m)||Sd(m)}});var kc=it.extend({initialize:function(m,T){it.prototype.initialize.call(this,this._boundsToLatLngs(m),T)},setBounds:function(m){return this.setLatLngs(this._boundsToLatLngs(m))},_boundsToLatLngs:function(m){return m=le(m),[m.getSouthWest(),m.getNorthWest(),m.getNorthEast(),m.getSouthEast()]}});function UC(m,T){return new kc(m,T)}Hf.create=Xs,Hf.pointsToPath=jt,dr.geometryToLayer=Zt,dr.coordsToLatLng=Bt,dr.coordsToLatLngs=Dt,dr.latLngToCoords=nn,dr.latLngsToCoords=yn,dr.getFeature=Cn,dr.asFeature=Hr,hr.mergeOptions({boxZoom:!0});var Ji=Go.extend({initialize:function(m){this._map=m,this._container=m._container,this._pane=m._panes.overlayPane,this._resetStateTimeout=0,m.on("unload",this._destroy,this)},addHooks:function(){Wt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Zr(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Cr(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(m){if(!m.shiftKey||m.which!==1&&m.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),fs(),Of(),this._startPoint=this._map.mouseEventToContainerPoint(m),Wt(document,{contextmenu:ds,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(m){this._moved||(this._moved=!0,this._box=Ot("div","leaflet-zoom-box",this._container),Kt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(m);var T=new K(this._point,this._startPoint),E=T.getSize();hn(this._box,T.min),this._box.style.width=E.x+"px",this._box.style.height=E.y+"px"},_finish:function(){this._moved&&(Cr(this._box),qn(this._container,"leaflet-crosshair")),Fo(),Dc(),Zr(document,{contextmenu:ds,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(m){if(!(m.which!==1&&m.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var T=new ie(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(T).fire("boxzoomend",{boxZoomBounds:T})}},_onKeyDown:function(m){m.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});hr.addInitHook("addHandler","boxZoom",Ji),hr.mergeOptions({doubleClickZoom:!0});var Dp=Go.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(m){var T=this._map,E=T.getZoom(),j=T.options.zoomDelta,U=m.originalEvent.shiftKey?E-j:E+j;T.options.doubleClickZoom==="center"?T.setZoom(U):T.setZoomAround(m.containerPoint,U)}});hr.addInitHook("addHandler","doubleClickZoom",Dp),hr.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ks=Go.extend({addHooks:function(){if(!this._draggable){var m=this._map;this._draggable=new gs(m._mapPane,m._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),m.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),m.on("zoomend",this._onZoomEnd,this),m.whenReady(this._onZoomEnd,this))}Kt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){qn(this._map._container,"leaflet-grab"),qn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var m=this._map;if(m._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var T=le(this._map.options.maxBounds);this._offsetLimit=ne(this._map.latLngToContainerPoint(T.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(T.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;m.fire("movestart").fire("dragstart"),m.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(m){if(this._map.options.inertia){var T=this._lastTime=+new Date,E=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(E),this._times.push(T),this._prunePositions(T)}this._map.fire("move",m).fire("drag",m)},_prunePositions:function(m){for(;this._positions.length>1&&m-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var m=this._map.getSize().divideBy(2),T=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=T.subtract(m).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(m,T){return m-(m-T)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var m=this._draggable._newPos.subtract(this._draggable._startPos),T=this._offsetLimit;m.x<T.min.x&&(m.x=this._viscousLimit(m.x,T.min.x)),m.y<T.min.y&&(m.y=this._viscousLimit(m.y,T.min.y)),m.x>T.max.x&&(m.x=this._viscousLimit(m.x,T.max.x)),m.y>T.max.y&&(m.y=this._viscousLimit(m.y,T.max.y)),this._draggable._newPos=this._draggable._startPos.add(m)}},_onPreDragWrap:function(){var m=this._worldWidth,T=Math.round(m/2),E=this._initialWorldOffset,j=this._draggable._newPos.x,U=(j-T+E)%m+T-E,re=(j+T+E)%m-T-E,ue=Math.abs(U+E)<Math.abs(re+E)?U:re;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=ue},_onDragEnd:function(m){var T=this._map,E=T.options,j=!E.inertia||m.noInertia||this._times.length<2;if(T.fire("dragend",m),j)T.fire("moveend");else{this._prunePositions(+new Date);var U=this._lastPos.subtract(this._positions[0]),re=(this._lastTime-this._times[0])/1e3,ue=E.easeLinearity,_e=U.multiplyBy(ue/re),De=_e.distanceTo([0,0]),Fe=Math.min(E.inertiaMaxSpeed,De),tt=_e.multiplyBy(Fe/De),It=Fe/(E.inertiaDeceleration*ue),_r=tt.multiplyBy(-It/2).round();!_r.x&&!_r.y?T.fire("moveend"):(_r=T._limitOffset(_r,T.options.maxBounds),V(function(){T.panBy(_r,{duration:It,easeLinearity:ue,noMoveStart:!0,animate:!0})}))}}});hr.addInitHook("addHandler","dragging",Ks),hr.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ry=Go.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(m){this._map=m,this._setPanDelta(m.options.keyboardPanDelta),this._setZoomDelta(m.options.zoomDelta)},addHooks:function(){var m=this._map._container;m.tabIndex<=0&&(m.tabIndex="0"),Wt(m,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Zr(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var m=document.body,T=document.documentElement,E=m.scrollTop||T.scrollTop,j=m.scrollLeft||T.scrollLeft;this._map._container.focus(),window.scrollTo(j,E)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(m){var T=this._panKeys={},E=this.keyCodes,j,U;for(j=0,U=E.left.length;j<U;j++)T[E.left[j]]=[-1*m,0];for(j=0,U=E.right.length;j<U;j++)T[E.right[j]]=[m,0];for(j=0,U=E.down.length;j<U;j++)T[E.down[j]]=[0,m];for(j=0,U=E.up.length;j<U;j++)T[E.up[j]]=[0,-1*m]},_setZoomDelta:function(m){var T=this._zoomKeys={},E=this.keyCodes,j,U;for(j=0,U=E.zoomIn.length;j<U;j++)T[E.zoomIn[j]]=m;for(j=0,U=E.zoomOut.length;j<U;j++)T[E.zoomOut[j]]=-m},_addHooks:function(){Wt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Zr(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(m){if(!(m.altKey||m.ctrlKey||m.metaKey)){var T=m.keyCode,E=this._map,j;if(T in this._panKeys){if(!E._panAnim||!E._panAnim._inProgress)if(j=this._panKeys[T],m.shiftKey&&(j=ee(j).multiplyBy(3)),E.options.maxBounds&&(j=E._limitOffset(ee(j),E.options.maxBounds)),E.options.worldCopyJump){var U=E.wrapLatLng(E.unproject(E.project(E.getCenter()).add(j)));E.panTo(U)}else E.panBy(j)}else if(T in this._zoomKeys)E.setZoom(E.getZoom()+(m.shiftKey?3:1)*this._zoomKeys[T]);else if(T===27&&E._popup&&E._popup.options.closeOnEscapeKey)E.closePopup();else return;ds(m)}}});hr.addInitHook("addHandler","keyboard",ry),hr.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var wd=Go.extend({addHooks:function(){Wt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Zr(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(m){var T=Fr(m),E=this._map.options.wheelDebounceTime;this._delta+=T,this._lastMousePos=this._map.mouseEventToContainerPoint(m),this._startTime||(this._startTime=+new Date);var j=Math.max(E-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),j),ds(m)},_performZoom:function(){var m=this._map,T=m.getZoom(),E=this._map.options.zoomSnap||0;m._stop();var j=this._delta/(this._map.options.wheelPxPerZoomLevel*4),U=4*Math.log(2/(1+Math.exp(-Math.abs(j))))/Math.LN2,re=E?Math.ceil(U/E)*E:U,ue=m._limitZoom(T+(this._delta>0?re:-re))-T;this._delta=0,this._startTime=null,ue&&(m.options.scrollWheelZoom==="center"?m.setZoom(T+ue):m.setZoomAround(this._lastMousePos,T+ue))}});hr.addInitHook("addHandler","scrollWheelZoom",wd);var Ic=600;hr.mergeOptions({tapHold:Te.touchNative&&Te.safari&&Te.mobile,tapTolerance:15});var Lp=Go.extend({addHooks:function(){Wt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Zr(this._map._container,"touchstart",this._onDown,this)},_onDown:function(m){if(clearTimeout(this._holdTimeout),m.touches.length===1){var T=m.touches[0];this._startPos=this._newPos=new W(T.clientX,T.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(Wt(document,"touchend",Xn),Wt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",T))},this),Ic),Wt(document,"touchend touchcancel contextmenu",this._cancel,this),Wt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function m(){Zr(document,"touchend",Xn),Zr(document,"touchend touchcancel",m)},_cancel:function(){clearTimeout(this._holdTimeout),Zr(document,"touchend touchcancel contextmenu",this._cancel,this),Zr(document,"touchmove",this._onMove,this)},_onMove:function(m){var T=m.touches[0];this._newPos=new W(T.clientX,T.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(m,T){var E=new MouseEvent(m,{bubbles:!0,cancelable:!0,view:window,screenX:T.screenX,screenY:T.screenY,clientX:T.clientX,clientY:T.clientY});E._simulated=!0,T.target.dispatchEvent(E)}});hr.addInitHook("addHandler","tapHold",Lp),hr.mergeOptions({touchZoom:Te.touch,bounceAtZoomLimits:!0});var ny=Go.extend({addHooks:function(){Kt(this._map._container,"leaflet-touch-zoom"),Wt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){qn(this._map._container,"leaflet-touch-zoom"),Zr(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(m){var T=this._map;if(!(!m.touches||m.touches.length!==2||T._animatingZoom||this._zooming)){var E=T.mouseEventToContainerPoint(m.touches[0]),j=T.mouseEventToContainerPoint(m.touches[1]);this._centerPoint=T.getSize()._divideBy(2),this._startLatLng=T.containerPointToLatLng(this._centerPoint),T.options.touchZoom!=="center"&&(this._pinchStartLatLng=T.containerPointToLatLng(E.add(j)._divideBy(2))),this._startDist=E.distanceTo(j),this._startZoom=T.getZoom(),this._moved=!1,this._zooming=!0,T._stop(),Wt(document,"touchmove",this._onTouchMove,this),Wt(document,"touchend touchcancel",this._onTouchEnd,this),Xn(m)}},_onTouchMove:function(m){if(!(!m.touches||m.touches.length!==2||!this._zooming)){var T=this._map,E=T.mouseEventToContainerPoint(m.touches[0]),j=T.mouseEventToContainerPoint(m.touches[1]),U=E.distanceTo(j)/this._startDist;if(this._zoom=T.getScaleZoom(U,this._startZoom),!T.options.bounceAtZoomLimits&&(this._zoom<T.getMinZoom()&&U<1||this._zoom>T.getMaxZoom()&&U>1)&&(this._zoom=T._limitZoom(this._zoom)),T.options.touchZoom==="center"){if(this._center=this._startLatLng,U===1)return}else{var re=E._add(j)._divideBy(2)._subtract(this._centerPoint);if(U===1&&re.x===0&&re.y===0)return;this._center=T.unproject(T.project(this._pinchStartLatLng,this._zoom).subtract(re),this._zoom)}this._moved||(T._moveStart(!0,!1),this._moved=!0),G(this._animRequest);var ue=o(T._move,T,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=V(ue,this,!0),Xn(m)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,G(this._animRequest),Zr(document,"touchmove",this._onTouchMove,this),Zr(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});hr.addInitHook("addHandler","touchZoom",ny),hr.BoxZoom=Ji,hr.DoubleClickZoom=Dp,hr.Drag=Ks,hr.Keyboard=ry,hr.ScrollWheelZoom=wd,hr.TapHold=Lp,hr.TouchZoom=ny,r.Bounds=K,r.Browser=Te,r.CRS=pe,r.Canvas=Ap,r.Circle=Ge,r.CircleMarker=Se,r.Class=q,r.Control=ji,r.DivIcon=xd,r.DivOverlay=Mn,r.DomEvent=Kn,r.DomUtil=wu,r.Draggable=gs,r.Evented=X,r.FeatureGroup=Si,r.GeoJSON=dr,r.GridLayer=Ff,r.Handler=Go,r.Icon=Wo,r.ImageOverlay=Ta,r.LatLng=me,r.LatLngBounds=ie,r.Layer=$r,r.LayerGroup=Fl,r.LineUtil=ey,r.Map=hr,r.Marker=oe,r.Mixin=Uo,r.Path=he,r.Point=W,r.PolyUtil=md,r.Polygon=it,r.Polyline=Ke,r.Popup=la,r.PosAnimation=qr,r.Projection=Bl,r.Rectangle=kc,r.Renderer=Qi,r.SVG=Hf,r.SVGOverlay=si,r.TileLayer=Eu,r.Tooltip=yo,r.Transformation=Ie,r.Util=F,r.VideoOverlay=Ca,r.bind=o,r.bounds=ne,r.canvas=bd,r.circle=$e,r.circleMarker=Be,r.control=Wa,r.divIcon=GC,r.extend=a,r.featureGroup=Mp,r.geoJSON=Ya,r.geoJson=sa,r.gridLayer=R_,r.icon=Hl,r.imageOverlay=Xi,r.latLng=we,r.latLngBounds=le,r.layerGroup=yd,r.map=Cu,r.marker=se,r.point=ee,r.polygon=Qt,r.polyline=lt,r.popup=wi,r.rectangle=UC,r.setOptions=y,r.stamp=l,r.svg=Sd,r.svgOverlay=Ki,r.tileLayer=Yo,r.tooltip=li,r.transformation=Oe,r.version=n,r.videoOverlay=da;var ay=window.L;r.noConflict=function(){return window.L=ay,this},window.L=r}))})(W0,W0.exports)),W0.exports}var E_=HBe();const GBe=OR(E_);function CO(t,e,r){return Object.freeze({instance:t,context:e,container:r})}function MO(t,e){return e==null?function(n,a){const i=O.useRef(void 0);return i.current||(i.current=t(n,a)),i}:function(n,a){const i=O.useRef(void 0);i.current||(i.current=t(n,a));const o=O.useRef(n),{instance:s}=i.current;return O.useEffect(function(){o.current!==n&&(e(s,n,o.current),o.current=n)},[s,n,e]),i}}function UBe(t,e){O.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){e.layerContainer?.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function wte(t){return function(r){const n=bte(),a=t(TO(r,n),n);return _te(n.map,r.attribution),Ste(a.current,r.eventHandlers),UBe(a.current,n),a}}function WBe(t,e){const r=MO(t,e),n=wte(r);return jBe(n)}function YBe(t,e){const r=MO(t),n=VBe(r,e);return zBe(n)}function ZBe(t,e){const r=MO(t,e),n=wte(r);return BBe(n)}function qBe(t,e,r){const{opacity:n,zIndex:a}=e;n!=null&&n!==r.opacity&&t.setOpacity(n),a!=null&&a!==r.zIndex&&t.setZIndex(a)}function $Be({bounds:t,boundsOptions:e,center:r,children:n,className:a,id:i,placeholder:o,style:s,whenReady:l,zoom:u,...c},f){const[d]=O.useState({className:a,id:i,style:s}),[v,g]=O.useState(null),y=O.useRef(void 0);O.useImperativeHandle(f,()=>v?.map??null,[v]);const b=O.useCallback(w=>{if(w!==null&&!y.current){const M=new E_.Map(w,c);y.current=M,r!=null&&u!=null?M.setView(r,u):t!=null&&M.fitBounds(t,e),l!=null&&M.whenReady(l),g(IBe(M))}},[]);O.useEffect(()=>()=>{v?.map.remove()},[v]);const S=v?Mo.createElement(wO,{value:v},n):o??null;return Mo.createElement("div",{...d,ref:b},S)}const XBe=O.forwardRef($Be),Tte=WBe(function({position:e,...r},n){const a=new E_.Marker(e,r);return CO(a,OBe(n,{overlayContainer:a}))},function(e,r,n){r.position!==n.position&&e.setLatLng(r.position),r.icon!=null&&r.icon!==n.icon&&e.setIcon(r.icon),r.zIndexOffset!=null&&r.zIndexOffset!==n.zIndexOffset&&e.setZIndexOffset(r.zIndexOffset),r.opacity!=null&&r.opacity!==n.opacity&&e.setOpacity(r.opacity),e.dragging!=null&&r.draggable!==n.draggable&&(r.draggable===!0?e.dragging.enable():e.dragging.disable())}),Cte=YBe(function(e,r){const n=new E_.Popup(e,r.overlayContainer);return CO(n,r)},function(e,r,{position:n},a){O.useEffect(function(){const{instance:o}=e;function s(u){u.popup===o&&(o.update(),a(!0))}function l(u){u.popup===o&&a(!1)}return r.map.on({popupopen:s,popupclose:l}),r.overlayContainer==null?(n!=null&&o.setLatLng(n),o.openOn(r.map)):r.overlayContainer.bindPopup(o),function(){r.map.off({popupopen:s,popupclose:l}),r.overlayContainer?.unbindPopup(),r.map.removeLayer(o)}},[e,r,a,n])}),KBe=ZBe(function({url:e,...r},n){const a=new E_.TileLayer(e,TO(r,n));return CO(a,n)},function(e,r,n){qBe(e,r,n);const{url:a}=r;a!=null&&a!==n.url&&e.setUrl(a)}),QBe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",JBe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";GBe.Icon.Default.mergeOptions({iconUrl:QBe,shadowUrl:JBe});function e5e({position:t,onDragEnd:e}){const r=O.useRef(null),n=O.useMemo(()=>({dragend(){const a=r.current;if(a){const{lat:i,lng:o}=a.getLatLng();e(i,o)}}}),[e]);return x.jsx(Tte,{draggable:!0,eventHandlers:n,position:t,ref:r,children:x.jsx(Cte,{children:"Drag to adjust location"})})}function t5e({latitude:t,longitude:e,address:r,editable:n=!1,onLocationChange:a}){const i=t!=null&&e!=null;if(!i&&!r)return x.jsx("div",{className:"border rounded p-2 bg-card h-full flex items-center justify-center text-xs text-muted-foreground",children:"No location set"});if(!i)return x.jsxs("div",{className:"border rounded p-2 bg-card h-full flex items-center justify-center text-xs text-muted-foreground",children:["Address: ",r," (no coordinates)"]});const o=(s,l)=>{a&&a(s,l)};return x.jsxs("div",{className:"border rounded overflow-hidden h-full relative min-h-[160px]",children:[n&&x.jsx("div",{className:"absolute top-1 left-1 z-[1000] bg-background/90 text-[10px] px-1 py-0.5 rounded",children:"Drag marker to adjust"}),x.jsxs(XBe,{center:[t,e],zoom:15,style:{height:"100%",width:"100%"},scrollWheelZoom:n,children:[x.jsx(KBe,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:" OpenStreetMap"}),n?x.jsx(e5e,{position:[t,e],onDragEnd:o}):x.jsx(Tte,{position:[t,e],children:x.jsx(Cte,{children:r||`${t}, ${e}`})})]})]})}function AO({className:t,...e}){return x.jsx("textarea",{"data-slot":"textarea",className:dt("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...e})}function r5e({device:t,open:e,onSave:r,onClose:n}){const[a,i]=O.useState(""),[o,s]=O.useState(""),[l,u]=O.useState(""),[c,f]=O.useState(""),[d,v]=O.useState(""),[g,y]=O.useState(""),[b,S]=O.useState(""),[w,M]=O.useState(""),[A,D]=O.useState(t.latitude?.toString()||""),[R,N]=O.useState(t.longitude?.toString()||""),[I,z]=O.useState(""),[B,V]=O.useState(""),[G,F]=O.useState(!1),[q,Q]=O.useState(!1),[H,X]=O.useState(null);O.useEffect(()=>{e&&(i(t.model??""),s(t.manufacturer??""),u(t.serial_number??""),f(t.mac_address??""),v(t.imei??""),y(t.iccid??""),S(t.hw_revision??""),M(t.fw_version??""),D(t.latitude!=null?String(t.latitude):""),N(t.longitude!=null?String(t.longitude):""),z(t.address??""),V(t.notes??""))},[t,e]);async function W(ee){ee.preventDefault();const K=A.trim(),ne=R.trim(),ie=K?Number(K):null,le=ne?Number(ne):null,me=ie!=null&&!Number.isNaN(ie)&&le!=null&&!Number.isNaN(le),we={model:a.trim()||null,manufacturer:o.trim()||null,serial_number:l.trim()||null,mac_address:c.trim()||null,imei:d.trim()||null,iccid:g.trim()||null,hw_revision:b.trim()||null,fw_version:w.trim()||null,address:I.trim()||null,notes:B.trim()||null,latitude:ie!=null&&!Number.isNaN(ie)?ie:null,longitude:le!=null&&!Number.isNaN(le)?le:null,location_source:me?"manual":void 0};F(!0);try{await r(we),n()}finally{F(!1)}}async function J(){if(I.trim()){Q(!0),X(null);try{const ee=await vge(I.trim());console.log("Geocode response:",ee),ee.error?X(ee.error):ee.latitude&&ee.longitude?(D(String(ee.latitude)),N(String(ee.longitude))):X("Address not found")}catch(ee){console.error("Geocoding failed:",ee),X("Lookup failed")}Q(!1)}}return x.jsx(ss,{open:e,onOpenChange:n,children:x.jsxs(ls,{children:[x.jsx(us,{children:x.jsx(cs,{children:"Edit Device"})}),x.jsxs("form",{onSubmit:W,className:"space-y-3 text-xs",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("label",{children:"Model"}),x.jsx(_t,{value:a,onChange:ee=>i(ee.target.value),className:"h-7 text-xs"})]}),x.jsxs("div",{children:[x.jsx("label",{children:"Manufacturer"}),x.jsx(_t,{value:o,onChange:ee=>s(ee.target.value),className:"h-7 text-xs"})]}),x.jsxs("div",{children:[x.jsx("label",{children:"Serial"}),x.jsx(_t,{value:l,onChange:ee=>u(ee.target.value),className:"h-7 text-xs"})]}),x.jsxs("div",{children:[x.jsx("label",{children:"MAC"}),x.jsx(_t,{value:c,onChange:ee=>f(ee.target.value),className:"h-7 text-xs"})]}),x.jsxs("div",{children:[x.jsx("label",{children:"IMEI"}),x.jsx(_t,{value:d,onChange:ee=>v(ee.target.value),className:"h-7 text-xs"})]}),x.jsxs("div",{children:[x.jsx("label",{children:"SIM/ICCID"}),x.jsx(_t,{value:g,onChange:ee=>y(ee.target.value),className:"h-7 text-xs"})]}),x.jsxs("div",{children:[x.jsx("label",{children:"HW Rev"}),x.jsx(_t,{value:b,onChange:ee=>S(ee.target.value),className:"h-7 text-xs"})]}),x.jsxs("div",{children:[x.jsx("label",{children:"FW Ver"}),x.jsx(_t,{value:w,onChange:ee=>M(ee.target.value),className:"h-7 text-xs"})]})]}),x.jsxs("div",{className:"border-t pt-2 mt-2",children:[x.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:"Location  GPS coordinates preferred (auto-detected from telemetry). Address is optional fallback."}),x.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-xs text-muted-foreground",children:"Latitude"}),x.jsx(_t,{type:"text",value:A,onChange:ee=>D(ee.target.value),placeholder:"e.g. 37.7749",className:"h-7 text-xs"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-xs text-muted-foreground",children:"Longitude"}),x.jsx(_t,{type:"text",value:R,onChange:ee=>N(ee.target.value),placeholder:"e.g. -122.4194",className:"h-7 text-xs"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-xs text-muted-foreground",children:"Street Address (optional, used if no GPS)"}),x.jsxs("div",{className:"flex gap-1 items-center",children:[x.jsx(_t,{value:I,onChange:ee=>z(ee.target.value),placeholder:"e.g. 123 Main St, City, State",className:"h-7 text-xs flex-1"}),x.jsx(Ze,{type:"button",variant:"outline",size:"sm",className:"h-7 text-xs px-2",onClick:J,disabled:!I.trim()||q,children:q?"...":"Lookup"})]}),H&&x.jsx("div",{className:"text-xs text-destructive",children:H})]}),x.jsx("div",{className:"text-[10px] text-muted-foreground mt-1",children:"Note: Manually setting location will prevent auto-updates from telemetry GPS data."})]}),x.jsxs("div",{children:[x.jsx("label",{children:"Notes"}),x.jsx(AO,{value:B,onChange:ee=>V(ee.target.value),className:"h-16 text-xs"})]}),x.jsxs("div",{className:"flex justify-end gap-2",children:[x.jsx(Ze,{variant:"outline",type:"button",onClick:n,children:"Cancel"}),x.jsx(Ze,{type:"submit",disabled:G,children:G?"Saving...":"Save"})]})]})]})})}function n5e({className:t,orientation:e="horizontal",...r}){return x.jsx(tve,{"data-slot":"tabs","data-orientation":e,orientation:e,className:dt("group/tabs flex gap-2 data-[orientation=horizontal]:flex-col",t),...r})}const a5e=pT("rounded-lg p-[3px] group-data-[orientation=horizontal]/tabs:h-9 data-[variant=line]:rounded-none group/tabs-list text-muted-foreground inline-flex w-fit items-center justify-center group-data-[orientation=vertical]/tabs:h-fit group-data-[orientation=vertical]/tabs:flex-col",{variants:{variant:{default:"bg-muted",line:"gap-1 bg-transparent"}},defaultVariants:{variant:"default"}});function i5e({className:t,variant:e="default",...r}){return x.jsx(rve,{"data-slot":"tabs-list","data-variant":e,className:dt(a5e({variant:e}),t),...r})}function o5e({className:t,...e}){return x.jsx(nve,{"data-slot":"tabs-trigger",className:dt("focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring text-foreground/60 hover:text-foreground dark:text-muted-foreground dark:hover:text-foreground relative inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-all group-data-[orientation=vertical]/tabs:w-full group-data-[orientation=vertical]/tabs:justify-start focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 group-data-[variant=default]/tabs-list:data-[state=active]:shadow-sm group-data-[variant=line]/tabs-list:data-[state=active]:shadow-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4","group-data-[variant=line]/tabs-list:bg-transparent group-data-[variant=line]/tabs-list:data-[state=active]:bg-transparent dark:group-data-[variant=line]/tabs-list:data-[state=active]:border-transparent dark:group-data-[variant=line]/tabs-list:data-[state=active]:bg-transparent","data-[state=active]:bg-background dark:data-[state=active]:text-foreground dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 data-[state=active]:text-foreground","after:bg-foreground after:absolute after:opacity-0 after:transition-opacity group-data-[orientation=horizontal]/tabs:after:inset-x-0 group-data-[orientation=horizontal]/tabs:after:bottom-[-5px] group-data-[orientation=horizontal]/tabs:after:h-0.5 group-data-[orientation=vertical]/tabs:after:inset-y-0 group-data-[orientation=vertical]/tabs:after:-right-1 group-data-[orientation=vertical]/tabs:after:w-0.5 group-data-[variant=line]/tabs-list:data-[state=active]:after:opacity-100",t),...e})}const s5e={battery_pct:{label:"Battery",unit:"%",min:0,max:100,precision:1,zones:[{min:0,max:20,color:"#ef4444"},{min:20,max:50,color:"#f59e0b"},{min:50,max:100,color:"#22c55e"}]},temp_c:{label:"Temperature",unit:"C",min:-20,max:80,precision:1,zones:[{min:-20,max:0,color:"#3b82f6"},{min:0,max:40,color:"#22c55e"},{min:40,max:60,color:"#f59e0b"},{min:60,max:80,color:"#ef4444"}]},rssi_dbm:{label:"RSSI",unit:"dBm",min:-100,max:0,precision:0,zones:[{min:-100,max:-80,color:"#ef4444"},{min:-80,max:-60,color:"#f59e0b"},{min:-60,max:0,color:"#22c55e"}]},snr_db:{label:"SNR",unit:"dB",min:0,max:30,precision:1,zones:[{min:0,max:10,color:"#ef4444"},{min:10,max:15,color:"#f59e0b"},{min:15,max:30,color:"#22c55e"}]},humidity_pct:{label:"Humidity",unit:"%",min:0,max:100,precision:1,zones:[{min:0,max:30,color:"#f59e0b"},{min:30,max:60,color:"#22c55e"},{min:60,max:80,color:"#f59e0b"},{min:80,max:100,color:"#ef4444"}]},pressure_psi:{label:"Pressure",unit:"psi",min:0,max:200,precision:1,zones:[{min:0,max:150,color:"#22c55e"},{min:150,max:180,color:"#f59e0b"},{min:180,max:200,color:"#ef4444"}]},vibration_g:{label:"Vibration",unit:"g",min:0,max:10,precision:2,zones:[{min:0,max:2,color:"#22c55e"},{min:2,max:5,color:"#f59e0b"},{min:5,max:10,color:"#ef4444"}]}};function Mte(t,e){const r=s5e[t];if(r)return r;let n=0,a=100;if(e&&e.length>0){const i=Math.min(...e),o=Math.max(...e),s=o-i||1;n=i-s*.1,a=o+s*.1}return{label:t.replace(/_/g," ").replace(/\b\w/g,i=>i.toUpperCase()),unit:"",min:n,max:a,precision:2,zones:[{min:n,max:a,color:"#3b82f6"}]}}function l5e({metricName:t,value:e,allValues:r,className:n}){const a=io(f=>f.resolvedTheme),i=a==="dark"?"#fafafa":"#18181b",o=a==="dark"?"#a1a1aa":"#71717a",s=a==="dark"?"#71717a":"#52525b",l=a==="dark"?"#52525b":"#d4d4d8",u=O.useMemo(()=>Mte(t,r),[t,r]),c=O.useMemo(()=>{const f=u.zones.map(d=>{const v=(d.max-u.min)/(u.max-u.min);return[Math.min(1,Math.max(0,v)),d.color]});return{series:[{type:"gauge",startAngle:210,endAngle:-30,min:u.min,max:u.max,radius:"90%",progress:{show:!0,width:12},axisLine:{lineStyle:{width:12,color:f}},axisTick:{show:!1},splitLine:{length:8,lineStyle:{width:1,color:l}},axisLabel:{distance:16,fontSize:10,color:s,formatter:d=>d===u.min||d===u.max?`${d}`:""},pointer:{length:"55%",width:4,itemStyle:{color:"auto"}},anchor:{show:!0,size:8,itemStyle:{borderWidth:2,borderColor:l}},title:{offsetCenter:[0,"70%"],fontSize:12,color:o},detail:{valueAnimation:!0,offsetCenter:[0,"45%"],fontSize:20,fontWeight:"bold",color:i,formatter:d=>d==null?"":`${d.toFixed(u.precision)}${u.unit}`},data:[{value:e??0,name:u.label}]}]}},[e,u,i,o,s,l]);return x.jsx(xte,{option:c,className:n,style:{height:180}})}O.memo(l5e);function u5e({metricName:t,points:e,colorIndex:r=0,height:n=200,className:a}){const i=io(d=>d.resolvedTheme),o=i==="dark"?"#71717a":"#52525b",s=i==="dark"?"#27272a":"#e4e4e7",l=i==="dark"?"#3f3f46":"#d4d4d8",u=O.useMemo(()=>Mte(t),[t]),c=O.useMemo(()=>CBe(e,t),[e,t]),f=O.useMemo(()=>({scales:{x:{time:!0},y:{}},axes:[{stroke:o,grid:{stroke:s,width:1},ticks:{stroke:l,width:1}},{stroke:o,grid:{stroke:s,width:1},ticks:{stroke:l,width:1},label:`${u.label}${u.unit?` (${u.unit})`:""}`,labelSize:16,labelFont:"11px system-ui",size:60}],cursor:{drag:{x:!1,y:!1}},series:[{},{label:u.label,stroke:cBe(r),width:2,points:{show:!1},spanGaps:!0}]}),[u,r,o,s,l]);return c[0].length===0?x.jsxs("div",{className:"flex items-center justify-center text-sm text-muted-foreground border border-border rounded-md",style:{height:n},children:["No data for ",u.label]}):x.jsx(iq,{options:f,data:c,height:n,className:a})}const c5e=O.memo(u5e);function f5e({metrics:t,points:e,isLoading:r,isLive:n,liveCount:a,timeRange:i,onTimeRangeChange:o}){const s=["battery_pct","temp_c","rssi_dbm","snr_db","humidity","pressure"],l=new Set(t),c=[...s.filter(f=>l.has(f)),...t.filter(f=>!s.includes(f))].slice(0,6);return x.jsxs(Gr,{children:[x.jsxs(Ur,{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between py-2",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(pn,{className:"text-xs",children:"Telemetry"}),n&&x.jsxs(yi,{variant:"outline",className:"text-[10px] text-green-700 border-green-200 dark:text-green-400 dark:border-green-700/50",children:["LIVE (",a,")"]})]}),x.jsx(n5e,{value:i,onValueChange:f=>o(f),children:x.jsx(i5e,{children:LBe.map(f=>x.jsx(o5e,{value:f.value,children:f.label},f.value))})})]}),x.jsx(Wr,{className:"pt-2",children:r?x.jsx("div",{className:"grid grid-cols-3 gap-2",children:[1,2,3,4,5,6].map(f=>x.jsx(wr,{className:"h-32 w-full"},f))}):c.length===0?x.jsx("p",{className:"text-xs text-muted-foreground text-center py-4",children:"No telemetry data in the selected time range."}):x.jsx("div",{className:"grid grid-cols-3 gap-2",children:c.map((f,d)=>x.jsxs("div",{className:"border rounded p-2",children:[x.jsx("div",{className:"text-[10px] text-muted-foreground mb-1",children:f}),x.jsx(c5e,{metricName:f,points:e,colorIndex:d,height:128})]},f))})})]})}const h5e=O.memo(f5e);function d5e(){const{deviceId:t}=w7(),e=Fn(),{data:r,isLoading:n}=bge(t||""),{points:a,metrics:i,isLoading:o,isLive:s,liveCount:l,timeRange:u,setTimeRange:c}=EBe(t||""),{data:f}=NBe(t||"","OPEN",50),d=r?.device,[v,g]=O.useState(""),[y,b]=O.useState(!1),[S,w]=O.useState(!1),[M,A]=O.useState([]),[D,R]=O.useState(!1),[N,I]=O.useState(null);O.useEffect(()=>{d&&g(d.notes??"")},[d]),O.useEffect(()=>{const W=t;if(!W)return;const J=W;let ee=!0;async function K(){try{const ne=await fge(J);ee&&A(ne.tags)}catch{ee&&A([])}}return K(),()=>{ee=!1}},[t]);const z=f?.alerts?.length??0;async function B(){t&&await e.invalidateQueries({queryKey:["device",t]})}async function V(){if(t){b(!0);try{await t2(t,{notes:v||null}),await B()}finally{b(!1)}}}function G(W){g(W)}function F(W){const J=ABe(a,W);return J==null||Number.isNaN(J)?"":String(J)}async function q(W){if(t){w(!0);try{await hge(t,W)}finally{w(!1)}}}async function Q(W){t&&(await t2(t,W),await B(),W.notes!=null&&g(W.notes??""))}const H=(W,J)=>{I({lat:W,lng:J})},X=async()=>{!N||!t||(await t2(t,{latitude:N.lat,longitude:N.lng,location_source:"manual"}),await B(),I(null))};return x.jsxs("div",{className:"p-3 space-y-3",children:[x.jsxs(Ui,{to:"/devices",className:"inline-flex items-center gap-1.5 text-sm text-muted-foreground hover:text-foreground transition-colors",children:[x.jsx(tse,{className:"h-4 w-4"}),"Back to Devices"]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsx(PBe,{device:d,isLoading:n,tags:M,onTagsChange:W=>{A(W),q(W)},notesValue:v,onNotesChange:G,onNotesBlur:V,onEdit:()=>R(!0)}),x.jsxs("div",{className:"relative",children:[x.jsx(t5e,{latitude:N?.lat??d?.latitude,longitude:N?.lng??d?.longitude,address:d?.address,editable:!0,onLocationChange:H}),N&&x.jsxs("div",{className:"absolute bottom-2 right-2 z-[1000] flex gap-1",children:[x.jsx(Ze,{size:"sm",className:"h-6 text-xs",onClick:X,children:"Save Location"}),x.jsx(Ze,{size:"sm",variant:"outline",className:"h-6 text-xs",onClick:()=>I(null),children:"Cancel"})]})]})]}),x.jsx("div",{className:"grid grid-cols-4 gap-2",children:i.slice(0,8).map(W=>x.jsxs("div",{className:"border rounded p-1 text-center",children:[x.jsx("div",{className:"text-[10px] text-muted-foreground truncate",children:W}),x.jsx("div",{className:"text-sm font-semibold",children:F(W)})]},W))}),x.jsx(qu,{widgetName:"Telemetry Charts",children:x.jsx("div",{className:"h-[calc(100vh-320px)]",children:x.jsx(h5e,{metrics:i,points:a,isLoading:o,isLive:s,liveCount:l,timeRange:u,onTimeRangeChange:c})})}),y&&x.jsx("div",{className:"text-[10px] text-muted-foreground",children:"Saving notes..."}),S&&x.jsx("div",{className:"text-[10px] text-muted-foreground",children:"Saving tags..."}),z>0&&x.jsxs(Ui,{to:"/alerts",className:"text-xs text-primary hover:underline",children:["View ",z," alerts"]}),d&&x.jsx(r5e,{device:d,open:D,onSave:Q,onClose:()=>R(!1)})]})}const v5e=["OPEN","CLOSED","ALL"];function p5e(){const[t,e]=O.useState("OPEN"),[r,n]=O.useState(0),a=50,i=t==="ALL"?"OPEN":t,{data:o,isLoading:s,error:l}=yZ(i,a,r),u=o?.alerts||[],c=o?.count||0;return x.jsxs("div",{className:"space-y-6",children:[x.jsx(ei,{title:"Alerts",description:s?"Loading...":`${c} ${t.toLowerCase()} alerts`}),x.jsx("div",{className:"flex gap-2",children:v5e.map(f=>x.jsx("button",{onClick:()=>{e(f),n(0)},className:`px-3 py-1.5 text-sm rounded-md border transition-colors ${t===f?"bg-primary text-primary-foreground border-primary":"border-border text-muted-foreground hover:bg-accent"}`,children:f},f))}),l?x.jsxs("div",{className:"text-destructive",children:["Failed to load alerts: ",l.message]}):s?x.jsx("div",{className:"space-y-2",children:[1,2,3,4,5].map(f=>x.jsx(wr,{className:"h-12 w-full"},f))}):u.length===0?x.jsx(Ml,{title:`No ${t.toLowerCase()} alerts`,description:"Alerts appear when devices trigger threshold rules or miss heartbeats.",icon:x.jsx(Am,{className:"h-12 w-12"})}):x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"rounded-md border border-border",children:x.jsxs(Os,{children:[x.jsx(js,{children:x.jsxs(jn,{children:[x.jsx(Ct,{children:"Time"}),x.jsx(Ct,{children:"Device"}),x.jsx(Ct,{children:"Type"}),x.jsx(Ct,{children:"Severity"}),x.jsx(Ct,{children:"Summary"}),x.jsx(Ct,{children:"Status"})]})}),x.jsx(zs,{children:u.map(f=>x.jsxs(jn,{children:[x.jsx(bt,{className:"text-sm text-muted-foreground whitespace-nowrap",children:f.created_at}),x.jsx(bt,{className:"font-mono text-sm",children:f.device_id}),x.jsx(bt,{children:x.jsx(yi,{variant:"outline",className:"text-xs",children:f.alert_type})}),x.jsx(bt,{children:x.jsx(UT,{severity:f.severity})}),x.jsx(bt,{className:"text-sm max-w-md truncate",children:f.summary}),x.jsx(bt,{children:x.jsx(yi,{variant:"outline",className:f.status==="OPEN"?"text-orange-700 border-orange-200 dark:text-orange-400 dark:border-orange-700":"text-green-700 border-green-200 dark:text-green-400 dark:border-green-700",children:f.status})})]},f.alert_id))})]})}),c>a&&x.jsxs("div",{className:"flex items-center justify-between text-sm",children:[x.jsxs("span",{className:"text-muted-foreground",children:["Showing ",r+1,"",Math.min(r+a,c)," of"," ",c]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:()=>n(Math.max(0,r-a)),disabled:r===0,className:"px-3 py-1 rounded border border-border hover:bg-accent disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),x.jsx("button",{onClick:()=>n(r+a),disabled:r+a>=c,className:"px-3 py-1 rounded border border-border hover:bg-accent disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})}function os({className:t,size:e="default",...r}){return x.jsx(Xde,{"data-slot":"switch","data-size":e,className:dt("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 group/switch inline-flex shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-[1.15rem] data-[size=default]:w-8 data-[size=sm]:h-3.5 data-[size=sm]:w-6",t),...r,children:x.jsx(Kde,{"data-slot":"switch-thumb",className:dt("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block rounded-full ring-0 transition-transform group-data-[size=default]/switch:size-4 group-data-[size=sm]/switch:size-3 data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}async function g5e(t=100){return Yr(`/api/v2/alert-rules?limit=${t}`)}async function m5e(t){return Vs("/customer/alert-rules",t)}async function y5e(t,e){return Df(`/customer/alert-rules/${encodeURIComponent(t)}`,e)}async function x5e(t){return ld(`/customer/alert-rules/${encodeURIComponent(t)}`)}function _5e(t=100){return Xr({queryKey:["alert-rules",t],queryFn:()=>g5e(t)})}function b5e(){const t=Fn();return Nn({mutationFn:e=>m5e(e),onSuccess:()=>t.invalidateQueries({queryKey:["alert-rules"]})})}function Ate(){const t=Fn();return Nn({mutationFn:({ruleId:e,data:r})=>y5e(e,r),onSuccess:()=>t.invalidateQueries({queryKey:["alert-rules"]})})}function S5e(){const t=Fn();return Nn({mutationFn:e=>x5e(e),onSuccess:()=>t.invalidateQueries({queryKey:["alert-rules"]})})}function xt({className:t,...e}){return x.jsx(ode,{"data-slot":"label",className:dt("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}function bl({...t}){return x.jsx(Dde,{"data-slot":"select",...t})}function k8({...t}){return x.jsx(Ide,{"data-slot":"select-group",...t})}function Sl({...t}){return x.jsx(Ede,{"data-slot":"select-value",...t})}function wl({className:t,size:e="default",children:r,...n}){return x.jsxs(Lde,{"data-slot":"select-trigger","data-size":e,className:dt("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n,children:[r,x.jsx(Nde,{asChild:!0,children:x.jsx(q7,{className:"size-4 opacity-50"})})]})}function Tl({className:t,children:e,position:r="item-aligned",align:n="center",...a}){return x.jsx(Rde,{children:x.jsxs(Pde,{"data-slot":"select-content",className:dt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,align:n,...a,children:[x.jsx(w5e,{}),x.jsx(kde,{className:dt("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),x.jsx(T5e,{})]})})}function I8({className:t,...e}){return x.jsx(Ode,{"data-slot":"select-label",className:dt("text-muted-foreground px-2 py-1.5 text-xs",t),...e})}function Jr({className:t,children:e,...r}){return x.jsxs(jde,{"data-slot":"select-item",className:dt("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...r,children:[x.jsx("span",{"data-slot":"select-item-indicator",className:"absolute right-2 flex size-3.5 items-center justify-center",children:x.jsx(Bde,{children:x.jsx(use,{className:"size-4"})})}),x.jsx(zde,{children:e})]})}function w5e({className:t,...e}){return x.jsx(Vde,{"data-slot":"select-scroll-up-button",className:dt("flex cursor-default items-center justify-center py-1",t),...e,children:x.jsx(hse,{className:"size-4"})})}function T5e({className:t,...e}){return x.jsx(Fde,{"data-slot":"select-scroll-down-button",className:dt("flex cursor-default items-center justify-center py-1",t),...e,children:x.jsx(q7,{className:"size-4"})})}async function Dte(){return Yr("/api/v2/metrics/reference")}async function C5e(t){return Vs("/customer/normalized-metrics",t)}async function M5e(t,e){return Df(`/customer/normalized-metrics/${encodeURIComponent(t)}`,e)}async function A5e(t){return ld(`/customer/normalized-metrics/${encodeURIComponent(t)}`)}async function D5e(t){const e=t?`?normalized_name=${encodeURIComponent(t)}`:"";return Yr(`/customer/metric-mappings${e}`)}async function L5e(t){return Vs("/customer/metric-mappings",t)}async function E5e(t,e){return Df(`/customer/metric-mappings/${encodeURIComponent(t)}`,e)}async function N5e(t){return ld(`/customer/metric-mappings/${encodeURIComponent(t)}`)}function R5e(t){if(!t)return"";if(t instanceof Po){if(typeof t.body=="string")return t.body;if(t.body&&typeof t.body=="object"){const e=t.body.detail;if(e)return e}return t.message}return t instanceof Error?t.message:"Unknown error"}function P5e({open:t,onClose:e,rule:r}){const n=!!r,a=b5e(),i=Ate(),{data:o,isLoading:s}=Xr({queryKey:["metric-reference"],queryFn:Dte,enabled:t}),[l,u]=O.useState(""),[c,f]=O.useState(""),[d,v]=O.useState("GT"),[g,y]=O.useState(""),[b,S]=O.useState("3"),[w,M]=O.useState(""),[A,D]=O.useState(!0);O.useEffect(()=>{t&&(r?(u(r.name),f(r.metric_name),v(r.operator),y(String(r.threshold)),S(String(r.severity??3)),M(r.description??""),D(r.enabled)):(u(""),f(""),v("GT"),y(""),S("3"),M(""),D(!0)))},[t,r]);const R=O.useMemo(()=>R5e(a.error||i.error),[a.error,i.error]),N=O.useMemo(()=>Array.isArray(o?.normalized_metrics)?o.normalized_metrics:[],[o]),I=O.useMemo(()=>Array.isArray(o?.raw_metrics)?o.raw_metrics:[],[o]),z=O.useMemo(()=>N.find(q=>q.name===c),[c,N]),B=O.useMemo(()=>I.find(q=>q.name===c),[c,I]),V=O.useMemo(()=>{if(!z||z.expected_min==null&&z.expected_max==null)return null;const q=z.expected_min??"",Q=z.expected_max??"";return`${q}-${Q}`},[z]),G=a.isPending||i.isPending;async function F(q){if(q.preventDefault(),!c.trim())return;const Q=Number(g);if(Number.isNaN(Q))return;const H=w.trim()||null,X=Number(b);if(!n){const J={name:l,metric_name:c,operator:d,threshold:Q,severity:Number.isNaN(X)?void 0:X,description:H,enabled:A};await a.mutateAsync(J),e();return}if(!r)return;const W={};if(l!==r.name&&(W.name=l),c!==r.metric_name&&(W.metric_name=c),d!==r.operator&&(W.operator=d),Q!==r.threshold&&(W.threshold=Q),X!==r.severity&&(W.severity=X),H!==(r.description??null)&&(W.description=H),A!==r.enabled&&(W.enabled=A),Object.keys(W).length===0){e();return}await i.mutateAsync({ruleId:String(r.rule_id),data:W}),e()}return x.jsx(ss,{open:t,onOpenChange:q=>!q&&e(),children:x.jsxs(ls,{className:"max-h-[85vh] overflow-y-auto",children:[x.jsxs(us,{children:[x.jsx(cs,{children:n?"Edit Alert Rule":"Create Alert Rule"}),x.jsx(dd,{children:"Define threshold conditions that trigger alerts."})]}),x.jsxs("form",{onSubmit:F,className:"space-y-4",children:[x.jsxs("div",{className:"grid gap-2",children:[x.jsx(xt,{htmlFor:"rule-name",children:"Name"}),x.jsx(_t,{id:"rule-name",value:l,onChange:q=>u(q.target.value),required:!0,minLength:1,maxLength:100,placeholder:"Battery Low"})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx(xt,{htmlFor:"metric-name",children:"Metric Name"}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs(bl,{value:c||void 0,onValueChange:f,children:[x.jsx(wl,{id:"metric-name",className:"w-full",disabled:s,children:x.jsx(Sl,{placeholder:s?"Loading metrics...":"Select metric"})}),x.jsxs(Tl,{children:[x.jsxs(k8,{children:[x.jsx(I8,{children:"Normalized"}),N.length===0?x.jsx(Jr,{value:"__no_normalized",disabled:!0,children:"No normalized metrics"}):N.map(q=>x.jsxs(Jr,{value:q.name,children:[q.name,q.display_unit?` (${q.display_unit})`:""]},q.name))]}),x.jsxs(k8,{children:[x.jsx(I8,{children:"Raw"}),I.length===0?x.jsx(Jr,{value:"__no_raw",disabled:!0,children:"No raw metrics"}):I.map(q=>x.jsxs(Jr,{value:q.name,children:[q.name,q.mapped_to?`  ${q.mapped_to}`:""]},q.name))]})]})]}),(z||B)&&x.jsx(VT,{children:x.jsxs(FT,{children:[x.jsx(HT,{asChild:!0,children:x.jsx("span",{className:"inline-flex h-8 w-8 items-center justify-center rounded-md border border-border text-xs text-muted-foreground",children:"i"})}),x.jsx(GT,{side:"right",children:x.jsxs("div",{className:"space-y-1",children:[x.jsx("div",{className:"font-medium",children:z?.name||B?.name}),z?x.jsxs("div",{className:"space-y-1",children:[z.description&&x.jsx("div",{children:z.description}),z.display_unit&&x.jsxs("div",{children:["Unit: ",z.display_unit]}),V&&x.jsxs("div",{children:["Range: ",V]}),z.mapped_from.length>0?x.jsxs("div",{children:["Includes: ",z.mapped_from.join(", ")]}):x.jsx("div",{children:"No raw metrics mapped."})]}):x.jsx("div",{children:B?.mapped_to?`Mapped to: ${B.mapped_to}`:"Unmapped raw metric"})]})})]})})]}),x.jsx("p",{className:"text-xs text-muted-foreground",children:s?"Loading metric reference...":N.length===0&&I.length===0?"No metrics found. Metrics will appear after devices send telemetry.":z?`Includes: ${z.mapped_from.join(", ")||"none"}`:"Select a metric to see details."})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx(xt,{children:"Operator"}),x.jsxs(bl,{value:d,onValueChange:q=>v(q),children:[x.jsx(wl,{className:"w-full",children:x.jsx(Sl,{placeholder:"Select operator"})}),x.jsxs(Tl,{children:[x.jsxs(Jr,{value:"GT",children:[">"," (GT)"]}),x.jsxs(Jr,{value:"LT",children:["<"," (LT)"]}),x.jsxs(Jr,{value:"GTE",children:[""," (GTE)"]}),x.jsxs(Jr,{value:"LTE",children:[""," (LTE)"]})]})]})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx(xt,{htmlFor:"threshold",children:"Threshold"}),x.jsx(_t,{id:"threshold",type:"number",value:g,onChange:q=>y(q.target.value),required:!0,step:"any"})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx(xt,{children:"Severity"}),x.jsxs(bl,{value:b,onValueChange:S,children:[x.jsx(wl,{className:"w-full",children:x.jsx(Sl,{placeholder:"Select severity"})}),x.jsxs(Tl,{children:[x.jsx(Jr,{value:"1",children:"1 (Info)"}),x.jsx(Jr,{value:"2",children:"2 (Low)"}),x.jsx(Jr,{value:"3",children:"3 (Medium)"}),x.jsx(Jr,{value:"4",children:"4 (High)"}),x.jsx(Jr,{value:"5",children:"5 (Critical)"})]})]})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx(xt,{htmlFor:"description",children:"Description"}),x.jsx(AO,{id:"description",value:w,onChange:q=>M(q.target.value),placeholder:"Optional context for this rule"})]}),x.jsxs("div",{className:"flex items-center justify-between rounded-md border border-border p-3",children:[x.jsxs("div",{children:[x.jsx(xt,{className:"text-sm",children:"Enabled"}),x.jsx("p",{className:"text-xs text-muted-foreground",children:"Alerts will trigger when enabled."})]}),x.jsx(os,{checked:A,onCheckedChange:D})]}),R&&x.jsx("div",{className:"text-sm text-destructive",children:R}),x.jsxs(Cc,{children:[x.jsx(Ze,{type:"button",variant:"outline",onClick:e,children:"Cancel"}),x.jsx(Ze,{type:"submit",disabled:G,children:G?"Saving...":n?"Save Changes":"Create Rule"})]})]})]})})}function k5e(t){if(!t)return"";if(t instanceof Po){if(typeof t.body=="string")return t.body;if(t.body&&typeof t.body=="object"){const e=t.body.detail;if(e)return e}return t.message}return t instanceof Error?t.message:"Unknown error"}function I5e({open:t,rule:e,onClose:r}){const n=S5e(),a=O.useMemo(()=>k5e(n.error),[n.error]);async function i(){e&&(await n.mutateAsync(String(e.rule_id)),r())}return x.jsx(ss,{open:t,onOpenChange:o=>!o&&r(),children:x.jsxs(ls,{children:[x.jsxs(us,{children:[x.jsx(cs,{children:"Delete Alert Rule"}),x.jsxs(dd,{children:['Delete alert rule "',e?.name,'"? This cannot be undone.']})]}),a&&x.jsx("div",{className:"text-sm text-destructive",children:a}),x.jsxs(Cc,{children:[x.jsx(Ze,{type:"button",variant:"outline",onClick:r,children:"Cancel"}),x.jsx(Ze,{type:"button",variant:"destructive",onClick:i,disabled:!e||n.isPending,children:n.isPending?"Deleting...":"Delete"})]})]})})}const O5e={GT:">",LT:"<",GTE:"",LTE:""};function j5e(){const{user:t}=El(),e=t?.role==="customer_admin",{data:r,isLoading:n,error:a}=_5e(200),i=Ate(),[o,s]=O.useState(!1),[l,u]=O.useState(null),[c,f]=O.useState(null),d=r?.rules||[],v=r?.count||d.length,g=n?"Loading...":`${v} rules configured`,y=e?x.jsx(Ze,{onClick:()=>{u(null),s(!0)},children:"Add Rule"}):void 0,b=O.useMemo(()=>d,[d]);function S(w){const M=O5e[w.operator]||w.operator;return`${w.metric_name} ${M} ${w.threshold}`}return x.jsxs("div",{className:"space-y-6",children:[x.jsx(ei,{title:"Alert Rules",description:g,action:e?x.jsx(Ze,{onClick:()=>{u(null),s(!0)},children:"Add Rule"}):void 0}),a?x.jsxs("div",{className:"text-destructive",children:["Failed to load alert rules: ",a.message]}):n?x.jsx("div",{className:"space-y-2",children:[1,2,3,4,5].map(w=>x.jsx(wr,{className:"h-12 w-full"},w))}):b.length===0?x.jsx(Ml,{title:"No alert rules",description:"Create rules to trigger threshold alerts.",icon:x.jsx(rW,{className:"h-12 w-12"}),action:y}):x.jsx("div",{className:"rounded-md border border-border",children:x.jsxs(Os,{children:[x.jsx(js,{children:x.jsxs(jn,{children:[x.jsx(Ct,{children:"Name"}),x.jsx(Ct,{children:"Condition"}),x.jsx(Ct,{children:"Severity"}),x.jsx(Ct,{children:"Enabled"}),x.jsx(Ct,{className:"text-right",children:"Actions"})]})}),x.jsx(zs,{children:b.map(w=>x.jsxs(jn,{children:[x.jsx(bt,{className:"font-medium",children:w.name}),x.jsx(bt,{className:"font-mono text-sm",children:S(w)}),x.jsx(bt,{children:x.jsx(UT,{severity:w.severity})}),x.jsx(bt,{children:x.jsx(os,{checked:w.enabled,onCheckedChange:M=>{e&&i.mutate({ruleId:String(w.rule_id),data:{enabled:M}})},disabled:!e||i.isPending})}),x.jsx(bt,{className:"text-right",children:e?x.jsxs("div",{className:"flex justify-end gap-2",children:[x.jsx(Ze,{variant:"outline",size:"sm",onClick:()=>{u(w),s(!0)},children:"Edit"}),x.jsx(Ze,{variant:"destructive",size:"sm",onClick:()=>f(w),children:"Delete"})]}):x.jsx("span",{className:"text-xs text-muted-foreground",children:"View only"})})]},w.rule_id))})]})}),x.jsx(P5e,{open:o,rule:l,onClose:()=>{s(!1),u(null)}}),x.jsx(I5e,{open:!!c,rule:c,onClose:()=>f(null)})]})}async function z5e(t){const e=new URLSearchParams;return e.set("limit",String(t.limit??100)),e.set("offset",String(t.offset??0)),t.category&&e.set("category",t.category),t.severity&&e.set("severity",t.severity),t.entityType&&e.set("entity_type",t.entityType),t.entityId&&e.set("entity_id",t.entityId),t.start&&e.set("start",t.start),t.end&&e.set("end",t.end),t.search&&e.set("search",t.search),Yr(`/customer/audit-log?${e.toString()}`)}function B5e(t){return Xr({queryKey:["audit-log",t.limit??100,t.offset??0,t.category??"",t.severity??"",t.entityType??"",t.entityId??"",t.start??"",t.end??"",t.search??""],queryFn:()=>z5e(t)})}function V5e(t){try{const e=t.match(/\.(\d+)/),r=e?e[1].padEnd(6,"0").slice(0,6):"000000",n=new Date(t),a=n.getFullYear(),i=String(n.getMonth()+1).padStart(2,"0"),o=String(n.getDate()).padStart(2,"0"),s=String(n.getHours()).padStart(2,"0"),l=String(n.getMinutes()).padStart(2,"0"),u=String(n.getSeconds()).padStart(2,"0");return`${a}-${i}-${o} ${s}:${l}:${u}.${r}`}catch{return t}}function O8(t){if(!t)return;const e=new Date(t);if(!Number.isNaN(e.getTime()))return e.toISOString()}function F5e(t){const e=t.toLowerCase();return e==="critical"?"text-red-700 border-red-200 dark:text-red-400 dark:border-red-700":e==="error"?"text-red-600 border-red-200 dark:text-red-400 dark:border-red-700":e==="warning"?"text-yellow-700 border-yellow-200 dark:text-yellow-400 dark:border-yellow-700":"text-slate-700 border-slate-200 dark:text-slate-300 dark:border-slate-700"}function H5e(t,e){return!t||!e?null:t==="device"?`/devices/${e}`:t==="alert"?"/alerts":t==="rule"?"/alert-rules":null}const G5e=[100,250,500,1e3];function j8({offset:t,limit:e,totalCount:r,setOffset:n,setLimit:a}){return x.jsxs("div",{className:"flex items-center justify-between text-xs",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("span",{className:"text-muted-foreground",children:[r>0?`${t+1}-${Math.min(t+e,r)}`:"0"," of ",r.toLocaleString()]}),x.jsx("select",{value:e,onChange:i=>{a(Number(i.target.value)),n(0)},className:"h-6 px-1 rounded border border-border bg-background text-xs",children:G5e.map(i=>x.jsxs("option",{value:i,children:[i," / page"]},i))})]}),x.jsxs("div",{className:"flex gap-1",children:[x.jsx("button",{onClick:()=>n(0),disabled:t===0,className:"px-2 py-0.5 rounded border border-border hover:bg-accent disabled:opacity-50 disabled:cursor-not-allowed text-xs",children:"First"}),x.jsx("button",{onClick:()=>n(Math.max(0,t-e)),disabled:t===0,className:"px-2 py-0.5 rounded border border-border hover:bg-accent disabled:opacity-50 disabled:cursor-not-allowed text-xs",children:"Prev"}),x.jsx("button",{onClick:()=>n(t+e),disabled:t+e>=r,className:"px-2 py-0.5 rounded border border-border hover:bg-accent disabled:opacity-50 disabled:cursor-not-allowed text-xs",children:"Next"}),x.jsx("button",{onClick:()=>n(Math.max(0,Math.floor((r-1)/e)*e)),disabled:t+e>=r,className:"px-2 py-0.5 rounded border border-border hover:bg-accent disabled:opacity-50 disabled:cursor-not-allowed text-xs",children:"Last"})]})]})}function U5e(){const[t,e]=O.useState(""),[r,n]=O.useState(""),[a,i]=O.useState(""),[o,s]=O.useState(""),[l,u]=O.useState(""),[c,f]=O.useState(0),[d,v]=O.useState(100),[g,y]=O.useState({category:"",severity:"",search:"",start:"",end:""}),{data:b,isLoading:S,error:w}=B5e({limit:d,offset:c,category:g.category||void 0,severity:g.severity||void 0,search:g.search||void 0,start:g.start||void 0,end:g.end||void 0}),M=O.useMemo(()=>b?.events||[],[b]),A=b?.total||0,[D,R]=O.useState(new Set);function N(I){R(z=>{const B=new Set(z);return B.has(I)?B.delete(I):B.add(I),B})}return x.jsxs("div",{className:"space-y-3",children:[x.jsx(ei,{title:"Activity Log",description:S?"Loading...":`${A.toLocaleString()} event${A===1?"":"s"}`}),x.jsxs("div",{className:"flex flex-wrap gap-1.5 items-center",children:[x.jsx(_t,{value:t,onChange:I=>e(I.target.value),placeholder:"Category",className:"h-8 text-xs w-28"}),x.jsx(_t,{value:r,onChange:I=>n(I.target.value),placeholder:"Severity",className:"h-8 text-xs w-24"}),x.jsx(_t,{value:o,onChange:I=>s(I.target.value),type:"datetime-local",className:"h-8 text-xs w-44"}),x.jsx(_t,{value:l,onChange:I=>u(I.target.value),type:"datetime-local",className:"h-8 text-xs w-44"}),x.jsx(_t,{value:a,onChange:I=>i(I.target.value),placeholder:"Search",className:"h-8 text-xs w-32"}),x.jsx(Ze,{variant:"outline",size:"sm",className:"h-8 text-xs",onClick:()=>{y({category:t.trim(),severity:r.trim(),search:a.trim(),start:O8(o)||"",end:O8(l)||""}),f(0)},children:"Filter"}),x.jsx(Ze,{variant:"ghost",size:"sm",className:"h-8 text-xs",onClick:()=>{e(""),n(""),i(""),s(""),u(""),y({category:"",severity:"",search:"",start:"",end:""}),f(0)},children:"Clear"})]}),w?x.jsxs("div",{className:"text-destructive",children:["Failed to load activity log: ",w.message]}):S?x.jsx("div",{className:"space-y-1",children:[1,2,3,4,5,6,7,8].map(I=>x.jsx(wr,{className:"h-6 w-full"},I))}):M.length===0?x.jsx(Ml,{title:"No activity",description:"No audit events match the current filters.",icon:x.jsx(mT,{className:"h-12 w-12"})}):x.jsxs(x.Fragment,{children:[x.jsx(j8,{offset:c,limit:d,totalCount:A,setOffset:f,setLimit:v}),x.jsx("div",{className:"rounded-md border border-border overflow-hidden",children:x.jsxs(Os,{className:"text-xs",children:[x.jsx(js,{children:x.jsxs(jn,{className:"hover:bg-transparent",children:[x.jsx(Ct,{className:"h-8 py-1 px-2",children:"Time"}),x.jsx(Ct,{className:"h-8 py-1 px-2",children:"Sev"}),x.jsx(Ct,{className:"h-8 py-1 px-2",children:"Category"}),x.jsx(Ct,{className:"h-8 py-1 px-2",children:"Message"}),x.jsx(Ct,{className:"h-8 py-1 px-2",children:"Entity"}),x.jsx(Ct,{className:"h-8 py-1 px-2",children:"Actor"}),x.jsx(Ct,{className:"h-8 py-1 px-2 w-12"})]})}),x.jsx(zs,{children:M.map((I,z)=>{const B=`${I.timestamp}-${I.event_type}-${I.entity_id??z}`,V=H5e(I.entity_type,I.entity_id);return x.jsxs(O.Fragment,{children:[x.jsxs(jn,{className:"hover:bg-muted/50",children:[x.jsx(bt,{className:"py-1 px-2 text-muted-foreground whitespace-nowrap font-mono",children:V5e(I.timestamp)}),x.jsx(bt,{className:"py-1 px-2",children:x.jsx("span",{className:`font-medium ${F5e(I.severity)}`,children:I.severity.slice(0,4)})}),x.jsx(bt,{className:"py-1 px-2",children:I.category}),x.jsx(bt,{className:"py-1 px-2 max-w-md truncate",children:I.message}),x.jsx(bt,{className:"py-1 px-2",children:V?x.jsx(Ui,{className:"text-primary hover:underline",to:V,children:I.entity_name||I.entity_id}):I.entity_name||I.entity_id||""}),x.jsx(bt,{className:"py-1 px-2",children:I.actor_name||I.actor_id||I.actor_type||""}),x.jsx(bt,{className:"py-1 px-2 text-right",children:I.details&&x.jsx("button",{className:"text-primary hover:underline",onClick:()=>N(B),children:D.has(B)?"":"+"})})]}),D.has(B)&&x.jsx(jn,{className:"hover:bg-transparent",children:x.jsx(bt,{colSpan:7,className:"py-1 px-2 bg-muted/30",children:x.jsx("pre",{className:"whitespace-pre-wrap text-[11px] text-muted-foreground font-mono leading-tight",children:JSON.stringify(I.details,null,2)})})})]},B)})})]})}),x.jsx(j8,{offset:c,limit:d,totalCount:A,setOffset:f,setLimit:v})]})]})}function W5e(){return Xr({queryKey:["metric-reference"],queryFn:Dte})}function Y5e(){const t=Fn();return Nn({mutationFn:e=>C5e(e),onSuccess:()=>t.invalidateQueries({queryKey:["metric-reference"]})})}function Z5e(){const t=Fn();return Nn({mutationFn:({name:e,payload:r})=>M5e(e,r),onSuccess:()=>t.invalidateQueries({queryKey:["metric-reference"]})})}function q5e(){const t=Fn();return Nn({mutationFn:e=>A5e(e),onSuccess:()=>t.invalidateQueries({queryKey:["metric-reference"]})})}function $5e(t){return Xr({queryKey:["metric-mappings",t??"all"],queryFn:()=>D5e(t)})}function Lte(){const t=Fn();return Nn({mutationFn:e=>L5e(e),onSuccess:()=>t.invalidateQueries({queryKey:["metric-reference"]})})}function X5e(){const t=Fn();return Nn({mutationFn:({rawMetric:e,payload:r})=>E5e(e,r),onSuccess:()=>{t.invalidateQueries({queryKey:["metric-reference"]}),t.invalidateQueries({queryKey:["metric-mappings"]})}})}function K5e(){const t=Fn();return Nn({mutationFn:e=>N5e(e),onSuccess:()=>t.invalidateQueries({queryKey:["metric-reference"]})})}function Q5e({rawMetric:t,multiplier:e,offset:r,onSave:n,onRemove:a,isSaving:i}){const[o,s]=O.useState(!1),[l,u]=O.useState(e!=null?String(e):"1"),[c,f]=O.useState(r!=null?String(r):"0");function d(){const v=l.trim()===""?null:Number(l),g=c.trim()===""?null:Number(c);l.trim()!==""&&Number.isNaN(v)||c.trim()!==""&&Number.isNaN(g)||(n({multiplier:v,offset_value:g}),s(!1))}return x.jsxs("tr",{children:[x.jsx("td",{className:"py-2 font-mono text-sm",children:t}),x.jsx("td",{className:"py-2",children:o?x.jsx(_t,{value:l,onChange:v=>u(v.target.value),className:"h-8 w-24"}):x.jsx("span",{children:e??""})}),x.jsx("td",{className:"py-2",children:o?x.jsx(_t,{value:c,onChange:v=>f(v.target.value),className:"h-8 w-24"}):x.jsx("span",{children:r??""})}),x.jsx("td",{className:"py-2 text-right",children:o?x.jsxs("div",{className:"flex justify-end gap-2",children:[x.jsx(Ze,{size:"sm",variant:"outline",onClick:()=>s(!1),children:"Cancel"}),x.jsx(Ze,{size:"sm",onClick:d,disabled:i,children:"Save"})]}):x.jsxs("div",{className:"flex justify-end gap-2",children:[x.jsx(Ze,{size:"sm",variant:"outline",onClick:()=>s(!0),children:"Edit"}),x.jsx(Ze,{size:"sm",variant:"destructive",onClick:a,disabled:i,children:"Remove"})]})})]})}function z8(t){if(!t)return"";if(t instanceof Po){if(typeof t.body=="string")return t.body;if(t.body&&typeof t.body=="object"){const e=t.body.detail;if(e)return e}return t.message}return t instanceof Error?t.message:"Unknown error"}function B8({open:t,metric:e,onClose:r}){const n=Y5e(),a=Z5e(),i=q5e(),o=Lte(),s=X5e(),l=K5e(),u=!!e,{data:c}=$5e(e?.name),[f,d]=O.useState(""),[v,g]=O.useState(""),[y,b]=O.useState(""),[S,w]=O.useState(""),[M,A]=O.useState(""),[D,R]=O.useState(""),[N,I]=O.useState(!1),[z,B]=O.useState(""),[V,G]=O.useState("1"),[F,q]=O.useState("0");O.useEffect(()=>{t&&(e?(d(e.name),g(e.display_unit??""),b(e.description??""),w(e.expected_min!=null?String(e.expected_min):""),A(e.expected_max!=null?String(e.expected_max):"")):(d(""),g(""),b(""),w(""),A("")),I(!1),B(""),G("1"),q("0"),R(""))},[t,e]);const Q=O.useMemo(()=>u,[u]),H=n.isPending||a.isPending;async function X(){R("");const J=f.trim();if(!J){R("Name is required.");return}const ee=S.trim(),K=M.trim(),ne=ee?Number(ee):null,ie=K?Number(K):null;if(ee&&Number.isNaN(ne)){R("Expected minimum must be a number.");return}if(K&&Number.isNaN(ie)){R("Expected maximum must be a number.");return}if(ne!==null&&ie!==null&&ne>ie){R("Expected minimum must be less than or equal to maximum.");return}try{u?await a.mutateAsync({name:J,payload:{display_unit:v.trim()||null,description:y.trim()||null,expected_min:ne,expected_max:ie}}):await n.mutateAsync({normalized_name:J,display_unit:v.trim()||null,description:y.trim()||null,expected_min:ne,expected_max:ie}),r()}catch(le){R(z8(le))}}async function W(){if(e){R("");try{await i.mutateAsync(e.name),r()}catch(J){R(z8(J))}}}return x.jsx(ss,{open:t,onOpenChange:J=>!J&&r(),children:x.jsxs(ls,{children:[x.jsx(us,{children:x.jsx(cs,{children:u?`Edit Normalized Metric: ${e?.name}`:"Create Normalized Metric"})}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"grid gap-2",children:[x.jsx(xt,{htmlFor:"normalized-name",children:"Name (used in rules)"}),x.jsx(_t,{id:"normalized-name",value:f,onChange:J=>d(J.target.value),placeholder:"Temperature",disabled:u})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx(xt,{htmlFor:"normalized-unit",children:"Display Unit"}),x.jsx(_t,{id:"normalized-unit",value:v,onChange:J=>g(J.target.value),placeholder:"F"})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx(xt,{htmlFor:"normalized-description",children:"Description"}),x.jsx(_t,{id:"normalized-description",value:y,onChange:J=>b(J.target.value),placeholder:"Temperature reading"})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx(xt,{children:"Expected Range (optional)"}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(_t,{value:S,onChange:J=>w(J.target.value),placeholder:"Min"}),x.jsx("span",{className:"text-xs text-muted-foreground",children:"to"}),x.jsx(_t,{value:M,onChange:J=>A(J.target.value),placeholder:"Max"})]})]}),u&&x.jsxs("div",{className:"space-y-3 border-t border-border pt-4",children:[x.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[x.jsx("div",{className:"text-sm font-semibold",children:"Mapped Raw Metrics"}),x.jsx(Ze,{size:"sm",variant:"outline",onClick:()=>I(!0),children:"+ Add Map"})]}),c?.mappings?.length?x.jsx("div",{className:"rounded-md border border-border",children:x.jsxs("table",{className:"w-full text-sm",children:[x.jsx("thead",{className:"border-b border-border bg-muted/40 text-left",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-3 py-2",children:"Raw Metric"}),x.jsx("th",{className:"px-3 py-2",children:"Multiplier"}),x.jsx("th",{className:"px-3 py-2",children:"Offset"}),x.jsx("th",{className:"px-3 py-2 text-right",children:"Actions"})]})}),x.jsx("tbody",{className:"divide-y divide-border",children:c.mappings.map(J=>x.jsx(Q5e,{rawMetric:J.raw_metric,multiplier:J.multiplier??1,offset:J.offset_value??0,onSave:ee=>s.mutateAsync({rawMetric:J.raw_metric,payload:ee}),onRemove:()=>l.mutateAsync(J.raw_metric),isSaving:s.isPending||l.isPending},J.raw_metric))})]})}):x.jsx("div",{className:"text-xs text-muted-foreground",children:"No raw metrics mapped yet."}),N&&x.jsxs("div",{className:"rounded-md border border-border p-3 space-y-3",children:[x.jsx("div",{className:"text-sm font-medium",children:"Add Mapping"}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx(xt,{htmlFor:"new-raw-metric",children:"Raw Metric"}),x.jsx(_t,{id:"new-raw-metric",value:z,onChange:J=>B(J.target.value),placeholder:"temp_c"})]}),x.jsxs("div",{className:"grid gap-2 sm:grid-cols-2",children:[x.jsxs("div",{className:"grid gap-2",children:[x.jsx(xt,{htmlFor:"new-multiplier",children:"Multiplier"}),x.jsx(_t,{id:"new-multiplier",value:V,onChange:J=>G(J.target.value),placeholder:"1.8"})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx(xt,{htmlFor:"new-offset",children:"Offset"}),x.jsx(_t,{id:"new-offset",value:F,onChange:J=>q(J.target.value),placeholder:"32"})]})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(Ze,{size:"sm",onClick:async()=>{const J=Number(V),ee=Number(F);z.trim()&&(await o.mutateAsync({raw_metric:z.trim(),normalized_name:e?.name||f.trim(),multiplier:Number.isNaN(J)?1:J,offset_value:Number.isNaN(ee)?0:ee}),I(!1),B(""),G("1"),q("0"))},disabled:o.isPending,children:"Add"}),x.jsx(Ze,{size:"sm",variant:"ghost",onClick:()=>I(!1),children:"Cancel"})]})]})]}),D&&x.jsx("p",{className:"text-xs text-destructive",children:D})]}),x.jsxs(Cc,{className:"justify-between",children:[x.jsx(Ze,{type:"button",variant:"outline",onClick:W,disabled:!Q||i.isPending,children:"Delete"}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx(Ze,{type:"button",variant:"ghost",onClick:r,children:"Cancel"}),x.jsx(Ze,{type:"button",onClick:X,disabled:H,children:u?"Save":"Create"})]})]})]})})}function J5e(t){if(!t)return"";if(t instanceof Po){if(typeof t.body=="string")return t.body;if(t.body&&typeof t.body=="object"){const e=t.body.detail;if(e)return e}return t.message}return t instanceof Error?t.message:"Unknown error"}function e3e(t,e,r){const n=t*e+r;return`${t}  ${Number.isFinite(n)?n.toFixed(2):""}`}function t3e({open:t,rawMetric:e,normalizedMetrics:r,onClose:n}){const a=Lte(),[i,o]=O.useState(""),[s,l]=O.useState("1"),[u,c]=O.useState("0"),[f,d]=O.useState("");O.useEffect(()=>{t&&(o(r[0]?.name||""),l("1"),c("0"),d(""))},[t,r]);const v=O.useMemo(()=>{const y=Number(s),b=Number(u);return!Number.isFinite(y)||!Number.isFinite(b)?"25  ":e3e(25,y,b)},[s,u]);async function g(){if(!e)return;if(!i){d("Select a normalized metric.");return}const y=Number(s),b=Number(u);if(!Number.isFinite(y)){d("Multiplier must be a number.");return}if(!Number.isFinite(b)){d("Offset must be a number.");return}try{await a.mutateAsync({raw_metric:e,normalized_name:i,multiplier:y,offset_value:b}),n()}catch(S){d(J5e(S))}}return x.jsx(ss,{open:t,onOpenChange:y=>!y&&n(),children:x.jsxs(ls,{children:[x.jsx(us,{children:x.jsx(cs,{children:e?`Map "${e}" to Normalized Metric`:"Map Raw Metric"})}),x.jsxs("div",{className:"space-y-4",children:[r.length===0?x.jsx("div",{className:"text-sm text-muted-foreground",children:"Create a normalized metric first."}):x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"grid gap-2",children:[x.jsx(xt,{children:"Target"}),x.jsxs(bl,{value:i,onValueChange:o,children:[x.jsx(wl,{className:"w-full",children:x.jsx(Sl,{placeholder:"Select normalized metric"})}),x.jsx(Tl,{children:r.map(y=>x.jsxs(Jr,{value:y.name,children:[y.name,y.display_unit?` (${y.display_unit})`:""]},y.name))})]})]}),x.jsxs("div",{className:"rounded-md border border-border p-3 space-y-3",children:[x.jsx("div",{className:"text-sm font-medium",children:"Formula: normalized = raw  M + O"}),x.jsxs("div",{className:"grid gap-2 sm:grid-cols-2",children:[x.jsxs("div",{className:"grid gap-2",children:[x.jsx(xt,{htmlFor:"map-multiplier",children:"Multiplier (M)"}),x.jsx(_t,{id:"map-multiplier",value:s,onChange:y=>l(y.target.value),placeholder:"1.8"})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx(xt,{htmlFor:"map-offset",children:"Offset (O)"}),x.jsx(_t,{id:"map-offset",value:u,onChange:y=>c(y.target.value),placeholder:"32"})]})]}),x.jsxs("div",{className:"text-xs text-muted-foreground",children:["Preview: ",v]})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(xt,{children:"Common conversions"}),x.jsxs("div",{className:"flex flex-wrap gap-2",children:[x.jsx(Ze,{type:"button",size:"sm",variant:"outline",onClick:()=>{l("1.8"),c("32")},children:"CF"}),x.jsx(Ze,{type:"button",size:"sm",variant:"outline",onClick:()=>{l("0.5556"),c("-17.78")},children:"FC"}),x.jsx(Ze,{type:"button",size:"sm",variant:"outline",onClick:()=>{l("0.0689"),c("0")},children:"PSIBar"}),x.jsx(Ze,{type:"button",size:"sm",variant:"outline",onClick:()=>{l("1"),c("0")},children:"None"})]})]})]}),f&&x.jsx("p",{className:"text-xs text-destructive",children:f})]}),x.jsxs(Cc,{children:[x.jsx(Ze,{type:"button",variant:"ghost",onClick:n,children:"Cancel"}),x.jsx(Ze,{type:"button",onClick:g,disabled:!e||r.length===0||a.isPending,children:"Save Mapping"})]})]})})}function r3e(){const{user:t}=El(),e=t?.role==="customer_admin",{data:r,isLoading:n,error:a,refetch:i,isFetching:o}=W5e(),[s,l]=O.useState(null),[u,c]=O.useState(!1),[f,d]=O.useState(null),v=O.useMemo(()=>Array.isArray(r?.normalized_metrics)?r.normalized_metrics:[],[r]),g=O.useMemo(()=>Array.isArray(r?.unmapped)?r.unmapped:[],[r]);return x.jsxs("div",{className:"space-y-6",children:[x.jsx(ei,{title:"Metrics",description:n?"Loading...":`${v.length} normalized metrics configured`}),a?x.jsxs("div",{className:"text-destructive",children:["Failed to load metrics: ",a.message]}):n?x.jsx("div",{className:"space-y-2",children:[1,2,3,4,5].map(y=>x.jsx(wr,{className:"h-10 w-full"},y))}):x.jsxs("div",{className:"space-y-8",children:[x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-base font-semibold",children:"Normalized Metrics"}),x.jsx("p",{className:"text-sm text-muted-foreground",children:"Canonical metrics used in alert rules."})]}),e&&x.jsxs(Ze,{size:"sm",onClick:()=>c(!0),children:[x.jsx(gT,{className:"mr-2 h-4 w-4"}),"Create New"]})]}),v.length===0?x.jsx(Ml,{title:"No normalized metrics yet",description:"Create a normalized metric to group raw telemetry values.",icon:x.jsx(rm,{className:"h-12 w-12"})}):x.jsx("div",{className:"rounded-md border border-border",children:x.jsxs(Os,{children:[x.jsx(js,{children:x.jsxs(jn,{children:[x.jsx(Ct,{children:"Name"}),x.jsx(Ct,{children:"Unit"}),x.jsx(Ct,{children:"Mapped From"}),x.jsx(Ct,{className:"text-right",children:"Actions"})]})}),x.jsx(zs,{children:v.map(y=>x.jsxs(jn,{children:[x.jsx(bt,{children:y.name}),x.jsx(bt,{children:y.display_unit||""}),x.jsx(bt,{children:y.mapped_from.length>0?y.mapped_from.join(", "):""}),x.jsx(bt,{className:"text-right",children:e?x.jsx(Ze,{variant:"outline",size:"sm",onClick:()=>l(y),children:"Edit"}):x.jsx("span",{className:"text-xs text-muted-foreground",children:"Read-only"})})]},y.name))})]})})]}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[x.jsxs("div",{children:[x.jsxs("h2",{className:"text-base font-semibold",children:["Unmapped Raw Metrics (",g.length," discovered)"]}),x.jsx("p",{className:"text-sm text-muted-foreground",children:"Map raw telemetry metrics to normalized names."})]}),x.jsxs(Ze,{variant:"outline",size:"sm",onClick:()=>i(),disabled:o,children:[x.jsx(Xse,{className:"mr-2 h-4 w-4"}),"Refresh"]})]}),g.length===0?x.jsx(Ml,{title:"No unmapped metrics",description:"All discovered metrics are mapped.",icon:x.jsx(rm,{className:"h-12 w-12"})}):x.jsx("div",{className:"rounded-md border border-border",children:x.jsxs(Os,{children:[x.jsx(js,{children:x.jsxs(jn,{children:[x.jsx(Ct,{children:"Raw Metric"}),x.jsx(Ct,{children:"Map To"})]})}),x.jsx(zs,{children:g.map(y=>x.jsxs(jn,{children:[x.jsx(bt,{className:"font-mono text-sm",children:y}),x.jsx(bt,{children:e?x.jsx(Ze,{variant:"outline",size:"sm",onClick:()=>d(y),children:"Map to..."}):x.jsx("span",{className:"text-xs text-muted-foreground",children:"Read-only"})})]},y))})]})})]})]}),x.jsx(B8,{open:u,metric:null,onClose:()=>c(!1)}),x.jsx(B8,{open:!!s,metric:s,onClose:()=>l(null)}),x.jsx(t3e,{open:!!f,rawMetric:f,normalizedMetrics:v,onClose:()=>d(null)})]})}async function n3e(){return Yr("/customer/integrations?type=webhook")}async function a3e(t){return Vs("/customer/integrations",t)}async function i3e(t,e){return Df(`/customer/integrations/${encodeURIComponent(t)}`,e)}async function o3e(t){return ld(`/customer/integrations/${encodeURIComponent(t)}`)}async function s3e(t){return Vs(`/customer/integrations/${encodeURIComponent(t)}/test`,{})}async function l3e(){return Yr("/customer/integrations/snmp")}async function u3e(t){return Vs("/customer/integrations/snmp",t)}async function c3e(t,e){return Df(`/customer/integrations/snmp/${encodeURIComponent(t)}`,e)}async function f3e(t){return ld(`/customer/integrations/snmp/${encodeURIComponent(t)}`)}async function h3e(t){return Vs(`/customer/integrations/snmp/${encodeURIComponent(t)}/test`,{})}async function d3e(){return Yr("/customer/integrations/email")}async function v3e(t){return Vs("/customer/integrations/email",t)}async function p3e(t,e){return Df(`/customer/integrations/email/${encodeURIComponent(t)}`,e)}async function g3e(t){return ld(`/customer/integrations/email/${encodeURIComponent(t)}`)}async function m3e(t){return Vs(`/customer/integrations/email/${encodeURIComponent(t)}/test`,{})}async function y3e(){return Yr("/customer/integrations/mqtt")}async function x3e(t){return Vs("/customer/integrations/mqtt",t)}async function _3e(t,e){return Df(`/customer/integrations/mqtt/${encodeURIComponent(t)}`,e)}async function b3e(t){return ld(`/customer/integrations/mqtt/${encodeURIComponent(t)}`)}async function S3e(t){return Vs(`/customer/integrations/mqtt/${encodeURIComponent(t)}/test`,{})}function w3e(){return Xr({queryKey:["webhooks"],queryFn:n3e})}function T3e(){const t=Fn();return Nn({mutationFn:e=>a3e(e),onSuccess:()=>t.invalidateQueries({queryKey:["webhooks"]})})}function Ete(){const t=Fn();return Nn({mutationFn:({id:e,data:r})=>i3e(e,r),onSuccess:()=>t.invalidateQueries({queryKey:["webhooks"]})})}function C3e(){const t=Fn();return Nn({mutationFn:e=>o3e(e),onSuccess:()=>t.invalidateQueries({queryKey:["webhooks"]})})}function M3e(){return Nn({mutationFn:t=>s3e(t)})}function A3e(){return Xr({queryKey:["snmp-integrations"],queryFn:l3e})}function D3e(){const t=Fn();return Nn({mutationFn:e=>u3e(e),onSuccess:()=>t.invalidateQueries({queryKey:["snmp-integrations"]})})}function Nte(){const t=Fn();return Nn({mutationFn:({id:e,data:r})=>c3e(e,r),onSuccess:()=>t.invalidateQueries({queryKey:["snmp-integrations"]})})}function L3e(){const t=Fn();return Nn({mutationFn:e=>f3e(e),onSuccess:()=>t.invalidateQueries({queryKey:["snmp-integrations"]})})}function E3e(){return Nn({mutationFn:t=>h3e(t)})}function N3e(){return Xr({queryKey:["email-integrations"],queryFn:d3e})}function R3e(){const t=Fn();return Nn({mutationFn:e=>v3e(e),onSuccess:()=>t.invalidateQueries({queryKey:["email-integrations"]})})}function Rte(){const t=Fn();return Nn({mutationFn:({id:e,data:r})=>p3e(e,r),onSuccess:()=>t.invalidateQueries({queryKey:["email-integrations"]})})}function P3e(){const t=Fn();return Nn({mutationFn:e=>g3e(e),onSuccess:()=>t.invalidateQueries({queryKey:["email-integrations"]})})}function k3e(){return Nn({mutationFn:t=>m3e(t)})}function I3e(){return Xr({queryKey:["mqtt-integrations"],queryFn:y3e})}function O3e(){const t=Fn();return Nn({mutationFn:e=>x3e(e),onSuccess:()=>t.invalidateQueries({queryKey:["mqtt-integrations"]})})}function Pte(){const t=Fn();return Nn({mutationFn:({id:e,data:r})=>_3e(e,r),onSuccess:()=>t.invalidateQueries({queryKey:["mqtt-integrations"]})})}function j3e(){const t=Fn();return Nn({mutationFn:e=>b3e(e),onSuccess:()=>t.invalidateQueries({queryKey:["mqtt-integrations"]})})}function z3e(){return Nn({mutationFn:t=>S3e(t)})}function VC({name:t,open:e,onClose:r,onConfirm:n,isPending:a}){return x.jsx(ss,{open:e,onOpenChange:i=>!i&&r(),children:x.jsxs(ls,{children:[x.jsxs(us,{children:[x.jsx(cs,{children:"Delete Integration"}),x.jsxs(dd,{children:['Delete integration "',t,'"? This cannot be undone.']})]}),x.jsxs(Cc,{children:[x.jsx(Ze,{type:"button",variant:"outline",onClick:r,children:"Cancel"}),x.jsx(Ze,{type:"button",variant:"destructive",onClick:n,disabled:a,children:a?"Deleting...":"Delete"})]})]})})}function B3e(t){if(!t)return"";if(t instanceof Po){if(typeof t.body=="string")return t.body;if(t.body&&typeof t.body=="object"){const e=t.body.detail;if(e)return e}return t.message}return t instanceof Error?t.message:"Unknown error"}function FC({onTest:t,disabled:e}){const[r,n]=O.useState(!1),[a,i]=O.useState("idle"),[o,s]=O.useState(""),l=O.useRef(null);O.useEffect(()=>()=>{l.current&&window.clearTimeout(l.current)},[]);async function u(){if(!(e||r)){l.current&&(window.clearTimeout(l.current),l.current=null),n(!0),i("idle"),s("");try{await t(),i("success"),s("Delivered"),l.current=window.setTimeout(()=>{i("idle"),s("")},3e3)}catch(c){i("error"),s(B3e(c)),l.current=window.setTimeout(()=>{i("idle"),s("")},5e3)}finally{n(!1)}}}return x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(Ze,{type:"button",variant:"outline",size:"sm",onClick:u,disabled:e||r,children:r?x.jsxs(x.Fragment,{children:[x.jsx(Nse,{className:"h-3.5 w-3.5 animate-spin"}),"Testing..."]}):"Test"}),a==="success"&&x.jsx("span",{className:"text-xs text-green-700 dark:text-green-400",children:o}),a==="error"&&x.jsx("span",{className:"text-xs text-destructive",children:o})]})}function V3e(t){if(!t)return"";if(t instanceof Po){if(typeof t.body=="string")return t.body;if(t.body&&typeof t.body=="object"){const e=t.body.detail;if(e)return e}return t.message}return t instanceof Error?t.message:"Unknown error"}function F3e({open:t,onClose:e,webhook:r}){const n=!!r,a=T3e(),i=Ete(),[o,s]=O.useState(""),[l,u]=O.useState(""),[c,f]=O.useState(!0);O.useEffect(()=>{t&&(r?(s(r.name),u(r.url),f(r.enabled)):(s(""),u(""),f(!0)))},[t,r]);const d=O.useMemo(()=>V3e(a.error||i.error),[a.error,i.error]),v=a.isPending||i.isPending;async function g(y){if(y.preventDefault(),!n){const S={name:o,webhook_url:l,enabled:c};await a.mutateAsync(S),e();return}if(!r)return;const b={};if(o!==r.name&&(b.name=o),l!==r.url&&(b.webhook_url=l),c!==r.enabled&&(b.enabled=c),Object.keys(b).length===0){e();return}await i.mutateAsync({id:r.integration_id,data:b}),e()}return x.jsx(ss,{open:t,onOpenChange:y=>!y&&e(),children:x.jsxs(ls,{children:[x.jsxs(us,{children:[x.jsx(cs,{children:n?"Edit Webhook":"Create Webhook"}),x.jsx(dd,{children:"Webhook integrations receive alert payloads via HTTP POST."})]}),x.jsxs("form",{onSubmit:g,className:"space-y-4",children:[x.jsxs("div",{className:"grid gap-2",children:[x.jsx(xt,{htmlFor:"webhook-name",children:"Name"}),x.jsx(_t,{id:"webhook-name",value:o,onChange:y=>s(y.target.value),required:!0,placeholder:"Primary webhook"})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx(xt,{htmlFor:"webhook-url",children:"Webhook URL"}),x.jsx(_t,{id:"webhook-url",value:l,onChange:y=>u(y.target.value),required:!0,placeholder:"https://example.com/hook"})]}),x.jsxs("div",{className:"flex items-center justify-between rounded-md border border-border p-3",children:[x.jsxs("div",{children:[x.jsx(xt,{className:"text-sm",children:"Enabled"}),x.jsx("p",{className:"text-xs text-muted-foreground",children:"Webhook deliveries will be sent when enabled."})]}),x.jsx(os,{checked:c,onCheckedChange:f})]}),d&&x.jsx("div",{className:"text-sm text-destructive",children:d}),x.jsxs(Cc,{children:[x.jsx(Ze,{type:"button",variant:"outline",onClick:e,children:"Cancel"}),x.jsx(Ze,{type:"submit",disabled:v,children:v?"Saving...":n?"Save Changes":"Create Webhook"})]})]})]})})}function H3e(){const{user:t}=El(),e=t?.role==="customer_admin",{data:r,isLoading:n,error:a}=w3e(),i=n?"Loading...":`${r?.integrations?.length||0} webhooks`,o=Ete(),s=C3e(),l=M3e(),[u,c]=O.useState(!1),[f,d]=O.useState(null),[v,g]=O.useState(null),y=r?.integrations||[];return x.jsxs("div",{className:"space-y-6",children:[x.jsx(ei,{title:"Webhooks",description:i,action:e?x.jsx(Ze,{onClick:()=>{d(null),c(!0)},children:"Add Webhook"}):void 0}),a?x.jsxs("div",{className:"text-destructive",children:["Failed to load webhooks: ",a.message]}):n?x.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:[1,2,3].map(b=>x.jsxs(Gr,{children:[x.jsx(Ur,{children:x.jsx(wr,{className:"h-5 w-40"})}),x.jsx(Wr,{children:x.jsx(wr,{className:"h-4 w-64"})}),x.jsx(Xh,{children:x.jsx(wr,{className:"h-8 w-24"})})]},b))}):y.length===0?x.jsx(Ml,{title:"No webhooks configured",description:"Add a webhook to receive alert payloads.",icon:x.jsx(nW,{className:"h-12 w-12"}),action:e?x.jsx(Ze,{onClick:()=>{d(null),c(!0)},children:"Add Webhook"}):void 0}):x.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:y.map(b=>x.jsxs(Gr,{children:[x.jsxs(Ur,{className:"flex flex-row items-center justify-between",children:[x.jsx(pn,{className:"text-base",children:b.name}),x.jsx(os,{checked:b.enabled,onCheckedChange:S=>{e&&o.mutate({id:b.integration_id,data:{enabled:S}})},disabled:!e||o.isPending})]}),x.jsx(Wr,{children:x.jsx("p",{className:"text-sm text-muted-foreground break-all",children:b.url})}),x.jsx(Xh,{className:"justify-between",children:e?x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(FC,{onTest:()=>l.mutateAsync(b.integration_id),disabled:l.isPending}),x.jsx(Ze,{variant:"outline",size:"sm",onClick:()=>{d(b),c(!0)},children:"Edit"}),x.jsx(Ze,{variant:"destructive",size:"sm",onClick:()=>g(b),children:"Delete"})]}):x.jsx("span",{className:"text-xs text-muted-foreground",children:"View only"})})]},b.integration_id))}),x.jsx(F3e,{open:u,webhook:f,onClose:()=>{c(!1),d(null)}}),x.jsx(VC,{name:v?.name||"integration",open:!!v,onClose:()=>g(null),onConfirm:()=>{v&&s.mutate(v.integration_id,{onSuccess:()=>g(null)})},isPending:s.isPending})]})}function G3e(t){if(!t)return"";if(t instanceof Po){if(typeof t.body=="string")return t.body;if(t.body&&typeof t.body=="object"){const e=t.body.detail;if(e)return e}return t.message}return t instanceof Error?t.message:"Unknown error"}function U3e({open:t,onClose:e,integration:r}){const n=!!r,a=D3e(),i=Nte(),[o,s]=O.useState(""),[l,u]=O.useState(""),[c,f]=O.useState("162"),[d,v]=O.useState("2c"),[g,y]=O.useState("1.3.6.1.4.1.99999"),[b,S]=O.useState(!0),[w,M]=O.useState(""),[A,D]=O.useState(""),[R,N]=O.useState("SHA"),[I,z]=O.useState(""),[B,V]=O.useState("AES"),[G,F]=O.useState("");O.useEffect(()=>{t&&(r?(s(r.name),u(r.snmp_host),f(String(r.snmp_port)),v(r.snmp_version),y(r.snmp_oid_prefix),S(r.enabled),M(""),D(""),N("SHA"),z(""),V("AES"),F("")):(s(""),u(""),f("162"),v("2c"),y("1.3.6.1.4.1.99999"),S(!0),M(""),D(""),N("SHA"),z(""),V("AES"),F("")))},[t,r]);const q=O.useMemo(()=>G3e(a.error||i.error),[a.error,i.error]),Q=a.isPending||i.isPending;async function H(X){X.preventDefault();const W=Number(c);if(Number.isNaN(W))return;const J=d==="1"?{version:"1",community:w}:d==="2c"?{version:"2c",community:w}:{version:"3",username:A,auth_protocol:R,auth_password:I,priv_protocol:G?B:void 0,priv_password:G||void 0};if(!n){const K={name:o,snmp_host:l,snmp_port:W,snmp_config:J,snmp_oid_prefix:g,enabled:b};await a.mutateAsync(K),e();return}if(!r)return;const ee={};o!==r.name&&(ee.name=o),l!==r.snmp_host&&(ee.snmp_host=l),W!==r.snmp_port&&(ee.snmp_port=W),g!==r.snmp_oid_prefix&&(ee.snmp_oid_prefix=g),b!==r.enabled&&(ee.enabled=b),ee.snmp_config=J,await i.mutateAsync({id:r.id,data:ee}),e()}return x.jsx(ss,{open:t,onOpenChange:X=>!X&&e(),children:x.jsxs(ls,{className:"max-w-2xl",children:[x.jsxs(us,{children:[x.jsx(cs,{children:n?"Edit SNMP Integration":"Create SNMP Integration"}),x.jsx(dd,{children:"Configure SNMP trap destinations for alert delivery."})]}),x.jsxs("form",{onSubmit:H,className:"space-y-4",children:[x.jsxs("div",{className:"grid gap-2",children:[x.jsx(xt,{htmlFor:"snmp-name",children:"Name"}),x.jsx(_t,{id:"snmp-name",value:o,onChange:X=>s(X.target.value),required:!0,placeholder:"Primary SNMP destination"})]}),x.jsxs("div",{className:"grid gap-2 md:grid-cols-2",children:[x.jsxs("div",{className:"grid gap-2",children:[x.jsx(xt,{htmlFor:"snmp-host",children:"SNMP Host"}),x.jsx(_t,{id:"snmp-host",value:l,onChange:X=>u(X.target.value),required:!0,placeholder:"snmp.example.com"})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx(xt,{htmlFor:"snmp-port",children:"SNMP Port"}),x.jsx(_t,{id:"snmp-port",type:"number",value:c,onChange:X=>f(X.target.value),required:!0})]})]}),x.jsxs("div",{className:"grid gap-2 md:grid-cols-2",children:[x.jsxs("div",{className:"grid gap-2",children:[x.jsx(xt,{children:"SNMP Version"}),x.jsxs(bl,{value:d,onValueChange:X=>v(X),children:[x.jsx(wl,{className:"w-full",children:x.jsx(Sl,{placeholder:"Select version"})}),x.jsxs(Tl,{children:[x.jsx(Jr,{value:"1",children:"v1 (legacy)"}),x.jsx(Jr,{value:"2c",children:"v2c"}),x.jsx(Jr,{value:"3",children:"v3 (secure)"})]})]})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx(xt,{htmlFor:"snmp-oid",children:"OID Prefix"}),x.jsx(_t,{id:"snmp-oid",value:g,onChange:X=>y(X.target.value),placeholder:"1.3.6.1.4.1.99999"})]})]}),d==="1"||d==="2c"?x.jsxs("div",{className:"grid gap-2",children:[x.jsx(xt,{htmlFor:"snmp-community",children:"Community String"}),x.jsx(_t,{id:"snmp-community",value:w,onChange:X=>M(X.target.value),required:!0,placeholder:d==="1"?"public":""})]}):x.jsxs("div",{className:"space-y-4 rounded-md border border-border p-4",children:[x.jsxs("div",{className:"grid gap-2 md:grid-cols-2",children:[x.jsxs("div",{className:"grid gap-2",children:[x.jsx(xt,{htmlFor:"snmp-username",children:"Username"}),x.jsx(_t,{id:"snmp-username",value:A,onChange:X=>D(X.target.value),required:!0})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx(xt,{children:"Auth Protocol"}),x.jsxs(bl,{value:R,onValueChange:X=>N(X),children:[x.jsx(wl,{className:"w-full",children:x.jsx(Sl,{placeholder:"Select protocol"})}),x.jsxs(Tl,{children:[x.jsx(Jr,{value:"MD5",children:"MD5"}),x.jsx(Jr,{value:"SHA",children:"SHA"}),x.jsx(Jr,{value:"SHA256",children:"SHA256"})]})]})]})]}),x.jsxs("div",{className:"grid gap-2 md:grid-cols-2",children:[x.jsxs("div",{className:"grid gap-2",children:[x.jsx(xt,{htmlFor:"snmp-auth-password",children:"Auth Password"}),x.jsx(_t,{id:"snmp-auth-password",type:"password",value:I,onChange:X=>z(X.target.value),required:!0})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx(xt,{children:"Privacy Protocol"}),x.jsxs(bl,{value:B,onValueChange:X=>V(X),children:[x.jsx(wl,{className:"w-full",children:x.jsx(Sl,{placeholder:"Select protocol"})}),x.jsxs(Tl,{children:[x.jsx(Jr,{value:"DES",children:"DES"}),x.jsx(Jr,{value:"AES",children:"AES"}),x.jsx(Jr,{value:"AES256",children:"AES256"})]})]})]})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx(xt,{htmlFor:"snmp-priv-password",children:"Privacy Password (optional)"}),x.jsx(_t,{id:"snmp-priv-password",type:"password",value:G,onChange:X=>F(X.target.value)})]})]}),x.jsxs("div",{className:"flex items-center justify-between rounded-md border border-border p-3",children:[x.jsxs("div",{children:[x.jsx(xt,{className:"text-sm",children:"Enabled"}),x.jsx("p",{className:"text-xs text-muted-foreground",children:"SNMP traps will be sent when enabled."})]}),x.jsx(os,{checked:b,onCheckedChange:S})]}),q&&x.jsx("div",{className:"text-sm text-destructive",children:q}),x.jsxs(Cc,{children:[x.jsx(Ze,{type:"button",variant:"outline",onClick:e,children:"Cancel"}),x.jsx(Ze,{type:"submit",disabled:Q,children:Q?"Saving...":n?"Save Changes":"Create SNMP"})]})]})]})})}function W3e(){const{user:t}=El(),e=t?.role==="customer_admin",{data:r,isLoading:n,error:a}=A3e(),i=r||[],o=Nte(),s=L3e(),l=E3e(),[u,c]=O.useState(!1),[f,d]=O.useState(null),[v,g]=O.useState(null);return x.jsxs("div",{className:"space-y-6",children:[x.jsx(ei,{title:"SNMP",description:n?"Loading...":`${i.length} integrations`,action:e?x.jsx(Ze,{onClick:()=>{d(null),c(!0)},children:"Add SNMP"}):void 0}),a?x.jsxs("div",{className:"text-destructive",children:["Failed to load SNMP integrations: ",a.message]}):n?x.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:[1,2,3].map(y=>x.jsxs(Gr,{children:[x.jsx(Ur,{children:x.jsx(wr,{className:"h-5 w-40"})}),x.jsx(Wr,{children:x.jsx(wr,{className:"h-4 w-64"})}),x.jsx(Xh,{children:x.jsx(wr,{className:"h-8 w-24"})})]},y))}):i.length===0?x.jsx(Ml,{title:"No SNMP integrations",description:"Add an SNMP destination to receive traps.",icon:x.jsx(Q7,{className:"h-12 w-12"}),action:e?x.jsx(Ze,{onClick:()=>{d(null),c(!0)},children:"Add SNMP"}):void 0}):x.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:i.map(y=>x.jsxs(Gr,{children:[x.jsxs(Ur,{className:"flex flex-row items-center justify-between",children:[x.jsx(pn,{className:"text-base",children:y.name}),x.jsx(os,{checked:y.enabled,onCheckedChange:b=>{e&&o.mutate({id:y.id,data:{enabled:b}})},disabled:!e||o.isPending})]}),x.jsxs(Wr,{className:"space-y-2",children:[x.jsxs("div",{className:"text-sm text-muted-foreground",children:[y.snmp_host,":",y.snmp_port]}),x.jsxs("div",{className:"flex flex-wrap gap-2",children:[x.jsxs(yi,{variant:"outline",children:["v",y.snmp_version]}),x.jsx(yi,{variant:"secondary",children:y.snmp_oid_prefix})]})]}),x.jsx(Xh,{className:"justify-between",children:e?x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(FC,{onTest:()=>l.mutateAsync(y.id),disabled:l.isPending}),x.jsx(Ze,{variant:"outline",size:"sm",onClick:()=>{d(y),c(!0)},children:"Edit"}),x.jsx(Ze,{variant:"destructive",size:"sm",onClick:()=>g(y),children:"Delete"})]}):x.jsx("span",{className:"text-xs text-muted-foreground",children:"View only"})})]},y.id))}),x.jsx(U3e,{open:u,integration:f,onClose:()=>{c(!1),d(null)}}),x.jsx(VC,{name:v?.name||"integration",open:!!v,onClose:()=>g(null),onConfirm:()=>{v&&s.mutate(v.id,{onSuccess:()=>g(null)})},isPending:s.isPending})]})}function Y3e(t){if(!t)return"";if(t instanceof Po){if(typeof t.body=="string")return t.body;if(t.body&&typeof t.body=="object"){const e=t.body.detail;if(e)return e}return t.message}return t instanceof Error?t.message:"Unknown error"}function V8(t){return t.split(",").map(e=>e.trim()).filter(Boolean)}function Z3e({open:t,onClose:e,integration:r}){const n=!!r,a=R3e(),i=Rte(),[o,s]=O.useState(""),[l,u]=O.useState(""),[c,f]=O.useState("587"),[d,v]=O.useState(!0),[g,y]=O.useState(""),[b,S]=O.useState(""),[w,M]=O.useState(""),[A,D]=O.useState("OpsConductor Alerts"),[R,N]=O.useState(""),[I,z]=O.useState(""),[B,V]=O.useState("[{severity}] {alert_type}: {device_id}"),[G,F]=O.useState("html"),[q,Q]=O.useState(!0);O.useEffect(()=>{t&&(r?(s(r.name),u(r.smtp_host),f(String(r.smtp_port)),v(r.smtp_tls),y(""),S(""),M(r.from_address),D("OpsConductor Alerts"),N(""),z(""),V("[{severity}] {alert_type}: {device_id}"),F(r.template_format),Q(r.enabled)):(s(""),u(""),f("587"),v(!0),y(""),S(""),M(""),D("OpsConductor Alerts"),N(""),z(""),V("[{severity}] {alert_type}: {device_id}"),F("html"),Q(!0)))},[t,r]);const H=O.useMemo(()=>Y3e(a.error||i.error),[a.error,i.error]),X=a.isPending||i.isPending;async function W(J){J.preventDefault();const ee=Number(c);if(Number.isNaN(ee))return;const K=V8(R),ne=V8(I);if(!n){const le={name:o,smtp_config:{smtp_host:l,smtp_port:ee,smtp_user:g.trim()||null,smtp_password:b.trim()||null,smtp_tls:d,from_address:w,from_name:A.trim()||null},recipients:{to:K,cc:ne.length?ne:void 0},template:{subject_template:B,format:G},enabled:q};await a.mutateAsync(le),e();return}if(!r)return;const ie={};o!==r.name&&(ie.name=o),l!==r.smtp_host||ee!==r.smtp_port?ie.smtp_config={smtp_host:l,smtp_port:ee,smtp_user:g.trim()||null,smtp_password:b.trim()||null,smtp_tls:d,from_address:w,from_name:A.trim()||null}:(g||b||A!=="OpsConductor Alerts")&&(ie.smtp_config={smtp_host:l,smtp_port:ee,smtp_user:g.trim()||null,smtp_password:b.trim()||null,smtp_tls:d,from_address:w,from_name:A.trim()||null}),w!==r.from_address&&(ie.smtp_config={smtp_host:l,smtp_port:ee,smtp_user:g.trim()||null,smtp_password:b.trim()||null,smtp_tls:d,from_address:w,from_name:A.trim()||null}),(K.length>0||ne.length>0)&&(ie.recipients={to:K,cc:ne.length?ne:void 0}),(B||G!==r.template_format)&&(ie.template={subject_template:B,format:G}),q!==r.enabled&&(ie.enabled=q),await i.mutateAsync({id:r.id,data:ie}),e()}return x.jsx(ss,{open:t,onOpenChange:J=>!J&&e(),children:x.jsxs(ls,{className:"max-w-3xl",children:[x.jsxs(us,{children:[x.jsx(cs,{children:n?"Edit Email Integration":"Create Email Integration"}),x.jsx(dd,{children:"Configure SMTP delivery and recipient lists for alert emails."})]}),x.jsxs("form",{onSubmit:W,className:"space-y-4",children:[x.jsxs("div",{className:"grid gap-2",children:[x.jsx(xt,{htmlFor:"email-name",children:"Name"}),x.jsx(_t,{id:"email-name",value:o,onChange:J=>s(J.target.value),required:!0,placeholder:"Primary email channel"})]}),x.jsxs("div",{className:"grid gap-2 md:grid-cols-2",children:[x.jsxs("div",{className:"grid gap-2",children:[x.jsx(xt,{htmlFor:"smtp-host",children:"SMTP Host"}),x.jsx(_t,{id:"smtp-host",value:l,onChange:J=>u(J.target.value),required:!0,placeholder:"smtp.example.com"})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx(xt,{htmlFor:"smtp-port",children:"SMTP Port"}),x.jsx(_t,{id:"smtp-port",type:"number",value:c,onChange:J=>f(J.target.value),required:!0})]})]}),x.jsxs("div",{className:"grid gap-2 md:grid-cols-2",children:[x.jsxs("div",{className:"grid gap-2",children:[x.jsx(xt,{htmlFor:"smtp-user",children:"SMTP Username (optional)"}),x.jsx(_t,{id:"smtp-user",value:g,onChange:J=>y(J.target.value)})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx(xt,{htmlFor:"smtp-pass",children:"SMTP Password (optional)"}),x.jsx(_t,{id:"smtp-pass",type:"password",value:b,onChange:J=>S(J.target.value)})]})]}),x.jsxs("div",{className:"grid gap-2 md:grid-cols-2",children:[x.jsxs("div",{className:"grid gap-2",children:[x.jsx(xt,{htmlFor:"from-address",children:"From Address"}),x.jsx(_t,{id:"from-address",type:"email",value:w,onChange:J=>M(J.target.value),required:!0,placeholder:"alerts@example.com"})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx(xt,{htmlFor:"from-name",children:"From Name"}),x.jsx(_t,{id:"from-name",value:A,onChange:J=>D(J.target.value),placeholder:"OpsConductor Alerts"})]})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx(xt,{htmlFor:"to-recipients",children:"To Recipients"}),x.jsx(_t,{id:"to-recipients",value:R,onChange:J=>N(J.target.value),required:!0,placeholder:"alerts@example.com, ops@example.com"})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx(xt,{htmlFor:"cc-recipients",children:"CC Recipients (optional)"}),x.jsx(_t,{id:"cc-recipients",value:I,onChange:J=>z(J.target.value),placeholder:"team@example.com"})]}),x.jsxs("div",{className:"grid gap-2 md:grid-cols-2",children:[x.jsxs("div",{className:"grid gap-2",children:[x.jsx(xt,{htmlFor:"subject-template",children:"Subject Template"}),x.jsx(_t,{id:"subject-template",value:B,onChange:J=>V(J.target.value),placeholder:"[{severity}] {alert_type}: {device_id}"})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx(xt,{children:"Format"}),x.jsxs(bl,{value:G,onValueChange:J=>F(J),children:[x.jsx(wl,{className:"w-full",children:x.jsx(Sl,{placeholder:"Select format"})}),x.jsxs(Tl,{children:[x.jsx(Jr,{value:"html",children:"HTML"}),x.jsx(Jr,{value:"text",children:"Text"})]})]})]})]}),x.jsxs("div",{className:"flex items-center justify-between rounded-md border border-border p-3",children:[x.jsxs("div",{children:[x.jsx(xt,{className:"text-sm",children:"SMTP TLS"}),x.jsx("p",{className:"text-xs text-muted-foreground",children:"Require TLS when connecting to the SMTP server."})]}),x.jsx(os,{checked:d,onCheckedChange:v})]}),x.jsxs("div",{className:"flex items-center justify-between rounded-md border border-border p-3",children:[x.jsxs("div",{children:[x.jsx(xt,{className:"text-sm",children:"Enabled"}),x.jsx("p",{className:"text-xs text-muted-foreground",children:"Email notifications will be sent when enabled."})]}),x.jsx(os,{checked:q,onCheckedChange:Q})]}),x.jsxs("div",{className:"rounded-md border border-border p-3",children:[x.jsx(xt,{className:"text-sm",children:"Template variables"}),x.jsxs("p",{className:"text-xs text-muted-foreground",children:["Use variables like ","{severity}",", ","{alert_type}",", ","{device_id}",", ","{message}",", ","{timestamp}","."]})]}),H&&x.jsx("div",{className:"text-sm text-destructive",children:H}),x.jsxs(Cc,{children:[x.jsx(Ze,{type:"button",variant:"outline",onClick:e,children:"Cancel"}),x.jsx(Ze,{type:"submit",disabled:X,children:X?"Saving...":n?"Save Changes":"Create Email"})]})]})]})})}function q3e(){const{user:t}=El(),e=t?.role==="customer_admin",{data:r,isLoading:n,error:a}=N3e(),i=r||[],o=Rte(),s=P3e(),l=k3e(),[u,c]=O.useState(!1),[f,d]=O.useState(null),[v,g]=O.useState(null);return x.jsxs("div",{className:"space-y-6",children:[x.jsx(ei,{title:"Email",description:n?"Loading...":`${i.length} integrations`,action:e?x.jsx(Ze,{onClick:()=>{d(null),c(!0)},children:"Add Email"}):void 0}),a?x.jsxs("div",{className:"text-destructive",children:["Failed to load email integrations: ",a.message]}):n?x.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:[1,2,3].map(y=>x.jsxs(Gr,{children:[x.jsx(Ur,{children:x.jsx(wr,{className:"h-5 w-40"})}),x.jsx(Wr,{children:x.jsx(wr,{className:"h-4 w-64"})}),x.jsx(Xh,{children:x.jsx(wr,{className:"h-8 w-24"})})]},y))}):i.length===0?x.jsx(Ml,{title:"No email integrations",description:"Add an email channel to receive alert notifications.",icon:x.jsx(X7,{className:"h-12 w-12"}),action:e?x.jsx(Ze,{onClick:()=>{d(null),c(!0)},children:"Add Email"}):void 0}):x.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:i.map(y=>x.jsxs(Gr,{children:[x.jsxs(Ur,{className:"flex flex-row items-center justify-between",children:[x.jsx(pn,{className:"text-base",children:y.name}),x.jsx(os,{checked:y.enabled,onCheckedChange:b=>{e&&o.mutate({id:y.id,data:{enabled:b}})},disabled:!e||o.isPending})]}),x.jsxs(Wr,{className:"space-y-2",children:[x.jsxs("div",{className:"text-sm text-muted-foreground",children:[y.smtp_host,":",y.smtp_port]}),x.jsxs("div",{className:"text-sm text-muted-foreground",children:["From: ",y.from_address]}),x.jsxs("div",{className:"flex flex-wrap gap-2",children:[x.jsxs(yi,{variant:"outline",children:[y.recipient_count," recipients"]}),x.jsx(yi,{variant:"secondary",children:y.template_format.toUpperCase()})]})]}),x.jsx(Xh,{className:"justify-between",children:e?x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(FC,{onTest:()=>l.mutateAsync(y.id),disabled:l.isPending}),x.jsx(Ze,{variant:"outline",size:"sm",onClick:()=>{d(y),c(!0)},children:"Edit"}),x.jsx(Ze,{variant:"destructive",size:"sm",onClick:()=>g(y),children:"Delete"})]}):x.jsx("span",{className:"text-xs text-muted-foreground",children:"View only"})})]},y.id))}),x.jsx(Z3e,{open:u,integration:f,onClose:()=>{c(!1),d(null)}}),x.jsx(VC,{name:v?.name||"integration",open:!!v,onClose:()=>g(null),onConfirm:()=>{v&&s.mutate(v.id,{onSuccess:()=>g(null)})},isPending:s.isPending})]})}function $3e(t){if(!t)return"";if(t instanceof Po){if(typeof t.body=="string")return t.body;if(t.body&&typeof t.body=="object"){const e=t.body.detail;if(e)return e}return t.message}return t instanceof Error?t.message:"Unknown error"}function X3e({open:t,onClose:e,integration:r}){const n=!!r,a=O3e(),i=Pte(),[o,s]=O.useState(""),[l,u]=O.useState(""),[c,f]=O.useState("0"),[d,v]=O.useState(!1),[g,y]=O.useState(!0);O.useEffect(()=>{t&&(r?(s(r.name),u(r.mqtt_topic),f(String(r.mqtt_qos)),v(r.mqtt_retain),y(r.enabled)):(s(""),u(""),f("0"),v(!1),y(!0)))},[t,r]);const b=O.useMemo(()=>$3e(a.error||i.error),[a.error,i.error]),S=a.isPending||i.isPending;async function w(M){M.preventDefault();const A=Number(c);if(!n){const R={name:o,mqtt_topic:l,mqtt_qos:A,mqtt_retain:d,enabled:g};await a.mutateAsync(R),e();return}if(!r)return;const D={};if(o!==r.name&&(D.name=o),l!==r.mqtt_topic&&(D.mqtt_topic=l),A!==r.mqtt_qos&&(D.mqtt_qos=A),d!==r.mqtt_retain&&(D.mqtt_retain=d),g!==r.enabled&&(D.enabled=g),Object.keys(D).length===0){e();return}await i.mutateAsync({id:r.id,data:D}),e()}return x.jsx(ss,{open:t,onOpenChange:M=>!M&&e(),children:x.jsxs(ls,{children:[x.jsxs(us,{children:[x.jsx(cs,{children:n?"Edit MQTT Integration":"Create MQTT Integration"}),x.jsx(dd,{children:"Configure MQTT topics for alert publishing."})]}),x.jsxs("form",{onSubmit:w,className:"space-y-4",children:[x.jsxs("div",{className:"grid gap-2",children:[x.jsx(xt,{htmlFor:"mqtt-name",children:"Name"}),x.jsx(_t,{id:"mqtt-name",value:o,onChange:M=>s(M.target.value),required:!0,placeholder:"Critical alerts"})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx(xt,{htmlFor:"mqtt-topic",children:"MQTT Topic"}),x.jsx(_t,{id:"mqtt-topic",value:l,onChange:M=>u(M.target.value),required:!0,placeholder:"alerts/tenant-1/critical"})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx(xt,{children:"QoS"}),x.jsxs(bl,{value:c,onValueChange:M=>f(M),children:[x.jsx(wl,{className:"w-full",children:x.jsx(Sl,{placeholder:"Select QoS"})}),x.jsxs(Tl,{children:[x.jsx(Jr,{value:"0",children:"0 - At most once"}),x.jsx(Jr,{value:"1",children:"1 - At least once"}),x.jsx(Jr,{value:"2",children:"2 - Exactly once"})]})]})]}),x.jsxs("div",{className:"flex items-center justify-between rounded-md border border-border p-3",children:[x.jsxs("div",{children:[x.jsx(xt,{className:"text-sm",children:"Retain"}),x.jsx("p",{className:"text-xs text-muted-foreground",children:"Retain the last message on the topic."})]}),x.jsx(os,{checked:d,onCheckedChange:v})]}),x.jsxs("div",{className:"flex items-center justify-between rounded-md border border-border p-3",children:[x.jsxs("div",{children:[x.jsx(xt,{className:"text-sm",children:"Enabled"}),x.jsx("p",{className:"text-xs text-muted-foreground",children:"MQTT messages will be published when enabled."})]}),x.jsx(os,{checked:g,onCheckedChange:y})]}),b&&x.jsx("div",{className:"text-sm text-destructive",children:b}),x.jsxs(Cc,{children:[x.jsx(Ze,{type:"button",variant:"outline",onClick:e,children:"Cancel"}),x.jsx(Ze,{type:"submit",disabled:S,children:S?"Saving...":n?"Save Changes":"Create MQTT"})]})]})]})})}function K3e(){const{user:t}=El(),e=t?.role==="customer_admin",{data:r,isLoading:n,error:a}=I3e(),i=r||[],o=Pte(),s=j3e(),l=z3e(),[u,c]=O.useState(!1),[f,d]=O.useState(null),[v,g]=O.useState(null);return x.jsxs("div",{className:"space-y-6",children:[x.jsx(ei,{title:"MQTT",description:n?"Loading...":`${i.length} integrations`,action:e?x.jsx(Ze,{onClick:()=>{d(null),c(!0)},children:"Add MQTT"}):void 0}),a?x.jsxs("div",{className:"text-destructive",children:["Failed to load MQTT integrations: ",a.message]}):n?x.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:[1,2,3].map(y=>x.jsxs(Gr,{children:[x.jsx(Ur,{children:x.jsx(wr,{className:"h-5 w-40"})}),x.jsx(Wr,{children:x.jsx(wr,{className:"h-4 w-64"})}),x.jsx(Xh,{children:x.jsx(wr,{className:"h-8 w-24"})})]},y))}):i.length===0?x.jsx(Ml,{title:"No MQTT integrations",description:"Add MQTT topics to publish alert messages.",icon:x.jsx(HS,{className:"h-12 w-12"}),action:e?x.jsx(Ze,{onClick:()=>{d(null),c(!0)},children:"Add MQTT"}):void 0}):x.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:i.map(y=>x.jsxs(Gr,{children:[x.jsxs(Ur,{className:"flex flex-row items-center justify-between",children:[x.jsx(pn,{className:"text-base",children:y.name}),x.jsx(os,{checked:y.enabled,onCheckedChange:b=>{e&&o.mutate({id:y.id,data:{enabled:b}})},disabled:!e||o.isPending})]}),x.jsxs(Wr,{className:"space-y-2",children:[x.jsx("div",{className:"text-sm text-muted-foreground break-all",children:y.mqtt_topic}),x.jsxs("div",{className:"flex flex-wrap gap-2",children:[x.jsxs(yi,{variant:"outline",children:["QoS ",y.mqtt_qos]}),x.jsx(yi,{variant:"secondary",children:y.mqtt_retain?"Retain":"No Retain"})]})]}),x.jsx(Xh,{className:"justify-between",children:e?x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(FC,{onTest:()=>l.mutateAsync(y.id),disabled:l.isPending}),x.jsx(Ze,{variant:"outline",size:"sm",onClick:()=>{d(y),c(!0)},children:"Edit"}),x.jsx(Ze,{variant:"destructive",size:"sm",onClick:()=>g(y),children:"Delete"})]}):x.jsx("span",{className:"text-xs text-muted-foreground",children:"View only"})})]},y.id))}),x.jsx(X3e,{open:u,integration:f,onClose:()=>{c(!1),d(null)}}),x.jsx(VC,{name:v?.name||"integration",open:!!v,onClose:()=>g(null),onConfirm:()=>{v&&s.mutate(v.id,{onSuccess:()=>g(null)})},isPending:s.isPending})]})}const kte=6048e5,Q3e=864e5,sS=43200,F8=1440,H8=Symbol.for("constructDateFrom");function Cf(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&H8 in t?t[H8](e):t instanceof Date?new t.constructor(e):new Date(e)}function Ei(t,e){return Cf(e||t,t)}let J3e={};function N_(){return J3e}function Xx(t,e){const r=N_(),n=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=Ei(t,e?.in),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function uT(t,e){return Xx(t,{...e,weekStartsOn:1})}function Ite(t,e){const r=Ei(t,e?.in),n=r.getFullYear(),a=Cf(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const i=uT(a),o=Cf(r,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const s=uT(o);return r.getTime()>=i.getTime()?n+1:r.getTime()>=s.getTime()?n:n-1}function cT(t){const e=Ei(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function HC(t,...e){const r=Cf.bind(null,t||e.find(n=>typeof n=="object"));return e.map(r)}function G8(t,e){const r=Ei(t,e?.in);return r.setHours(0,0,0,0),r}function e4e(t,e,r){const[n,a]=HC(r?.in,t,e),i=G8(n),o=G8(a),s=+i-cT(i),l=+o-cT(o);return Math.round((s-l)/Q3e)}function t4e(t,e){const r=Ite(t,e),n=Cf(t,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),uT(n)}function zS(t,e){const r=+Ei(t)-+Ei(e);return r<0?-1:r>0?1:r}function r4e(t){return Cf(t,Date.now())}function n4e(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function a4e(t){return!(!n4e(t)&&typeof t!="number"||isNaN(+Ei(t)))}function i4e(t,e,r){const[n,a]=HC(r?.in,t,e),i=n.getFullYear()-a.getFullYear(),o=n.getMonth()-a.getMonth();return i*12+o}function o4e(t){return e=>{const n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function s4e(t,e){return+Ei(t)-+Ei(e)}function l4e(t,e){const r=Ei(t,e?.in);return r.setHours(23,59,59,999),r}function u4e(t,e){const r=Ei(t,e?.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function c4e(t,e){const r=Ei(t,e?.in);return+l4e(r,e)==+u4e(r,e)}function f4e(t,e,r){const[n,a,i]=HC(r?.in,t,t,e),o=zS(a,i),s=Math.abs(i4e(a,i));if(s<1)return 0;a.getMonth()===1&&a.getDate()>27&&a.setDate(30),a.setMonth(a.getMonth()-o*s);let l=zS(a,i)===-o;c4e(n)&&s===1&&zS(n,i)===1&&(l=!1);const u=o*(s-+l);return u===0?0:u}function h4e(t,e,r){const n=s4e(t,e)/1e3;return o4e(r?.roundingMethod)(n)}function d4e(t,e){const r=Ei(t,e?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const v4e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},p4e=(t,e,r)=>{let n;const a=v4e[t];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function jL(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const g4e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},m4e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},y4e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},x4e={date:jL({formats:g4e,defaultWidth:"full"}),time:jL({formats:m4e,defaultWidth:"full"}),dateTime:jL({formats:y4e,defaultWidth:"full"})},_4e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},b4e=(t,e,r,n)=>_4e[t];function w0(t){return(e,r)=>{const n=r?.context?String(r.context):"standalone";let a;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,s=r?.width?String(r.width):o;a=t.formattingValues[s]||t.formattingValues[o]}else{const o=t.defaultWidth,s=r?.width?String(r.width):t.defaultWidth;a=t.values[s]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return a[i]}}const S4e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},w4e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},T4e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},C4e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},M4e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},A4e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},D4e=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},L4e={ordinalNumber:D4e,era:w0({values:S4e,defaultWidth:"wide"}),quarter:w0({values:w4e,defaultWidth:"wide",argumentCallback:t=>t-1}),month:w0({values:T4e,defaultWidth:"wide"}),day:w0({values:C4e,defaultWidth:"wide"}),dayPeriod:w0({values:M4e,defaultWidth:"wide",formattingValues:A4e,defaultFormattingWidth:"wide"})};function T0(t){return(e,r={})=>{const n=r.width,a=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=e.match(a);if(!i)return null;const o=i[0],s=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(s)?N4e(s,f=>f.test(o)):E4e(s,f=>f.test(o));let u;u=t.valueCallback?t.valueCallback(l):l,u=r.valueCallback?r.valueCallback(u):u;const c=e.slice(o.length);return{value:u,rest:c}}}function E4e(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function N4e(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function R4e(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const a=n[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const s=e.slice(a.length);return{value:o,rest:s}}}const P4e=/^(\d+)(th|st|nd|rd)?/i,k4e=/\d+/i,I4e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},O4e={any:[/^b/i,/^(a|c)/i]},j4e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},z4e={any:[/1/i,/2/i,/3/i,/4/i]},B4e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},V4e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},F4e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},H4e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},G4e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},U4e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},W4e={ordinalNumber:R4e({matchPattern:P4e,parsePattern:k4e,valueCallback:t=>parseInt(t,10)}),era:T0({matchPatterns:I4e,defaultMatchWidth:"wide",parsePatterns:O4e,defaultParseWidth:"any"}),quarter:T0({matchPatterns:j4e,defaultMatchWidth:"wide",parsePatterns:z4e,defaultParseWidth:"any",valueCallback:t=>t+1}),month:T0({matchPatterns:B4e,defaultMatchWidth:"wide",parsePatterns:V4e,defaultParseWidth:"any"}),day:T0({matchPatterns:F4e,defaultMatchWidth:"wide",parsePatterns:H4e,defaultParseWidth:"any"}),dayPeriod:T0({matchPatterns:G4e,defaultMatchWidth:"any",parsePatterns:U4e,defaultParseWidth:"any"})},Ote={code:"en-US",formatDistance:p4e,formatLong:x4e,formatRelative:b4e,localize:L4e,match:W4e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Y4e(t,e){const r=Ei(t,e?.in);return e4e(r,d4e(r))+1}function Z4e(t,e){const r=Ei(t,e?.in),n=+uT(r)-+t4e(r);return Math.round(n/kte)+1}function jte(t,e){const r=Ei(t,e?.in),n=r.getFullYear(),a=N_(),i=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,o=Cf(e?.in||t,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const s=Xx(o,e),l=Cf(e?.in||t,0);l.setFullYear(n,0,i),l.setHours(0,0,0,0);const u=Xx(l,e);return+r>=+s?n+1:+r>=+u?n:n-1}function q4e(t,e){const r=N_(),n=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=jte(t,e),i=Cf(e?.in||t,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),Xx(i,e)}function $4e(t,e){const r=Ei(t,e?.in),n=+Xx(r,e)-+q4e(r,e);return Math.round(n/kte)+1}function Ln(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const yh={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return Ln(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):Ln(r+1,2)},d(t,e){return Ln(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return r==="am"?"a.m.":"p.m."}},h(t,e){return Ln(t.getHours()%12||12,e.length)},H(t,e){return Ln(t.getHours(),e.length)},m(t,e){return Ln(t.getMinutes(),e.length)},s(t,e){return Ln(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Ln(a,e.length)}},Lg={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},U8={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return yh.y(t,e)},Y:function(t,e,r,n){const a=jte(t,n),i=a>0?a:1-a;if(e==="YY"){const o=i%100;return Ln(o,2)}return e==="Yo"?r.ordinalNumber(i,{unit:"year"}):Ln(i,e.length)},R:function(t,e){const r=Ite(t);return Ln(r,e.length)},u:function(t,e){const r=t.getFullYear();return Ln(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Ln(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Ln(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return yh.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return Ln(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const a=$4e(t,n);return e==="wo"?r.ordinalNumber(a,{unit:"week"}):Ln(a,e.length)},I:function(t,e,r){const n=Z4e(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):Ln(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):yh.d(t,e)},D:function(t,e,r){const n=Y4e(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Ln(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const a=t.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return Ln(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const a=t.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return Ln(i,e.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),a=n===0?7:n;switch(e){case"i":return String(a);case"ii":return Ln(a,e.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let a;switch(n===12?a=Lg.noon:n===0?a=Lg.midnight:a=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let a;switch(n>=17?a=Lg.evening:n>=12?a=Lg.afternoon:n>=4?a=Lg.morning:a=Lg.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return yh.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):yh.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Ln(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):Ln(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):yh.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):yh.s(t,e)},S:function(t,e){return yh.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return Y8(n);case"XXXX":case"XX":return mv(n);default:return mv(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return Y8(n);case"xxxx":case"xx":return mv(n);default:return mv(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+W8(n,":");default:return"GMT"+mv(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+W8(n,":");default:return"GMT"+mv(n,":")}},t:function(t,e,r){const n=Math.trunc(+t/1e3);return Ln(n,e.length)},T:function(t,e,r){return Ln(+t,e.length)}};function W8(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+e+Ln(i,2)}function Y8(t,e){return t%60===0?(t>0?"-":"+")+Ln(Math.abs(t)/60,2):mv(t,e)}function mv(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=Ln(Math.trunc(n/60),2),i=Ln(n%60,2);return r+a+e+i}const Z8=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},zte=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},X4e=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return Z8(t,e);let i;switch(n){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",Z8(n,e)).replace("{{time}}",zte(a,e))},K4e={p:zte,P:X4e},Q4e=/^D+$/,J4e=/^Y+$/,eVe=["D","DD","YY","YYYY"];function tVe(t){return Q4e.test(t)}function rVe(t){return J4e.test(t)}function nVe(t,e,r){const n=aVe(t,e,r);if(console.warn(n),eVe.includes(t))throw new RangeError(n)}function aVe(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const iVe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,oVe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,sVe=/^'([^]*?)'?$/,lVe=/''/g,uVe=/[a-zA-Z]/;function Ju(t,e,r){const n=N_(),a=n.locale??Ote,i=n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=n.weekStartsOn??n.locale?.options?.weekStartsOn??0,s=Ei(t,r?.in);if(!a4e(s))throw new RangeError("Invalid time value");let l=e.match(oVe).map(c=>{const f=c[0];if(f==="p"||f==="P"){const d=K4e[f];return d(c,a.formatLong)}return c}).join("").match(iVe).map(c=>{if(c==="''")return{isToken:!1,value:"'"};const f=c[0];if(f==="'")return{isToken:!1,value:cVe(c)};if(U8[f])return{isToken:!0,value:c};if(f.match(uVe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:c}});a.localize.preprocessor&&(l=a.localize.preprocessor(s,l));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return l.map(c=>{if(!c.isToken)return c.value;const f=c.value;(rVe(f)||tVe(f))&&nVe(f,e,String(t));const d=U8[f[0]];return d(s,f,a.localize,u)}).join("")}function cVe(t){const e=t.match(sVe);return e?e[1].replace(lVe,"'"):t}function fVe(t,e,r){const n=N_(),a=r?.locale??n.locale??Ote,i=2520,o=zS(t,e);if(isNaN(o))throw new RangeError("Invalid time value");const s=Object.assign({},r,{addSuffix:r?.addSuffix,comparison:o}),[l,u]=HC(r?.in,...o>0?[e,t]:[t,e]),c=h4e(u,l),f=(cT(u)-cT(l))/1e3,d=Math.round((c-f)/60);let v;if(d<2)return r?.includeSeconds?c<5?a.formatDistance("lessThanXSeconds",5,s):c<10?a.formatDistance("lessThanXSeconds",10,s):c<20?a.formatDistance("lessThanXSeconds",20,s):c<40?a.formatDistance("halfAMinute",0,s):c<60?a.formatDistance("lessThanXMinutes",1,s):a.formatDistance("xMinutes",1,s):d===0?a.formatDistance("lessThanXMinutes",1,s):a.formatDistance("xMinutes",d,s);if(d<45)return a.formatDistance("xMinutes",d,s);if(d<90)return a.formatDistance("aboutXHours",1,s);if(d<F8){const g=Math.round(d/60);return a.formatDistance("aboutXHours",g,s)}else{if(d<i)return a.formatDistance("xDays",1,s);if(d<sS){const g=Math.round(d/F8);return a.formatDistance("xDays",g,s)}else if(d<sS*2)return v=Math.round(d/sS),a.formatDistance("aboutXMonths",v,s)}if(v=f4e(u,l),v<12){const g=Math.round(d/sS);return a.formatDistance("xMonths",g,s)}else{const g=v%12,y=Math.trunc(v/12);return g<3?a.formatDistance("aboutXYears",y,s):g<9?a.formatDistance("overXYears",y,s):a.formatDistance("almostXYears",y+1,s)}}function hVe(t,e){return fVe(t,r4e(t),e)}function dVe({status:t}){const e={TRIAL:"bg-blue-100 text-blue-800",ACTIVE:"bg-green-100 text-green-800",GRACE:"bg-orange-100 text-orange-800",SUSPENDED:"bg-red-100 text-red-800",EXPIRED:"bg-gray-100 text-gray-800"};return x.jsx(yi,{className:e[t]||"bg-gray-100",children:t})}function vVe({type:t}){switch(t){case"DEVICE_ADDED":return x.jsx(gT,{className:"h-4 w-4 text-green-600"});case"DEVICE_REMOVED":return x.jsx(Ose,{className:"h-4 w-4 text-red-600"});case"RENEWED":case"CREATED":return x.jsx(J7,{className:"h-4 w-4 text-blue-600"});case"GRACE_STARTED":case"SUSPENDED":return x.jsx(su,{className:"h-4 w-4 text-orange-600"});default:return x.jsx(eP,{className:"h-4 w-4 text-gray-600"})}}function pVe(t){const e=t.details||{};switch(t.event_type){case"DEVICE_ADDED":return`Device ${e.device_id||"unknown"} added`;case"DEVICE_REMOVED":return`Device ${e.device_id||"unknown"} removed`;case"RENEWED":return"Subscription renewed";case"CREATED":return"Subscription created";case"LIMIT_CHANGED":return`Device limit changed to ${e.new_limit??"?"}`;case"GRACE_STARTED":return"Grace period started";case"SUSPENDED":return"Subscription suspended";case"REACTIVATED":return"Subscription reactivated";default:return t.event_type.replace(/_/g," ").toLowerCase()}}function gVe({value:t}){return x.jsx("div",{className:"h-2 w-full rounded-full bg-muted",children:x.jsx("div",{className:"h-2 rounded-full bg-primary",style:{width:`${Math.min(100,Math.max(0,t))}%`}})})}function mVe(){const{data:t,isLoading:e}=Xr({queryKey:["subscription"],queryFn:()=>Yr("/customer/subscription")}),{data:r,isLoading:n}=Xr({queryKey:["subscription-audit"],queryFn:()=>Yr("/customer/subscription/audit?limit=20")});if(e)return x.jsxs("div",{className:"space-y-6",children:[x.jsx(ei,{title:"Subscription",description:"Loading..."}),x.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[x.jsx(wr,{className:"h-48"}),x.jsx(wr,{className:"h-48"})]})]});if(!t)return x.jsx("div",{className:"space-y-6",children:x.jsx(ei,{title:"Subscription",description:"No subscription found"})});const a=Math.round(t.active_device_count/Math.max(t.device_limit,1)*100);return x.jsxs("div",{className:"space-y-6",children:[x.jsx(ei,{title:"Subscription",description:"Manage your subscription and device entitlements"}),x.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[x.jsxs(Gr,{children:[x.jsxs(Ur,{className:"flex flex-row items-center justify-between pb-2",children:[x.jsx(pn,{className:"text-sm font-medium",children:"Plan Details"}),x.jsx(tP,{className:"h-4 w-4 text-muted-foreground"})]}),x.jsxs(Wr,{className:"space-y-4",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-sm text-muted-foreground",children:"Status"}),x.jsx(dVe,{status:t.status})]}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-sm text-muted-foreground",children:"Plan"}),x.jsx("span",{className:"text-sm font-medium",children:t.plan_id||"Standard"})]}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-sm text-muted-foreground",children:"Term"}),x.jsxs("span",{className:"text-sm",children:[t.term_start?Ju(new Date(t.term_start),"MMM d, yyyy"):""," ","-"," ",t.term_end?Ju(new Date(t.term_end),"MMM d, yyyy"):""]})]}),t.days_until_expiry!==null&&x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-sm text-muted-foreground",children:"Expires in"}),x.jsxs("span",{className:`text-sm font-medium ${t.days_until_expiry<=30?"text-orange-600":"text-green-600"}`,children:[t.days_until_expiry," days"]})]})]})]}),x.jsxs(Gr,{children:[x.jsxs(Ur,{className:"flex flex-row items-center justify-between pb-2",children:[x.jsx(pn,{className:"text-sm font-medium",children:"Device Usage"}),x.jsx(t_,{className:"h-4 w-4 text-muted-foreground"})]}),x.jsxs(Wr,{className:"space-y-4",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{className:"flex items-center justify-between text-sm",children:[x.jsxs("span",{children:[t.active_device_count," / ",t.device_limit," devices"]}),x.jsxs("span",{className:"text-muted-foreground",children:[a,"%"]})]}),x.jsx(gVe,{value:a})]}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-sm text-muted-foreground",children:"Available"}),x.jsxs("span",{className:`text-sm font-medium ${t.devices_available<=5?"text-orange-600":"text-green-600"}`,children:[t.devices_available," devices"]})]}),t.devices_available===0&&x.jsx("p",{className:"text-xs text-orange-600",children:"Device limit reached. Remove devices or upgrade your plan to add more."})]})]})]}),x.jsxs(Gr,{children:[x.jsx(Ur,{children:x.jsx(pn,{className:"text-sm font-medium",children:"Subscription History"})}),x.jsx(Wr,{children:n?x.jsx(wr,{className:"h-32"}):r?.events.length===0?x.jsx("p",{className:"text-sm text-muted-foreground",children:"No events yet"}):x.jsxs(Os,{children:[x.jsx(js,{children:x.jsxs(jn,{children:[x.jsx(Ct,{className:"w-8"}),x.jsx(Ct,{children:"Event"}),x.jsx(Ct,{children:"Description"}),x.jsx(Ct,{className:"text-right",children:"Time"})]})}),x.jsx(zs,{children:r?.events.map(i=>x.jsxs(jn,{children:[x.jsx(bt,{children:x.jsx(vVe,{type:i.event_type})}),x.jsx(bt,{className:"font-mono text-xs",children:i.event_type}),x.jsx(bt,{className:"text-sm",children:pVe(i)}),x.jsx(bt,{className:"text-right text-xs text-muted-foreground",children:hVe(new Date(i.event_timestamp),{addSuffix:!0})})]},i.id))})]})})]})]})}async function yVe(t,e=100,r=0){let n=`/operator/devices?limit=${e}&offset=${r}`;return t&&(n+=`&tenant_filter=${encodeURIComponent(t)}`),Yr(n)}async function xVe(t="OPEN",e,r=100){let n=`/operator/alerts?status=${t}&limit=${r}`;return Yr(n)}async function _Ve(t=60,e=100){return Yr(`/operator/quarantine?minutes=${t}&limit=${e}`)}async function bVe(t){const e=new URLSearchParams;return e.set("limit",String(t.limit||100)),e.set("offset",String(t.offset||0)),t.tenantId&&e.set("tenant_id",t.tenantId),t.category&&e.set("category",t.category),t.severity&&e.set("severity",t.severity),t.entityType&&e.set("entity_type",t.entityType),t.search&&e.set("search",t.search),t.start&&e.set("start",t.start),t.end&&e.set("end",t.end),Yr(`/operator/audit-log?${e.toString()}`)}function Bte(t,e=100,r=0){return Xr({queryKey:["operator-devices",t,e,r],queryFn:()=>yVe(t,e,r)})}function SVe(t="OPEN",e,r=100){return Xr({queryKey:["operator-alerts",t,e,r],queryFn:()=>xVe(t,e,r)})}function wVe(t=60,e=100){return Xr({queryKey:["quarantine",t,e],queryFn:()=>_Ve(t,e)})}function TVe(t){return Xr({queryKey:["activity-log",t],queryFn:()=>bVe(t)})}function lS({title:t,value:e,loading:r}){return x.jsxs(Gr,{children:[x.jsx(Ur,{className:"pb-2",children:x.jsx(pn,{className:"text-sm text-muted-foreground",children:t})}),x.jsx(Wr,{children:r?x.jsx(wr,{className:"h-8 w-20"}):x.jsx("div",{className:"text-2xl font-bold",children:e})})]})}function CVe(){const t=Bte(void 0,500,0),e=SVe("OPEN",void 0,20),r=wVe(60,20),n=t.data?.devices||[],a=e.data?.alerts||[],i=r.data?.events||[],o=O.useMemo(()=>{const s=n.length,l=n.filter(f=>f.status==="ONLINE").length,u=e.data?.alerts?.length||0,c=r.data?.events?.length||0;return{totalDevices:s,onlineDevices:l,openAlerts:u,quarantineCount:c}},[n,e.data,r.data]);return x.jsxs("div",{className:"space-y-6",children:[x.jsx(ei,{title:"Operator Dashboard",description:"Cross-tenant system overview"}),x.jsx(qu,{widgetName:"Operator Stats",children:x.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[x.jsx(lS,{title:"Total Devices",value:o.totalDevices,loading:t.isLoading}),x.jsx(lS,{title:"Online Devices",value:o.onlineDevices,loading:t.isLoading}),x.jsx(lS,{title:"Open Alerts",value:o.openAlerts,loading:e.isLoading}),x.jsx(lS,{title:"Quarantine Events",value:o.quarantineCount,loading:r.isLoading})]})}),x.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[x.jsx(qu,{widgetName:"Open Alerts",children:x.jsxs(Gr,{children:[x.jsx(Ur,{className:"pb-2",children:x.jsx(pn,{className:"text-lg",children:"Recent Open Alerts"})}),x.jsx(Wr,{children:e.error?x.jsxs("div",{className:"text-destructive text-sm",children:["Failed to load alerts: ",e.error.message]}):e.isLoading?x.jsx("div",{className:"space-y-2",children:[1,2,3].map(s=>x.jsx(wr,{className:"h-8 w-full"},s))}):a.length===0?x.jsx("div",{className:"text-sm text-muted-foreground",children:"No open alerts."}):x.jsx("div",{className:"rounded-md border border-border",children:x.jsxs(Os,{children:[x.jsx(js,{children:x.jsxs(jn,{children:[x.jsx(Ct,{children:"Time"}),x.jsx(Ct,{children:"Tenant"}),x.jsx(Ct,{children:"Device"}),x.jsx(Ct,{children:"Type"}),x.jsx(Ct,{children:"Severity"})]})}),x.jsx(zs,{children:a.slice(0,10).map(s=>x.jsxs(jn,{children:[x.jsx(bt,{className:"text-xs text-muted-foreground whitespace-nowrap",children:s.created_at}),x.jsx(bt,{className:"font-mono text-xs",children:s.tenant_id}),x.jsx(bt,{className:"font-mono text-xs",children:s.device_id}),x.jsx(bt,{className:"text-xs",children:s.alert_type}),x.jsx(bt,{children:x.jsx(UT,{severity:s.severity})})]},s.alert_id))})]})})})]})}),x.jsx(qu,{widgetName:"Quarantine Events",children:x.jsxs(Gr,{children:[x.jsx(Ur,{className:"pb-2",children:x.jsx(pn,{className:"text-lg",children:"Recent Quarantine Events"})}),x.jsx(Wr,{children:r.error?x.jsxs("div",{className:"text-destructive text-sm",children:["Failed to load quarantine: ",r.error.message]}):r.isLoading?x.jsx("div",{className:"space-y-2",children:[1,2,3].map(s=>x.jsx(wr,{className:"h-8 w-full"},s))}):i.length===0?x.jsx("div",{className:"text-sm text-muted-foreground",children:"No quarantine events in the last hour."}):x.jsx("div",{className:"rounded-md border border-border",children:x.jsxs(Os,{children:[x.jsx(js,{children:x.jsxs(jn,{children:[x.jsx(Ct,{children:"Time"}),x.jsx(Ct,{children:"Tenant"}),x.jsx(Ct,{children:"Device"}),x.jsx(Ct,{children:"Reason"})]})}),x.jsx(zs,{children:i.slice(0,10).map((s,l)=>x.jsxs(jn,{children:[x.jsx(bt,{className:"text-xs text-muted-foreground whitespace-nowrap",children:s.ingested_at}),x.jsx(bt,{className:"font-mono text-xs",children:s.tenant_id}),x.jsx(bt,{className:"font-mono text-xs",children:s.device_id}),x.jsx(bt,{className:"text-xs text-muted-foreground",children:s.reason})]},`${s.device_id}-${s.ingested_at}-${l}`))})]})})})]})})]})]})}function MVe(){const[t,e]=O.useState(""),[r,n]=O.useState(void 0),[a,i]=O.useState(1),o=50,s=(a-1)*o,{data:l,isLoading:u,error:c}=Bte(r,o,s),f=l?.devices||[],d=l?.total??0,v=d>0?Math.ceil(d/o):1,g=d>0?s+f.length<d:f.length===o;return x.jsxs("div",{className:"space-y-6",children:[x.jsx(ei,{title:"All Devices",description:"Cross-tenant device inventory"}),x.jsxs("div",{className:"flex flex-wrap gap-2",children:[x.jsx(_t,{value:t,onChange:y=>e(y.target.value),placeholder:"Filter by tenant_id",className:"max-w-xs"}),x.jsx(Ze,{variant:"outline",onClick:()=>{n(t.trim()||void 0),i(1)},children:"Filter"}),x.jsx(Ze,{variant:"ghost",onClick:()=>{e(""),n(void 0),i(1)},children:"Clear"})]}),c?x.jsxs("div",{className:"text-destructive",children:["Failed to load devices: ",c.message]}):u?x.jsx("div",{className:"space-y-2",children:[1,2,3,4,5].map(y=>x.jsx(wr,{className:"h-12 w-full"},y))}):f.length===0?x.jsx(Ml,{title:"No devices found",description:"Try adjusting your tenant filter.",icon:x.jsx(eW,{className:"h-12 w-12"})}):x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"rounded-md border border-border",children:x.jsxs(Os,{children:[x.jsx(js,{children:x.jsxs(jn,{children:[x.jsx(Ct,{children:"Tenant ID"}),x.jsx(Ct,{children:"Device ID"}),x.jsx(Ct,{children:"Site ID"}),x.jsx(Ct,{children:"Status"}),x.jsx(Ct,{children:"Last Seen"}),x.jsx(Ct,{className:"text-right",children:"Battery"})]})}),x.jsx(zs,{children:f.map(y=>x.jsxs(jn,{children:[x.jsx(bt,{className:"font-mono text-xs",children:y.tenant_id}),x.jsx(bt,{className:"font-mono text-xs",children:y.device_id}),x.jsx(bt,{className:"text-sm",children:y.site_id}),x.jsx(bt,{children:x.jsx(FP,{status:y.status})}),x.jsx(bt,{className:"text-sm text-muted-foreground",children:y.last_seen_at||""}),x.jsx(bt,{className:"text-right text-sm",children:y.state?.battery_pct!=null?`${y.state.battery_pct}%`:""})]},`${y.tenant_id}-${y.device_id}`))})]})}),x.jsxs("div",{className:"flex items-center justify-between text-sm",children:[x.jsxs("span",{className:"text-muted-foreground",children:["Showing ",s+1,"",s+f.length," of ",d]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx(Ze,{variant:"outline",size:"sm",onClick:()=>i(y=>Math.max(1,y-1)),disabled:a===1,children:"Previous"}),x.jsxs("span",{className:"flex items-center px-2 text-muted-foreground",children:["Page ",a," of ",v]}),x.jsx(Ze,{variant:"outline",size:"sm",onClick:()=>i(y=>y+1),disabled:!g,children:"Next"})]})]})]})]})}async function AVe(){return Yr("/operator/tenants/stats/summary")}async function Vte(t){return Yr(`/operator/tenants/${t}`)}async function DVe(t){return Yr(`/operator/tenants/${t}/stats`)}async function LVe(t){return Vs("/operator/tenants",t)}async function EVe(t,e){await Df(`/operator/tenants/${t}`,e)}async function NVe(t){await ld(`/operator/tenants/${t}`)}function RVe({open:t,onOpenChange:e}){const[r,n]=O.useState(""),[a,i]=O.useState(""),[o,s]=O.useState(""),l=Fn(),u=v=>v.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,"").substring(0,64),c=v=>{i(v);const g=u(v);(!r||r===u(a))&&n(g)},f=Nn({mutationFn:LVe,onSuccess:()=>{l.invalidateQueries({queryKey:["tenants-summary"]}),e(!1),n(""),i(""),s("")},onError:v=>{console.error("Create tenant error:",v?.body||v?.response?.data)}}),d=v=>{v.preventDefault(),f.mutate({tenant_id:r,name:a,contact_email:o||void 0})};return x.jsx(ss,{open:t,onOpenChange:e,children:x.jsxs(ls,{children:[x.jsx(us,{children:x.jsx(cs,{children:"Create New Tenant"})}),x.jsxs("form",{onSubmit:d,className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx(xt,{htmlFor:"name",children:"Display Name"}),x.jsx(_t,{id:"name",value:a,onChange:v=>c(v.target.value),placeholder:"My Company Inc.",required:!0}),x.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Human-readable name (spaces allowed)"})]}),x.jsxs("div",{children:[x.jsx(xt,{htmlFor:"tenant_id",children:"Tenant ID (URL Slug)"}),x.jsx(_t,{id:"tenant_id",value:r,onChange:v=>n(v.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"")),placeholder:"my-company",pattern:"[a-z0-9][a-z0-9\\\\-]*[a-z0-9]|[a-z0-9]{1,2}",required:!0}),x.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Lowercase letters, numbers, hyphens only. Used in URLs."})]}),x.jsxs("div",{children:[x.jsx(xt,{htmlFor:"email",children:"Contact Email (optional)"}),x.jsx(_t,{id:"email",type:"email",value:o,onChange:v=>s(v.target.value),placeholder:"admin@company.com"})]}),x.jsxs("div",{className:"flex justify-end gap-2",children:[x.jsx(Ze,{type:"button",variant:"outline",onClick:()=>e(!1),children:"Cancel"}),x.jsx(Ze,{type:"submit",disabled:f.isPending,children:f.isPending?"Creating...":"Create Tenant"})]}),f.isError&&x.jsx("p",{className:"text-sm text-destructive",children:f.error?.body?.detail||f.error?.response?.data?.detail||f.error.message||"Failed to create tenant"})]})]})})}function Fte({tenant:t,open:e,onOpenChange:r}){const[n,a]=O.useState(""),[i,o]=O.useState(""),[s,l]=O.useState(""),[u,c]=O.useState("ACTIVE"),f=Fn();O.useEffect(()=>{t&&(a(t.name),o(t.contact_email||""),l(t.contact_name||""),c(t.status))},[t]);const d=Nn({mutationFn:g=>EVe(t.tenant_id,g),onSuccess:()=>{f.invalidateQueries({queryKey:["tenants-summary"]}),f.invalidateQueries({queryKey:["tenant-stats",t?.tenant_id]}),r(!1)}}),v=g=>{g.preventDefault(),d.mutate({name:n,contact_email:i||void 0,contact_name:s||void 0,status:u})};return t?x.jsx(ss,{open:e,onOpenChange:r,children:x.jsxs(ls,{className:"max-w-md",children:[x.jsx(us,{children:x.jsxs(cs,{children:["Edit Tenant: ",t.tenant_id]})}),x.jsxs("form",{onSubmit:v,className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx(xt,{htmlFor:"name",children:"Display Name"}),x.jsx(_t,{id:"name",value:n,onChange:g=>a(g.target.value),required:!0})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx(xt,{htmlFor:"contact_name",children:"Contact Name"}),x.jsx(_t,{id:"contact_name",value:s,onChange:g=>l(g.target.value)})]}),x.jsxs("div",{children:[x.jsx(xt,{htmlFor:"contact_email",children:"Contact Email"}),x.jsx(_t,{id:"contact_email",type:"email",value:i,onChange:g=>o(g.target.value)})]})]}),x.jsxs("div",{children:[x.jsx(xt,{htmlFor:"status",children:"Status"}),x.jsxs(bl,{value:u,onValueChange:c,children:[x.jsx(wl,{children:x.jsx(Sl,{})}),x.jsxs(Tl,{children:[x.jsx(Jr,{value:"ACTIVE",children:"Active"}),x.jsx(Jr,{value:"SUSPENDED",children:"Suspended"})]})]})]}),x.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[x.jsx(Ze,{type:"button",variant:"outline",onClick:()=>r(!1),children:"Cancel"}),x.jsx(Ze,{type:"submit",disabled:d.isPending,children:d.isPending?"Saving...":"Save Changes"})]}),d.isError&&x.jsx("p",{className:"text-sm text-destructive",children:d.error.message})]})]})}):null}function PVe(t){const e=new Date(t);if(Number.isNaN(e.getTime()))return"Unknown";const r=Math.max(0,Math.floor((Date.now()-e.getTime())/1e3));if(r<60)return`${r}s ago`;const n=Math.floor(r/60);if(n<60)return`${n}m ago`;const a=Math.floor(n/60);return a<24?`${a}h ago`:`${Math.floor(a/24)}d ago`}function kVe(){const[t,e]=O.useState(!1),[r,n]=O.useState(null),a=Fn(),{data:i,isLoading:o}=Xr({queryKey:["tenants-summary"],queryFn:AVe,refetchInterval:3e4}),s=Nn({mutationFn:NVe,onSuccess:()=>a.invalidateQueries({queryKey:["tenants-summary"]})}),l=i?.tenants||[],u=async c=>{const f=await Vte(c);n(f)};return x.jsxs("div",{className:"space-y-6",children:[x.jsx(ei,{title:"Tenant Management",description:"Manage all tenants in the system"}),x.jsx("div",{className:"flex justify-end",children:x.jsxs(Ze,{onClick:()=>e(!0),children:[x.jsx(gT,{className:"mr-2 h-4 w-4"}),"Create Tenant"]})}),x.jsxs(Gr,{children:[x.jsx(Ur,{children:x.jsxs(pn,{className:"flex items-center gap-2",children:[x.jsx(Z7,{className:"h-5 w-5"}),"Tenants (",l.length,")"]})}),x.jsx(Wr,{children:o?x.jsx(wr,{className:"h-64"}):l.length===0?x.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No tenants found"}):x.jsxs(Os,{children:[x.jsx(js,{children:x.jsxs(jn,{children:[x.jsx(Ct,{children:"Tenant"}),x.jsx(Ct,{children:"Status"}),x.jsx(Ct,{children:"Devices"}),x.jsx(Ct,{children:"Alerts"}),x.jsx(Ct,{children:"Last Activity"}),x.jsx(Ct,{children:"Actions"})]})}),x.jsx(zs,{children:l.map(c=>x.jsxs(jn,{children:[x.jsx(bt,{children:x.jsxs("div",{children:[x.jsx("div",{className:"font-medium",children:c.name}),x.jsx("div",{className:"text-sm text-muted-foreground",children:c.tenant_id})]})}),x.jsx(bt,{children:x.jsx(yi,{variant:c.status==="ACTIVE"?"default":"destructive",children:c.status})}),x.jsx(bt,{children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(r_,{className:"h-4 w-4 text-green-500"}),c.online_count,"/",c.device_count]})}),x.jsx(bt,{children:c.open_alerts>0?x.jsxs("div",{className:"flex items-center gap-2 text-orange-500",children:[x.jsx(su,{className:"h-4 w-4"}),c.open_alerts]}):x.jsx("span",{className:"text-muted-foreground",children:"0"})}),x.jsx(bt,{children:c.last_activity?PVe(c.last_activity):"Never"}),x.jsx(bt,{children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(Ze,{variant:"ghost",size:"icon",asChild:!0,children:x.jsx(Ui,{to:`/operator/tenants/${c.tenant_id}`,children:x.jsx(wse,{className:"h-4 w-4"})})}),x.jsx(Ze,{variant:"ghost",size:"icon",onClick:()=>u(c.tenant_id),children:x.jsx(rP,{className:"h-4 w-4"})}),x.jsx(Ze,{variant:"ghost",size:"icon",onClick:()=>{confirm(`Delete tenant ${c.name}?`)&&s.mutate(c.tenant_id)},children:x.jsx(sle,{className:"h-4 w-4 text-destructive"})})]})})]},c.tenant_id))})]})})]}),x.jsx(RVe,{open:t,onOpenChange:e}),x.jsx(Fte,{tenant:r,open:!!r,onOpenChange:c=>!c&&n(null)})]})}function IVe({...t}){return x.jsx(ace,{"data-slot":"alert-dialog",...t})}function OVe({...t}){return x.jsx(ice,{"data-slot":"alert-dialog-portal",...t})}function jVe({className:t,...e}){return x.jsx(oce,{"data-slot":"alert-dialog-overlay",className:dt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function zVe({className:t,...e}){return x.jsxs(OVe,{children:[x.jsx(jVe,{}),x.jsx(sce,{"data-slot":"alert-dialog-content",className:dt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 outline-none sm:max-w-lg",t),...e})]})}function BVe({className:t,...e}){return x.jsx("div",{"data-slot":"alert-dialog-header",className:dt("flex flex-col gap-2 text-center sm:text-left",t),...e})}function VVe({className:t,...e}){return x.jsx("div",{"data-slot":"alert-dialog-footer",className:dt("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e})}function FVe({className:t,...e}){return x.jsx(cce,{"data-slot":"alert-dialog-title",className:dt("text-lg leading-none font-semibold",t),...e})}function HVe({className:t,...e}){return x.jsx(fce,{"data-slot":"alert-dialog-description",className:dt("text-muted-foreground text-sm",t),...e})}function GVe({className:t,...e}){return x.jsx(lce,{"data-slot":"alert-dialog-action",className:dt(BP(),t),...e})}function UVe({className:t,...e}){return x.jsx(uce,{"data-slot":"alert-dialog-cancel",className:dt(BP({variant:"outline"}),t),...e})}const WVe=["TRIAL","ACTIVE","GRACE","SUSPENDED","EXPIRED"];function YVe({tenantId:t,subscription:e,open:r,onOpenChange:n,onSaved:a}){const[i,o]=O.useState(e?.device_limit?.toString()||"100"),[s,l]=O.useState(e?.term_end?Ju(new Date(e.term_end),"yyyy-MM-dd"):Ju(new Date(Date.now()+365*24*60*60*1e3),"yyyy-MM-dd")),[u,c]=O.useState(e?.status||"ACTIVE"),[f,d]=O.useState(""),[v,g]=O.useState(""),[y,b]=O.useState(!1),[S,w]=O.useState(null),M=B=>{B&&e&&(o(e.device_limit?.toString()||"100"),l(e.term_end?Ju(new Date(e.term_end),"yyyy-MM-dd"):Ju(new Date(Date.now()+365*24*60*60*1e3),"yyyy-MM-dd")),c(e.status||"ACTIVE"),d(""),g("")),n(B)},A=Nn({mutationFn:async B=>Vs(`/operator/tenants/${t}/subscription`,B),onSuccess:()=>{a()}}),D=()=>{const B={device_limit:parseInt(i,10),term_end:new Date(s).toISOString(),status:u,notes:f||void 0,transaction_ref:v||void 0};if(u==="SUSPENDED"||u==="EXPIRED"){w({type:"status_change",data:B}),b(!0);return}if(e&&parseInt(i,10)<e.active_device_count){w({type:"limit_reduction",data:B}),b(!0);return}A.mutate(B)},R=()=>{S&&(A.mutate(S.data),w(null),b(!1))},N=B=>{const V=e?.term_end?new Date(e.term_end):new Date,G=new Date(V.getTime()+B*24*60*60*1e3);l(Ju(G,"yyyy-MM-dd"))},I=()=>{c("ACTIVE"),d("Manually activated by operator")},z=()=>{c("SUSPENDED"),d("Manually suspended by operator")};return x.jsxs(x.Fragment,{children:[x.jsx(ss,{open:r,onOpenChange:M,children:x.jsxs(ls,{className:"max-w-lg",children:[x.jsxs(us,{children:[x.jsx(cs,{children:e?"Edit Subscription":"Create Subscription"}),x.jsxs(dd,{children:["Manage subscription for tenant: ",t]})]}),x.jsxs("div",{className:"space-y-6 py-4",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(xt,{className:"text-xs text-muted-foreground",children:"Quick Actions"}),x.jsxs("div",{className:"flex flex-wrap gap-2",children:[x.jsxs(Ze,{variant:"outline",size:"sm",onClick:()=>N(30),children:[x.jsx(kA,{className:"mr-1 h-3 w-3"}),"+30 Days"]}),x.jsxs(Ze,{variant:"outline",size:"sm",onClick:()=>N(90),children:[x.jsx(kA,{className:"mr-1 h-3 w-3"}),"+90 Days"]}),x.jsxs(Ze,{variant:"outline",size:"sm",onClick:()=>N(365),children:[x.jsx(kA,{className:"mr-1 h-3 w-3"}),"+1 Year"]}),e?.status!=="ACTIVE"&&x.jsxs(Ze,{variant:"outline",size:"sm",className:"border-green-500 text-green-600 hover:bg-green-50",onClick:I,children:[x.jsx(gse,{className:"mr-1 h-3 w-3"}),"Activate"]}),e?.status==="ACTIVE"&&x.jsxs(Ze,{variant:"outline",size:"sm",className:"border-red-500 text-red-600 hover:bg-red-50",onClick:z,children:[x.jsx($7,{className:"mr-1 h-3 w-3"}),"Suspend"]})]})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(xt,{htmlFor:"deviceLimit",children:"Device Limit"}),x.jsx(_t,{id:"deviceLimit",type:"number",min:"0",value:i,onChange:B=>o(B.target.value)}),e&&parseInt(i,10)<e.active_device_count&&x.jsxs("p",{className:"text-xs text-orange-600",children:["Warning: Current usage (",e.active_device_count,") exceeds this limit. Tenant will need to remove devices."]})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(xt,{htmlFor:"termEnd",children:"Term End Date"}),x.jsx(_t,{id:"termEnd",type:"date",value:s,onChange:B=>l(B.target.value)})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(xt,{htmlFor:"status",children:"Status"}),x.jsxs(bl,{value:u,onValueChange:c,children:[x.jsx(wl,{children:x.jsx(Sl,{})}),x.jsx(Tl,{children:WVe.map(B=>x.jsx(Jr,{value:B,children:B},B))})]})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsxs(xt,{htmlFor:"transactionRef",children:["Transaction/Approval Reference",x.jsx("span",{className:"text-muted-foreground font-normal",children:" (optional)"})]}),x.jsx(_t,{id:"transactionRef",placeholder:"e.g., INV-2024-001, PO-12345",value:v,onChange:B=>g(B.target.value)})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsxs(xt,{htmlFor:"notes",children:["Notes / Reason",x.jsx("span",{className:"text-destructive",children:" *"})]}),x.jsx(AO,{id:"notes",placeholder:"Reason for this change (required for audit log)",value:f,onChange:B=>d(B.target.value),rows:3})]})]}),x.jsxs(Cc,{children:[x.jsx(Ze,{variant:"outline",onClick:()=>n(!1),children:"Cancel"}),x.jsx(Ze,{onClick:D,disabled:!f.trim()||A.isPending,children:A.isPending?"Saving...":"Save Changes"})]}),A.isError&&x.jsxs("p",{className:"text-sm text-destructive",children:["Error: ",A.error.message]})]})}),x.jsx(IVe,{open:y,onOpenChange:b,children:x.jsxs(zVe,{children:[x.jsxs(BVe,{children:[x.jsxs(FVe,{className:"flex items-center gap-2",children:[x.jsx(su,{className:"h-5 w-5 text-orange-500"}),"Confirm Action"]}),x.jsxs(HVe,{children:[S?.type==="status_change"&&x.jsxs(x.Fragment,{children:["You are about to set the subscription status to ",x.jsx("strong",{children:u}),". This will:",x.jsxs("ul",{className:"mt-2 list-disc pl-6",children:[u==="SUSPENDED"&&x.jsxs(x.Fragment,{children:[x.jsx("li",{children:"Block all UI access for this tenant"}),x.jsx("li",{children:"Reject all incoming telemetry"})]}),u==="EXPIRED"&&x.jsxs(x.Fragment,{children:[x.jsx("li",{children:"Block all access for this tenant"}),x.jsx("li",{children:"Mark subscription for data retention review"})]})]})]}),S?.type==="limit_reduction"&&x.jsxs(x.Fragment,{children:["The new device limit (",i,") is below the current usage (",e?.active_device_count,"). The tenant will need to remove devices to comply."]})]})]}),x.jsxs(VVe,{children:[x.jsx(UVe,{children:"Cancel"}),x.jsx(GVe,{onClick:R,children:"Confirm"})]})]})})]})}function ZVe(){const{tenantId:t}=w7(),[e,r]=O.useState(!1),[n,a]=O.useState(!1),[i,o]=O.useState(null),{data:s,isLoading:l}=Xr({queryKey:["tenant-stats",t],queryFn:()=>DVe(t),enabled:!!t,refetchInterval:3e4}),{data:u,refetch:c}=Xr({queryKey:["tenant-subscription",t],queryFn:()=>Yr(`/operator/tenants/${t}/subscription`).catch(()=>null),enabled:!!t}),f=async()=>{if(!t)return;const v=await Vte(t);o(v),r(!0)};if(l)return x.jsx(wr,{className:"h-96"});if(!s)return x.jsx("div",{children:"Tenant not found"});const{stats:d}=s;return x.jsxs("div",{className:"space-y-6",children:[x.jsx(ei,{title:s.name,description:`Tenant ID: ${s.tenant_id}`}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(yi,{variant:s.status==="ACTIVE"?"default":"destructive",children:s.status}),x.jsxs(Ze,{variant:"outline",size:"sm",onClick:f,children:[x.jsx(rP,{className:"mr-2 h-4 w-4"}),"Edit Tenant"]})]}),x.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[x.jsxs(Gr,{children:[x.jsxs(Ur,{className:"flex flex-row items-center justify-between pb-2",children:[x.jsx(pn,{className:"text-sm font-medium",children:"Total Devices"}),x.jsx(t_,{className:"h-4 w-4 text-muted-foreground"})]}),x.jsxs(Wr,{children:[x.jsx("div",{className:"text-2xl font-bold",children:d.devices.total}),x.jsxs("p",{className:"text-xs text-muted-foreground",children:[d.devices.active," active"]})]})]}),x.jsxs(Gr,{children:[x.jsxs(Ur,{className:"flex flex-row items-center justify-between pb-2",children:[x.jsx(pn,{className:"text-sm font-medium",children:"Online / Stale"}),x.jsx(r_,{className:"h-4 w-4 text-green-500"})]}),x.jsx(Wr,{children:x.jsxs("div",{className:"text-2xl font-bold",children:[x.jsx("span",{className:"text-green-500",children:d.devices.online})," / ",x.jsx("span",{className:"text-orange-500",children:d.devices.stale})]})})]}),x.jsxs(Gr,{children:[x.jsxs(Ur,{className:"flex flex-row items-center justify-between pb-2",children:[x.jsx(pn,{className:"text-sm font-medium",children:"Open Alerts"}),x.jsx(su,{className:"h-4 w-4 text-orange-500"})]}),x.jsxs(Wr,{children:[x.jsx("div",{className:"text-2xl font-bold",children:d.alerts.open}),x.jsxs("p",{className:"text-xs text-muted-foreground",children:[d.alerts.last_24h," in last 24h"]})]})]}),x.jsxs(Gr,{children:[x.jsxs(Ur,{className:"flex flex-row items-center justify-between pb-2",children:[x.jsx(pn,{className:"text-sm font-medium",children:"Integrations"}),x.jsx(Lse,{className:"h-4 w-4 text-muted-foreground"})]}),x.jsxs(Wr,{children:[x.jsx("div",{className:"text-2xl font-bold",children:d.integrations.active}),x.jsxs("p",{className:"text-xs text-muted-foreground",children:[d.integrations.total," total"]})]})]})]}),x.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[x.jsxs(Gr,{children:[x.jsx(Ur,{children:x.jsxs(pn,{className:"flex items-center gap-2",children:[x.jsx(Am,{className:"h-5 w-5"}),"Alert Rules"]})}),x.jsx(Wr,{children:x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{children:"Active Rules"}),x.jsx("span",{className:"font-medium",children:d.rules.active})]}),x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{children:"Total Rules"}),x.jsx("span",{className:"font-medium",children:d.rules.total})]}),x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{children:"Sites"}),x.jsx("span",{className:"font-medium",children:d.sites})]})]})})]}),x.jsxs(Gr,{children:[x.jsx(Ur,{children:x.jsxs(pn,{className:"flex items-center gap-2",children:[x.jsx(eP,{className:"h-5 w-5"}),"Activity"]})}),x.jsx(Wr,{children:x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{children:"Last Device Activity"}),x.jsx("span",{className:"font-medium",children:d.last_device_activity?new Date(d.last_device_activity).toLocaleString():"Never"})]}),x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{children:"Last Alert"}),x.jsx("span",{className:"font-medium",children:d.last_alert?new Date(d.last_alert).toLocaleString():"Never"})]})]})})]}),x.jsxs(Gr,{className:"md:col-span-2",children:[x.jsxs(Ur,{className:"flex flex-row items-center justify-between",children:[x.jsxs(pn,{className:"flex items-center gap-2",children:[x.jsx(tP,{className:"h-5 w-5"}),"Subscription"]}),x.jsxs(Ze,{variant:"outline",size:"sm",onClick:()=>a(!0),children:[x.jsx(tW,{className:"mr-2 h-4 w-4"}),"Manage"]})]}),x.jsx(Wr,{children:u?x.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-sm text-muted-foreground",children:"Status"}),x.jsx(yi,{variant:u.status==="ACTIVE"?"default":u.status==="GRACE"?"outline":"destructive",className:u.status==="ACTIVE"?"bg-green-100 text-green-800":u.status==="GRACE"?"border-orange-500 text-orange-600":"",children:u.status})]}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-sm text-muted-foreground",children:"Plan"}),x.jsx("span",{className:"text-sm font-medium",children:u.plan_id||"Standard"})]})]}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-sm text-muted-foreground",children:"Device Limit"}),x.jsx("span",{className:"text-sm font-medium",children:u.device_limit})]}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-sm text-muted-foreground",children:"Active Devices"}),x.jsx("span",{className:"text-sm font-medium",children:u.active_device_count})]}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-sm text-muted-foreground",children:"Usage"}),x.jsxs("span",{className:"text-sm font-medium",children:[Math.round(u.active_device_count/Math.max(u.device_limit,1)*100),"%"]})]})]}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-sm text-muted-foreground",children:"Term Start"}),x.jsx("span",{className:"text-sm font-medium",children:u.term_start?Ju(new Date(u.term_start),"MMM d, yyyy"):""})]}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-sm text-muted-foreground",children:"Term End"}),x.jsx("span",{className:"text-sm font-medium",children:u.term_end?Ju(new Date(u.term_end),"MMM d, yyyy"):""})]}),u.grace_end&&x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-sm text-muted-foreground",children:"Grace Ends"}),x.jsx("span",{className:"text-sm font-medium text-orange-600",children:Ju(new Date(u.grace_end),"MMM d, yyyy")})]})]})]}):x.jsxs("div",{className:"text-sm text-muted-foreground",children:["No subscription found."," ",x.jsx(Ze,{variant:"link",className:"h-auto p-0",onClick:()=>a(!0),children:"Create one"})]})})]})]}),x.jsx(Fte,{tenant:i,open:e,onOpenChange:r}),x.jsx(YVe,{tenantId:t,subscription:u??null,open:n,onOpenChange:a,onSaved:()=>{c(),a(!1)}})]})}async function qVe(){return Yr("/operator/system/health")}async function $Ve(){return Yr("/operator/system/capacity")}async function XVe(){return Yr("/operator/system/aggregates")}async function KVe(t=1){return Yr(`/operator/system/errors?hours=${t}`)}async function QVe(t,e=15,r=!1){const n=new URLSearchParams({metric:t,minutes:e.toString()});return r&&n.set("rate","true"),Yr(`/operator/system/metrics/history?${n}`)}function JVe(){const[t,e]=O.useState(navigator.onLine);return O.useEffect(()=>{const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r),window.addEventListener("offline",n),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}},[]),t}function Hte({status:t}){const e={healthy:"bg-green-500",degraded:"bg-yellow-500",down:"bg-red-500",unknown:"bg-gray-400"}[t]||"bg-gray-400";return x.jsx("span",{className:`inline-block h-2 w-2 rounded-full ${e}`})}function lv({name:t,icon:e,health:r}){const n=r?.status||"unknown",a=n==="down",i=n==="degraded";return x.jsxs("div",{className:`inline-flex items-center gap-1 px-1.5 py-0.5 rounded text-xs border ${a?"border-red-400 bg-red-50 dark:bg-red-950/50 text-red-700 dark:text-red-400":i?"border-yellow-400 bg-yellow-50 dark:bg-yellow-950/50 text-yellow-700":"border-border text-muted-foreground"}`,title:r?.error||(r?.latency_ms!==void 0?`${t}: ${r.latency_ms}ms`:t),children:[x.jsx(Hte,{status:n}),x.jsx(e,{className:"h-3 w-3"}),x.jsx("span",{children:t}),r?.latency_ms!==void 0&&!a&&x.jsxs("span",{className:"text-[10px] opacity-60",children:[r.latency_ms,"ms"]})]})}function eFe({data:t,color:e,height:r=32}){if(t.length<2)return x.jsx("div",{style:{height:r},className:"w-full bg-muted/30 rounded"});const n=Math.min(...t),i=Math.max(...t)-n||1,o=100,s=t.map((u,c)=>{const f=c/(t.length-1)*o,d=r-2-(u-n)/i*(r-4);return`${f},${d}`}).join(" "),l=`0,${r} ${s} ${o},${r}`;return x.jsxs("svg",{viewBox:`0 0 ${o} ${r}`,preserveAspectRatio:"none",className:"w-full block",style:{height:r},children:[x.jsx("polygon",{points:l,fill:e,opacity:.15}),x.jsx("polyline",{points:s,fill:"none",stroke:e,strokeWidth:1.5,vectorEffect:"non-scaling-stroke"})]})}function xh({label:t,value:e,unit:r,color:n,trend:a,sparkData:i,icon:o}){const s=l=>l>=1e6?(l/1e6).toFixed(1)+"M":l>=1e3?(l/1e3).toFixed(1)+"K":l.toFixed(l%1===0?0:1);return x.jsxs("div",{className:"border border-border rounded px-2 py-1.5 bg-card",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[x.jsx(o,{className:"h-3 w-3"}),x.jsx("span",{children:t})]}),x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsxs("span",{className:"text-sm font-semibold tabular-nums",style:{color:n},children:[s(e),r]}),a==="up"&&x.jsx($L,{className:"h-3 w-3 text-green-500"}),a==="down"&&x.jsx(ule,{className:"h-3 w-3 text-red-500"})]})]}),x.jsx(eFe,{data:i,color:n,height:24})]})}function _h(t,e,r=!1){const{data:n}=Xr({queryKey:["metric-history",t,30,r],queryFn:()=>QVe(t,30,r),refetchInterval:e});return O.useMemo(()=>{if(!n?.points?.length)return{value:0,trend:null,spark:[]};const a=n.points.map(u=>u.value),i=a[a.length-1]||0,o=a.slice(-6),s=a.slice(-12,-6);let l=null;if(o.length&&s.length){const u=o.reduce((d,v)=>d+v,0)/o.length,c=s.reduce((d,v)=>d+v,0)/s.length,f=(u-c)/(c||1)*100;Math.abs(f)>10&&(l=f>0?"up":"down")}return{value:i,trend:l,spark:a}},[n])}function q8({label:t,pct:e,detail:r}){const n=e>80,a=e>95;return x.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[x.jsx("span",{className:"text-muted-foreground w-12",children:t}),x.jsx("div",{className:"flex-1 h-2 bg-muted rounded overflow-hidden max-w-32",children:x.jsx("div",{className:`h-full transition-all ${a?"bg-red-500":n?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(100,e)}%`}})}),x.jsxs("span",{className:`tabular-nums w-10 text-right ${a?"text-red-600 font-medium":n?"text-yellow-600":""}`,children:[e,"%"]}),r&&x.jsx("span",{className:"text-muted-foreground text-[10px]",children:r})]})}function tFe(){const[t,e]=O.useState(1e4),[r,n]=O.useState(!1),a=Fn(),i=JVe(),{data:o,isFetching:s}=Xr({queryKey:["system-health"],queryFn:qVe,refetchInterval:r?!1:t}),{data:l}=Xr({queryKey:["system-capacity"],queryFn:$Ve,refetchInterval:r?!1:t*3}),{data:u}=Xr({queryKey:["system-aggregates"],queryFn:XVe,refetchInterval:r?!1:t*1.5}),{data:c}=Xr({queryKey:["system-errors"],queryFn:()=>KVe(1),refetchInterval:r?!1:t*1.5}),f=_h("messages_written",r?0:t,!0),d=_h("queue_depth",r?0:t),v=_h("jobs_pending",r?0:t),g=_h("jobs_failed",r?0:t),y=_h("devices_online",r?0:t),b=_h("devices_stale",r?0:t),S=_h("alerts_open",r?0:t),w=_h("connections",r?0:t),M=()=>{a.invalidateQueries({queryKey:["system-health"]}),a.invalidateQueries({queryKey:["system-capacity"]}),a.invalidateQueries({queryKey:["system-aggregates"]}),a.invalidateQueries({queryKey:["system-errors"]}),a.invalidateQueries({queryKey:["metric-history"]})};O.useEffect(()=>{const N=I=>{I.key==="r"&&!I.metaKey&&!I.ctrlKey&&M(),I.key===" "&&I.target===document.body&&(I.preventDefault(),n(z=>!z))};return window.addEventListener("keydown",N),()=>window.removeEventListener("keydown",N)},[]);const A=l?.disk?.volumes?.root?Math.round(l.disk.volumes.root.used_gb/l.disk.volumes.root.total_gb*100):0,D=l?.postgres?Math.round(l.postgres.connections_used/l.postgres.connections_max*100):0,R=(c?.counts?.delivery_failures||0)+(c?.counts?.quarantined||0);return x.jsxs("div",{className:"p-2 space-y-2",children:[x.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsxs("div",{className:"flex items-center gap-1.5",children:[x.jsx(Hte,{status:o?.status||"unknown"}),x.jsx("span",{className:"font-semibold",children:"System"}),!i&&x.jsx("span",{className:"text-xs text-red-600 font-medium ml-2",children:"OFFLINE"})]}),x.jsxs("div",{className:"flex items-center gap-1 flex-wrap",children:[x.jsx(lv,{name:"Postgres",icon:C5,health:o?.components.postgres}),x.jsx(lv,{name:"MQTT",icon:r_,health:o?.components.mqtt}),x.jsx(lv,{name:"Keycloak",icon:ale,health:o?.components.keycloak}),x.jsx(lv,{name:"Ingest",icon:L5,health:o?.components.ingest}),x.jsx(lv,{name:"Evaluator",icon:su,health:o?.components.evaluator}),x.jsx(lv,{name:"Dispatcher",icon:A5,health:o?.components.dispatcher}),x.jsx(lv,{name:"Delivery",icon:dle,health:o?.components.delivery})]})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("select",{value:t,onChange:N=>e(Number(N.target.value)),className:"h-7 text-xs border border-border rounded bg-background px-2",children:[x.jsx("option",{value:5e3,children:"5s"}),x.jsx("option",{value:1e4,children:"10s"}),x.jsx("option",{value:3e4,children:"30s"})]}),x.jsx("button",{onClick:()=>n(N=>!N),className:`p-1.5 rounded border ${r?"bg-primary text-primary-foreground border-primary":"border-border hover:bg-muted"}`,title:r?"Resume":"Pause",children:r?x.jsx(Yse,{className:"h-3.5 w-3.5"}):x.jsx(Gse,{className:"h-3.5 w-3.5"})}),x.jsx("button",{onClick:M,disabled:s,className:"p-1.5 rounded border border-border hover:bg-muted disabled:opacity-50",title:"Refresh (R)",children:x.jsx(J7,{className:`h-3.5 w-3.5 ${s?"animate-spin":""}`})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-2",children:[x.jsx(xh,{label:"Ingest Rate",value:f.value,unit:"/s",color:"#22c55e",trend:f.trend,sparkData:f.spark,icon:rm}),x.jsx(xh,{label:"Queue Depth",value:d.value,color:d.value>1e3?"#ef4444":"#3b82f6",trend:d.trend,sparkData:d.spark,icon:L5}),x.jsx(xh,{label:"Pending Jobs",value:v.value,color:v.value>100?"#f59e0b":"#6b7280",trend:v.trend,sparkData:v.spark,icon:A5}),x.jsx(xh,{label:"Failed Jobs",value:g.value,color:g.value>0?"#ef4444":"#6b7280",trend:g.trend,sparkData:g.spark,icon:su}),x.jsx(xh,{label:"Devices Online",value:y.value,color:"#22c55e",trend:y.trend,sparkData:y.spark,icon:HS}),x.jsx(xh,{label:"Devices Stale",value:b.value,color:b.value>10?"#f59e0b":"#6b7280",trend:b.trend,sparkData:b.spark,icon:HS}),x.jsx(xh,{label:"Open Alerts",value:S.value,color:S.value>0?"#ef4444":"#6b7280",trend:S.trend,sparkData:S.spark,icon:Am}),x.jsx(xh,{label:"DB Connections",value:w.value,color:"#8b5cf6",trend:w.trend,sparkData:w.spark,icon:C5})]}),x.jsxs("div",{className:"flex items-start gap-2 flex-wrap",children:[x.jsxs("div",{className:"flex items-center gap-4 text-xs border border-border rounded px-2 py-1.5",children:[x.jsxs("div",{children:[x.jsx("span",{className:"font-semibold text-sm",children:u?.tenants.active||0})," ",x.jsx("span",{className:"text-muted-foreground",children:"tenants"})]}),x.jsxs("div",{children:[x.jsx("span",{className:"font-semibold text-sm",children:u?.devices.online||0}),x.jsxs("span",{className:"text-muted-foreground",children:["/",u?.devices.registered||0," devices"]})]}),x.jsxs("div",{children:[x.jsx("span",{className:"font-semibold text-sm",children:u?.integrations.active||0}),x.jsxs("span",{className:"text-muted-foreground",children:["/",u?.integrations.total||0," integrations"]})]})]}),x.jsxs("div",{className:"flex items-center gap-3 border border-border rounded px-2 py-1.5",children:[x.jsx(q8,{label:"Disk",pct:A,detail:l?.disk?.volumes?.root?`${l.disk.volumes.root.used_gb.toFixed(0)}/${l.disk.volumes.root.total_gb.toFixed(0)}GB`:void 0}),x.jsx(q8,{label:"Conn",pct:D,detail:l?.postgres?`${l.postgres.connections_used}/${l.postgres.connections_max}`:void 0}),l?.postgres?.db_size_mb&&x.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[x.jsx("span",{className:"text-muted-foreground",children:"DB"}),x.jsxs("span",{className:"font-medium",children:[l.postgres.db_size_mb.toFixed(0),"MB"]})]})]})]}),R>0&&x.jsxs("div",{className:"border border-border rounded px-2 py-1.5",children:[x.jsxs("div",{className:"flex items-center justify-between mb-1",children:[x.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Errors"}),x.jsxs("div",{className:"flex gap-2 text-[11px]",children:[x.jsxs("span",{className:"text-red-600",children:[c?.counts?.delivery_failures||0," failed"]}),x.jsxs("span",{className:"text-yellow-600",children:[c?.counts?.quarantined||0," quarantined"]})]})]}),x.jsx("div",{className:"space-y-0.5 max-h-24 overflow-y-auto",children:c?.errors?.slice(0,6).map((N,I)=>{const z=N.details;return x.jsxs("div",{className:"flex items-center gap-2 text-[11px]",children:[x.jsx("span",{className:"text-muted-foreground tabular-nums",children:new Date(N.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),x.jsx("span",{className:"font-medium text-red-600",children:N.error_type}),x.jsxs("span",{className:"text-muted-foreground truncate",children:[N.tenant_id&&`[${N.tenant_id}]`," ",z?.device_id," ",z?.reason]})]},I)})})]})]})}const rFe=[100,250,500,1e3];function nFe(t){try{const e=t.match(/\.(\d+)/),r=e?e[1].padEnd(6,"0").slice(0,6):"000000",n=new Date(t),a=n.getFullYear(),i=String(n.getMonth()+1).padStart(2,"0"),o=String(n.getDate()).padStart(2,"0"),s=String(n.getHours()).padStart(2,"0"),l=String(n.getMinutes()).padStart(2,"0"),u=String(n.getSeconds()).padStart(2,"0");return`${a}-${i}-${o} ${s}:${l}:${u}.${r}`}catch{return t}}function $8(t){if(!t)return;const e=new Date(t);if(!Number.isNaN(e.getTime()))return e.toISOString()}function aFe(t){const e=t.toLowerCase();return e==="critical"?"text-red-700 dark:text-red-400":e==="error"?"text-red-600 dark:text-red-400":e==="warning"?"text-yellow-700 dark:text-yellow-400":"text-slate-700 dark:text-slate-300"}function X8({offset:t,limit:e,totalCount:r,setOffset:n,setLimit:a}){return x.jsxs("div",{className:"flex items-center justify-between text-xs",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("span",{className:"text-muted-foreground",children:[r>0?`${t+1}-${Math.min(t+e,r)}`:"0"," of ",r.toLocaleString()]}),x.jsx("select",{value:e,onChange:i=>{a(Number(i.target.value)),n(0)},className:"h-6 px-1 rounded border border-border bg-background text-xs",children:rFe.map(i=>x.jsxs("option",{value:i,children:[i," / page"]},i))})]}),x.jsxs("div",{className:"flex gap-1",children:[x.jsx("button",{onClick:()=>n(0),disabled:t===0,className:"px-2 py-0.5 rounded border border-border hover:bg-accent disabled:opacity-50 disabled:cursor-not-allowed text-xs",children:"First"}),x.jsx("button",{onClick:()=>n(Math.max(0,t-e)),disabled:t===0,className:"px-2 py-0.5 rounded border border-border hover:bg-accent disabled:opacity-50 disabled:cursor-not-allowed text-xs",children:"Prev"}),x.jsx("button",{onClick:()=>n(t+e),disabled:t+e>=r,className:"px-2 py-0.5 rounded border border-border hover:bg-accent disabled:opacity-50 disabled:cursor-not-allowed text-xs",children:"Next"}),x.jsx("button",{onClick:()=>n(Math.max(0,Math.floor((r-1)/e)*e)),disabled:t+e>=r,className:"px-2 py-0.5 rounded border border-border hover:bg-accent disabled:opacity-50 disabled:cursor-not-allowed text-xs",children:"Last"})]})]})}function iFe(){const[t,e]=O.useState(""),[r,n]=O.useState(""),[a,i]=O.useState(""),[o,s]=O.useState(""),[l,u]=O.useState(""),[c,f]=O.useState(""),[d,v]=O.useState(0),[g,y]=O.useState(100),[b,S]=O.useState({tenantId:"",category:"",severity:"",search:"",start:"",end:""}),{data:w,isLoading:M,error:A}=TVe({limit:g,offset:d,tenantId:b.tenantId||void 0,category:b.category||void 0,severity:b.severity||void 0,search:b.search||void 0,start:b.start||void 0,end:b.end||void 0}),D=O.useMemo(()=>w?.events||[],[w]),R=w?.total||0,[N,I]=O.useState(new Set);function z(G){I(F=>{const q=new Set(F);return q.has(G)?q.delete(G):q.add(G),q})}function B(){S({tenantId:t.trim(),category:r.trim(),severity:a.trim(),search:o.trim(),start:$8(l)||"",end:$8(c)||""}),v(0)}function V(){e(""),n(""),i(""),s(""),u(""),f(""),S({tenantId:"",category:"",severity:"",search:"",start:"",end:""}),v(0)}return x.jsxs("div",{className:"space-y-3",children:[x.jsx(ei,{title:"Audit Log",description:M?"Loading...":`${R.toLocaleString()} events across all tenants`}),x.jsxs("div",{className:"flex flex-wrap gap-1.5 items-center",children:[x.jsx(_t,{value:t,onChange:G=>e(G.target.value),placeholder:"Tenant",className:"h-7 text-xs w-28"}),x.jsx(_t,{value:r,onChange:G=>n(G.target.value),placeholder:"Category",className:"h-7 text-xs w-24"}),x.jsx(_t,{value:a,onChange:G=>i(G.target.value),placeholder:"Severity",className:"h-7 text-xs w-20"}),x.jsx(_t,{value:l,onChange:G=>u(G.target.value),type:"datetime-local",className:"h-7 text-xs w-40"}),x.jsx(_t,{value:c,onChange:G=>f(G.target.value),type:"datetime-local",className:"h-7 text-xs w-40"}),x.jsx(_t,{value:o,onChange:G=>s(G.target.value),placeholder:"Search",className:"h-7 text-xs w-28"}),x.jsx(Ze,{variant:"outline",size:"sm",className:"h-7 text-xs",onClick:B,children:"Filter"}),x.jsx(Ze,{variant:"ghost",size:"sm",className:"h-7 text-xs",onClick:V,children:"Clear"})]}),A?x.jsxs("div",{className:"text-destructive text-sm",children:["Failed to load: ",A.message]}):M?x.jsx("div",{className:"space-y-1",children:[1,2,3,4,5].map(G=>x.jsx(wr,{className:"h-6 w-full"},G))}):D.length===0?x.jsx(Ml,{title:"No events",description:"No audit events match the filters.",icon:x.jsx(mT,{className:"h-10 w-10"})}):x.jsxs(x.Fragment,{children:[x.jsx(X8,{offset:d,limit:g,totalCount:R,setOffset:v,setLimit:y}),x.jsx("div",{className:"rounded-md border border-border overflow-hidden",children:x.jsxs(Os,{className:"text-xs",children:[x.jsx(js,{children:x.jsxs(jn,{className:"hover:bg-transparent",children:[x.jsx(Ct,{className:"h-7 py-1 px-2",children:"Time"}),x.jsx(Ct,{className:"h-7 py-1 px-2",children:"Tenant"}),x.jsx(Ct,{className:"h-7 py-1 px-2",children:"Sev"}),x.jsx(Ct,{className:"h-7 py-1 px-2",children:"Category"}),x.jsx(Ct,{className:"h-7 py-1 px-2",children:"Message"}),x.jsx(Ct,{className:"h-7 py-1 px-2",children:"Entity"}),x.jsx(Ct,{className:"h-7 py-1 px-2",children:"Actor"}),x.jsx(Ct,{className:"h-7 py-1 px-2 w-8"})]})}),x.jsx(zs,{children:D.map((G,F)=>{const q=`${G.timestamp}-${G.event_type}-${G.entity_id??F}`;return x.jsxs(O.Fragment,{children:[x.jsxs(jn,{className:"hover:bg-muted/50",children:[x.jsx(bt,{className:"py-1 px-2 text-muted-foreground whitespace-nowrap font-mono",children:nFe(G.timestamp)}),x.jsx(bt,{className:"py-1 px-2 font-mono text-[10px]",children:G.tenant_id||""}),x.jsx(bt,{className:"py-1 px-2",children:x.jsx("span",{className:`font-medium ${aFe(G.severity)}`,children:G.severity.slice(0,4)})}),x.jsx(bt,{className:"py-1 px-2",children:G.category}),x.jsx(bt,{className:"py-1 px-2 max-w-xs truncate",children:G.message}),x.jsx(bt,{className:"py-1 px-2",children:G.entity_name||G.entity_id||""}),x.jsx(bt,{className:"py-1 px-2",children:G.actor_name||G.actor_id||G.actor_type||""}),x.jsx(bt,{className:"py-1 px-2 text-right",children:G.details&&x.jsx("button",{className:"text-primary hover:underline",onClick:()=>z(q),children:N.has(q)?"":"+"})})]}),N.has(q)&&G.details&&x.jsx(jn,{className:"hover:bg-transparent",children:x.jsx(bt,{colSpan:8,className:"py-1 px-2 bg-muted/30",children:x.jsx("pre",{className:"whitespace-pre-wrap text-[10px] text-muted-foreground font-mono",children:JSON.stringify(G.details,null,2)})})})]},q)})})]})}),x.jsx(X8,{offset:d,limit:g,totalCount:R,setOffset:v,setLimit:y})]})]})}async function oFe(){if(La.authenticated)try{await La.updateToken(30)}catch{throw La.login(),new Error("Token expired")}const t={};return La.token&&(t.Authorization=`Bearer ${La.token}`),t}async function sFe(t){const e=new URLSearchParams;e.set("mode",t.mode),e.set("store_rejects",t.store_rejects),e.set("mirror_rejects",t.mirror_rejects);const r=await oFe();if(!(await fetch("/operator/settings",{method:"POST",headers:{...r,"Content-Type":"application/x-www-form-urlencoded"},body:e.toString()})).ok)throw new Error("Failed to save settings")}function lFe(){const{user:t}=El(),e=t?.role==="operator_admin",[r,n]=O.useState("PROD"),[a,i]=O.useState(!1),[o,s]=O.useState(!1),[l,u]=O.useState(!1),[c,f]=O.useState(""),[d,v]=O.useState(""),g=r==="PROD";O.useEffect(()=>{r==="PROD"&&(i(!1),s(!1))},[r]);const y=O.useMemo(()=>({mode:r,store_rejects:g?"false":a?"true":"false",mirror_rejects:g?"false":o?"true":"false"}),[r,a,o,g]);async function b(S){S.preventDefault(),v(""),f(""),u(!0);try{await sFe(y),f("Settings saved")}catch(w){v(w instanceof Error?w.message:"Failed to save settings")}finally{u(!1)}}return e?x.jsxs("div",{className:"space-y-6",children:[x.jsx(ei,{title:"System Settings",description:"Operator configuration"}),x.jsxs(Gr,{children:[x.jsx(Ur,{children:x.jsx(pn,{className:"text-lg",children:"System Mode"})}),x.jsx(Wr,{children:x.jsxs("form",{onSubmit:b,className:"space-y-6",children:[x.jsxs("div",{className:"grid gap-2",children:[x.jsx(xt,{children:"Mode"}),x.jsxs(bl,{value:r,onValueChange:S=>n(S),children:[x.jsx(wl,{className:"w-full max-w-sm",children:x.jsx(Sl,{placeholder:"Select mode"})}),x.jsxs(Tl,{children:[x.jsx(Jr,{value:"PROD",children:"PROD"}),x.jsx(Jr,{value:"DEV",children:"DEV"})]})]})]}),x.jsxs("div",{className:"flex items-center justify-between rounded-md border border-border p-3",children:[x.jsxs("div",{children:[x.jsx(xt,{className:"text-sm",children:"Store Rejects"}),x.jsx("p",{className:"text-xs text-muted-foreground",children:"Persist rejected ingest payloads (DEV only)."})]}),x.jsx(os,{checked:g?!1:a,onCheckedChange:i,disabled:g})]}),x.jsxs("div",{className:"flex items-center justify-between rounded-md border border-border p-3",children:[x.jsxs("div",{children:[x.jsx(xt,{className:"text-sm",children:"Mirror Rejects"}),x.jsx("p",{className:"text-xs text-muted-foreground",children:"Mirror rejects to quarantine log (DEV only)."})]}),x.jsx(os,{checked:g?!1:o,onCheckedChange:s,disabled:g})]}),d&&x.jsx("div",{className:"text-sm text-destructive",children:d}),c&&x.jsx("div",{className:"text-sm text-green-700 dark:text-green-400",children:c}),x.jsx(Ze,{type:"submit",disabled:l,children:l?"Saving...":"Save"})]})})]}),x.jsxs(Gr,{children:[x.jsx(Ur,{children:x.jsx(pn,{className:"text-lg",children:"Settings Info"})}),x.jsxs(Wr,{className:"space-y-2 text-sm text-muted-foreground",children:[x.jsxs("p",{children:[x.jsx("strong",{children:"Mode"}),": PROD for normal operations, DEV for test environments and debugging."]}),x.jsxs("p",{children:[x.jsx("strong",{children:"Store Rejects"}),": Save rejected ingest payloads for analysis in DEV mode."]}),x.jsxs("p",{children:[x.jsx("strong",{children:"Mirror Rejects"}),": Forward rejected payloads to the quarantine log in DEV mode."]})]})]})]}):x.jsxs("div",{className:"space-y-6",children:[x.jsx(ei,{title:"System Settings",description:"Operator configuration"}),x.jsx("div",{className:"rounded-md border border-border p-6 text-sm text-muted-foreground",children:"Settings require operator_admin role."})]})}function uFe(){const{isOperator:t}=El();return x.jsx(M7,{to:t?"/operator":"/dashboard",replace:!0})}function cFe(){const{isOperator:t}=El();return t?x.jsx(A7,{}):x.jsx(M7,{to:"/dashboard",replace:!0})}const fFe=Aie([{path:"/",element:x.jsx(sge,{}),children:[{index:!0,element:x.jsx(uFe,{})},{path:"dashboard",element:x.jsx(pBe,{})},{path:"devices",element:x.jsx(SBe,{})},{path:"devices/:deviceId",element:x.jsx(d5e,{})},{path:"alerts",element:x.jsx(p5e,{})},{path:"alert-rules",element:x.jsx(j5e,{})},{path:"activity-log",element:x.jsx(U5e,{})},{path:"metrics",element:x.jsx(r3e,{})},{path:"integrations/webhooks",element:x.jsx(H3e,{})},{path:"integrations/snmp",element:x.jsx(W3e,{})},{path:"integrations/email",element:x.jsx(q3e,{})},{path:"integrations/mqtt",element:x.jsx(K3e,{})},{path:"subscription",element:x.jsx(mVe,{})},{path:"operator",element:x.jsx(cFe,{}),children:[{index:!0,element:x.jsx(CVe,{})},{path:"devices",element:x.jsx(MVe,{})},{path:"tenants",element:x.jsx(kVe,{})},{path:"tenants/:tenantId",element:x.jsx(ZVe,{})},{path:"system",element:x.jsx(tFe,{})},{path:"audit-log",element:x.jsx(iFe,{})},{path:"settings",element:x.jsx(lFe,{})}]}]}],{basename:"/app"});fBe();function hFe(){return O.useEffect(()=>{const{theme:t,setTheme:e}=io.getState();e(t)},[]),x.jsx(Zoe,{children:x.jsx(Vie,{router:fFe})})}vne.createRoot(document.getElementById("root")).render(x.jsx(O.StrictMode,{children:x.jsx(hFe,{})}));
